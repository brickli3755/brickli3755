"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}if(!window.ActiveXObject&&!("ActiveXObject"in window)){var __getClientLogo=function(){var t,e=JSON.parse(decodeURI(atob("JTVCJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLy8lMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMC8vJTIyLCUyMiUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlNUMlNUMlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlMjAvLyUyMiwlMjIlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyNEREREREREREREREREREREREREREREIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwREREREREREREREREREREREREREQlMjAjIyUyMiwlMjIlMjAlMjAlMjBfX19fX19fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fX19fX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwX19fJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCU3QyU1QyU1QyUyMCUyMCUyMF9fJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyMlMjBoaCUyMCUyMCUyMCUyMC8vJTIwJTIwJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAvXyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU3QyU1QyU1QyUyMC9fJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAvLyUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlMjBfXyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUNfX19fJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDX19fXyUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwd3d3dyUyMCUyMCUyMCUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyME1NTU1NTU1NTU1NTU1NTU1NTU1NJTIwIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMFJlbGVhc2UlMjAxLjAuMC4lMjBQb3dlcmVkJTIwYnklMjBqaW5rZWxhLWNvcmUlMjAyLjQuOC4lMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDLyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1Qy8lMjIsJTIyJTIyJTVEJTVE"))),i=["%c"],n=[];e.forEach((function(t){var e=t[0],n=t[1];i.push(e+n)})),n=n.concat(["color:#00a1d6"]),n=[i.join("\n")].concat(n),(t=console).log.apply(t,_toConsumableArray(n))};__getClientLogo()}!function(t){function e(e){for(var n,r,s=e[0],l=e[1],c=e[2],u=0,h=[];u<s.length;u++)r=s[u],a[r]&&h.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(d&&d(e);h.length;)h.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,s=1;s<i.length;s++){var l=i[s];0!==a[l]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={0:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="//s1.hdslb.com/bfs/static/bangumi-home/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;o.push([63,1]),i()}([,,,,,,,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},,,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i.p+"asserts/cm_2.png"},,,,,,function(t,e,i){t.exports=i(136)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(10);i.n(n).a},function(t,e,i){var n=i(11);i.n(n).a},function(t,e,i){var n=i(12);i.n(n).a},function(t,e,i){var n=i(13);i.n(n).a},function(t,e,i){var n=i(14);i.n(n).a},function(t,e,i){var n=i(15);i.n(n).a},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAQCAMAAAAyEe/dAAAAV1BMVEUAAADs7OwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQ0NDT09MAAADh4eGpqal3d3cAAAAAAAAAAAAAAADh4eEAAAAAAADExMRycnJ9fX0AAADIyMidnZ1Ia/H0AAAAHXRSTlMzrUpGNzpjPUEwm5dbo3RiWFAjB6FsVItoWwCGgRAE+WoAAACgSURBVBjTdZBZEoMgDECREEBBFFFc2vufs0W2Th3eD2FeFghp0S/uKhcm2L92JZQrxBxETGlLPBCoHt6WAoI6ZuUpiFAaW55dAo4UGFbmTcNMA2C7jW/DxrkVVSqIgeky50MSYTUPaIpZ4rTL/OhYN8r6jd3kRLin6xFKV7oCaUl8GVFkbJtkf2+lTlD+W+lXWXdUYch+Fu160uZyS1N/ALlRBebVeMs4AAAAAElFTkSuQmCC"},function(t,e,i){var n=i(16);i.n(n).a},function(t,e,i){var n=i(17);i.n(n).a},function(t,e,i){var n=i(18);i.n(n).a},function(t,e,i){var n=i(19);i.n(n).a},function(t,e,i){var n=i(20);i.n(n).a},function(t,e,i){var n=i(21);i.n(n).a},function(t,e,i){var n=i(22);i.n(n).a},function(t,e,i){var n=i(23);i.n(n).a},function(t,e,i){var n=i(24);i.n(n).a},function(t,e,i){var n=i(25);i.n(n).a},function(t,e,i){var n=i(26);i.n(n).a},function(t,e,i){var n=i(27);i.n(n).a},function(t,e,i){var n=i(28);i.n(n).a},function(t,e,i){var n=i(29);i.n(n).a},function(t,e,i){var n=i(30);i.n(n).a},function(t,e,i){var n=i(31);i.n(n).a},function(t,e,i){var n=i(32);i.n(n).a},function(t,e,i){var n=i(33);i.n(n).a},function(t,e,i){var n=i(34);i.n(n).a},function(t,e,i){var n=i(35);i.n(n).a},function(t,e,i){var n=i(36);i.n(n).a},function(t,e,i){var n=i(37);i.n(n).a},function(t,e,i){var n=i(38);i.n(n).a},function(t,e,i){var n=i(39);i.n(n).a},,,,,,function(t,e,i){i.r(e);var n=i(5),a=i(43),o=i(2),r=i(7),s=i.n(r),l=i(3),c=i.n(l),d=i(1),u=i.n(d),h=i(40),m=i.n(h),f=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();function p(t){return t?t.replace(/^http(s)?:/,""):""}function w(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return t;var a=t.match(/(.*\.(jpg|jpeg|gif|png))(\?.*)?/),o=-1!==t.indexOf("/bfs/");if(!a||"gif"===a[2]||!o)return p(t);e=Math.ceil(e),i=Math.ceil(i);var r=e&&i?"@"+e+"w_"+i+"h":"@";n&&(r+="_1c");var s=a[3]?a[3]:"";return p(f?a[1]+r+".webp"+s:a[1]+r+"."+a[2]+s)}function v(){var t=1;return"undefined"==typeof window?t:(void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?t=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),1===t?2:t)}function g(t,e){if(t){var i=t.getBoundingClientRect(),n=e||0;return i.x+i.y+i.width+i.height!==0&&(i.top<window.innerHeight+n&&i.bottom>=0)}}function y(t,e,i){var n=null,a=0;return function(){var o=this,r=arguments,s=+new Date;clearTimeout(n),a||(a=s),s-a>=i?(t.apply(o,r),a=s):n=setTimeout((function(){t.apply(o,r)}),e)}}function _(t){if(t&&"object"===s()(t)){var e=[];for(var i in t)if(t.hasOwnProperty(i)&&void 0!==t[i]){var n="object"===s()(t[i])?JSON.stringify(t[i]):t[i];e.push("".concat(i,"=").concat(encodeURIComponent(n)))}return e.join("&")}return""}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return t===window?Math.max(window.pageYOffset||0,window.document.documentElement.scrollTop||window.document.body.scrollTop):t.scrollTop}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return"number"!=typeof t&&(t=Number(t)),void 0===t||isNaN(t)||t<=0?e:Math.abs(t)<=1e4?t:Math.abs(t)<=1e8?Math.round(t/1e3)/10+"万":Math.round(t/1e7)/10+"亿"}function C(t){var e=!1,i=-1;return t.length&&t.forEach((function(t,n){t.gif&&!e&&(e=!0,i=n)})),i}var M,U,I=function(t){var e,i,n=t.url||"",a=n.split("?")[0],o=(e=n.split("?")[1]||"",i={},e&&"string"==typeof e&&e.split("&").forEach((function(t){if(t){var e=t.split("="),n=decodeURIComponent(e[1]);n.indexOf("{")>-1&&(n=JSON.parse(n)),i[e[0]]=n}})),i);return a+"?"+_(Object.assign(o,t.params))},A=function(t){var e,i,n,a={url:(e=t.url,i="undefined"==typeof window,n=i?"http:":window.location.protocol||"https:",e.indexOf(".bilibili.co")>-1?(e.indexOf("-mng.bilibili.co")>-1||e.indexOf("manager.bilibili.co"),/^http(s)?:/.test(e)?e:0===e.indexOf("//")?"".concat(n).concat(e):"".concat(n,"//").concat(e)):"".concat(n,"//api.bilibili.com/").concat(e)),timeout:t.timeout||1e4},o=a.url.indexOf("-mng.bilibili.co")>-1||a.url.indexOf("manager.bilibili.co")>-1;return void 0===t.method&&(t.method="GET"),(t.method&&"GET"===t.method.toUpperCase()&&!1!==t.include||!0===t.include)&&(a.withCredentials=!0),t.params&&(a.params=t.params),t.headers&&t.headers["x1-bilispy-color"]&&(a.headers=Object.assign(a.headers||{},{"x1-bilispy-color":t.headers["x1-bilispy-color"]})),t.headers&&t.headers["x-backend-bili-real-ip"]&&(a.headers=Object.assign({},a.headers||{},{"X-BACKEND-BILI-REAL-IP":t.headers["x-backend-bili-real-ip"]})),t.headers&&t.headers["x-real-ip"]&&(a.headers=Object.assign({},a.headers||{},{"x-real-ip":t.headers["x-real-ip"]})),t.cookies&&(a.withCredentials=!0,a.headers=Object.assign(a.headers||{},{cookie:t.cookies})),t.method&&"GET"===t.method.toUpperCase()?(a.url=I(a),delete a.params,m.a.get(a.url,a).then((function(t){return t})).catch((function(t){return o&&"undefined"!=typeof window&&"Network Error"===t.message&&!window.errorRedirect&&(window.location.href="//".concat("","bangumi-mng.bilibili.co/html/403.html")),{status:404,msg:t.stack}}))):(t.method&&(a.method=t.method),a.method&&a.method.toUpperCase().indexOf("POST")>-1&&(a.headers||(a.headers={}),"MNG-POST"===a.method.toUpperCase()?(a.headers["content-type"]="application/json;charset=UTF-8",a.method="POST",a.data=a.params):(a.headers["content-type"]="application/x-www-form-urlencoded",a.data=a.params instanceof window.FormData?a.params:_(a.params||{})),delete a.params),m()(a).then((function(t){return t})).catch((function(t){return o&&"undefined"!=typeof window&&"Network Error"===t.message&&!window.errorRedirect&&(window.location.href="//".concat("","bangumi-mng.bilibili.co/html/403.html")),{status:404,msg:t.stack}})))},x=i(4),k=(M={},u()(M,"FETCH_LOGIN",(function(t,e){var i=t.commit,n=e.reload,a=void 0!==n&&n;return window.__BILI_USER_INFO__&&!a?i("SET_LOGIN_INFO",window.__BILI_USER_INFO__):A({method:"GET",url:"x/web-interface/nav",params:{ts:(new Date).getTime()},include:!0}).then((function(t){var e={};200===t.status&&t.data&&(e=t.data.data||{},window.__BILI_USER_INFO__||(window.__BILI_USER_INFO__=e)),i("SET_LOGIN_INFO",e)}))})),u()(M,"CHANGE_COUPON_SELECTED",(function(t,e){(0,t.commit)("SET_COUPON_SELECTED",e.couponSelected)})),u()(M,"CHANGE_PAY_GLOBAL",(function(t,e){(0,t.commit)("SET_PAY_GLOBAL",e.pay)})),u()(M,"FETCH_UP_RELATION",(function(t,e){var i=t.commit;return A({method:"GET",url:"x/relation",params:{fid:e.mid},include:!0}).then((function(t){if(200===t.status&&t.data&&0===t.data.code){var e=t.data.data||{};i("SET_UP_RELATION",e)}else i("SET_UP_RELATION",{})}))})),u()(M,"CHANGE_UP_RELATION",(function(t,e){(0,t.commit)("SET_UP_RELATION",{followed:e.followed,attribute:e.attr})})),u()(M,"TRIGGER_FOLLOW",(function(t,e){var i=t.commit,n=e.follow?"add":"del",a={season_id:e.ssId,csrf:x.cookie.get("bili_jct")||""};return A({method:"POST",url:"pgc/web/follow/".concat(n),params:a,include:!0}).then((function(t){200===t.status&&t.data&&0===t.data.code?i("SET_FOLLOW_STAT",{followed:e.follow,status:t.data.result?t.data.result.status:void 0}):(e.errCb&&e.errCb(),window.__Iris__&&window.__Iris__.report({command:"ogv.season.follow.fail",status_code:t.data?t.data.code:t.status,extended_fields:{request:a,response:t,cookie:document.cookie}}))})).catch((function(t){e.errCb&&e.errCb(),window.__Iris__&&window.__Iris__.report({command:"ogv.season.follow.error",extended_fields:{request:a,err:t?t.stack+t.message:"",cookie:document.cookie}})}))})),u()(M,"UPDATE_FOLLOW_STATUS",(function(t,e){(0,t.commit)("SET_FOLLOW_STATUS",e.status)})),function(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=document.cookie.match(e);return i?unescape(i[2]):null});U={},u()(U,"SET_LOGIN_INFO",(function(t,e){t.loginInfo={isLogin:e.isLogin||!1,face:p(e.face||""),uname:e.uname||"",mid:e.mid||k("DedeUserID"),isVip:(1===e.vipType||2===e.vipType)&&1===e.vipStatus,levelInfo:e.level_info||{},level:e.level_info&&e.level_info.current_level,vipType:e.vipType,vipStatus:e.vipStatus,mobileVerified:e.mobile_verified,vip:e.vip,official:e.official},window&&window.Sentry&&window.Sentry.configureScope((function(e){e.setUser({mid:t.loginInfo.mid||"",uname:t.loginInfo.uname||""})})),t.isLogin=e.isLogin||!1})),u()(U,"SET_COUPON_SELECTED",(function(t,e){t.couponSelected=Object.assign({},t.couponSelected,e)})),u()(U,"SET_PAY_GLOBAL",(function(t,e){t.payGlobal=Object.assign({},t.payGlobal,e)})),u()(U,"SET_UP_RELATION",(function(t,e){void 0===e.followed?t.userState.upFollowed=1===e.attribute||2===e.attribute||6===e.attribute:t.userState.upFollowed=e.followed,t.userState.upAttr=e.attribute})),u()(U,"SET_FOLLOW_STAT",(function(t,e){var i=e.followed,n=e.status;t.userState.followed=i,void 0!==n&&(t.userState.followStatus=n)})),u()(U,"SET_FOLLOW_STATUS",(function(t,e){void 0!==e&&(t.userState.followStatus=e)}));n.default.use(o.a);var S;function j(t){var e={};if("object"!==s()(t)||t instanceof Array)return{};var i=function(i){if(t.hasOwnProperty(i)){var n=i.replace(/([A-Z])/g,"_$1").toUpperCase();e[n]=function(t){return t[i]}}};for(var n in t)i(n);return e}var E,J=(S={},u()(S,"SET_VERSION",(function(t,e){var i=e.ver;void 0!==i&&(t.ver=i)})),u()(S,"SET_PAGE_TYPE",(function(t,e){t.pageType=e})),u()(S,"SET_CAROUSEL_LIST",(function(t,e){t.carouselList=e})),u()(S,"SET_HAND_PICK",(function(t,e){t.handPickList=e})),u()(S,"SET_HAND_PICK_RECOM",(function(t,e){e.length>3&&(e=e.slice(0,3)),t.handPickRecom=e})),u()(S,"SET_TID",(function(t,e){t.tid=e})),u()(S,"SET_SHOW_BV",(function(t,e){t.showBv=e})),S),N=(E={},u()(E,"VERSION_LOAD",(function(t,e){(0,t.commit)("SET_VERSION",e)})),u()(E,"FETCH_PAGE_TYPE",(function(t,e){(0,t.commit)("SET_PAGE_TYPE",e.pageType)})),u()(E,"FETCH_CAROUSEL",(function(t,e){var i=t.commit;return A({url:"pgc/operation/api/slideshow",params:{position_id:e.wid},headers:e.headers}).then((function(t){200===t.status&&t.data&&0===t.data.code&&i("SET_CAROUSEL_LIST",t.data.result||[])}))})),u()(E,"FETCH_HAND_PICK",(function(t,e){var i=t.commit;return A({url:"pgc/operation/api/static",params:{position_id:e.wid},headers:e.headers}).then((function(t){200===t.status&&t.data&&0===t.data.code&&i("SET_HAND_PICK",t.data.result||[])}))})),u()(E,"FETCH_HAND_PICK_RECOM",(function(t,e){var i=t.commit;return A({url:"pgc/operation/api/static",params:{position_id:e.wid},headers:e.headers}).then((function(t){200===t.status&&t.data&&0===t.data.code&&i("SET_HAND_PICK_RECOM",t.data.result||[])}))})),u()(E,"AJAX_FETCH_CAROUSEL",(function(t,e){(0,t.commit)("SET_CAROUSEL_LIST",e.data)})),u()(E,"FETCH_TID",(function(t,e){(0,t.commit)("SET_TID",e.data)})),u()(E,"CHANGE_SHOW_BV",(function(t,e){(0,t.commit)("SET_SHOW_BV",e.showBv)})),E),D={ver:{},pageType:null,carouselList:[],handPickList:[],handPickRecom:[],tid:-1,showBv:!0},O={state:D,getters:j(D),actions:N,mutations:J},L=i(8),B={data:function(){return{discEntry:{},linksBangumi:[{href:"javascript:;",title:"全部"},{href:"//www.bilibili.com/v/anime/serial/",title:"连载动画"},{href:"//www.bilibili.com/v/anime/finish/",title:"完结动画"},{href:"//www.bilibili.com/v/anime/information/",title:"资讯"},{href:"//www.bilibili.com/v/anime/offical/",title:"官方延伸"},{href:"//www.bilibili.com/anime/timeline/",title:"新番时间表",reportName:"index"},{href:"//www.bilibili.com/anime/index/",title:"番剧索引",reportName:"timeline"}],linksGuochuang:[{href:"javascript:;",title:"全部",on:!0},{href:"//www.bilibili.com/v/guochuang/chinese/",title:"国产动画"},{href:"//www.bilibili.com/v/guochuang/original/",title:"国产原创相关"},{href:"//www.bilibili.com/v/guochuang/puppetry/",title:"布袋戏"},{href:"//www.bilibili.com/v/guochuang/motioncomic/",title:"动态漫·广播剧"},{href:"//www.bilibili.com/v/guochuang/information/",title:"资讯"},{href:"//www.bilibili.com/guochuang/timeline/",title:"新番时间表",reportName:"index"},{href:"//www.bilibili.com/guochuang/index/",title:"国产动画索引",reportName:"timeline"}]}},computed:c()({},Object(o.b)(["PAGE_TYPE"]),{list:function(){return 0===this.PAGE_TYPE?this.linksBangumi:this.linksGuochuang}}),components:{BreadCrumb:L.BreadCrumb}},P=i(0),V=Object(P.a)(B,(function(){var t=this.$createElement;return(this._self._c||t)("BreadCrumb",{attrs:{name:"bangumi-home",crumbList:this.list,positionId:0===this.PAGE_TYPE?434:436}})}),[],!1,null,null,null).exports,R=new n.default,H={data:function(){return{timer:null,timeOut:null,lock:!1,jump:!1,currentIndex:0,textWidth:0,touch:{startX:0,startY:0,stamp:0,direction:"",scrolling:!1,oneTime:!1}}},props:{isMobile:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!1},size:{type:String,default:"large"},auto:{type:Boolean,default:!0},duration:{type:Number,default:3e3},speed:{type:Number,default:300},list:{type:Array,default:function(){return[]}},thumbSlide:{type:Boolean,default:!0},dataLocId:{default:null},showBv:{type:Boolean,default:!1}},computed:{listStyle:function(){return{transform:"translateX(-".concat(100*this.currentIndex,"%)"),transitionDuration:"".concat(Number(this.speed/1e3).toFixed(1),"s")}},cursorStyle:function(){if(this.thumbSlide){var t="large"===this.size?72:62;return{left:"".concat(this.currentIndex%this.list.length*t,"px"),transitionDuration:"".concat(Number(this.speed/1e3).toFixed(1),"s")}}return{}},cursorLink:function(){return this.thumbSlide?this.showBv&&this.list[this.currentIndex%this.list.length]&&this.list[this.currentIndex%this.list.length].blink?this.list.length>0&&this.list[this.currentIndex%this.list.length].blink:this.list.length>0&&this.list[this.currentIndex%this.list.length].link:"javascript:;"},textStyle:function(){return this.textWidth>0?{width:"".concat(this.textWidth,"px")}:{}}},watch:{list:function(){this.clearTimer(),this.$nextTick((function(){this.setThumbsHover()})),this.sendAdData()},currentIndex:function(){this.$emit("index-change",this.currentIndex%this.list.length),this.sendAdData()}},mounted:function(){var t=this,e=this.$refs.wrapper.offsetWidth;this.textWidth=e-this.$refs.thumbs.offsetWidth-20,this.list.length>1&&(this.isMobile?(this.$el.addEventListener("touchstart",this.touchStart,!1),this.$el.addEventListener("touchmove",this.touchMove,!1),this.$el.addEventListener("touchend",this.touchEnd,!1),this.setThumbsTouch()):(this.$el.addEventListener("mouseenter",(function(){t.clearTimer()}),!1),this.$el.addEventListener("mouseleave",(function(){null===t.timer&&t.setTimer()}),!1),this.setThumbsHover()))},methods:{listScrollHandler:function(){this.touch.scrolling=!0},touchStart:function(t){this.clearTimer(),this.touch.startX=t.touches[0].clientX,this.touch.startY=t.touches[0].clientY,this.touch.stamp=t.timeStamp||Date.now(),window.addEventListener("scroll",this.listScrollHandler,!!window.supportPassive&&{passive:!1})},touchMove:function(t){var e=t.changedTouches[0].clientY-this.touch.startY,i=t.changedTouches[0].clientX-this.touch.startX,n=Math.abs(i/e);"h"===this.touch.direction&&(t.preventDefault(),t.stopPropagation()),this.touch.scrolling?this.touch.direction="v":""===this.touch.direction&&Math.abs(i)>5&&n>1&&(this.touch.direction="h"),"h"===this.touch.direction&&(this.touch.distanceX=i)},touchEnd:function(t){window.removeEventListener("scroll",this.listScrollHandler,!!window.supportPassive&&{passive:!1});var e=(t.timeStamp||Date.now())-this.touch.stamp,i=Math.abs(this.touch.distanceX)>10&&e>0?Math.abs(this.touch.distanceX)/e:0;"h"===this.touch.direction&&(Math.abs(this.touch.distanceX)>100||i>.5)&&(this.touch.distanceX<0?this.jumpNext():this.touch.distanceX>0&&this.jumpPrev()),this.touch.scrolling=!1,this.touch.stamp=0,this.touch.startX=0,this.touch.startY=0,this.touch.distanceX=0,this.touch.direction="",null===this.timer&&this.setTimer()},setThumbsTouch:function(){for(var t=1;t<this.$refs.thumbs.children.length;t++)this.$refs.thumbs.children[t].removeEventListener("click",this.clickHandler,!1),this.$refs.thumbs.children[t].setAttribute("data-index",t-1),this.$refs.thumbs.children[t].addEventListener("click",this.clickHandler,!1);this.setTimer()},setThumbsHover:function(){for(var t=1;t<this.$refs.thumbs.children.length;t++)this.$refs.thumbs.children[t].removeEventListener("mouseenter",this.hoverHandler,!1),this.$refs.thumbs.children[t].setAttribute("data-index",t-1),this.$refs.thumbs.children[t].addEventListener("mouseenter",this.hoverHandler,!1);this.setTimer()},clickHandler:function(t){var e=Number(t.target.getAttribute("data-index"));this.currentIndex=e},hoverHandler:function(t){var e=Number(t.target.getAttribute("data-index"));this.currentIndex=e},jumpPrev:function(){var t=this;if(!this.lock)if(this.currentIndex>0)this.currentIndex--,0===this.currentIndex&&(this.lock=!0,this.timeOut=setTimeout((function(){t.jump=!0,t.currentIndex=t.list.length,clearTimeout(t.timeOut),t.timeOut=null;var e=setTimeout((function(){t.jump=!1,t.lock=!1,clearTimeout(e)}),16)}),this.speed));else{this.jump=!0,this.currentIndex=this.list.length;var e=setTimeout((function(){t.jump=!1,clearTimeout(e),t.currentIndex--}),16)}},jumpNext:function(){this.lock||this.toNext()},toNext:function(){var t=this;if(this.currentIndex<this.list.length)this.currentIndex++,this.currentIndex===this.list.length&&(this.lock=!0,this.timeOut=setTimeout((function(){t.jump=!0,t.currentIndex=0,clearTimeout(t.timeOut),t.timeOut=null;var e=setTimeout((function(){t.jump=!1,t.lock=!1,clearTimeout(e)}),16)}),300));else{this.jump=!0,this.currentIndex=0;var e=setTimeout((function(){t.jump=!1,clearTimeout(e),t.currentIndex++}),16)}},report:function(){this.$emit("report",this.list[this.currentIndex%this.list.length],this.currentIndex%this.list.length),this.sendAdClickCursor()},setTimer:function(){var t=this;this.auto&&(this.timer=setInterval((function(){t.toNext()}),this.duration))},clearTimer:function(){clearInterval(this.timer),this.timer=null},sendAdData:function(){if(this.dataLocId){var t=this.currentIndex===this.list.length?0:this.currentIndex;R.$emit("slideShow",{data:this.list[t],id:this.dataLocId})}},sendAdClickCursor:function(){if(this.dataLocId&&this.list[this.currentIndex].is_ad_loc){var t=this.currentIndex===this.list.length?0:this.currentIndex;R.$emit("clickCursor",{data:this.list[t],id:this.dataLocId})}}}},Q=(i(100),Object(P.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",class:["carousel-wrapper",{"carousel-large":"large"===t.size},{"carousel-small":"large"!==t.size}]},[n("div",{staticClass:"carou-images"},[n("ul",{ref:"images",class:["carou-images-wrapper","clearfix",{"no-anime":t.jump}],style:t.listStyle},[t._t("images")],2)]),t._v(" "),t.showArrow?n("div",{staticClass:"carou-arrow prev",on:{click:t.jumpPrev}}):t._e(),t._v(" "),t.showArrow?n("div",{staticClass:"carou-arrow next",on:{click:t.jumpNext}}):t._e(),t._v(" "),n("div",{staticClass:"carou-bottom-shadow"},[n("transition-group",{staticClass:"carou-info",style:t.textStyle,attrs:{tag:"div",name:"carousel-title-fade"}},t._l(t.list,(function(e,a){return n("span",{directives:[{name:"show",rawName:"v-show",value:a===t.currentIndex%t.list.length,expression:"index === (currentIndex % list.length)"}],key:"carou_info_"+a},[n("a",{attrs:{href:t.cursorLink,target:"_blank"},on:{click:t.report}},[e.is_ad&&e.is_ad_loc?n("img",{attrs:{src:i(57)}}):t._e(),t._v("\n                    "+t._s(e.title)+"\n                ")])])})),0),t._v(" "),n("div",{ref:"thumbs",staticClass:"carou-mini"},[n("a",{directives:[{name:"show",rawName:"v-show",value:t.thumbSlide&&t.list.length>0,expression:"thumbSlide && list.length > 0"}],staticClass:"thumb-cursor",style:t.cursorStyle,attrs:{href:t.cursorLink,target:"_blank"},on:{click:t.report}}),t._v(" "),t._t("thumbs")],2)],1)])}),[],!1,null,null,null).exports),z={props:{item:{type:Object,required:!0},dataLocId:{default:null},imgW:{type:Number,default:1160},imgH:{type:Number,default:332},cut:{type:Boolean,default:!1},showBv:{type:Boolean,default:!1},gif:{type:Boolean,default:!1},index:Number,reportShowName:String},computed:{ratio:function(){return this.hd?Object(x.dpr)():2},imgSrc:function(){var t=this.gif?this.item.gif:this.item.img;return Object(x.webpImg)(t,Math.ceil(this.imgW*this.ratio),Math.ceil(this.imgH*this.ratio),this.cut)},link:function(){return this.showBv&&this.item.blink?this.item.blink:this.item.link}},methods:{clickHandler:function(){this.$emit("report")}}},$=(i(101),Object(P.a)(z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:t.reportShowName,data:{ord_id:t.index+1,title:t.item.title,url:t.link}},expression:"{\n    name: reportShowName, \n    data: {\n        ord_id: index + 1, \n        title: item.title, \n        url: link\n    }}"}],staticClass:"chief-recom-item"},[i("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:t.item,id:t.dataLocId},expression:"{data: item, id: dataLocId}"}],attrs:{href:t.link,target:"_blank"},on:{click:t.clickHandler}},[i("img",{attrs:{src:t.imgSrc,alt:t.item.title}})])])}),[],!1,null,null,null).exports),F={props:{item:{type:Object,required:!0},dataLocId:{default:null},imgW:{type:Number,default:60},imgH:{type:Number,default:44},showBv:{type:Boolean,default:!1}},computed:{ratio:function(){return this.hd?v():2},imgSrc:function(){return w(this.item.simg,Math.ceil(this.imgW*this.ratio),Math.ceil(this.imgH*this.ratio))},link:function(){return this.showBv&&this.item.blink?this.item.blink:this.item.link}},methods:{clickHandler:function(){this.$emit("report")}}},G=(i(102),Object(P.a)(F,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chief-thumb-item"},[e("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:this.item,id:this.dataLocId},expression:"{data: item, id: dataLocId}"}],attrs:{href:this.link,target:"_blank"},on:{click:this.clickHandler}},[e("img",{attrs:{src:this.imgSrc,alt:this.item.title}})])])}),[],!1,null,null,null).exports);function X(t,e,i){if(window.reportObserver){(e=e||{}).mid=x.cookie.get("DedeUserID");var n=window.reportConfig&&window.reportConfig.msgObjects?window.reportConfig.msgObjects:"";if(window[n])for(var a in t=t||{})if(t.hasOwnProperty(a)){window[n][a+"_"+t[a]]=e;try{window.reportObserver.forceCommit()}catch(t){}}}else setTimeout((function(){X(t,e)}),1e3)}function W(t){if(t)return 0===t.indexOf("//")?window.location.protocol+t:0===t.indexOf("/")?location.origin+t:0===t.indexOf("http")?t:location.href+t}var Y={1:{filters:["year","style_id"],orders:["3","4","2"],others:[],urlAlias:"//www.bilibili.com/anime/index/",pid:586},2:{filters:["style_id","area"],orders:["2","0","6"],others:["1","2,6","4,6"],urlAlias:"//www.bilibili.com/movie/index/",pid:636},3:{filters:["style_id","producer_id"],orders:["2","0","6"],others:[],urlAlias:"//www.bilibili.com/documentary/index/",pid:635},4:{filters:["year","style_id"],orders:["3","4","2"],others:[],urlAlias:"//www.bilibili.com/guochuang/index/",pid:634},5:{filters:["release_date","style_id"],orders:["2","3"],others:["4,6"],urlAlias:"//www.bilibili.com/tv/index/",pid:637}},q={name:"indexEntry",data:function(){return{filters:{},hotSearch:[]}},props:{ssType:{type:Number,required:!0},blockStyle:{type:Object,default:function(){return{marginTop:"40px"}}},spmId:{type:String,default:""}},computed:{urlAlias:function(){return Y[this.ssType].urlAlias?Object(x.addFromSpmid)(Y[this.ssType].urlAlias,this.spmId):"javascript:;"}},mounted:function(){this.getFilters(),this.getHotWords()},methods:{reportHot:function(t,e){X({click:"hot_word"},{ord_id:e+1,title:t})},reportEntry:function(t,e){X({click:"entry"},{ord_id:e+1,title:t})},getFilterHref:function(t,e){var i="".concat(this.urlAlias,"#st=").concat(this.ssType,"&").concat(e.type||t.key,"=").concat(encodeURIComponent(e.value));return Object(x.addFromSpmid)(i,this.spmId)},getHotWords:function(){var t=this;A({url:"pgc/operation/api/static",params:{position_id:Y[this.ssType].pid||586}}).then((function(e){200===e.status&&e.data&&0===e.data.code&&e.data.result&&(t.hotSearch=e.data.result.map((function(e){return{id:e.id,title:e.title,link:Object(x.addFromSpmid)(Object(x.trimHttp)(e.link),t.spmId)}})))}))},getFilters:function(){var t=this;A({url:"pgc/season/index/condition",params:{season_type:this.ssType,type:1}}).then((function(e){var i=Y[t.ssType]||{},n=i.filters||[],a=i.orders||[],o=i.others||[],r=200===e.status&&e.data&&0===e.data.code&&e.data.data?e.data.data:{},s=r.order||[],l={};s.map((function(t){l[t.field]=t.name}));var c=r.filter||[],d=[{title:"热播",key:"hot",list:[]}];a.map((function(t){void 0!==l[t]&&d[0].list.push({value:t,name:l[t],type:"order"})}));var u=[],h=null;c.map((function(t){var e={title:t.name,key:t.field,list:t.values.map((function(t){return{value:t.keyword,name:t.name}})).filter((function(t){return"-1"!==t.value}))};"season_status"===t.field&&(h=e),e.list.length>8&&(e.list=e.list.slice(0,8)),n.indexOf(e.key)>-1&&u.push(e)})),h&&o.map((function(t){h.list.forEach((function(e){e.value===t&&d[0].list.push({value:t,name:e.name,type:h.key})}))})),d=d.concat(u),t.filters=d}))}}},K=(i(103),Object(P.a)(q,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-entry-wrapper",style:t.blockStyle},[i("div",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"entry"},expression:"{\n        name: 'entry'\n    }"}],staticClass:"filter-block"},t._l(t.filters,(function(e){return i("div",{key:e.key,staticClass:"filter-block-item"},[i("div",{staticClass:"filter-block-title"},[i("span",{domProps:{textContent:t._s(e.title)}}),i("a",{attrs:{href:t.urlAlias,target:"_blank"},on:{click:function(i){return t.reportEntry(e.title,-1)}}},[t._v("全部")])]),t._v(" "),i("div",{staticClass:"filter-list"},t._l(e.list,(function(n,a){return i("a",{key:e.key+"_"+n.value,staticClass:"filter-item",attrs:{href:t.getFilterHref(e,n),target:"_blank"},domProps:{textContent:t._s(n.name)},on:{click:function(i){return t.reportEntry(e.title,a)}}})})),0)])})),0),t._v(" "),i("div",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"hot_word"},expression:"{name: 'hot_word'}"}],staticClass:"hot-search-wrapper"},[t._m(0),t._v(" "),i("div",{staticClass:"filter-list"},t._l(t.hotSearch,(function(e,n){return i("a",{key:"hot_search_"+e.id,staticClass:"filter-item",attrs:{target:"_blank",href:e.link},domProps:{textContent:t._s(e.title)},on:{click:function(i){return t.reportHot(e.title,n)}}})})),0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"filter-block-title"},[e("span",[this._v("热搜")])])}],!1,null,null,null).exports),Z={props:{tabs:{type:Array},selected:{},useHover:{type:Boolean},useClick:{type:Boolean},show:{type:Boolean,default:!0}},methods:{tabClick:function(t){this.useClick&&this.selectTab(t)},tabOver:function(t){this.useHover&&this.selectTab(t)},selectTab:function(t){this.$emit("selectTab",t)}}},tt=(i(104),Object(P.a)(Z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:"pgc-common-tab"},t._l(t.tabs,(function(e,n){return i("div",{key:n,staticClass:"bili-tab-item",class:e.value===t.selected?"on":"",domProps:{textContent:t._s(e.value===t.selected&&e.selectName||e.name)},on:{click:function(i){return t.tabClick(e.value)},mouseover:function(i){return t.tabOver(e.value)}}})})),0):t._e()}),[],!1,null,null,null).exports),et={props:{state:{default:"loading"},data:{}},computed:{source:function(){var t,e=Object.prototype.toString;return"[object Array]"===e.call(this.data)?0!==this.data.length:"[object Object]"===e.call(this.data)?(t=this.data,!("{}"===JSON.stringify(t))):void 0}},methods:{reloads:function(){this.$emit("reload")}}},it=(i(105),Object(P.a)(et,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.source?t._e():i("div",{staticClass:"load-state"},["loading"===t.state?i("span",{staticClass:"loading"},[t._v("正在加载...")]):t._e(),t._v(" "),"error"===t.state?i("span",{staticClass:"error"},[t._v("加载失败，\n        "),i("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.reloads()}}},[t._v("点击重试")])]):t._e(),t._v(" "),"loaded"===t.state?i("span",{staticClass:"empty"},[t._v("没有数据(-_-#)")]):t._e()])}),[],!1,null,null,null).exports),nt={data:function(){return{progress:0,loadStatus:!1,pic:"",x:0,y:0,size:0,width:0,data:null}},props:{aid:{required:!0},hit:{required:!0,default:!1},movex:{required:!0,default:0}},computed:{img:function(){return w(this.pic)},show:function(){return this.hit&&this.data}},watch:{hit:function(){this.hit&&!this.loadStatus&&this.ajax()},movex:function(t){this.onMouseMove(t)}},mounted:function(){this.width=this.$refs.cpm.offsetWidth},methods:{ajax:function(){var t=this;A({url:"pvideo",params:{aid:this.aid}}).then((function(e){t.loadStatus=!0,200===e.status&&e.data&&0===e.data.code&&e.data.data&&(t.pic=e.data.data.image[0],t.data=e.data.data)}))},onMouseMove:function(t){if(this.loadStatus&&this.data){var e=this.data.index.length,i=this.data.img_y_size/this.data.img_x_size*this.width;this.progress=Math.floor(t/this.width*100),this.size=this.width*this.data.img_x_len;var n=Math.floor(t/this.width*e);this.x=-n%this.data.img_x_len*this.width,this.y=-Math.floor(n/this.data.img_x_len)*i}}}},at=(i(107),Object(P.a)(nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cpm",class:t.show?"cover-preview-module show":"cover-preview-module"},[t.img?i("div",{staticClass:"cover",style:{backgroundImage:"url("+t.img+")",backgroundPosition:t.x+"px "+t.y+"px",backgroundSize:t.size+"px"}}):t._e(),t._v(" "),i("div",{staticClass:"progress-bar"},[i("span",{style:{width:t.progress+"%"}})])])}),[],!1,null,null,null).exports),ot={props:{aid:{required:!0},hit:{required:!0,default:!1}},data:function(){return{loadStatus:!1,timer:null,timeout:null,danmus:[],index:0,speed:5,dest:1.5}},watch:{hit:function(t){!t||this.loadStatus?t?this.start():(clearInterval(this.timer),clearTimeout(this.timeout)):this.ajax()}},destroyed:function(){clearInterval(this.timer),clearTimeout(this.timeout)},methods:{ajax:function(){var t=this;A({url:"x/v2/dm/ajax",params:{aid:this.aid}}).then((function(e){t.loadStatus=!0,200===e.status&&e.data&&0===e.data.code&&e.data.data&&(t.danmus=e.data.data.slice(0,-1)),t.start()}))},start:function(){var t=this;this.$nextTick((function(){t.timer=setInterval((function(){if(t.index>t.danmus.length-1)clearInterval(t.timer),t.reset();else{var e=t.$refs["dm".concat(t.index)]?t.$refs["dm".concat(t.index)][0]:void 0;if(e){var i=e.offsetWidth;e.style.left="".concat(-i,"px"),e.style.transition="left ".concat(t.speed,"s linear")}t.index++}}),1e3*t.dest)}))},reset:function(){var t=this;this.timeout=setTimeout((function(){t.index=0;for(var e=0;e<t.danmus.length;e++){var i=t.$refs["dm".concat(e)]?t.$refs["dm".concat(e)][0]:void 0;i&&(i.style.left="",i.style.transition="")}t.start(),clearTimeout(t.timeout)}),1e3*this.speed-1e3*this.dest)}}},rt=(i(108),Object(P.a)(ot,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.hit?"danmu-module show":"danmu-module"},t._l(t.danmus,(function(e,n){return i("p",{key:n,ref:"dm"+n,refInFor:!0,class:n%2==0?"dm":"dm row2"},[t._v(t._s(e))])})),0)}),[],!1,null,null,null).exports),st={props:{src:{},width:{},height:{},alt:{},webp:{default:!0},hd:{default:!0},cut:{default:!1,type:Boolean}},computed:{ratio:function(){return this.hd?v():2},source:function(){return this.webp?w(this.src,Math.ceil(this.width*this.ratio),Math.ceil(this.height*this.ratio),this.cut):p(this.src)}}},lt=(i(109),Object(P.a)(st,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common-lazy-img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:this.source,expression:"source"}],attrs:{alt:this.alt||"",src:""}})])}),[],!1,null,null,null).exports);function ct(t){return t.setTime(t.getTime()+60*(t.getTimezoneOffset()+480)*1e3),t}var dt={components:{CoverPreview:at,Danmu:rt,BiliImg:lt},data:function(){return{hit:!1,movex:0,timeout:null}},props:{config:{type:Object},data:{required:!0},adData:{},viewStat:{default:!0},dataLocId:{default:null},showBv:{type:Boolean,default:!1}},computed:{corner:function(){var t=this.data.stat&&this.data.stat.coin||0;return t<2e3?"":t>=2e3&&t<1e4?"silvery":"golden"},cardPic:function(){return this.adData&&this.adData.is_ad_loc&&this.adData.pic?this.adData.pic:this.data.pic},duration:function(){return function(t){if(-1!==String(t).indexOf(":"))return t;var e=0,i=0,n=0;return n=t/60<1?t:t/3600<1?t-60*(i=Math.floor(t/60)):t-3600*(e=Math.floor(t/3600))-60*(i=Math.floor((t-3600*e)/60)),e=0===e?"":"".concat(e,":"),i<10&&(i="0"+i),n<10&&(n="0"+n),"".concat(e).concat(i,":").concat(n)}(this.data.duration)},viewCount:function(){return b(this.data.stat.view)},danmuCount:function(){return b(this.data.stat.danmaku)},link:function(){var t=this.showBv&&this.data.bvid?"/video/".concat(this.data.bvid):"/video/av".concat(this.data.aid);return Object(x.addFromSpmid)(t,this.config.spmid)}},destroyed:function(){clearTimeout(this.timeout)},methods:{reportV:function(){this.$emit("report-v")},reportT:function(){this.$emit("report-t")},onMouseEnter:function(){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.hit||(t.hit=!0),clearTimeout(t.timeout)}),500)},onMouseLeave:function(){clearTimeout(this.timeout),this.hit=!1,this.movex=0},onMouseMove:function(t){this.movex=t.layerX||0}}},ut=(i(110),{components:{BiliTab:tt,Loading:it,Spread:Object(P.a)(dt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spread-module",attrs:{"data-id":t.adData&&t.adData.id,"data-loc-id":t.dataLocId},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,mousemove:t.onMouseMove}},[n("a",{attrs:{href:t.link,target:"_blank"},on:{click:t.reportV}},[n("div",{staticClass:"pic"},[n("bili-img",{attrs:{src:t.cardPic,alt:t.data.title,width:160,height:100}}),t._v(" "),t.viewStat?n("i",{class:"icon medal "+t.corner}):t._e(),t._v(" "),n("cover-preview",{attrs:{aid:t.data.aid,hit:t.hit,movex:t.movex}}),t._v(" "),n("div",{staticClass:"mask-video"}),t._v(" "),n("danmu",{attrs:{aid:t.data.aid,hit:t.hit}}),t._v(" "),t.data.duration?n("span",{staticClass:"dur",domProps:{textContent:t._s(t.duration)}}):t._e(),t._v(" "),t.data.label?n("span",{staticClass:"promote"},[t._v(t._s(t.data.label))]):t._e(),t._v(" "),t.adData&&t.adData.is_ad?n("img",{staticClass:"gg-pic",attrs:{src:i(106)}}):t._e()],1)]),t._v(" "),n("a",{attrs:{href:t.link,target:"_blank"},on:{click:t.reportT}},[n("p",{staticClass:"t",attrs:{title:t.data.title},domProps:{textContent:t._s(t.data.title)}}),t._v(" "),t.viewStat?n("p",{staticClass:"num"},[n("span",{staticClass:"play"},[n("i",{staticClass:"icon"}),t._v(t._s(t.viewCount))]),t._v(" "),n("span",{staticClass:"danmu"},[n("i",{staticClass:"icon"}),t._v(t._s(t.danmuCount))])]):t._e()])])}),[],!1,null,null,null).exports},props:{config:{type:Object},showBv:{type:Boolean,default:!1}},data:function(){return{state:"loading",lastestData:[],regionData:[],tabConfig:[{name:"有新动态",value:"dynamic"},{name:"最新投稿",value:"lastest"}],sourceType:"dynamic",selectedTab:"dynamic"}},computed:{source:function(){var t=[];switch(this.sourceType){case"lastest":t=this.lastestData;break;case"region":default:t=this.regionData}return t||[]}},methods:{reportVideo:function(t,e){var i=this.showBv&&t.bvid?t.bvid:"av".concat(t.aid);X({click:"subarea_video"},{tid:this.config.tid,ord_id:e+1,title:t.title,url:W("//www.bilibili.com/video/".concat(i,"/"))})},reportTitle:function(t,e){var i=this.showBv&&t.bvid?t.bvid:"av".concat(t.aid);X({click:"subarea_title"},{tid:this.config.tid,ord_id:e+1,title:t.title,url:W("//www.bilibili.com/video/".concat(i,"/"))})},reportAreaMore:function(){X({click:"subarea_more"},{tid:this.config.tid})},selectTab:function(t){this.selectedTab=t,this.sourceType=t,"lastest"===t&&(this.getNewData(),X({click:"subarea_new"},{tid:this.config.tid})),"dynamic"===t&&X({click:"subarea_dynamic"},{tid:this.config.tid})},getNewDynamic:function(t){var e=this;this.state="loading",A({url:"x/web-interface/dynamic/region",params:{ps:this.config.pageSize||10,rid:this.config.tid}}).then((function(t){200===t.status&&t.data&&0===t.data.code&&t.data.data?(e.sourceType="region",e.selectedTab="dynamic",e.regionData=t.data.data.archives||[],e.regionData.length>0?e.state="loaded":e.state="empty"):e.state="error"})),"refresh"===t&&X({click:"subarea_count"},{tid:this.config.tid})},getNewData:function(){var t=this;this.state="loading",A({url:"x/web-interface/newlist",params:{rid:this.config.tid}}).then((function(e){200===e.status&&e.data&&0===e.data.code&&e.data.data?(t.lastestData=e.data.data.archives||[],t.lastestData.length>0?t.state="loaded":t.state="empty"):t.state="error"}))},reloadData:function(){"lastest"===this.sourceType?this.getNewData():this.getNewDynamic("click")},lazyHandler:function(){this.getNewDynamic()},getLink:function(t){return this.showBv&&t.bvid?"/video/".concat(t.bvid):"/video/av".concat(t.aid)}}}),ht=(i(111),Object(P.a)(ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.lazyHandler,id:t.config.tid},expression:"{handler: lazyHandler, id: config.tid}"}],staticClass:"new-stat-module"},[i("div",{staticClass:"zone-title"},[i("div",{staticClass:"headline clearfix"},[i("h4",{staticClass:"name"},[t._v(t._s(t.config.title||"最新动态"))]),t._v(" "),i("bili-tab",{staticClass:"bili-tab",attrs:{tabs:t.tabConfig,selected:t.selectedTab,useClick:!0},on:{selectTab:t.selectTab}}),t._v(" "),t.config.morelink?i("a",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"subarea_more",data:{url:t.config.morelink,tid:t.config.tid}},expression:"{\n                    name: 'subarea_more',\n                    data: {\n                        url: config.morelink,\n                        tid: config.tid\n                    }\n                }"}],staticClass:"new-stat-more",attrs:{href:t.config.morelink,target:"_blank"},on:{click:t.reportAreaMore}},[t._v("更多"),i("i",{staticClass:"icon"})]):t._e()],1)]),t._v(" "),i("div",{staticClass:"storey-box clearfix",class:{center:t.config.center}},[i("loading",{style:{top:t.config.center&&t.config.top?t.config.top:0},attrs:{data:t.source,state:t.state},on:{reload:t.reloadData}}),t._v(" "),t._l(t.source,(function(e,n){return i("spread",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"subarea_video",data:{season_id:e.season_id,tab_id:t.selectedTab,ord_id:n+1,title:e.title,url:t.getLink(e),tid:t.config.tid}},expression:"{\n                name: 'subarea_video',\n                data: {\n                    season_id: item.season_id,\n                    tab_id: selectedTab,\n                    ord_id: index + 1,\n                    title: item.title,\n                    url: getLink(item),\n                    tid: config.tid\n                }\n            }"}],key:e.aid,attrs:{data:e,showBv:t.showBv,config:t.config},on:{"report-v":function(i){return t.reportVideo(e,n)},"report-t":function(i){return t.reportTitle(e,n)}}})}))],2)])}),[],!1,null,null,null).exports),mt={0:{name:"放映厅",tid:"",url:"//www.bilibili.com/cinema",locid:395,sub:[403,414,415]},177:{name:"纪录片",tid:177,url:"//www.bilibili.com/documentary/"},23:{name:"电影",tid:23,url:"//www.bilibili.com/movie/",locid:112,sub:[405,412,417]},11:{name:"电视剧",tid:11,url:"//www.bilibili.com/tv/",locid:118,sub:[406,413,418]},13:{name:"番剧",tid:13,url:"www.bilibili.com/anime/",locid:106,sub:[291,293,295]},167:{name:"国创",tid:167,url:"www.bilibili.com/guochuang/",locid:1966,sub:[1923,1922,1921]}},ft={components:{BiliImg:lt},data:function(){return{dataAdLoc:0,item:{},noUrl:!0}},props:{adLoc:{type:Number,default:null},locId:{type:Number,default:null}},computed:c()({},Object(o.b)(["TID"])),watch:{TID:{handler:function(t,e){this.setDataAdLoc()},deep:!0}},mounted:function(){this.setDataAdLoc()},methods:{setDataAdLoc:function(){this.locId&&(this.dataAdLoc=this.locId,0!==this.dataAdLoc)?this.getADFloor():-1!==this.TID&&(this.dataAdLoc=mt[this.TID].sub[this.adLoc-1],0!==this.dataAdLoc&&this.getADFloor())},getADFloor:function(){var t=this;A({url:"x/web-show/res/loc",params:{pf:0,id:this.dataAdLoc}}).then((function(e){200===e.status&&e.data&&0===e.data.code&&e.data.data&&e.data.data.length>0&&(t.item=e.data.data[0],t.noUrl=!t.item.url)}))},getStyle:function(t){return t.url?{height:"",overflow:"hidden",padding:"40px 0 0"}:{position:"relative",height:"1px",overflow:"hidden",margin:0,opacity:0}}}},pt=(i(112),Object(P.a)(ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return(t.locId?t.locId&&!t.noUrl:t.adLoc)?n("div",{staticClass:"gg-floor-module"},[n("div",{staticClass:"item",style:t.getStyle(t.item),attrs:{"data-id":t.item.id,"data-loc-id":t.dataAdLoc}},[n("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:t.item,id:t.dataAdLoc,report:!0},expression:"{data: item, id: dataAdLoc, report: true}"}],attrs:{target:"_blank"}},[n("bili-img",{attrs:{src:t.item.pic,alt:t.item.title,webp:!1,hd:!1}}),t._v(" "),t.item.is_ad?n("img",{staticClass:"gg-pic",attrs:{src:i(57)}}):t._e()],1)])]):t._e()}),[],!1,null,null,null).exports),wt={props:{config:{type:Object,default:function(){return{left:{},right:[]}}}},computed:c()({},Object(o.b)(["SHOW_BV"]),{leftStyle:function(){return this.config.left.height?{height:"".concat(this.config.left.height,"px")}:{}}}),components:{AdFloor:pt}},vt=(i(113),Object(P.a)(wt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block-area block-bangumi"},[i("div",{class:["block-left",{short:t.config.spacingShort}],style:t.leftStyle},[i(t.config.left.component,{tag:"component",attrs:{config:t.config.left.conf,showBv:t.SHOW_BV}})],1),t._v(" "),i("div",{class:["block-right",{"align-top-left":t.config.alignRight}]},t._l(t.config.right,(function(e,n){return i(e.component,{key:n,tag:"component",class:e.cls,attrs:{showBv:t.SHOW_BV,config:e.conf||{},title:e.title||""}})})),1),t._v(" "),t.config.hasAd?i("ad-floor",{attrs:{"ad-loc":t.config.hasAd}}):t._e()],1)}),[],!1,null,null,null).exports),gt={props:{list:{type:Array},selected:{}},computed:{selectText:function(){var t,e;for(t=0,e=this.list.length;t<e;++t)if(this.list[t].value===this.selected)return this.list[t].name}},methods:{isShowItem:function(t){return t.value!==this.selected},selectItem:function(t){this.$emit("selectDropdown",t)}}},yt=(i(114),Object(P.a)(gt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pgc-rank-dropdown"},[i("span",{staticClass:"selected",domProps:{textContent:t._s(t.selectText)}}),t._v(" "),i("i",{staticClass:"icon icon-arrow-down"}),t._v(" "),i("ul",{staticClass:"dropdown-list"},t._l(t.list,(function(e,n){return i("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowItem(e),expression:"isShowItem(item)"}],key:n,staticClass:"dropdown-item",domProps:{textContent:t._s(e.name)},on:{click:function(i){return t.selectItem(e.value)}}})})),0)])}),[],!1,null,null,null).exports),_t={components:{BiliImg:lt,Loading:it},props:{show:{default:1},list:{},max:Number,state:{},tid:{},hover:{type:Boolean,default:!0},showBv:{type:Boolean,default:!1}},data:function(){return{timeout:null}},computed:{data:function(){return this.max>0&&this.list?this.list.slice(0,this.max):this.list}},methods:{formatTitle:function(t){var e=[];return t.title&&e.push(t.title),t.play&&e.push("播放:"+t.play),t.duration&&e.push(t.duration),e.join(" ")},formatRiPoint:function(t){return b(t)},reportVideo:function(t,e){X({click:"ranking_video"},{tid:this.tid,ord_id:e+1,title:t.title,url:W(this.getLinkUrl(t))})},getItemCls:function(t){var e="";return t<=this.show&&(e+=" show-detail first"),t<=3&&(e+=" highlight"),e},getLinkUrl:function(t,e){var i=t.aid,n=t.bvid;return this.showBv&&n?"//www.bilibili.com/video/".concat(n,"/"):i?"//www.bilibili.com/video/av"+i+"/":e?"//www.bilibili.com/bangumi/play/ss"+e:void 0},reload:function(){this.$emit("reloadRank")},onMouseEnter:function(t,e){if(!this.hover)return!1;var i=window.$(this.$el).find("li").eq(t).offset().left,n=window.$(this.$el).find("li").eq(t).offset().top-190;this.timeout=setTimeout((function(){R.$emit("SHOW_VIDEO_CARD",{x:i,y:n,data:e,type:"video"})}),500)},onMouseLeave:function(){R.$emit("HIDE_VIDEO_CARD",{type:"video"}),clearTimeout(this.timeout)}}},Tt=(i(115),Object(P.a)(_t,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"pgc-rank-list"},[i("loading",{attrs:{state:t.state,data:t.data},on:{reload:t.reload}}),t._v(" "),t._l(t.data,(function(e,n){return i("li",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"ranking_video",data:{ord_id:n+1,title:e.title,url:t.getLinkUrl(e,e.season_id),tid:t.tid}},expression:"{\n            name: 'ranking_video', \n            data: {\n                ord_id: index + 1, \n                title: item.title, \n                url: getLinkUrl(item, item.season_id),\n                tid\n            }}"}],key:n,staticClass:"rank-item",class:t.getItemCls(n+1),on:{mouseenter:function(i){return t.onMouseEnter(n,e)},mouseleave:t.onMouseLeave}},[i("i",{staticClass:"ri-num",domProps:{textContent:t._s(n+1)}}),t._v(" "),i("a",{staticClass:"ri-info-wrap clearfix",attrs:{href:t.getLinkUrl(e,e.season_id),target:"_blank",title:t.formatTitle(e)},on:{click:function(i){return t.reportVideo(e,n)}}},[n<t.show?i("bili-img",{staticClass:"ri-preview",attrs:{src:e.pic,alt:e.title,width:80,height:50}}):t._e(),t._v(" "),i("div",{staticClass:"ri-detail"},[i("p",{staticClass:"ri-title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"ri-point"},[t._v("综合评分："+t._s(t.formatRiPoint(e.pts)))])])],1)])}))],2)}),[],!1,null,null,null).exports),bt=0,Ct={components:{BiliTab:tt,BiliDropdown:yt,RankList:Tt},props:{config:Object,title:{default:"排行"},showBv:Boolean},data:function(){return{tabConfig:[{name:"全部",value:bt}],dpConfig:[{name:"三日",value:3},{name:"一周",value:7}],type:bt,duration:this.config&&this.config.duration||3,all:[],allState:"loading"}},computed:{isShowTab:function(){return void 0===this.config.showTab||this.config.showTab},showDropdown:function(){return void 0===this.config.showDropdown||this.config.showDropdown}},methods:{getList:function(){var t=this;this.setState("loading");var e={url:"x/web-interface/ranking/region",params:{rid:this.config.tid,day:this.duration,original:this.type}};A(e).then((function(e){200===e.status&&0===e.data.code&&e.data.data?(t.setState("loaded"),t.setData(e.data.data)):(t.setState("error"),t.setData([]))}))},setData:function(t){this.type===bt&&(this.all=t)},setState:function(t){this.type===bt&&(this.allState=t)},selectDropdown:function(t){this.duration=t,this.getList(),X({click:"ranking_change"},{tid:this.config.tid})},getLinkUrl:function(){var t=this.config.type||"cinema";if("bangumi"===t||"guochuang"===t){var e=this.config.urlPrefix||"anime/serial",i=ct(new Date),n=i.getFullYear(),a=i.getMonth()+1>=10?i.getMonth()+1:"0"+(i.getMonth()+1),o=i.getDate()>=10?i.getDate():"0"+i.getDate(),r=ct(new Date((new Date).getTime()-864e5*this.duration)),s=r.getFullYear(),l=r.getMonth()+1>=10?r.getMonth()+1:"0"+(r.getMonth()+1),c=r.getDate()>=10?r.getDate():"0"+r.getDate();return"//www.bilibili.com/v/".concat(e,"/#/all/click/0/1/").concat(s,"-").concat(l,"-").concat(c,",").concat(n,"-").concat(a,"-").concat(o)}return"//www.bilibili.com/ranking/".concat(t,"/").concat(this.config.tid,"/0/").concat(this.duration,"/")},reportMore:function(){X({click:"ranking_more"},{tid:this.config.tid})},showMore:function(){return 165!==this.config.tid}}},Mt=(i(116),Object(P.a)(Ct,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.getList,id:t.config.tid},expression:"{handler: getList, id: config.tid}"}],staticClass:"sec-rank",attrs:{id:"ranking_"+t.config.tid}},[i("header",{staticClass:"rank-head"},[i("h3",{domProps:{textContent:t._s(t.title)}}),t._v(" "),i("bili-tab",{staticClass:"pgc-rank-tab",attrs:{tabs:t.tabConfig,selected:t.type,useHover:!0,show:t.isShowTab}}),t._v(" "),t.showDropdown?i("bili-dropdown",{staticClass:"rank-dropdown",attrs:{list:t.dpConfig,selected:t.duration},on:{selectDropdown:t.selectDropdown}}):t._e()],1),t._v(" "),i("div",{staticClass:"rank-list-wrap"},[i("rank-list",{staticClass:"hot-list",attrs:{list:t.all,showBv:t.showBv,max:t.config.max||7,state:t.allState,tid:t.config.tid,show:t.config.show||1},on:{reloadRank:t.getList}})],1),t._v(" "),t.showMore()?i("a",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"ranking_more",data:{tid:t.config.tid}},expression:"{\n            name: 'ranking_more',\n            data: {\n                tid: config.tid\n            }}"}],staticClass:"more-link",attrs:{href:t.getLinkUrl(),target:"_blank"},on:{click:t.reportMore}},[t._v("\n        查看更多\n        "),i("i",{staticClass:"icon icon-arrow-r"})]):t._e()])}),[],!1,null,null,null).exports),Ut={extends:Mt,computed:c()({},Object(o.b)(["SHOW_BV"])),methods:{getList:function(){var t=this;this.setState("loading"),A({url:"pgc/web/rank/list",params:{day:this.duration,season_type:1}}).then((function(e){if(200===e.status&&0===e.data.code&&e.data.result){var i=[];((e.data.result||[]).list||[]).filter((function(t){return 0===(t.new_ep.index_show||"").indexOf("全")})).forEach((function(t){i.push({aid:0,season_id:t.season_id,typename:"完结动画",title:t.title,subtitle:"",play:0,review:0,video_review:0,favorites:0,mid:0,author:"",description:"",create:"",pic:t.new_ep.cover||"",coins:0,duration:"",badgepay:!1,pts:t.pts,rights:{bp:0,elec:0,download:0,movie:0,pay:0,hd5:0,no_reprint:0,autoplay:0,ugc_pay:0,is_cooperation:0,ugc_pay_preview:0}})})),t.setState("loaded"),t.setData(i)}else t.setState("error"),t.setData([])}))},getLinkUrl:function(){return"//www.bilibili.com/anime/index/#season_version=-1&area=-1&is_finish=1&copyright=-1&season_status=-1&season_month=-1&pub_date=-1&style_id=-1&order=3&st=1&sort=0&page=1"}}},It=Object(P.a)(Ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.getList,id:t.config.tid},expression:"{handler: getList, id: config.tid}"}],staticClass:"sec-rank",attrs:{id:"ranking_"+t.config.tid}},[i("header",{staticClass:"rank-head"},[i("h3",{domProps:{textContent:t._s(t.title)}}),t._v(" "),i("bili-tab",{staticClass:"pgc-rank-tab",attrs:{tabs:t.tabConfig,selected:t.type,useHover:!0,show:t.isShowTab}}),t._v(" "),t.showDropdown?i("bili-dropdown",{staticClass:"rank-dropdown",attrs:{list:t.dpConfig,selected:t.duration},on:{selectDropdown:t.selectDropdown}}):t._e()],1),t._v(" "),i("div",{staticClass:"rank-list-wrap"},[i("rank-list",{staticClass:"hot-list",attrs:{list:t.all,max:t.config.max||7,state:t.allState,tid:t.config.tid,showBv:t.SHOW_BV,show:t.config.show||1,hover:!1},on:{reloadRank:t.getList}})],1),t._v(" "),t.showMore()?i("a",{staticClass:"more-link",attrs:{href:t.getLinkUrl(),target:"_blank"},on:{click:t.reportMore}},[t._v("查看更多\n        "),i("i",{staticClass:"icon icon-arrow-r"})]):t._e()])}),[],!1,null,null,null).exports,At={sm:{width:260,height:150},md:{width:260,height:270},lg:{width:340,height:320}},xt={props:{data:Object,tag:String,lazy:{type:Boolean,default:!0},reportShowName:String,index:Number},computed:{ratio:function(){return this.hd?v():2},cover:function(){var t=At[this.tag];return w(this.data.img,Math.ceil(t.width*this.ratio),Math.ceil(t.height*this.ratio))}},methods:{clickHandler:function(){this.$emit("report")}},components:{BiliImg:lt}},kt=(i(117),{components:{RecomItem:Object(P.a)(xt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:t.reportShowName,data:{ord_id:t.index+1,title:t.data.title,url:t.data.link}},expression:"{\n        name: reportShowName, \n        data: {\n            ord_id: index + 1, \n            title: data.title, \n            url: data.link\n        }\n    }"}],staticClass:"recom-item-bangumi",class:t.tag,on:{click:t.clickHandler}},[i("a",{attrs:{href:t.data.link,target:"_blank",title:t.data.title}},[t.lazy?i("bili-img",{attrs:{src:t.data.img,alt:t.data.title}}):t._e(),t._v(" "),t.lazy?t._e():i("img",{attrs:{src:t.cover,alt:t.data.title}}),t._v(" "),i("div",{staticClass:"rib-info"},[i("p",{staticClass:"t"},[i("span",[t._v(t._s(t.data.title))])]),t._v(" "),i("p",{staticClass:"d"},[t._v("\n                "+t._s(t.data.desc)+"\n            ")])])],1)])}),[],!1,null,null,null).exports,Loading:it},data:function(){return{fetchData:[],state:"loaded",tag:"sm"}},props:{config:{type:Object,required:!0},title:{type:String}},computed:{recomData:function(){return this.config.data&&this.config.data.length>0?this.config.data||[]:this.fetchData||[]},recomEmpty:function(){return"[]"===JSON.stringify(this.recomData)},style:function(){return this.config.marginTop?{marginTop:"".concat(this.config.marginTop,"px")}:{}},lazy:function(){return void 0===this.config.lazy||this.config.lazy}},mounted:function(){this.recomEmpty&&!this.config.lazy&&this.getActiveData()},methods:{report:function(t,e){X({click:this.config.recomReportName},{title:t.title,url:W(t.link),ord_id:e+1})},getActiveData:function(){var t=this;this.config.recomId&&(this.state="loading",A({url:"pgc/operation/api/static",params:{position_id:this.config.recomId}}).then((function(e){200===e.status&&e.data&&0===e.data.code?(t.fetchData=e.data.result&&e.data.result.length>0?e.data.result:[],t.state="loaded"):t.state="error"})))},lazyHandler:function(){this.recomEmpty&&this.config.lazy&&this.getActiveData()}}}),St=(i(118),Object(P.a)(kt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"recom-right-module-wrapper content-"+t.config.tag},[i("header",{staticClass:"recom-right-head"},[i("h3",{domProps:{textContent:t._s(t.title)}})]),t._v(" "),i("ul",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.lazyHandler,id:t.config.recomId},expression:"{handler: lazyHandler, id: config.recomId}"}],staticClass:"recom-right-module",style:t.style},[t._l(t.recomData,(function(e,n){return i("RecomItem",{directives:[{name:"show",rawName:"v-show",value:!t.recomEmpty,expression:"!recomEmpty"}],key:n,attrs:{index:n,tag:t.tag,data:e,lazy:t.lazy,reportShowName:t.config.reportShowName},on:{report:function(i){return t.report(e,n)}}})})),t._v(" "),i("loading",{attrs:{state:t.state,data:t.recomData},on:{reload:t.getActiveData}})],2)])}),[],!1,null,null,null).exports),jt={components:{BiliImg:lt},props:{data:{default:{}}},computed:{playCount:function(){return b(this.data.play)},danmuCount:function(){return b(this.data.video_review)},starCount:function(){return b(this.data.favorites)},coinCount:function(){return b(this.data.coins)}}},Et=(i(119),Object(P.a)(jt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-info-module"},[i("div",{staticClass:"v-title"},[t._v(t._s(t.data.title))]),t._v(" "),i("div",{staticClass:"v-info"},[i("span",{staticClass:"name"},[t._v(t._s(t.data.author))]),t._v(" "),i("span",{staticClass:"line"}),t._v(" "),i("span",{staticClass:"time"},[t._v(t._s(t.data.create))])]),t._v(" "),i("div",{staticClass:"v-preview clearfix"},[i("bili-img",{attrs:{src:t.data.pic,width:96,height:60}}),t._v(" "),i("p",{staticClass:"txt"},[t._v(t._s(t.data.description))])],1),t._v(" "),i("div",{staticClass:"v-data"},[i("span",{staticClass:"play"},[i("i",{staticClass:"icon"}),t._v(t._s(t.playCount))]),t._v(" "),i("span",{staticClass:"danmu"},[i("i",{staticClass:"icon"}),t._v(t._s(t.danmuCount))]),t._v(" "),i("span",{staticClass:"star"},[i("i",{staticClass:"icon"}),t._v(t._s(t.starCount))]),t._v(" "),i("span",{staticClass:"coin"},[i("i",{staticClass:"icon"}),t._v(t._s(t.coinCount))])])])}),[],!1,null,null,null).exports),Jt={data:function(){return{showGif:!1}},props:{item:{type:Object,required:!0},type:{type:String,default:"small"},lazy:{type:Boolean,default:!0},showBv:{type:Boolean,default:!1},gif:{type:Boolean,default:!1},index:Number,reportShowName:String,spmid:String},computed:{imgW:function(){return 160},imgH:function(){return"large"===this.type?214:100},link:function(){var t=this.showBv&&this.item.blink?this.item.blink:this.item.link;return Object(x.addFromSpmid)(Object(x.trimHttp)(t),this.spmid)},ratio:function(){return this.hd?Object(x.drp)():2},imgLink:function(){return this.gif?this.item.gif:this.item.img},cover:function(){return Object(x.webpImg)(this.imgLink,Math.ceil(this.imgW*this.ratio),Math.ceil(this.imgH*this.ratio))}},methods:{caseTag:function(t){var e;switch(t){case"付费":e=1;break;case"合作":e=2;break;case"话题":e=3;break;case"热播":e=4;break;case"首播":e=5;break;case"推荐":e=6;break;case"预告":e=7;break;case"最新":e=8}return e},report:function(){this.$emit("report")}},components:{BiliImg:lt}},Nt=(i(120),Object(P.a)(Jt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:t.reportShowName,data:{ord_id:t.index+1,title:t.item.title,url:t.link}},expression:"{\n        name: reportShowName, \n        data: {\n            ord_id: index + 1, \n            title: item.title, \n            url: link\n        }\n    }"}],class:["video-item-biref",{"cinema-large":"large"===t.type}]},[i("a",{attrs:{href:t.link,target:"_blank"},on:{click:t.report}},[i("div",{staticClass:"biref-img"},[t.lazy?i("bili-img",{attrs:{src:t.imgLink,alt:t.item.title,width:t.imgW,height:t.imgH}}):t._e(),t._v(" "),t.lazy?t._e():i("img",{attrs:{src:t.cover,alt:t.item.title}}),t._v(" "),t.item.badge?i("div",{class:["biref-tag","btag"+t.caseTag(t.item.badge)]}):t._e()],1),t._v(" "),i("div",{staticClass:"biref-info"},[i("div",{class:["biref-title",{"biref-title-line2":!t.item.desc}]},[t._v(t._s(t.item.title))]),t._v(" "),t.item.desc?i("div",{staticClass:"biref-title-sec"},[t._v(t._s(t.item.desc))]):t._e()])])])}),[],!1,null,null,null).exports),Dt={data:function(){return{state:"loaded",indexGif:-1,renderList:[],stackList:[]}},props:{config:{type:Object,required:!0}},created:function(){var t=this.HAND_PICK_LIST.slice();t.length>5?(t=t.splice(0,5),this.indexGif=C(t),this.renderList=t,this.stackList=this.HAND_PICK_LIST.slice().splice(5)):(this.indexGif=C(t),this.renderList=t)},computed:c()({},Object(o.b)(["HAND_PICK_LIST","SHOW_BV","PAGE_TYPE"])),methods:{randomList:function(){X({click:"editor_change"},{});var t=(window.innerWidth||window.document.documentElement.clientWidth||window.screen.width)<1400?4:5,e=this.stackList.slice();4===t&&e.splice(0,0,this.renderList[4]),e.length<5&&(e=e.concat(this.HAND_PICK_LIST)),this.indexGif=C(e),this.renderList=e.splice(0,5),this.stackList=e},reportItem:function(t,e){var i=this.SHOW_BV&&t.blink?t.blink:t.link;X({click:"editor"},{title:t.title,url:W(i),ord_id:e+1})}},components:{RecomItem:Nt,Loading:it}},Ot=(i(121),Object(P.a)(Dt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hot-recom-module"},[i("div",{staticClass:"block-header",staticStyle:{"padding-right":"20px"}},[i("h4",{staticClass:"block-title"},[t._v("编辑精选")]),t._v(" "),t.HAND_PICK_LIST.length>5?i("div",{staticClass:"random-change",on:{click:t.randomList}},[i("i",{staticClass:"icon icon_read"}),t._v(" "),i("span",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"editor_change"},expression:"{\n                    name: 'editor_change'\n                }"}],staticClass:"info"},[t._v("换一批")])]):t._e()]),t._v(" "),i("div",{staticClass:"block-body clearfix",staticStyle:{height:"148px"}},[t._l(t.renderList,(function(e,n){return i("RecomItem",{key:e.id,attrs:{gif:t.indexGif===n,showBv:t.SHOW_BV,item:e,index:n,lazy:!1,spmid:0===t.PAGE_TYPE?"666.4":"666.5",reportShowName:"editor"},on:{report:function(i){return t.reportItem(e,n)}}})})),t._v(" "),i("loading",{attrs:{state:t.state,data:t.HAND_PICK_LIST}})],2)])}),[],!1,null,null,null).exports),Lt={props:{item:{type:Object,required:!0},reportShowName:String,index:Number},computed:{delayDuration:function(){return Math.floor(400*Math.random())},linkSeason:function(){return"//www.bilibili.com/bangumi/play/ss".concat(this.item.season_id)},linkEp:function(){return"//www.bilibili.com/bangumi/play/ep".concat(this.item.ep_id)},count:function(){return isNaN(this.item.bgmcount)?this.item.bgmcount:"".concat(this.item.bgmcount,"话")}},methods:{report:function(){this.$emit("report")}},components:{BiliImg:lt}},Bt=(i(122),Object(P.a)(Lt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{appear:"",name:"timeline-appear"}},[i("li",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:t.reportShowName,data:{ord_id:t.index+1,title:t.item.title,url:t.linkSeason,season_id:t.item.season_id}},expression:"{\n            name: reportShowName, \n            data: {\n                ord_id: index + 1, \n                title: item.title, \n                url: linkSeason,\n                season_id: item.season_id\n            }\n        }"}],class:["timeline-item",{new:t.item.new}],style:"transition-delay: "+t.delayDuration+"ms"},[i("a",{staticClass:"preview",attrs:{href:t.linkSeason,target:"_blank",title:t.item.title}},[i("bili-img",{attrs:{src:t.item.square_cover,alt:t.item.title,width:72,height:72}})],1),t._v(" "),i("div",{staticClass:"item-right"},[i("p",{staticClass:"t"},[i("a",{attrs:{href:t.linkSeason,target:"_blank",title:t.item.title}},[i("span",[t._v(t._s(t.item.title))])])]),t._v(" "),t.item.lastupdate_at?i("p",{staticClass:"num"},[t._v("更新至\n                "),i("a",{attrs:{href:t.linkEp,target:"_blank"}},[t._v(t._s(t.count))])]):t._e(),t._v(" "),t.item.lastupdate_at?t._e():i("p",{staticClass:"num"},[t._v("即将开播")])])])])}),[],!1,null,null,null).exports),Pt={props:{src:{},width:{},height:{},alt:{},webp:{default:!0},hd:{default:!0}},computed:{ratio:function(){return this.hd?v():2},source:function(){return this.webp?w(this.src,Math.ceil(this.width*this.ratio),Math.ceil(this.height*this.ratio)):p(this.src)}}},Vt=(i(123),{components:{BiliImg:Object(P.a)(Pt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bangumi-home-lazy-img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:this.source,expression:"source"}],style:"margin-top: -"+(this.height>>1)+"px;",attrs:{alt:this.alt||"",src:"",height:this.height}})])}),[],!1,null,null,null).exports},props:{data:Object},computed:{seasonCover:function(){var t=this.data.cover,e=128;return this.data.new_ep&&this.data.new_ep.cover&&(t=this.data.new_ep.cover,e=60),{cover:t,height:e}},seasonLink:function(){return"//www.bilibili.com/bangumi/play/ss".concat(this.data.season_id)},highlightCls:function(){var t=this.data.new_ep||{},e=this.data.progress||{};return t.is_new&&t.id!==e.last_ep_id?"highlight":""},newEpText:function(){return(this.data.new_ep||{}).index_show||""},indexShow:function(){var t=this.data.progress||{};return t&&t.index_show?t.index_show||"":"尚未观看"},episodeLink:function(){var t=this.data.progress||{};return(this.data.new_ep||{}).id&&t&&t.index_show?"//www.bilibili.com/bangumi/play/ss".concat(this.data.season_id):"javascript:void(0);"}},methods:{reportClick:function(){X({click:"my_follow"},{season_id:this.data.season_id})}}}),Rt=(i(124),Object(P.a)(Vt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"follow-item clearfix"},[i("a",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"my_follow",data:{season_id:t.data.season_id,url:t.seasonLink}},expression:"{\n            name: 'my_follow', \n            data: {\n                season_id: data.season_id,\n                url: seasonLink\n            }\n        }"}],staticClass:"follow-cover",attrs:{href:t.seasonLink,target:"_blank",title:t.data.title},on:{click:t.reportClick}},[i("bili-img",{attrs:{src:t.seasonCover.cover,alt:t.data.title,width:96,height:t.seasonCover.height}})],1),t._v(" "),i("div",{staticClass:"details"},[i("a",{staticClass:"season-title",attrs:{href:t.seasonLink,target:"_blank",title:t.data.title},on:{click:t.reportClick}},[i("span",{domProps:{textContent:t._s(t.data.title)}})]),t._v(" "),i("div",{staticClass:"ep-info",class:t.highlightCls,domProps:{textContent:t._s(t.newEpText)}}),t._v(" "),i("a",{staticClass:"ep-intro",attrs:{href:t.episodeLink,target:"_blank",title:t.indexShow},on:{click:t.reportClick}},[i("span",{domProps:{textContent:t._s(t.indexShow)}})])])])}),[],!1,null,null,null).exports),Ht={data:function(){return{loadState:"loading",url:"//bangumi.bilibili.com/api/timeline_v2_",data:[],collapseShow:!1,expand:!0,list:[],userInfo:{}}},props:{type:String,hasAd:Number,reportName:Object},computed:c()({},Object(o.b)(["PAGE_TYPE"]),{styleSrt:function(){return this.collapseShow&&this.expand?"height: 315px":""},moreLink:function(){var t=0===this.PAGE_TYPE?"anime":"guochuang";return"//www.bilibili.com/".concat(t,"/timeline")},followMoreBtnLink:function(){return"//space.bilibili.com/".concat(this.userInfo.mid,"/bangumi")}}),watch:{data:{handler:function(){this.isCollpaseShow()},deep:!0}},mounted:function(){var t=this;this.loadUserInfo(),window.addEventListener("resize",(function(){t.isCollpaseShow()}),!1)},methods:{loadUserInfo:function(){var t=this;this.loadState="loading",window.onLoginInfoLoaded&&window.onLoginInfoLoaded((function(e){t.userInfo=e,e.isLogin?t.getTimeline(!0):t.getTimeline()}))},getTimeline:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadState="loading";var i=[A({url:"//bangumi.bilibili.com/api/timeline_v2_".concat(this.type)})];e&&i.push(A({method:"get",url:"pgc/web/follow/list",params:{season_type:0===this.PAGE_TYPE?1:4,ps:12,pn:1}})),Promise.all(i).then((function(e){var i=e[0];200===i.status&&i.data&&0===i.data.code?(t.data=i.data.result||[],t.loadState="loaded"):t.loadState="error";var n=e[1]||{};200===n.status&&n.data&&0===n.data.code?(t.list=n.data.result||[],t.loadState="loaded"):t.loadState="error"}))},maxLength:function(){return window.innerWidth>=1400?15:12},isCollpaseShow:function(){this.data.length>this.maxLength()?this.collapseShow=!0:this.collapseShow=!1},changeExpand:function(){this.expand=!this.expand,this.$root.$emit("expand",this.expand),this.expand?window.scrollY>this.$refs.timeline.offsetTop&&(document.documentElement.scrollTop=this.$refs.timeline.offsetTop-115):this.reportMore()},reportTimeline:function(){X({click:this.reportName.timeline})},reportMore:function(){X({click:this.reportName.more})},reportItem:function(t,e){X({click:this.reportName.item},{title:t.title,url:W(t.link),ord_id:e+1})},reportClickMore:function(){X({click:"my_follow_more"})}},components:{TimelineItem:Bt,followItem:Rt,Loading:it,AdFloor:pt}},Qt=(i(125),Object(P.a)(Ht,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block-area block-timeline"},[i("div",{class:"timeline-wrapper "+(t.list.length?"block-left":"fix-width")},[i("div",{staticClass:"timeline-title"},[i("div",{staticClass:"headline clearfix"},[i("h4",{staticClass:"name"},[t._v("最近更新")]),t._v(" "),i("a",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"new_timeline"},expression:"{\n                        name: 'new_timeline'\n                    }"}],staticClass:"timeline-more",attrs:{href:t.moreLink,target:"_blank"},on:{click:t.reportTimeline}},[t._v("\n                    新番时间表\n                    "),i("i",{staticClass:"b-icon b-icon-arrow-red-r"})])])]),t._v(" "),i("div",{ref:"timeline",staticClass:"timeline-box clearfix"},[i("loading",{attrs:{data:t.data,state:t.loadState},on:{reload:t.getTimeline}}),t._v(" "),i("ul",{style:t.styleSrt},t._l(t.data,(function(e,n){return i("TimelineItem",{key:n,attrs:{item:e,reportShowName:"new",index:n},on:{report:function(i){return t.reportItem(e,n)}}})})),1),t._v(" "),t.collapseShow?i("div",{staticClass:"timeline-toggle-block bgmbox-bottom"},[i("div",{staticClass:"timeline-toggle-btn",on:{click:t.changeExpand}},[i("span",[t._v(t._s(t.expand?"全部":"收起"))]),t._v(" "),i("i",{class:[{"timeline-icon-toggle-down":this.expand},{"timeline-icon-toggle-up":!this.expand}]})])]):t._e()],1)]),t._v(" "),t.list.length?i("div",{staticClass:"block-right"},[i("section",{staticClass:"follow-wrapper"},[i("div",{staticClass:"follow-head"},[i("h3",[t._v("我的追番")]),t._v(" "),i("a",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:"my_follow_more"},expression:"{\n                        name: 'my_follow_more'\n                    }"}],staticClass:"follow-more",attrs:{href:t.followMoreBtnLink,target:"_blank"},on:{click:t.reportClickMore}},[t._v("更多"),i("i",{staticClass:"icon"})])]),t._v(" "),i("div",{staticClass:"follow-list",class:{reduce:this.collapseShow&&this.expand}},t._l(t.list,(function(t,e){return i("follow-item",{key:e,attrs:{data:t}})})),1)])]):t._e(),t._v(" "),i("ad-floor",{attrs:{"ad-loc":t.hasAd}})],1)}),[],!1,null,null,null).exports),zt={data:function(){return{indexGif:-1,currentIndex:0}},computed:c()({},Object(o.b)(["HAND_PICK_RECOM"]),{handPickRecom:function(){return this.indexGif=C(this.HAND_PICK_RECOM),this.HAND_PICK_RECOM}}),methods:{reportBanner:function(t,e){X({click:"topic"},{title:t.title,url:W(t.link),ord_id:e+1})},changeIndex:function(t){t>this.HAND_PICK_RECOM.length-1?this.currentIndex=0:this.currentIndex=t}},components:{Carousel:Q,CarouselItem:$,Loading:it}},$t=(i(126),Object(P.a)(zt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"handpick-right-module"},[t._m(0),t._v(" "),t.handPickRecom.length>0?i("carousel",{attrs:{list:t.handPickRecom,duration:5e3,"thumb-slide":!1},on:{report:t.reportBanner,"index-change":t.changeIndex}},[t._l(t.handPickRecom,(function(e,n){return i("carousel-item",{key:n,attrs:{slot:"images",index:n,item:e,gif:t.indexGif===n,"img-w":260,"img-h":148,reportShowName:"topic",cut:""},on:{report:function(i){return t.reportBanner(e,n)}},slot:"images"})})),t._v(" "),t.handPickRecom.length>0?i("carousel-item",{attrs:{slot:"images",item:t.handPickRecom[0],gif:0===t.indexGif},on:{report:function(e){return t.reportBanner(t.handPickRecom[0],0)}},slot:"images"}):t._e(),t._v(" "),t._l(t.handPickRecom,(function(e,n){return i("div",{key:n,class:["carousel-thumb",{cursor:n===t.currentIndex,hidden:t.handPickRecom.length<=1}],attrs:{slot:"thumbs"},slot:"thumbs"})}))],2):t._e(),t._v(" "),i("loading",{attrs:{state:"loaded",data:t.handPickRecom}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block-header"},[e("h4",{staticClass:"block-title"},[this._v("话题精选")])])}],!1,null,null,null).exports),Ft={sm:{width:260,height:150},md:{width:260,height:270},lg:{width:340,height:320},brand:{width:260,height:150}},Gt={props:{data:Object,tag:String,lazy:{type:Boolean,default:!0},showBv:{type:Boolean,default:!1},index:Number,reportShowName:String,spmid:String},computed:{size:function(){return Ft[this.tag]||{}},ratio:function(){return this.hd?Object(x.drp)():2},cover:function(){return Object(x.webpImg)(this.data.img,Math.ceil(this.size.width*this.ratio),Math.ceil(this.size.height*this.ratio))},link:function(){var t=this.showBv&&this.data.blink?this.data.blink:this.data.link;return Object(x.addFromSpmid)(t,this.spmid)}},methods:{clickHandler:function(){this.$emit("report")}},components:{BiliImg:lt}},Xt=(i(127),Object(P.a)(Gt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:t.reportShowName,data:{ord_id:(t.index||0)+1,title:t.data.title,url:t.link}},expression:"{\n    name: reportShowName,\n    data: {\n        ord_id: (index || 0) + 1,\n        title: data.title,\n        url: link\n    }}"}],staticClass:"recom-item",class:t.tag,on:{click:t.clickHandler}},[i("a",{attrs:{href:t.link,target:"_blank",title:t.data.title}},[t.lazy?i("bili-img",{attrs:{src:t.data.img,width:t.size.width,height:t.size.height,alt:t.data.title}}):t._e(),t._v(" "),t.lazy?t._e():i("img",{attrs:{src:t.cover,alt:t.data.title}})],1)])}),[],!1,null,null,null).exports),Wt={name:"CinemaMovieRecomRight",data:function(){return{fetchState:"loaded",fetchData:[]}},props:{config:{type:Object,required:!0},exposureName:{type:String,default:""}},computed:c()({},Object(o.b)(["HOT_RECOM_RIGHT","SHOW_BV"]),{ssrData:function(){return this.config.renderType&&"ssr"===this.config.renderType?this.HOT_RECOM_RIGHT:this.fetchData}}),mounted:function(){this.config.renderType||this.config.lazy||this.getActiveData()},methods:{style:function(t){return this.config.marginTop&&0===t?{marginTop:"".concat(this.config.marginTop,"px")}:{}},getActiveData:function(){var t=this;this.fetchState="loading",A({method:"get",url:"pgc/operation/api/static",params:{position_id:this.config.tid}}).then((function(e){if(200!==e.status)return t.fetchState="error",!1;var i=e.data;if(i&&0===i.code){if(i.result&&i.result.length>0){var n=t.config.total||2;i.result.length>n?t.fetchData=i.result.slice(0,n):t.fetchData=i.result}else t.fetchData={};t.fetchState="loaded"}else t.fetchState="error"}))},reportItem:function(t,e){var i=this.config.hasHuge?2:1;X({click:this.config.recomReportName},{season_id:t.season_id||t.index_value,title:t.title,url:W(t.link),ord_id:e+i})},lazyHander:function(){this.config.lazy&&!this.config.renderType&&this.getActiveData()}},components:{RecomItem:Xt,Loading:it}},Yt=(i(128),Object(P.a)(Wt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.lazyHander,id:t.config.tid},expression:"{handler: lazyHander, id: config.tid}"}],class:"recom-right-module-wrapper content-"+t.config.tag},[t._l(t.ssrData,(function(e,n){return i("ul",{key:n,staticClass:"recom-right-module",style:t.style(n)},[i("recom-item",{directives:[{name:"exposure",rawName:"v-exposure",value:{name:t.exposureName,data:{season_id:e.season_id||e.index_value,ord_id:n+(t.config.hasHuge?2:1),title:e.title,url:e.link}},expression:"{\n                name: exposureName, \n                data: {\n                    season_id: item.season_id || item.index_value,\n                    ord_id: index + (config.hasHuge ? 2 : 1),\n                    title: item.title,\n                    url: item.link\n                }\n            }"}],attrs:{tag:t.config.tag,data:e,showBv:t.SHOW_BV},on:{report:function(i){return t.reportItem(e,n)}}})],1)})),t._v(" "),t.config.renderType&&0!==t.HOT_RECOM_RIGHT.length?t._e():i("loading",{attrs:{state:t.fetchState,data:t.fetchData},on:{reload:t.getActiveData}})],2)}),[],!1,null,null,null).exports),qt={data:function(){return{shown:!1,scrollHandler:function(){}}},mounted:function(){var t=this;this.scrollHandler=window.funcThrottle(200,!1,(function(){t.shown=T()>170})),window.addEventListener("scroll",this.scrollHandler,!!window.supportPassive&&{passive:!1})},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollHandler,!!window.supportPassive&&{passive:!1})},methods:{backUp:function(){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;void 0!==window.animationScrollTimer&&(window.cancelAnimationFrame(window.animationScrollTimer),window.animationScrollTimer=void 0);var i=T(),n=Math.ceil(Math.abs((t-i)/e));window.animationScrollTimer=t>i?window.requestAnimationFrame((function e(){(i+=n)>t&&(i=t),0===window.document.body.scrollTop&&i!==t?window.document.documentElement.scrollTop=i:i!==t&&(window.document.body.scrollTop=i),i===t?(window.document.documentElement.scrollTop=window.document.body.scrollTop=t,window.cancelAnimationFrame(window.animationScrollTimer),window.animationScrollTimer=void 0):window.animationScrollTimer=window.requestAnimationFrame(e)})):window.requestAnimationFrame((function e(){(i-=n)<t&&(i=t),0===window.document.body.scrollTop&&i!==t?window.document.documentElement.scrollTop=i:i!==t&&(window.document.body.scrollTop=i),i===t?(window.document.documentElement.scrollTop=window.document.body.scrollTop=t,window.cancelAnimationFrame(window.animationScrollTimer),window.animationScrollTimer=void 0):window.animationScrollTimer=window.requestAnimationFrame(e)}))}()}}},Kt=(i(129),Object(P.a)(qt,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.shown,expression:"shown"}],staticClass:"back-top-tools"},[e("div",{staticClass:"tool-item backup iconfont icon-up",attrs:{title:"返回顶部"},on:{click:this.backUp}},[e("svg",{staticClass:"top-icon",attrs:{width:"18px",height:"20px",viewBox:"0 0 8 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",{attrs:{id:"web",stroke:"none","stroke-width":"4",fill:"none","fill-rule":"evenodd"}},[e("g",{attrs:{transform:"translate(-805.000000, -1089.000000)",fill:"#979797","fill-rule":"nonzero"}},[e("g",{attrs:{transform:"translate(82.000000, 1083.000000)"}},[e("g",{attrs:{transform:"translate(648.000000, 0.000000)"}},[e("polygon",{attrs:{id:"poly",points:"81.2600536 12.5 75.6621377 17.6314229 76.3378623 18.3685771 82.7399464 12.5 76.3378623 6.63142293 75.6621377 7.36857707"}})])])])])])])])])}),[],!1,null,null,null).exports),Zt={asyncData:function(t){var e=t.store,i=(t.route,t.context),n=0;0===(n=0===window.location.pathname.indexOf("/anime")?0:1)?(window.bid=13,window.setTid&&window.setTid(13)):(window.bid=167,window.setTid&&window.setTid(167)),e.dispatch({type:"FETCH_PAGE_TYPE",pageType:n});var a=e.dispatch({type:"FETCH_CAROUSEL",protocol:i.protocol,headers:i.headers,cookies:i.cookie,wid:0===n?531:532}),o=e.dispatch({type:"FETCH_HAND_PICK",protocol:i.protocol,headers:i.headers,cookies:i.cookie,wid:0===n?520:521}),r=e.dispatch({type:"FETCH_HAND_PICK_RECOM",protocol:i.protocol,headers:i.headers,cookies:i.cookie,wid:0===n?522:519});return Promise.all([a,o,r])},created:function(){var t=this;R.$on("SHOW_VIDEO_CARD",(function(e){t.viewVideoCard="video"===e.type,t.viewBangumiCard="bangumi"===e.type,t.videoCardData=e.data,t.videoCardPos="left:"+e.x+"px; top:"+e.y+"px;"})),R.$on("HIDE_VIDEO_CARD",(function(e){"video"===e.type?t.viewVideoCard=!1:"bangumi"===e.type&&(t.viewBangumiCard=!1)}))},data:function(){return{viewVideoCard:!1,viewBangumiCard:!1,videoCardData:{},videoCardPos:"",dynamicData:[],pushData:0,state:"loading",asyncBlock:[],pageId:{anime:13,guochuang:167},handpickConfig:{left:{component:Ot,conf:{},spacingShort:!0,height:192},right:[{component:$t,conf:{data:[],lazy:!1}}],alignRight:!0},timelineReport:{item:"new",timeline:"new_timeline",more:"new_more"}}},computed:c()({},Object(o.b)(["VER","PAGE_TYPE","CAROUSEL_LIST","HOT_RECOM_RIGHT","TID","SHOW_BV"]),{tid:function(){return 0===this.PAGE_TYPE?this.pageId.anime:this.pageId.guochuang},adCarouselId:function(){return mt[this.tid].locid}}),mounted:function(){this.asyncBlock=0===this.PAGE_TYPE?te:ee,window.__BILI_CONFIG__&&this.$store.dispatch({type:"CHANGE_SHOW_BV",showBv:window.__BILI_CONFIG__.show_bv}),this.getAdCarousel(),this.$store.dispatch({type:"FETCH_TID",data:this.tid})},methods:{getHotLink:function(){var t=this;A({url:"pgc/operation/api/static",params:{position_id:this.hotLink.id}}).then((function(e){200===e.status&&e.data&&0===e.data.code&&e.data.result&&e.data.result.length>0&&(t.hotLink.data=e.data.result)}))},reportBanner:function(t,e){X({click:"banner"},{title:t.title,url:W(t.link),ord_id:e+1})},getAdCarousel:function(){var t=this;A({url:"x/web-show/res/loc",params:{pf:0,id:this.adCarouselId}}).then((function(e){if(200===e.status&&e.data&&0===e.data.code&&e.data.data){var i={},n={};for(var a in e.data)if(2===(n=e.data[a]).pos_num&&n.is_ad_loc)if(""!==n.url){(i=n).img=n.pic,i.link=n.url,i.simg=n.litpic,i.title=n.name,i.locId=t.adCarouselId;var o=t.CAROUSEL_LIST;o.splice(1,0,i),t.$store.dispatch({type:"AJAX_FETCH_CAROUSEL",data:o})}else if(t.CAROUSEL_LIST.length>1){var r=t.CAROUSEL_LIST;n.pic=r[1].img,n.url=r[1].link,n.litpic=r[1].simg,n.title=n.name=r[1].title,n.locId=t.adCarouselId,Object.assign(r[1],n),t.$store.dispatch({type:"AJAX_FETCH_CAROUSEL",data:r})}}}))}},components:{BreadCrumb:V,Carousel:Q,CarouselItem:$,CarouselThumb:G,BlockArea:vt,NewStat:ht,RecomRight:St,VideoInfo:Et,HotRecom:Ot,Timeline:Qt,HandpickCarousel:$t,IndexEntry:K,GoTop:Kt}},te=[{left:{component:Ot,conf:{},spacingShort:!0,height:192},right:[{component:$t,conf:{data:[],lazy:!1}}],alignRight:!0},{left:{component:ht,conf:{title:"连载动画",pageSize:15,lazy:!0,vType:"video",tid:33,morelink:"//www.bilibili.com/v/anime/serial/"},height:539},right:[{component:Mt,title:"热门",conf:{lazy:!1,tid:33,type:"bangumi",max:10,show:3,showTab:!1,urlPrefix:"anime/serial"}}],alignRight:!1},{left:{component:ht,conf:{title:"完结动画",pageSize:20,lazy:!0,vType:"video",tid:32,morelink:"//www.bilibili.com/v/anime/finish/"},height:707},right:[{component:St,title:"完结推荐",conf:{lazy:!1,data:[],recomId:36,recomReportName:"finished",reportShowName:"finished"}},{component:It,title:"热门",conf:{lazy:!1,tid:32,type:"bangumi",max:8,show:3,showTab:!1}}],alignRight:!1,hasAd:2},{left:{component:ht,conf:{title:"资讯",pageSize:15,lazy:!0,vType:"video",tid:51,morelink:"//www.bilibili.com/v/anime/information/"},height:539},right:[{component:Mt,title:"热门",conf:{lazy:!1,tid:51,type:"bangumi",max:10,show:3,showTab:!1,urlPrefix:"anime/information"}}],alignRight:!1},{left:{component:ht,conf:{title:"官方延伸",pageSize:15,lazy:!0,vType:"video",tid:152,morelink:"//www.bilibili.com/v/anime/offical/"},height:539},right:[{component:Mt,title:"热门",conf:{lazy:!1,tid:152,type:"bangumi",max:10,show:3,showTab:!1,urlPrefix:"anime/offical"}}],alignRight:!1,hasAd:3}],ee=[{left:{component:ht,conf:{title:"国产动画",pageSize:15,lazy:!0,vType:"video",tid:153,morelink:"//www.bilibili.com/v/guochuang/chinese/",reportShowName:"subarea_video"},height:539},right:[{component:Mt,title:"热门",conf:{lazy:!1,tid:153,type:"guochuang",max:10,show:3,showTab:!1,duration:7,showDropdown:!1,urlPrefix:"guochuang/chinese"}}],alignRight:!1},{left:{component:ht,conf:{title:"国产原创相关",pageSize:15,lazy:!0,vType:"video",tid:168,morelink:"//www.bilibili.com/v/guochuang/original/"},height:539},right:[{component:Mt,title:"热门",conf:{lazy:!1,tid:168,type:"guochuang",max:10,show:3,showTab:!1,urlPrefix:"guochuang/original"}}],alignRight:!1,hasAd:2},{left:{component:ht,conf:{title:"布袋戏",pageSize:15,lazy:!0,vType:"video",tid:169,morelink:"//www.bilibili.com/v/guochuang/puppetry/"},height:539},right:[{component:Mt,title:"热门",conf:{lazy:!1,tid:169,type:"guochuang",max:10,show:3,showTab:!1,duration:7,showDropdown:!1,urlPrefix:"guochuang/puppetry"}}],alignRight:!1},{left:{component:ht,conf:{title:"动态漫·广播剧",pageSize:15,lazy:!0,vType:"video",tid:195,morelink:"//www.bilibili.com/v/guochuang/motioncomic/"},height:539},right:[{component:Mt,title:"热门",conf:{lazy:!1,tid:195,type:"guochuang",max:7,show:1,showTab:!1,urlPrefix:"guochuang/motioncomic"}},{component:Yt,cls:"dtm-recom",conf:{lazy:!0,tag:"sm",data:[],tid:533,total:1,recomReportName:"subarea_static"}}],alignRight:!1},{left:{component:ht,conf:{title:"资讯",pageSize:10,lazy:!0,vType:"video",tid:170,morelink:"//www.bilibili.com/v/guochuang/information/"},height:371},right:[{component:Mt,title:"热门",conf:{lazy:!1,tid:170,type:"guochuang",max:5,show:3,showTab:!1,urlPrefix:"guochuang/information"}}],alignRight:!1,hasAd:3}],ie=Zt,ne=(i(130),Object(P.a)(ie,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cinema-home-wrapper",attrs:{id:"app"}},[i("BreadCrumb"),t._v(" "),i("carousel",{attrs:{list:t.CAROUSEL_LIST,duration:4e3,"data-loc-id":t.adCarouselId,showBv:t.SHOW_BV},on:{report:t.reportBanner}},[t._l(t.CAROUSEL_LIST,(function(e,n){return i("carousel-item",{key:n,attrs:{slot:"images",index:n,item:e,"data-loc-id":t.adCarouselId,showBv:t.SHOW_BV,reportShowName:"banner"},on:{report:function(i){return t.reportBanner(e,n)}},slot:"images"})})),t._v(" "),t.CAROUSEL_LIST.length>0?i("carousel-item",{attrs:{slot:"images",item:t.CAROUSEL_LIST[0],"data-loc-id":t.adCarouselId,showBv:t.SHOW_BV},on:{report:function(e){return t.reportBanner(t.CAROUSEL_LIST[0],0)}},slot:"images"}):t._e(),t._v(" "),t._l(t.CAROUSEL_LIST,(function(e,n){return i("carousel-thumb",{key:n,attrs:{slot:"thumbs",item:e,"img-w":50,"img-h":38,"data-loc-id":t.adCarouselId,showBv:t.SHOW_BV},on:{report:function(i){return t.reportBanner(e,n)}},slot:"thumbs"})}))],2),t._v(" "),0!==t.PAGE_TYPE?i("BlockArea",{attrs:{config:t.handpickConfig}}):t._e(),t._v(" "),i("timeline",{attrs:{type:0===t.PAGE_TYPE?"global":"cn","has-ad":1,"report-name":t.timelineReport}}),t._v(" "),i("IndexEntry",{attrs:{"ss-type":0===t.PAGE_TYPE?1:4,"block-style":{marginBottom:"40px"},spmid:0===t.PAGE_TYPE?"666.4":"666.5"}}),t._v(" "),t._l(t.asyncBlock,(function(t,e){return i("BlockArea",{key:e,attrs:{config:t}})})),t._v(" "),t.viewVideoCard?i("video-info",{style:t.videoCardPos,attrs:{data:t.videoCardData}}):t._e(),t._v(" "),i("go-top")],2)}),[],!1,null,null,null).exports),ae=["scroll","resize","load"];function oe(t,e){var i,n;for(i=0,n=t.length;i<n;++i)if(t[i].el===e)return i;return-1}var re={install:function(t,e){var i=[],n=[],a=e||{preload:0};function o(t){t.loading||t.loaded||!g(t.el,a.preload)||function(t){if(t.loading||t.loaded)return;t.loading=!0;var e=new Image;e.onload=function(){t.el.src=t.src,t.loading=!1,t.loaded=!0,t.el.setAttribute("lazy","loaded")},e.onerror=function(){t.loading=!1,t.loaded=!0,t.el.src=t.defaultImg},e.src=t.src}(t)}function r(t){!t.loaded&&g(t.el,a.preload)&&(t.handler.call(),t.loaded=!0)}function l(e,a){var l=s()(e);"string"===l?function(e,n){var a=oe(i,n),r=n.getAttribute("src"),s={el:n,src:e,loading:!1,loaded:!1,defaultImg:r};-1!==a?i[a]=s:i.push(s),t.nextTick((function(){o(s)}))}(e,a):"object"===l&&function(e,i){var a=oe(n,i),o={el:i,id:e.id,loaded:!1,handler:e.handler||function(){}};-1!==a?n[a].id!==e.id&&(n[a]=o,t.nextTick((function(){r(o)}))):(n.push(o),t.nextTick((function(){r(o)})))}(e,a)}t.directive("lazy",{bind:function(t,e){l(e.value,t)},update:function(t,e){l(e.value,t)},componentUpdated:function(t,e){},unbind:function(t,e){var i=e.value;if("object"===s()(i)){var a=oe(n,t);-1!==a&&n.splice(a,1)}}});var c=y((function(){!function(){var t,e;for(t=0,e=i.length;t<e;++t)o(i[t])}(),function(){var t,e;for(t=0,e=n.length;t<e;++t)r(n[t])}()}),200,100);if("undefined"!=typeof window)if(a.selector)!function t(e){var i=window.document.querySelector(e);if(i)for(var n=0;n<ae.length;++n)i.addEventListener(ae[n],c);else window.setTimeout((function(){t(e)}),500)}(a.selector);else for(var d=0;d<ae.length;++d)window.addEventListener(ae[d],c);R.$on("updateFloor",(function(){c()})),R.$on("appMounted",(function(){c()})),"undefined"!=typeof window&&(window.triggerLazyProcess=c)}},se=["scroll","resize","load"];function le(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendApidataData&&window.BiliCm.Base.sendApidataData(t,e)}function ce(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendClickData&&window.BiliCm.Base.sendClickData(t,e)}function de(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendShowData&&window.BiliCm.Base.sendShowData(t,e)}function ue(t,e){var i,n;t.setAttribute("href",p((i=e.data,n=e.id,(window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.getSyncUrl?window.BiliCm.Base.getSyncUrl(i,n):"")||""))),t.setAttribute("data-target-url",e.data.url)}var he={install:function(t,e){var i,n,a={},o={},r=[];for(var s in mt)mt[s].locid&&r.push(mt[s].locid);t.directive("ad",{bind:function(t,e){var i=e.value;if(i.data&&i.data.is_ad_loc){le(i.data,i.id),ue(t,i),t.addEventListener("click",(function(){ce(i.data,i.id)}));var n=i.data.id||i.data.src_id;-1===r.indexOf(i.id)&&(a[n]={el:t,data:i.data,id:i.id})}},update:function(t,e){var i=e.value;if(i.data&&i.data.is_ad_loc){le(i.data,i.id),ue(t,i),t.addEventListener("click",(function(){ce(i.data,i.id)}));var n=i.data.id||i.data.src_id;-1===r.indexOf(i.id)&&(a[n]={el:t,data:i.data,id:i.id})}},componentUpdated:function(t,e){},unbind:function(t,e){}});var l=y((function(t){clearTimeout(i),i=setTimeout((function(){!function(){var t,e,i,n,r=Object.keys(a);for(t=0,e=r.length;t<e;++t)i=r[t],n=window.$(a[i].el).find(".common-lazy-img").height(),g(a[i].el,n/2*-1)&&(de(a[i].data,a[i].id),o[i]=a[i],delete a[i])}(),clearTimeout(n),n=setTimeout((function(){!function(){var t,e,i,n,a,r,s=Object.keys(o);for(t=0,e=s.length;t<e;++t)i=s[t],n=window.$(o[i].el).find(".common-lazy-img").height(),g(o[i].el,n/2*-1)&&(a=o[i].data,r=o[i].id,window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendStrictShowData&&window.BiliCm.Base.sendStrictShowData(a,r),delete o[i])}()}),1e3)}),201)}),200,100);if("undefined"!=typeof window)for(var c=0;c<se.length;++c)window.addEventListener(se[c],l);R.$on("slideShow",(function(t){t.data.is_ad_loc&&de(t.data,t.id)})),R.$on("clickCursor",(function(t){ce(t.data,t.id)}))}};i(131);n.default.use(re,{preload:100}),n.default.use(he),window.funcThrottle=i(132),n.default.use(a.a),n.default.use(o.a);var me,fe,pe,we,ve=i(62),ge=i.n(ve);n.default.prototype.$xss=ge.a,n.default.use(L.exposure,{intersection:{threshold:.5}}),window.iris&&window.iris({app_key:"web_ogv",group:"bangumi",autoPref:!0,exclude:[],sample:{net:.1,custom:1},rateLimit:500,env:"production"}),n.default.use(L.exposure,{intersection:{threshold:.5}}),Object.assign||Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},writable:!0,configurable:!0}),Object.keys||(Object.keys=(me=Object.prototype.hasOwnProperty,fe=!{toString:null}.propertyIsEnumerable("toString"),we=(pe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==s()(t)&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on non-object");var e=[];for(var i in t)me.call(t,i)&&e.push(i);if(fe)for(var n=0;n<we;n++)me.call(t,pe[n])&&e.push(pe[n]);return e})),Array.includes||Object.defineProperty(Array,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var a,o,r=0|e,s=Math.max(r>=0?r:n-Math.abs(r),0);s<n;){if((a=i[s])===(o=t)||"number"==typeof a&&"number"==typeof o&&isNaN(a)&&isNaN(o))return!0;s++}return!1}}),Array.prototype.filter||(Array.prototype.filter=function(t,e){if("Function"!=typeof t&&"function"!=typeof t||!this)throw new TypeError;var i=this.length>>>0,n=new Array(i),a=this,o=0,r=-1;if(void 0===e)for(;++r!==i;)r in this&&t(a[r],r,a)&&(n[o++]=a[r]);else for(;++r!==i;)r in this&&t.call(e,a[r],r,a)&&(n[o++]=a[r]);return n.length=o,n}),Array.prototype.some||(Array.prototype.some=function(t){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,n=arguments.length>=2?arguments[1]:void 0,a=0;a<i;a++)if(a in e&&t.call(n,e[a],a,e))return!0;return!1}),n.default.mixin({beforeRouteUpdate:function(t,e,i){var n=this.$options.asyncData;n?n({store:this.$store,route:t}).then(i).catch(i):i()}});var ye,_e,Te,be=(_e=new o.a.Store(O),Te=new a.a({mode:"history",routes:[{name:"anime-home",path:"/anime",component:ne},{name:"guochuang-home",path:"/guochuang",component:ne}]}),{app:new n.default({store:_e,router:Te,ssrContext:ye,render:function(t){return t(ne)}}),router:Te,store:_e}),Ce=be.app,Me=be.router,Ue=be.store;if(window.__INITIAL_STATE__)Ue.replaceState(window.__INITIAL_STATE__);else{var Ie=Me.getMatchedComponents();Promise.all(Ie.map((function(t){return t.asyncData&&t.asyncData({store:Ue,route:Me.currentRoute,context:{ua:window?window.navigator.userAgent:"",path:window.location.href}})}))).then((function(){Ce.$mount("#client-app")})).catch()}Me.onReady((function(){Me.beforeResolve((function(t,e,i){var n=Me.getMatchedComponents(t),a=Me.getMatchedComponents(e),o=!1,r=n.filter((function(t,e){return o||(o=a[e]!==t)}));r.length?Promise.all(r.map((function(e){if(e.asyncData)return e.asyncData({store:Ue,route:t,context:{ua:window?window.navigator.userAgent:"",path:window.location.href}})}))).then((function(){i()})).catch(i):i()})),window&&window.document.getElementById("app")&&Ce.$mount("#app")}))}]);
//# sourceMappingURL=bangumi-home.0658145d00be2c0e457c8c8abc2700694fbd5613.js.map