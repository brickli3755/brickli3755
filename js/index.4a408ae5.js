var mi=Object.defineProperty,_i=Object.defineProperties;var hi=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols;var wi=Object.prototype.hasOwnProperty,vi=Object.prototype.propertyIsEnumerable;var Re=(e,i,a)=>i in e?mi(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,G=(e,i)=>{for(var a in i||(i={}))wi.call(i,a)&&Re(e,a,i[a]);if(Ie)for(var a of Ie(i))vi.call(i,a)&&Re(e,a,i[a]);return e},ke=(e,i)=>_i(e,hi(i));import{d as S,r as O,w as L,o as k,c as y,a as v,b as U,e as $,h as E,f as fe,g as N,i as J,N as ki,j as fi,k as bi,l as yi,m as gi,S as Ci,n as $i,p as be,q as pe,s as me,t as Ae,u as ye,v as g,x as w,y as b,T as _e,z as X,A as oe,F as I,B as A,C as T,D as re,E as he,G as we,H as Pe,I as Li,J as se,K as Ii,L as Ri,M as Y,O as z,P as ee,Q as Ai,R as Pi,U as Si,V as Se,W as Ei,X as Ti,Y as Ee,Z as Vi,_ as Ni,$ as Bi,a0 as Hi,a1 as Fi,a2 as Di,a3 as Oi,a4 as Wi,a5 as Mi,a6 as Te,a7 as Ve,a8 as Ne,a9 as Ui,aa as Be,ab as He,ac as Fe,ad as De,ae as Oe,af as We,ag as Me,ah as Ue,ai as je,aj as Ge,ak as Je,al as ze,am as qe,an as Ke,ao as Qe,ap as Xe,aq as Ye,ar as Ze,as as xe,at as ji}from"./vendor.fca2862d.js";const Gi=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const o of d.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerpolicy&&(d.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?d.credentials="include":c.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=a(c);fetch(c.href,d)}};Gi();var B={row:{type:Object,required:!0},ssr:{type:Boolean,default:!1}};var P=(e,i)=>{for(const[a,r]of i)e[a]=r;return e};const Ji=S({name:"EvaBanner",props:ke(G({},B),{data:{type:Object,default:void 0}})}),zi={key:0,class:"eva-banner"},qi=["data-loc-id"],Ki=v("img",{class:"icon",src:"https://s1.hdslb.com/bfs/static/jinkela/long/images/eva.png",importance:"low",loading:"lazy"},null,-1),Qi=["src"],Xi={key:1,class:"eva-banner-shim"},Yi=["data-loc-id"];function Zi(e,i,a,r,c,d){const o=O("report");return e.data&&e.data.url?L((k(),y("div",zi,[L(v("a",{"data-loc-id":e.row.ad.id},[Ki,v("img",{class:"core",src:e.data.pic,importance:"low",loading:"lazy"},null,8,Qi)],8,qi),[[o,{data:e.data,id:e.row.ad.id},"show",{ad:!0,strict:!0}],[o,{data:e.data,id:e.row.ad.id},"click",{ad:!0,relink:!0}]])],512)),[[o,{type:"appear",c:"eva_banner",d:"all",e:"show",msg:{url:encodeURIComponent(e.data.url||""),src_id:e.data.src_id,resources_id:e.row.ad.id}},"show"],[o,{type:"click",c:"eva_banner",d:"all",e:"click",msg:{url:encodeURIComponent(e.data.url||""),src_id:e.data.src_id,resources_id:e.row.ad.id}},"click"]]):e.data?(k(),y("div",Xi,[L(v("div",{"data-loc-id":e.row.ad.id},null,8,Yi),[[o,{data:e.data,id:e.row.ad.id},"show",{ad:!0,strict:!0}]])])):U("",!0)}var xi=P(Ji,[["render",Zi]]);function ea(){const e=$(E.getConfig("serverBuvid")),i=$("LOADING"),a=$("LOADING"),r="is-show-trial-version-dialog";return{isShowGuideDialog:i,isShowTipsGuide:a,checkIsShowGuide:()=>{if(!e.value){J.set(r,"VIEWED");return}J.get(r)!=="VIEWED"&&(i.value="UN_VIEWED",J.set(r,"VIEWED"),N({c:"new_homepage_invitation_pop_up",d:"0",e:"show",type:"appear"}))},experienceNowHandle:()=>{i.value="VIEWED",a.value="UN_VIEWED",fe.emit("guideDialogStatus",a.value),N({c:"new_homepage_invitation_pop_up",d:"view_now",e:"click",type:"click"}),setTimeout(()=>{a.value="VIEWED",fe.emit("guideDialogStatus",a.value)},9e3)},clickCloseGuideTips:()=>{a.value="VIEWED"}}}const ei=[{id:-4,sidebar:!1,class:"bili-grid short-margin grid-anchor",main:{type:"RecommendedSwipe",params:{id:4694}},aside:{type:"RecommendedList"}},{id:-2,sidebar:!1,class:"bili-grid",main:{type:"EvaCardList",head:{name:"\u63A8\u5E7F"},params:{id:34}}},{id:-1,sidebar:!1,class:"bili-grid no-margin",main:{type:"BattleArea",head:{name:"\u8D5B\u4E8B",link:"https://www.bilibili.com/v/game/match/"},params:{id:3449}}},{id:1,sidebar:!0,class:"bili-grid",main:{type:"LiveCardList",head:{name:"\u76F4\u64AD",link:"https://live.bilibili.com/"}},aside:{type:"LiveRankList"}},{id:8,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u52A8\u753B",link:"https://www.bilibili.com/v/douga"},params:{rid:1}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/douga"},params:{rid:1}}},{id:2,sidebar:!0,class:"bili-grid",main:{type:"BangumiArea",head:{name:"\u756A\u5267",alias:"\u756A\u5267",link:"https://www.bilibili.com/anime/"},params:{season_type:1},bottom:{aside:{head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/bangumi",report:{name:"\u756A\u5267",id:2}},params:{season_type:1}},class:"bili-grid",main:{head:{id:-20001,name:"\u756A\u5267\u52A8\u6001",link:"https://www.bilibili.com/anime/"}}}}},{id:4,sidebar:!0,class:"bili-grid",main:{type:"GuoChuangArea",head:{name:"\u56FD\u521B",alias:"\u56FD\u4EA7\u52A8\u753B",link:"https://www.bilibili.com/guochuang/"},params:{season_type:4},extra:{aside:{head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/guochan",report:{name:"\u56FD\u521B",id:4}},params:{season_type:4}}},bottom:{class:"bili-grid",main:{type:"VideoCardList",head:{id:-40001,name:"\u56FD\u4EA7\u539F\u521B\u76F8\u5173",link:"https://www.bilibili.com/guochuang/"},params:{rid:168}},aside:{head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/guochuang"},params:{rid:168}}}}},{id:6,sidebar:!0,class:"bili-grid",main:{type:"VarietyArea",head:{name:"\u7EFC\u827A",link:"https://www.bilibili.com/variety/"}}},{id:28,sidebar:!0,class:"bili-grid",main:{type:"MangaCardList",head:{name:"\u6F2B\u753B",link:"https://manga.bilibili.com/"}},aside:{type:"MangaRankList"}},{id:9,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u97F3\u4E50",link:"https://www.bilibili.com/v/music"},params:{rid:3}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/music"},params:{rid:3}}},{id:10,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u821E\u8E48",link:"https://www.bilibili.com/v/dance"},params:{rid:129}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/dance"},params:{rid:129}}},{id:11,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u6E38\u620F",link:"https://www.bilibili.com/v/game"},params:{rid:4}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/game"},params:{rid:4}}},{id:12,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u77E5\u8BC6",link:"https://www.bilibili.com/v/knowledge"},params:{rid:36}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/knowledge"},params:{rid:36}}},{id:27,sidebar:!0,class:"bili-grid",main:{type:"CheeseCardList",head:{name:"\u8BFE\u5802",link:"https://www.bilibili.com/cheese"}},aside:{type:"CheeseRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title"}}},{id:13,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u79D1\u6280",link:"https://www.bilibili.com/v/tech"},params:{rid:188}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/tech"},params:{rid:188}}},{id:14,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u8FD0\u52A8",link:"https://www.bilibili.com/v/sports"},params:{rid:234}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/sports"},params:{rid:234}}},{id:15,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u6C7D\u8F66",link:"https://www.bilibili.com/v/car"},params:{rid:223}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/car"},params:{rid:223}}},{id:16,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u751F\u6D3B",link:"https://www.bilibili.com/v/life"},params:{rid:160}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/life"},params:{rid:160}}},{id:17,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u7F8E\u98DF",link:"https://www.bilibili.com/v/food"},params:{rid:211}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/food"},params:{rid:211}}},{id:18,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u52A8\u7269\u5708",link:"https://www.bilibili.com/v/animal"},params:{rid:217}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/animal"},params:{rid:217}}},{id:20,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u9B3C\u755C",link:"https://www.bilibili.com/v/kichiku"},params:{rid:119}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/kichiku"},params:{rid:119}}},{id:22,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u65F6\u5C1A",link:"https://www.bilibili.com/v/fashion"},params:{rid:155}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/fashion"},params:{rid:155}}},{id:21,sidebar:!0,class:"bili-grid",main:{type:"InformationArea",head:{name:"\u8D44\u8BAF",link:"https://www.bilibili.com/v/information"},params:{rid:202}}},{id:23,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u5A31\u4E50",link:"https://www.bilibili.com/v/ent"},params:{rid:5}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/ent"},params:{rid:5}}},{id:26,sidebar:!0,class:"bili-grid",main:{type:"ArticleCardList",head:{name:"\u4E13\u680F",link:"https://www.bilibili.com/read/home"}},aside:{type:"ArticleRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/read/ranking"}}},{id:3,sidebar:!0,class:"bili-grid",main:{type:"MovieCardList",head:{name:"\u7535\u5F71",link:"https://www.bilibili.com/movie/"},params:{rid:23}},aside:{type:"PgcRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/movie"},params:{season_type:2}}},{id:5,sidebar:!0,class:"bili-grid",main:{type:"MovieCardList",head:{name:"\u7535\u89C6\u5267",link:"https://www.bilibili.com/tv/"},params:{rid:11}},aside:{type:"PgcRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/tv"},params:{season_type:5}}},{id:25,sidebar:!0,class:"bili-grid",main:{type:"VideoCardList",head:{name:"\u5F71\u89C6",link:"https://www.bilibili.com/v/cinephile"},params:{rid:181}},aside:{type:"VideoRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/cinephile"},params:{rid:181}}},{id:7,sidebar:!0,class:"bili-grid",main:{type:"MovieCardList",head:{name:"\u7EAA\u5F55\u7247",link:"https://www.bilibili.com/documentary/"},params:{rid:177}},aside:{type:"PgcRankList",head:{name:"\u6392\u884C\u699C",class:"rank-title",link:"https://www.bilibili.com/v/popular/rank/documentary"},params:{season_type:3}}}],ne="index_elevator_setting",ge=0,ia=()=>ei.slice(0,ge),aa=async()=>{var p;const e=ei.slice(ge),i=e.filter(l=>l.id<0),a=e.filter(l=>l.id>=0),r=a.map(l=>l.id),c=a.length,[,d]=await E.$get("x/web-interface/index/sort",{version:1}),o=J.get(ne);(d==null?void 0:d.sort)?J.set(ne,{sort:d.sort,len:d.len}):((p=o==null?void 0:o.sort)==null?void 0:p.length)||J.set(ne,{sort:r.join(","),len:c});const{sort:m}=J.get(ne);let u=m.split(",").map(Number).filter(l=>r.indexOf(l)!==-1);if(r.length>u.length){const l=[],t=[],s=[];r.forEach((n,_)=>{u.indexOf(n)===-1?(l[_]=null,s.push(_)):t.push(_)}),u.forEach((n,_)=>{l[t[_]]=n}),l.forEach((n,_)=>{n===null&&(l[_]=r[s[_]])}),u=l}return J.set(ne,{sort:u.join(","),len:u.length}),i.concat(na(a.sort((l,t)=>u.indexOf(l.id)>u.indexOf(t.id)?1:-1)))},na=e=>{const i={0:{id:40},2:{id:42},4:{id:44}};return Object.keys(i).forEach(a=>{e[a].ad=i[a]}),e},ta=e=>{const i=e.map(r=>r.id).filter(r=>r>=0),a={sort:i.join(","),len:i.length,version:1};J.set(ne,a),E.post("x/web-interface/index/sort/set",{settings:a},{withCSRF:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})};const ii=-1,oa=S({name:"PaletteButton",components:{NDrawer:ki,PaletteChannel:fi,PaletteService:bi,PaletteSort:yi,PaletteTop:gi,SlickList:Ci,SlickItem:$i},props:{channel:{type:Array,required:!0}},emits:["update:channel"],setup(e,{emit:i}){const a=$(!1),r=$(!1),c=$(-1),d=$(ii),o=$([]),m=$(!1),u=$(!1),p=be({get(){return e.channel.filter(V=>V.sidebar)},set(V){const W=[],Q=[];e.channel.forEach((j,te)=>{j.sidebar?(W.push(null),Q.push(te)):W.push(j)}),V.forEach((j,te)=>{W[Q[te]]=j}),ta(W),i("update:channel",W)}}),l=V=>{let W=0,Q=0;for(;V&&!isNaN(V.offsetLeft)&&!isNaN(V.offsetTop);)W+=V.offsetLeft-V.scrollLeft,Q+=V.offsetTop-V.scrollTop,V=V.offsetParent;return{top:Q,left:W}},t=V=>{const W=document.getElementById(V.main.head.name),{top:Q}=l(W);window.scrollTo(0,Q),setTimeout(()=>{d.value=V.id},20)},s=(V=0)=>{const W=document.querySelectorAll(".area-anchor"),Q=document.querySelector(".grid-anchor");if(!W.length&&V<10){setTimeout(()=>{s(V+1)},1e3);return}[].forEach.call(W,j=>{j.__lazy_handler__=te=>{const ve=+j.dataset.id,pi=o.value.indexOf(ve);te?([].indexOf.call(W,j)>c.value?o.value.push(ve):o.value.unshift(ve),c.value=[].indexOf.call(W,j)):o.value.splice(pi,1),d.value=o.value.length?o.value[0]:ii},Ae.observe(j)}),Q.__lazy_handler__=j=>{r.value=!j},Ae.observe(Q)},n=V=>{N({c:"new_homepage_invitation_pop_up",d:V==="dialog"?"view_later":"back_old",e:"click",type:"click"}),ye.set("i-wanna-go-back",2,{expires:365,domain:".bilibili.com"}),window.location.reload(!0)},_=()=>{window.scrollTo(0,0)},h=()=>{J.has("SHOWED_USER_FEEDBACK")||(u.value=!0,setTimeout(f,9e3))},f=()=>{u.value=!1,J.set("SHOWED_USER_FEEDBACK",1)},{isShowGuideDialog:C,isShowTipsGuide:R,checkIsShowGuide:F,experienceNowHandle:H,clickCloseGuideTips:x}=ea();return pe(async()=>{await me(),s(),F(),h()}),{activeId:d,showTop:r,showDrawer:a,back:n,toTop:_,drag:m,click:t,sidebar:p,isShowGuideDialog:C,isShowTipsGuide:R,canShowFeedGuide:u,closeFeedGuide:f,clickCloseGuideTips:x,experienceNowHandle:H}}}),ra={class:"palette-button-outer"},sa={class:"palette-button-inner"},la={class:"palette-button-wrap"},ca=v("span",{class:"primary-btn-text"},"\u5206\u533A",-1),da=v("span",{class:"primary-btn-text"},"\u5BA2\u670D",-1),ua=v("span",{class:"primary-btn-text"},"\u9876\u90E8",-1),pa={class:"elevator"},ma={class:"elevator-head"},_a=v("span",null,"\u5206\u533A",-1),ha={class:"elevator-wrap"},wa=["onClick"],va=["textContent"],ka={key:0,class:"trial-version-wrap"},fa={class:"trial-version-dialog"},ba=v("img",{class:"tv-pic",src:"https://i0.hdslb.com/bfs/activity-plat/static/20210810/df3e2ff90b315fca2f8d24a29cb68a47/ns5VcACiLm.png",importance:"low",loading:"lazy"},null,-1),ya=v("p",{class:"title"},"\u65B0\u7248\u9996\u9875\u5185\u6D4B\u9080\u8BF7",-1),ga=v("p",{class:"sub-title"},"\u9996\u9875\u5168\u65B0\u5347\u7EA7\uFF0C\u9002\u914D\u5927\u5C4F\uFF0C\u66F4\u591A\u7CBE\u5F69\u5185\u5BB9\u63A8\u8350",-1),Ca={class:"button-footer"};function $a(e,i,a,r,c,d){const o=g("PaletteChannel"),m=g("PaletteService"),u=g("PaletteTop"),p=g("PaletteSort"),l=g("slick-item"),t=g("slick-list"),s=g("NDrawer"),n=O("report");return k(),y(I,null,[v("div",ra,[v("div",sa,[v("div",la,[w(_e,{name:"fade"},{default:b(()=>[e.canShowFeedGuide&&e.showTop?(k(),y("img",{key:0,class:"feedback-guide",src:"http://s1.hdslb.com/bfs/static/jinkela/long/bili-home/feedback-guide.png",importance:"low",loading:"lazy",alt:"\u65B0\u7248\u53CD\u9988",onClick:i[0]||(i[0]=(..._)=>e.closeFeedGuide&&e.closeFeedGuide(..._))})):U("",!0)]),_:1}),w(_e,{name:"fade"},{default:b(()=>[e.isShowTipsGuide==="UN_VIEWED"?(k(),y("img",{key:0,class:"navigation-guide",src:"https://s1.hdslb.com/bfs/static/jinkela/long/bili-home/area-guide.png",importance:"low",loading:"lazy",alt:"\u65B0\u624B\u5F15\u5BFC",onClick:i[1]||(i[1]=(..._)=>e.clickCloseGuideTips&&e.clickCloseGuideTips(..._))})):U("",!0)]),_:1}),L(v("a",{target:"_blank",href:"https://www.bilibili.com/blackboard/activity-63hE6RZRRr.html",class:X(["primary-btn feedback",{visible:e.showTop}]),onClick:i[2]||(i[2]=oe(()=>{},["stop"]))}," \u65B0\u7248\u53CD\u9988 ",2),[[n,{type:"click",c:"suspension_feedback",d:"0",e:"click"},"click"]]),L(v("div",{class:"primary-btn",onClick:i[3]||(i[3]=oe(_=>e.showDrawer=!0,["stop"]))},[w(o),ca],512),[[n,{type:"click",c:"suspension_navigation_entrance",d:"0",e:"click"},"click"]]),L(v("a",{target:"_blank",href:"https://www.bilibili.com/v/customer-service",class:"primary-btn",onClick:i[4]||(i[4]=oe(()=>{},["stop"]))},[w(m),da],512),[[n,{type:"click",c:"suspension_customer_service",d:"0",e:"click"},"click"]]),L(v("button",{class:"primary-btn go-back",onClick:i[5]||(i[5]=oe(_=>e.back("sidebar"),["stop"]))}," \u56DE\u5230\u65E7\u7248 ",512),[[n,{type:"click",c:"suspension_old_edition",d:"0",e:"click"},"click"]]),L(v("button",{class:X(["primary-btn top-btn",{visible:e.showTop}]),onClick:i[6]||(i[6]=oe((..._)=>e.toTop&&e.toTop(..._),["stop"]))},[w(u,{class:"top-icon"}),ua],2),[[n,{type:"click",c:"suspension_back_top",d:"0",e:"click"},"click"]])])])]),w(s,{show:e.showDrawer,"onUpdate:show":i[8]||(i[8]=_=>e.showDrawer=_),width:124,placement:"right"},{default:b(()=>[v("div",pa,[v("div",ma,[w(o),_a]),v("div",ha,[w(t,{list:e.sidebar,"onUpdate:list":i[7]||(i[7]=_=>e.sidebar=_),axis:"y",class:"elevator-list","press-delay":200,distance:10},{default:b(()=>[(k(!0),y(I,null,A(e.sidebar,(_,h)=>(k(),T(l,{key:_.id,index:h,class:"elevator-item"},{default:b(()=>[L(v("div",{class:X(["elevator-core",{"is-active":_.id===e.activeId}]),onClick:f=>e.click(_)},[v("span",{class:"name",textContent:re(_.main.head.name)},null,8,va),w(p,{class:"icon"})],10,wa),[[n,{type:"click",c:"suspension_navigation_entrance",d:"partition_change",e:"click",msg:{partition_name:_.main.head.name,partition_id:_.id}},"click"]])]),_:2},1032,["index"]))),128))]),_:1},8,["list"])])])]),_:1},8,["show"]),w(_e,{name:"fade"},{default:b(()=>[e.isShowGuideDialog==="UN_VIEWED"?(k(),y("div",ka,[v("div",fa,[ba,ya,ga,v("div",Ca,[v("div",{class:"button later-btn",onClick:i[9]||(i[9]=_=>e.back("dialog"))},"\u56DE\u5230\u65E7\u7248"),v("div",{class:"button try-btn",onClick:i[10]||(i[10]=(..._)=>e.experienceNowHandle&&e.experienceNowHandle(..._))}," \u7ACB\u5373\u4F53\u9A8C ")])])])):U("",!0)]),_:1})],64)}var La=P(oa,[["render",$a]]);const Ia=S({name:"RecommendedSwipe",components:{WidgetArrow:he},props:B,setup(e){const i=$(null),a=$([]),r=$(0),c=$(-1),d=$(0),o=typeof window=="undefined"?we():null,m=h=>{let f;return/^\/\//.test(h)||(f=h.replace(/http(s)?:/,"")),`${f}@.avg_color`},u=h=>{const f=h.replace("#","").split("");return parseInt(`${f[0]}${f[1]}`,16)*.299+parseInt(`${f[2]}${f[3]}`,16)*.587+parseInt(`${f[4]}${f[5]}`,16)*.114|0},p=async h=>{if(!h)return;const[f,C]=await E.$get(m(h),{},{ctx:o,preload:!0,cacheable:!0,credentials:"omit"});return f||C.code?{color:"white",gray:255}:{color:C.RGB,gray:u(C.RGB)}};return{jump:(h,f,C)=>{var F;if(!i.value)return;i.value.jump(h);const R={typeButton:1,typeRrigger:2};N({c:"promotion_card",d:"change",e:"click",type:"click"},{msg:JSON.stringify({url:encodeURIComponent(((F=f==null?void 0:f[h])==null?void 0:F.url)||""),type:C==="button"?R.typeButton:R.typeRrigger,location:h+1})})},index:r,lastIndex:c,colors:a,swiper:i,handler:async()=>{var H,x,V;const{id:h}=(H=e.row.main)==null?void 0:H.params,[f,C]=await E.$get("x/web-show/res/locs",{pf:0,ids:h},{ctx:o,preload:!0,com2co:!0,discovery:"main.web-svr.web-show"});if(f)return{result:[],no_more:!0};const R=((x=C[h])==null?void 0:x.filter(W=>!W.null_frame))||[],F=await p((V=R[0])==null?void 0:V.pic);return a.value.push(F),{result:R,no_more:!0}},switcher:(h,f)=>{c.value=r.value,r.value=h,Pe({data:f[h],id:e.row.main.params.id},!0,!1),d.value&&clearTimeout(d.value),d.value=setTimeout(()=>{d.value=0,Pe({data:f[h],id:e.row.main.params.id},!0,!0)},1e3)},getColors:async({data:h})=>{const f=h.result.map(C=>C.pic);for(let C=1;C<f.length;C++)a.value[C]=await p(f[C])},reportClick:(h,f)=>{N({c:"promotion_card",d:"content",e:"click",type:"click"},{msg:JSON.stringify({url:encodeURIComponent((h==null?void 0:h.url)||""),location:f+1})})}}}}),Ra={class:"recommended-swipe"},Aa={class:"recommended-swipe-core"},Pa={class:"recommended-swipe-shim"},Sa=v("div",{class:"shim-card"},null,-1),Ea=v("div",{class:"shim-card"},null,-1),Ta={class:"recommended-swipe-body"},Va={class:"carousel-area"},Na=["data-loc-id","onClick"],Ba={key:0,class:"icon",src:"https://s1.hdslb.com/bfs/static/jinkela/long/images/eva.png",importance:"low",loading:"lazy"},Ha=["data-gray"],Fa=["textContent"],Da=["onClick"],Oa=v("div",{class:"before"},null,-1),Wa=v("div",{class:"after"},null,-1),Ma=[Oa,Wa],Ua={class:"buttons"},ja=["onClick"],Ga=["onClick"];function Ja(e,i,a,r,c,d){const o=g("bili-video-card"),m=g("v-img"),u=g("v-swiper"),p=g("WidgetArrow"),l=g("bili-list-view"),t=O("report");return k(),y("div",Ra,[v("div",Aa,[v("div",Pa,[w(o,{skeleton:""}),w(o,{skeleton:""}),Sa,Ea]),v("div",Ta,[w(l,{ssr:e.ssr,func:e.handler,onSuccess:e.getColors},{default:b(({result:s})=>{var n,_;return[v("div",Va,[w(u,{ref:"swiper",headers:s,animated:!0,interval:3e3,onChange:h=>e.switcher(h,s)},Li({_:2},[A(s,(h,f)=>({name:f,fn:b(()=>{var C;return[L(v("a",{"data-loc-id":e.row.main.params.id,class:"carousel-item",onClick:R=>e.reportClick(h,f)},[h.is_ad?(k(),y("img",Ba)):U("",!0),L(v("div",{style:se({backgroundColor:((C=e.colors[f])==null?void 0:C.color)||"white"}),class:"carousel-inner"},[w(m,{src:h.pic,loading:"eager",alt:h.name},null,8,["src","alt"])],4),[[t,{type:"appear",c:"promotion_card",d:"content",e:"show",msg:{url:encodeURIComponent((h==null?void 0:h.url)||""),location:f+1}},"show"]])],8,Na),[[t,{data:h,id:e.row.main.params.id},"click",{ad:!0,relink:!0}]])]})}))]),1032,["headers","onChange"])]),v("div",{class:"carousel-mask",style:se({backgroundColor:((n=e.colors[e.index])==null?void 0:n.color)||"white"})},null,4),s.length?(k(),y("div",{key:0,class:X(["carousel-tool",{"is-invert":(((_=e.colors[e.index])==null?void 0:_.gray)||255)>165}]),"data-gray":e.colors[e.index].gray},[L(v("a",{onClick:i[0]||(i[0]=h=>e.reportClick(e.data,e.idx))},[v("span",{textContent:re(s[e.index].name)},null,8,Fa)],512),[[t,{data:s[e.index],id:e.row.main.params.id},"click",{strict:!0,ad:!0,relink:!0}]]),v("ul",null,[(k(!0),y(I,null,A(s,(h,f)=>(k(),y("li",{key:h.name,class:X(["pac-item",{"is-active":f===e.index,"is-revert":f===e.index&&(e.lastIndex>e.index&&!(e.index===0&&e.lastIndex===s.length-1)||e.index===s.length-1&&e.lastIndex===0)}]),onClick:C=>e.jump(f,s,"trigger")},Ma,10,Da))),128))]),v("div",Ua,[v("button",{onClick:h=>e.jump(e.index-1,s,"button")},[w(p,{style:{transform:"rotate(180deg)"}})],8,ja),v("button",{onClick:h=>e.jump(e.index+1,s,"button")},[w(p)],8,Ga)])],10,Ha)):U("",!0)]}),_:1},8,["ssr","func","onSuccess"])])])])}var za=P(Ia,[["render",Ja]]);const qa=S({name:"RollButton",components:{WidgetRoll:Ii},setup(){const e=$(0);return{count:e,handle:()=>{e.value++}}}}),Ka=v("span",null,"\u6362\u4E00\u6362",-1);function Qa(e,i,a,r,c,d){const o=g("WidgetRoll");return k(),y("button",{class:"primary-btn roll-btn",onClick:i[0]||(i[0]=(...m)=>e.handle&&e.handle(...m))},[w(o,{style:se({transform:`rotate(${e.count*360}deg)`})},null,8,["style"]),Ka])}var Z=P(qa,[["render",Qa]]);const Xa=(e,i)=>{const{id:a,cid:r,bvid:c,owner:d,pic:o,stat:m,title:u,uri:p,av_feature:l,duration:t,pubdate:s}=e,{mid:n,name:_,face:h}=d||{},{view:f,like:C}=m,R=JSON.parse(l||"{}");return{title:u,aid:a,cid:r,bvid:c,cover:o,pubdate:s,author:{name:_,mid:n,face:h},isAd:!1,url:p||`//www.bilibili.com/video/${c}`,spaceUrl:`//space.bilibili.com/${n}`,stats:{view:f,like:C||R.av_like||-1},duration:t,spmInfo:{spmid:"333.851",mod:"b_7265636f6d6d656e64",idx:i+1}}};function le(){return{reportVideoPlayTime:({partitionName:i,partitionId:a,index:r,aid:c,done:d,time:o,typeName:m})=>{N({c:"hover_play_time",d:"all",e:"click",type:"click"},{msg:JSON.stringify({partition_name:i,partition_id:a,location:r+1,content_id:c,type_name:m,done:d,time:o})})}}}function ce(){return{reportVideoPlayClose:({partitionName:i,partitionId:a,index:r,aid:c,dashPlayTime:d,countPlayTime:o})=>{N({c:"hover_play_close",d:"all",e:"click",type:"click"},{msg:JSON.stringify({partition_name:i,partition_id:a,location:r+1,content_id:c,dash_play_time:d,count_play_time:o})})}}}function de(){return{reportVideoPlay:({partitionName:i,partitionId:a,index:r,aid:c})=>{N({c:"hover_play",d:"all",e:"click",type:"click"},{msg:JSON.stringify({partition_name:i,partition_id:a,location:r+1,content_id:c})})}}}const Ya=S({name:"RecommendedList",props:B,setup(){const e=$(!1),i=$(null),a=$(-1),r=$([]),c=$(null),d=8,o=typeof window=="undefined"?we():null,m=async C=>{var H;if(a.value!==-1)return a.value===2?a.value=0:a.value++,{result:r.value.slice(a.value*d,(a.value+1)*d),no_more:!0};const R=await E.get("x/web-interface/index/top/rcmd",{fresh_type:C.__refresh__?3:0,version:1},{encode:!0,com2co:!0,preload:!0,discovery:"web.interface",ctx:o}),F=(R.item||[]).map(Xa);return r.value=F,c.value=(H=R.abtest)==null?void 0:H.group,R.abtest.group==="a"&&(a.value=0),{result:F,no_more:!0}},u=()=>{e.value=!0,setTimeout(()=>{e.value=!1},2500)},p=({data:C,params:R})=>{N({spm_id:"333.851",c:"b_"+t("recommend"),d:"0",type:"appear"},{msg:JSON.stringify({is_new_first_page:1,fresh_type:R.__refresh__?3:0,is_rec:Number(c.value==="b"),card_num:f.value,showlist:C.result.slice(0,f.value).map((F,H)=>({id:F.aid,pos:H+1}))})})},l=()=>{!i.value||i.value.call("refresh",!1)},t=C=>C.split("").map(R=>R.charCodeAt(0).toString(16)).join(""),{reportVideoPlayTime:s}=le(),{reportVideoPlayClose:n}=ce(),{reportVideoPlay:_}=de(),h=(C,R,F,H)=>{if(C==="recommend"){N({spm_id:"333.851",c:"b_"+t("recommend"),d:F+1,type:"click"},{msg:JSON.stringify({is_rec:Number(c.value==="b"),is_new_first_page:1,content_id:R.aid||H.aid})});return}if(C==="space"&&N({c:"tianma",d:"head_portrait",e:"click",type:"click"},{msg:JSON.stringify({avid:R.aid,up_mid:H.mid,location:F+1})}),C==="nickname"&&N({c:"tianma",d:"nickname",e:"click",type:"click"},{msg:JSON.stringify({avid:R.aid,up_mid:H.mid,location:F+1})}),C==="watch-later"&&N({c:"view_later",d:"all",e:"click",type:"click"},{msg:JSON.stringify({partition_name:"\u5929\u9A6C",partition_id:"tianma",type:(H==null?void 0:H.type)==="add"?1:0,content_id:R.aid})}),C==="player-play"&&_({partitionName:"\u5929\u9A6C",partitionId:"tianma",index:F+1,aid:R.aid}),C==="player-init"&&s({partitionName:"\u5929\u9A6C",partitionId:"tianma",index:F,aid:R.aid,done:H.done,time:H.time}),C==="player-close"){const{dashPlayTime:x,countPlayTime:V}=H;n({partitionName:"\u5929\u9A6C",partitionId:"tianma",index:F,aid:R==null?void 0:R.aid,dashPlayTime:x,countPlayTime:V})}},f=$(6);return Ri.useMediaQuery(f,{xs:()=>6,sm:()=>6,md:()=>6,lg:()=>8,xl:()=>8}),{showTips:e,loaderRef:i,inlinePlayerTactics:Y(!0,{percent:.4}),handler:m,onError:u,onSuccess:p,refresh:l,reportHandle:h}}}),Za={class:"recommended-list"},xa={class:"roll-btn-wrap"};function en(e,i,a,r,c,d){const o=g("bili-video-card"),m=g("bili-list-view"),u=Z,p=O("report");return k(),y(I,null,[v("div",Za,[w(m,{ref:"loaderRef",ssr:e.ssr,func:e.handler,onError:e.onError,onSuccess:e.onSuccess},{default:b(({result:l})=>[(k(!0),y(I,null,A(l.slice(0,8),(t,s)=>(k(),T(o,z({key:t.bvid,info:t,"img-lazy":"eager","img-cb-str":s?"":"fsrCb()"},e.inlinePlayerTactics,{onClickVideo:n=>e.reportHandle("recommend",t,s,n),onClickFace:n=>e.reportHandle("space",t,s,n),onClickUname:n=>e.reportHandle("nickname",t,s,n),onWatchLater:n=>e.reportHandle("watch-later",t,s,n),onPlayerPlay:n=>e.reportHandle("player-play",t,s,n),onPlayerClose:n=>e.reportHandle("player-close",t,s,n),onPlayerInit:n=>e.reportHandle("player-init",t,s,n)}),null,16,["info","img-cb-str","onClickVideo","onClickFace","onClickUname","onWatchLater","onPlayerPlay","onPlayerClose","onPlayerInit"]))),128))]),error:b(()=>[v("div",{style:se({display:e.showTips?"block !important":"none !important"}),class:"error-toast"}," \u6682\u65F6\u6CA1\u6709\u65B0\u5185\u5BB9\u4E86\uFF0C\u8BF7\u7B49\u4E0B\u518D\u8BD5\u54E6 ",4)]),loading:b(()=>[(k(),y(I,null,A(8,l=>w(o,{key:l,skeleton:""})),64))]),_:1},8,["ssr","func","onError","onSuccess"])]),v("div",xa,[L(w(u,{onClick:e.refresh},null,8,["onClick"]),[[p,{type:"click",c:"tianma",d:"change",e:"click"},"click"]])])],64)}var an=P(Ya,[["render",en]]);const nn=S({name:"SeeMore",components:{WidgetArrow:he},props:{href:{type:String,required:!0},text:{type:String,default:"\u67E5\u770B\u66F4\u591A"}}}),tn=["href"],on=["textContent"];function rn(e,i,a,r,c,d){const o=g("WidgetArrow");return k(),y("a",{class:"primary-btn see-more",href:e.href,target:"_blank"},[v("span",{textContent:re(e.text)},null,8,on),w(o)],8,tn)}var q=P(nn,[["render",rn]]);const sn=S({name:"AreaHeader",props:{row:{type:Object,required:!0},main:{type:Boolean,default:!0}},setup(e){return{data:be(()=>e.main?e.row.main:e.row.aside)}}}),ln={class:"area-header"},cn={class:"left"},dn=["id","data-id"],un=["href"],pn=["textContent"],mn={class:"right"};function _n(e,i,a,r,c,d){return k(),y("div",ln,[v("div",cn,[e.data.head?(k(),y(I,{key:0},[e.main?(k(),y("a",{key:0,id:e.data.head.name,class:X(["the-world",{"area-anchor":e.row.sidebar}]),"data-id":e.row.id},null,10,dn)):U("",!0),v("a",{class:X(["title",e.data.head.class]),href:e.data.head.link,target:"_blank"},[v("span",{textContent:re(e.data.head.name)},null,8,pn)],10,un)],64)):U("",!0),ee(e.$slots,"left")]),v("div",mn,[ee(e.$slots,"right")])])}var D=P(sn,[["render",_n]]);const hn=typeof window=="undefined";function M(e=!1){return{ctx:hn?we():null,preload:e}}const wn=e=>{const{aid:i,bvid:a,cid:r,pic:c,redirect_url:d,stat:o,title:m,owner:u}=e,{view:p,like:l,coin:t}=o||{},{name:s}=u||{};return{aid:i,bvid:a,cid:r,title:m,cover:c,url:d||`//www.bilibili.com/video/${a}`,author:{name:s},stats:{view:p,like:l,coin:t},spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};function K(){return{reportVideoClick:({partitionName:i,partitionId:a,index:r,aid:c,typeName:d})=>{N({c:"partition_recommend",d:"content",e:"click",type:"click"},{msg:JSON.stringify({partition_name:i,partition_id:a,location:r+1,content_id:c,type_name:d})})}}}function ie(){return{reportReportWatchLaterClick:({partitionName:i,partitionId:a,type:r,aid:c})=>{N({c:"view_later",d:"all",e:"click",type:"click"},{msg:JSON.stringify({partition_name:i,partition_id:a,type:r==="add"?1:0,content_id:c})})}}}const vn=S({name:"MovieCardList",props:B,setup(e){const i=$(null),a=$(1),r=async()=>{var p,l,t,s,n;const u=await E.get("x/web-interface/dynamic/region",G({ps:12,pn:a.value},(l=(p=e.row)==null?void 0:p.main)==null?void 0:l.params),M());if((t=u==null?void 0:u.page)==null?void 0:t.num){const _=a.value>=Math.floor(((s=u==null?void 0:u.page)==null?void 0:s.count)/12);a.value=_?a.value=1:((n=u==null?void 0:u.page)==null?void 0:n.num)+1}return{result:u.archives.map(wn),no_more:!0}},c=()=>{i.value.call("refresh",!1)},{reportVideoClick:d}=K(),{reportReportWatchLaterClick:o}=ie(),m=(u,p,l,t)=>{switch(u){case"movie":d({partitionName:e.row.main.head.name,partitionId:e.row.id,index:l,aid:p.aid});break;case"watch-later":o({partitionName:e.row.main.head.name,partitionId:e.row.id,type:t==null?void 0:t.type,aid:p==null?void 0:p.aid});break}};return{inlinePlayerTactics:Y(!1,{percent:.4}),loaderRef:i,handler:r,refresh:c,reportHandle:m}}}),kn={class:"movie-card-list"},fn={class:"movie-card-body"},bn={class:"movie-card-body"};function yn(e,i,a,r,c,d){const o=Z,m=q,u=D,p=g("bili-movie-card"),l=g("bili-list-view"),t=O("report");return k(),y("div",kn,[w(u,{row:e.row},{right:b(()=>[L(w(o,{onClick:e.refresh},null,8,["onClick"]),[[t,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]]),L(w(m,{href:e.row.main.head.link},null,8,["href"]),[[t,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]])]),_:1},8,["row"]),w(l,{ref:"loaderRef",ssr:e.ssr,func:e.handler},{default:b(({result:s})=>[L(v("div",fn,[(k(!0),y(I,null,A(s,(n,_)=>(k(),T(p,z({key:_+String(n.bvid),info:n},e.inlinePlayerTactics,{"disable-frame":"","disable-hover":"","disable-inline-player":"",onClickMovie:i[0]||(i[0]=h=>e.reportHandle("movie",h)),onWatchLater:i[1]||(i[1]=h=>e.reportHandle("watch-later",h))}),null,16,["info"]))),128))],512),[[t,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])]),loading:b(()=>[v("div",bn,[(k(),y(I,null,A(10,s=>w(p,{key:s,skeleton:""})),64))])]),_:1},8,["ssr","func"])])}var gn=P(vn,[["render",yn]]);const ai=e=>{const{aid:i,bvid:a,cid:r,pic:c,pubdate:d,redirect_url:o,stat:m,title:u,duration:p,owner:l}=e,{mid:t,name:s,face:n}=l||{},{view:_,like:h,coin:f}=m||{};return{aid:i,bvid:a,cid:r,title:u,stats:{view:_,like:h,coin:f},cover:c,url:o||`//www.bilibili.com/video/${a}`,author:{mid:t,name:s,face:n},isAd:!1,pubdate:d,duration:p,spaceUrl:`//space.bilibili.com/${t}`,spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};function ue(){return{reportUpClickLaterClick:(i,a,{mid:r,aid:c,index:d})=>{N({c:i,d:a==="face"?"head_portrait":"nickname",e:"click",type:"click"},{msg:JSON.stringify({avid:c,up_mid:r,location:d+1})})}}}const Cn=S({name:"VideoCardList",props:ke(G({},B),{full:{type:Boolean,default:!1}}),setup(e){const i=$(null),a=$(1),r=async()=>{var n,_,h,f,C;const s=await E.get("x/web-interface/dynamic/region",G({ps:12,pn:a.value},(_=(n=e.row)==null?void 0:n.main)==null?void 0:_.params),M());if((h=s==null?void 0:s.page)==null?void 0:h.num){const R=a.value>=Math.floor(((f=s==null?void 0:s.page)==null?void 0:f.count)/12);a.value=R?a.value=1:((C=s==null?void 0:s.page)==null?void 0:C.num)+1}return{result:s.archives.map(ai),no_more:!0}},c=()=>{i.value.call("refresh",!1)},{reportVideoClick:d}=K(),{reportReportWatchLaterClick:o}=ie(),{reportUpClickLaterClick:m}=ue(),{reportVideoPlayTime:u}=le(),{reportVideoPlayClose:p}=ce(),{reportVideoPlay:l}=de(),t=(s,n,_,h)=>{var f,C,R,F,H;switch(s){case"video":d({partitionName:e.row.main.head.name,partitionId:e.row.id||((f=e.row.main)==null?void 0:f.head.id),index:_,aid:n.aid});break;case"watch-later":o({partitionName:e.row.main.head.name,partitionId:e.row.id||((C=e.row.main)==null?void 0:C.head.id),type:h==null?void 0:h.type,aid:n==null?void 0:n.aid});break;case"player-play":l({partitionName:e.row.main.head.name,partitionId:e.row.id||((R=e.row.main)==null?void 0:R.head.id),index:_,aid:n.aid});break;case"player-init":u({partitionName:e.row.main.head.name,partitionId:e.row.id||((F=e.row.main)==null?void 0:F.head.id),index:_,aid:n.aid,done:h.done,time:h.time});break;case"player-close":const{dashPlayTime:x,countPlayTime:V}=h;p({partitionName:e.row.main.head.name,partitionId:e.row.id||((H=e.row.main)==null?void 0:H.head.id),index:_,aid:n.aid,dashPlayTime:x,countPlayTime:V});break;default:m("partition_recommend",s,{mid:h.mid,aid:n.aid,index:_});break}};return{inlinePlayerTactics:Y(!0,{percent:.4}),loaderRef:i,handler:r,refresh:c,reportHandle:t}}}),$n={class:"video-card-body"},Ln={class:"video-card-body"};function In(e,i,a,r,c,d){var s;const o=Z,m=q,u=D,p=g("bili-video-card"),l=g("bili-list-view"),t=O("report");return L((k(),y("div",{class:X(["video-card-list",[e.full?"is-full":"is-main"]])},[w(u,{row:e.row},{right:b(()=>{var n,_;return[L(w(o,{onClick:e.refresh},null,8,["onClick"]),[[t,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id||((n=e.row.main)==null?void 0:n.head.id)}},"click"]]),L(w(m,{href:e.row.main.head.link},null,8,["href"]),[[t,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id||((_=e.row.main)==null?void 0:_.head.id)}},"click"]])]}),_:1},8,["row"]),w(l,{ref:"loaderRef",ssr:e.ssr,func:e.handler},{default:b(({result:n})=>[v("div",$n,[(k(!0),y(I,null,A(n,(_,h)=>(k(),T(p,z({key:h+String(_.bvid),info:_},e.inlinePlayerTactics,{onClickVideo:f=>e.reportHandle("video",_,h,f),onClickFace:f=>e.reportHandle("face",_,h,f),onClickUname:f=>e.reportHandle("uname",_,h,f),onWatchLater:f=>e.reportHandle("watch-later",_,h,f),onPlayerPlay:f=>e.reportHandle("player-play",_,h,f),onPlayerClose:f=>e.reportHandle("player-close",_,h,f),onPlayerInit:f=>e.reportHandle("player-init",_,h,f)}),null,16,["info","onClickVideo","onClickFace","onClickUname","onWatchLater","onPlayerPlay","onPlayerClose","onPlayerInit"]))),128))])]),loading:b(()=>[v("div",Ln,[(k(!0),y(I,null,A(e.full?12:10,n=>(k(),T(p,{key:n,skeleton:""}))),128))])]),_:1},8,["ssr","func"])],2)),[[t,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id||((s=e.row.main)==null?void 0:s.head.id)}},"show"]])}var ni=P(Cn,[["render",In]]);const Rn=e=>{const{roomid:i,title:a,area_v2_name:r,cover:c,link:d,keyframe:o,face:m,verify:u,uid:p,uname:l,online:t,show_callback:s,click_callback:n}=e;return{roomId:i,title:a,cover:c,frameCover:o,url:`//live.bilibili.com${d}`,author:{mid:p,name:l,face:m,verify:u.type},stats:{online:t,area:r},showCallBack:s,clickCallBack:n,spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};const An=S({name:"LiveCardList",props:B,setup(e){const i=$(null),a=async()=>({result:(await E.get("https://api.live.bilibili.com/xlive/web-interface/v1/webMain/getMoreRecList",{platform:"web"},M())).recommend_room_list.map(Rn),no_more:!0}),r=()=>{i.value.call("refresh",!1)},{reportVideoClick:c}=K(),d=(o,m,u)=>{switch(o){case"live":c({partitionName:e.row.main.head.name,partitionId:e.row.id,index:u,aid:m.roomId});break}};return{inlinePlayerTactics:Y(!0,{percent:.4}),loaderRef:i,handler:a,refresh:r,reportHandle:d}}}),Pn={class:"live-card-list"},Sn={class:"live-card-body"},En={class:"live-card-body"};function Tn(e,i,a,r,c,d){const o=Z,m=q,u=D,p=g("bili-live-card"),l=g("bili-list-view"),t=O("report");return L((k(),y("div",Pn,[w(u,{row:e.row},{right:b(()=>[L(w(o,{onClick:e.refresh},null,8,["onClick"]),[[t,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]]),L(w(m,{href:e.row.main.head.link},null,8,["href"]),[[t,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]])]),_:1},8,["row"]),w(l,{ref:"loaderRef",ssr:e.ssr,func:e.handler},{default:b(({result:s})=>[v("div",Sn,[(k(!0),y(I,null,A(s,(n,_)=>(k(),T(p,z({key:String(n.roomId)+_,index:_,info:n},e.inlinePlayerTactics,{onClickLive:h=>e.reportHandle("live",n,_,h)}),null,16,["index","info","onClickLive"]))),128))])]),loading:b(()=>[v("div",En,[(k(),y(I,null,A(10,s=>w(p,{key:s,skeleton:""})),64))])]),_:1},8,["ssr","func"])],512)),[[t,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])}var Vn=P(An,[["render",Tn]]);const ti="is-active",Nn=S({name:"MouseSwitch",props:{defaultIndex:{type:Number,default:0},event:{type:String,default:"click"}},emits:["change"],setup(e,{emit:i}){const a=$(null);return pe(async()=>{await me();const{children:c}=a.value,d=(o,m)=>{i("change",m),[].forEach.call(c,(u,p)=>{c[p].classList[m===p?"add":"remove"](ti)})};[].forEach.call(c,(o,m)=>{m==e.defaultIndex&&o.classList.add(ti),o.addEventListener(e.event,u=>d(u,m))})}),{elRef:a,click:c=>{c===void 0||!a.value||a.value.children[c].click()}}}}),Bn={ref:"elRef",class:"mouse-switch"};function Hn(e,i,a,r,c,d){return k(),y("div",Bn,[ee(e.$slots,"default")],512)}var Ce=P(Nn,[["render",Hn]]);const Fn=S({name:"AsideWrap"}),Dn={class:"aside-wrap"},On={class:"aside-head"},Wn={class:"aside-body"},Mn={class:"aside-core"};function Un(e,i,a,r,c,d){return k(),y("aside",null,[v("div",Dn,[v("div",On,[ee(e.$slots,"head")]),v("div",Wn,[v("div",Mn,[ee(e.$slots,"body")])])])])}var ae=P(Fn,[["render",Un]]);const oi=(e,i)=>{const{face:a,online:r,roomid:c,title:d,uname:o}=e;return{face:a,online:r,roomid:c,title:d,uname:o,url:`//live.bilibili.com/${c}`,spmInfo:{mod:"partition_rank",idx:"content",ext:"click"}}},jn=e=>{const{room_id:i,link:a,location:r,title:c,pic:d}=e;return{roomId:i,title:c,cover:d,url:a||`//live.bilibili.com/${i}`,author:{},spmInfo:{mod:r,idx:"content",ext:"click"}}};const Gn=S({name:"LiveRankList",components:{WidgetTvTips:Ai},props:B,setup(e){const i=$(null),a=$(null),r=$([]);return{mouse:i,swiper:a,switcher:l=>{!a.value||a.value.jump(l)},handler0:async()=>{const l=await E.get("https://api.live.bilibili.com/xlive/web-interface/v1/webMain/getList",{platform:"web"}),{ranking_list:t,new_preview_banner_list:s}=l;return r.value=(s||[]).slice(0,2).map(jn),r.value.length&&a.value&&i.value.click(2),{result:t.slice(0,10).map(oi),no_more:!0}},handler1:async()=>({result:(await E.get("https://api.live.bilibili.com/relation/v1/feed/feed_list",{pagesize:8,page:1})).list.slice(0,9).map(oi),no_more:!0}),banner_list:r,reportHandle:({info:l,index:t},s)=>{var n,_,h,f;N({c:"partition_rank",d:"content",e:"click",type:"click"},{msg:JSON.stringify({partition_name:(h=(_=(n=e.row)==null?void 0:n.main)==null?void 0:_.head)==null?void 0:h.name,partition_id:(f=e.row)==null?void 0:f.id,type_name:s,content_id:l.roomid,location:t+1})})},handleSuccess:async()=>{!a.value||setTimeout(()=>{a.value.init()},1e3)},reportLiveReco:(l,t)=>{N({c:"live",d:"live_banner",type:"click"},{msg:JSON.stringify({position:t+1,title:l.title,url:l.url,room_id:l.roomId,up_id:0,area_id:0,banner_id:0,parent_area_id:0})})}}}}),Jn=v("button",null,"\u76F4\u64AD\u6392\u884C",-1),zn=v("button",null,"\u5173\u6CE8\u4E3B\u64AD",-1),qn={class:"list-state-nothing"},Kn=v("span",null,"\u6682\u65E0\u4E3B\u64AD\u4E0A\u7EBF",-1),Qn={class:"list-state-nothing"},Xn=v("span",null,"\u6682\u65E0\u4E3B\u64AD\u4E0A\u7EBF",-1);function Yn(e,i,a,r,c,d){const o=Ce,m=D,u=g("bili-rank-list-live"),p=g("WidgetTvTips"),l=g("bili-list-view"),t=g("bili-live-card"),s=g("v-swiper"),n=ae,_=O("report");return k(),T(n,null,{head:b(()=>[w(m,{row:e.row,main:!1},{left:b(()=>[w(o,{class:"live-rank__mouse-switch",ref:"mouse",onChange:e.switcher},{default:b(()=>[Jn,zn,L(v("button",null,"\u4E3A\u4F60\u63A8\u8350",512),[[Pi,e.banner_list.length]])]),_:1},8,["onChange"])]),_:1},8,["row"])]),body:b(()=>[w(s,{ref:"swiper",headers:[0,1,2],animated:!0,"auto-init":!1},{"0":b(()=>[w(l,{ssr:e.ssr,func:e.handler0,onSuccess:e.handleSuccess},{default:b(({result:h})=>[w(u,{list:h,"custom-class":"live-rank-list",grid:"",onClickLive:i[0]||(i[0]=f=>e.reportHandle(f,"\u76F4\u64AD\u6392\u884C"))},null,8,["list"])]),nothing:b(()=>[v("div",qn,[w(p),Kn])]),_:1},8,["ssr","func","onSuccess"])]),"1":b(()=>[w(l,{ssr:e.ssr,func:e.handler1},{default:b(({result:h})=>[w(u,{list:h,"custom-class":"live-rank-list",grid:"","hide-index":"",onClickLive:i[1]||(i[1]=f=>e.reportHandle(f,"\u5173\u6CE8\u4E3B\u64AD"))},null,8,["list"])]),nothing:b(()=>[v("div",Qn,[w(p),Xn])]),_:1},8,["ssr","func"])]),"2":b(()=>[(k(!0),y(I,null,A(e.banner_list,(h,f)=>L((k(),T(t,{key:String(h.roomId)+f,index:f,info:h,concise:"","disable-scale":"","disable-inline-play":"",class:"live-rank-rcmd-item",onClickLive:C=>e.reportLiveReco(h,f)},null,8,["index","info","onClickLive"])),[[_,{c:"live",d:"live_banner",type:"appear",msg:{position:f+1,title:h.title,url:h.url,room_id:h.roomId,up_id:0,area_id:0,banner_id:0,parent_area_id:0}},"show"]])),128))]),_:1},512)]),_:1})}var Zn=P(Gn,[["render",Yn]]);const xn=e=>{const{id:i,title:a,author:r,image_urls:c,stats:d}=e;return{cvid:i,title:a,cover:c[0],author:{name:r.name,mid:r.mid,face:r.face},stats:{view:d.view,like:d.like},url:`//www.bilibili.com/read/cv${i}`,spaceUrl:`//space.bilibili.com/${r.mid}`,spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};const et=S({name:"ArticleCardList",props:B,setup(e){const i=$(null),a=async()=>({result:(await E.get("x/article/recommends",{ps:15},M())).slice(0,12).map(xn),no_more:!0}),r=()=>{i.value.call("refresh",!1)},{reportVideoClick:c}=K(),{reportUpClickLaterClick:d}=ue();return{loaderRef:i,handler:a,refresh:r,reportHandle:(m,u,p,l)=>{switch(m){case"article":c({partitionName:e.row.main.head.name,partitionId:e.row.id,index:p,aid:u.cvid});break;default:d("partition_recommend",m,{mid:l.mid,aid:u.cvid,index:p});break}}}}}),it={class:"article-card-list"},at={class:"article-card-body"},nt={class:"article-card-body"};function tt(e,i,a,r,c,d){const o=Z,m=q,u=D,p=g("bili-article-card"),l=g("bili-list-view"),t=O("report");return L((k(),y("div",it,[w(u,{row:e.row},{right:b(()=>[L(w(o,{onClick:e.refresh},null,8,["onClick"]),[[t,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]]),L(w(m,{href:e.row.main.head.link},null,8,["href"]),[[t,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]])]),_:1},8,["row"]),w(l,{ref:"loaderRef",ssr:e.ssr,func:e.handler},{default:b(({result:s})=>[v("div",at,[(k(!0),y(I,null,A(s,(n,_)=>(k(),T(p,{key:_+String(n.cvid),info:n,onClickArticle:h=>e.reportHandle("article",n,_,h),onClickUname:h=>e.reportHandle("nickname",n,_,h)},null,8,["info","onClickArticle","onClickUname"]))),128))])]),loading:b(()=>[v("div",nt,[(k(),y(I,null,A(12,s=>w(p,{key:s,skeleton:""})),64))])]),_:1},8,["ssr","func"])],512)),[[t,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])}var ot=P(et,[["render",tt]]);const ri=(e,i)=>{const{comic_id:a,styles:r,title:c,vertical_cover:d}=e,o=r.map(m=>typeof m=="string"?m:m.name);return{comicId:a,title:c,styles:o,cover:d,url:`//manga.bilibili.com/detail/mc${a}`,spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};const rt=S({name:"MangaCardList",props:B,setup(e){const i=$(0),a=$(null),r=$(null),c=$(null),d=async()=>({result:(await E.post("https://manga.bilibili.com/twirp/comic.v1.Comic/GetRecommendComics",{page_num:1,page_size:12,type:1},G({headers:{"Content-Type":"application/json"}},M()))).comics.map(ri),no_more:!0}),o=async()=>({result:(await E.post("https://manga.bilibili.com/twirp/comic.v1.Comic/HomeHot",{page_num:1,page_size:12,type:1},{headers:{"Content-Type":"application/json"}})).map(ri),no_more:!0}),m=()=>{i.value===0&&r.value.call("refresh",!1),i.value===1&&c.value.call("refresh",!1)},u=t=>{!a.value||(i.value=t,a.value.jump(t))},{reportVideoClick:p}=K();return{swiper:a,loader0Ref:r,loader1Ref:c,handler0:d,handler1:o,refresh:m,switcher:u,reportHandle:(t,s,n,_)=>{switch(t){case"manga":p({partitionName:e.row.main.head.name,partitionId:e.row.id,index:n,aid:s.comicId});break}}}}}),st={class:"manga-card-list"},lt=v("button",null,"\u4EBA\u6C14\u63A8\u8350",-1),ct=v("button",null,"\u514D\u8D39\u6F2B\u753B\u63A8\u8350",-1),dt={class:"manga-card-body"},ut={class:"manga-card-body"},pt={class:"manga-card-body"},mt={class:"manga-card-body"};function _t(e,i,a,r,c,d){const o=Ce,m=Z,u=q,p=D,l=g("bili-manga-card"),t=g("bili-list-view"),s=g("v-swiper"),n=O("report");return L((k(),y("div",st,[w(p,{row:e.row},{left:b(()=>[w(o,{onChange:e.switcher},{default:b(()=>[lt,ct]),_:1},8,["onChange"])]),right:b(()=>[L(w(m,{onClick:e.refresh},null,8,["onClick"]),[[n,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]]),L(w(u,{href:e.row.main.head.link},null,8,["href"]),[[n,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]])]),_:1},8,["row"]),w(s,{ref:"swiper",headers:[1,2]},{"0":b(()=>[w(t,{ref:"loader0Ref",ssr:e.ssr,func:e.handler0},{default:b(({result:_})=>[v("div",dt,[(k(!0),y(I,null,A(_,(h,f)=>(k(),T(l,{key:f+String(h.comicId),info:h,onClickManga:C=>e.reportHandle("manga",C,f)},null,8,["info","onClickManga"]))),128))])]),loading:b(()=>[v("div",ut,[(k(),y(I,null,A(12,_=>w(l,{key:_,skeleton:""})),64))])]),_:1},8,["ssr","func"])]),"1":b(()=>[w(t,{ref:"loader1Ref",ssr:e.ssr,func:e.handler1},{default:b(({result:_})=>[v("div",pt,[(k(!0),y(I,null,A(_,(h,f)=>(k(),T(l,{key:f+String(h.comicId),info:h,onClickManga:C=>e.reportHandle("manga",h,f,C)},null,8,["info","onClickManga"]))),128))])]),loading:b(()=>[v("div",mt,[(k(),y(I,null,A(12,_=>w(l,{key:_,skeleton:""})),64))])]),_:1},8,["ssr","func"])]),_:1},512)],512)),[[n,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])}var ht=P(rt,[["render",_t]]);const wt=e=>{const{pic:i,name:a,url:r,archive:c,is_ad:d,adver_name:o}=e,{aid:m,bvid:u,cid:p,duration:l,owner:t,pubdate:s}=c||{},{mid:n,name:_,face:h}=t||{},{view:f,like:C,coin:R}=(c||{}).stat||{};return{title:a,aid:m,bvid:u,cid:p,cover:i,author:{name:d&&o||_,mid:n,face:h},isAd:d,url:r||`//www.bilibili.com/video/${u}`,spaceUrl:d?r:`//space.bilibili.com/${n}`,pubdate:s,stats:{view:f,like:C,coin:R},duration:l,spmInfo:{mod:"extension",idx:"content",ext:"click"},is_ad_loc:e.is_ad_loc,src_id:e.src_id,server:e.server,is_ad:e.is_ad,area:e.area,ad_cb:e.ad_cb,pos_num:e.pos_num,mid:e.mid,resource_id:e.resource_id,server_type:e.server_type,id:e.id}};const vt=S({name:"EvaCardList",components:{WidgetArrow:he},props:B,setup(e){const i=typeof window=="undefined"?we():null,a=async()=>{var s,n;const{id:p}=(s=e.row.main)==null?void 0:s.params,[l,t]=await E.$get("x/web-show/res/locs",{pf:0,ids:p},{ctx:i,preload:!0,com2co:!0,discovery:"main.web-svr.web-show"});return l?{result:[],no_more:!0}:{result:((n=t[p])==null?void 0:n.map(wt))||[],no_more:!0}},{reportReportWatchLaterClick:r}=ie(),{reportUpClickLaterClick:c}=ue(),{reportVideoPlayTime:d}=le(),{reportVideoPlayClose:o}=ce(),{reportVideoPlay:m}=de(),u=(p,l,t,s)=>{switch(p){case"video":N({c:"extension",d:"content",e:"click",type:"click"},{msg:JSON.stringify({type:l.isAd?1:0,id:l.aid,location:t+1,url:l.isAd?encodeURIComponent((l==null?void 0:l.url)||""):""})});break;case"watch-later":r({partitionName:"\u63A8\u5E7F",partitionId:"extension",type:s==null?void 0:s.type,aid:l==null?void 0:l.aid});break;case"player-play":m({partitionName:"\u63A8\u5E7F",partitionId:"extension",index:t,aid:l==null?void 0:l.aid});break;case"player-init":d({partitionName:"\u63A8\u5E7F",partitionId:"extension",index:t,aid:l==null?void 0:l.aid,done:s.done,time:s.time});break;case"player-close":const{dashPlayTime:n,countPlayTime:_}=s;o({partitionName:"\u63A8\u5E7F",partitionId:"extension",index:t,aid:l==null?void 0:l.aid,dashPlayTime:n,countPlayTime:_});break;default:c("extension",p,{mid:s.mid,aid:l.aid,index:t});break}};return{inlinePlayerTactics:Y(!0,{percent:.4}),handler:a,reportHandle:u}}}),kt={class:"eva-extension-area"},ft={class:"eva-extension-body"},bt={class:"eva-extension-body"};function yt(e,i,a,r,c,d){const o=D,m=g("bili-video-card"),u=g("bili-list-view"),p=O("report");return k(),y("div",kt,[w(o,{row:e.row},null,8,["row"]),w(u,{ssr:e.ssr,func:e.handler},{default:b(({result:l})=>[L(v("div",ft,[(k(!0),y(I,null,A(l,(t,s)=>(k(),T(m,z({key:s+String(t.bvid),info:t,"loc-id":e.row.main.params.id,"img-lazy":"eager"},e.inlinePlayerTactics,{onClickVideo:n=>e.reportHandle("video",t,s,n),onClickFace:n=>e.reportHandle("face",t,s,n),onClickUname:n=>e.reportHandle("nickname",t,s,n),onWatchLater:n=>e.reportHandle("watch-later",t,s,n),onPlayerPlay:n=>e.reportHandle("player-play",t,s,n),onPlayerClose:n=>e.reportHandle("player-close",t,s,n),onPlayerInit:n=>e.reportHandle("player-init",t,s,n)}),null,16,["info","loc-id","onClickVideo","onClickFace","onClickUname","onWatchLater","onPlayerPlay","onPlayerClose","onPlayerInit"]))),128))],512),[[p,{type:"appear",c:"extension",d:"0",e:"show",msg:{content:l==null?void 0:l.map(t=>t.isAd?"1":"0").join(",")}},"show"]])]),loading:b(()=>[v("div",bt,[(k(),y(I,null,A(6,l=>w(m,{key:l,skeleton:""})),64))])]),_:1},8,["ssr","func"])])}var gt=P(vt,[["render",yt]]);const Ct=(e,i)=>{const{room:a,url:r}=e,{room_id:c,uid:d,show:o,area:m}=a||{},{title:u,cover:p,keyframe:l,popularity_count:t}=o||{},{area_name:s}=m||{};return{roomId:c,title:u,area:s,cover:p,frameCover:l,url:r,author:{mid:d,name:""},stats:{online:t},showCallBack:"",clickCallBack:"",spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}},$t=(e,i)=>{const{name:a,pic:r,archive:c}=e,{aid:d,bvid:o,cid:m,owner:u,stat:p,duration:l}=c||{},{mid:t,name:s,face:n}=u||{},{view:_,like:h,coin:f}=p||{};return{title:a,aid:d,bvid:o,cid:m,cover:r,author:{name:s,mid:t,avatar:n},isAd:!1,url:`//www.bilibili.com/video/${o}`,spaceUrl:`//space.bilibili.com/${t}`,stats:{view:_,like:h,coin:f},duration:l,spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}},Lt=(e,i)=>e.room?Ct(e):$t(e);const It=S({name:"BattleArea",props:B,setup(e){const i=$(!0),a=async()=>{var _,h;const{id:l}=(_=e.row.main)==null?void 0:_.params,[t,s]=await E.$get("x/web-show/res/locs",{pf:0,ids:l});if(t)return{result:[],no_more:!0};const n=((h=s[l])==null?void 0:h.map(Lt))||[];return i.value=n.length>=6,{result:n,no_more:!0}},{reportVideoClick:r}=K(),{reportReportWatchLaterClick:c}=ie(),{reportUpClickLaterClick:d}=ue(),{reportVideoPlayTime:o}=le(),{reportVideoPlay:m}=de(),{reportVideoPlayClose:u}=ce(),p=(l,t,s,n)=>{switch(l){case"battle-live":r({partitionName:e.row.main.head.name,partitionId:e.row.id,index:s,aid:t.roomId});break;case"battle-video":r({partitionName:e.row.main.head.name,partitionId:e.row.id,index:s,aid:t.aid});break;case"watch-later":c({partitionName:e.row.main.head.name,partitionId:e.row.id,type:n==null?void 0:n.type,aid:t==null?void 0:t.aid});break;case"player-play":m({partitionName:e.row.main.head.name,partitionId:e.row.id,index:s,aid:t==null?void 0:t.aid});break;case"player-close":const{dashPlayTime:_,countPlayTime:h}=n;u({partitionName:e.row.main.head.name,partitionId:e.row.id,index:s,aid:t==null?void 0:t.aid,dashPlayTime:_,countPlayTime:h});break;case"player-init":o({partitionName:e.row.main.head.name,partitionId:e.row.id,index:s,aid:t==null?void 0:t.aid,done:n.done,time:n.time});break;default:d("partition_recommend",l,{mid:n.mid,aid:t.aid,index:s});break}};return{inlinePlayerTactics:Y(!0,{percent:.4}),reportHandle:p,showBattle:i,handler:a}}}),Rt={key:0,class:"battle-area"},At={class:"battle-body"},Pt={class:"battle-body"};function St(e,i,a,r,c,d){const o=D,m=g("bili-live-card"),u=g("bili-video-card"),p=g("bili-list-view"),l=O("report");return e.showBattle?L((k(),y("div",Rt,[w(o,{row:e.row},null,8,["row"]),w(p,{ssr:e.ssr,func:e.handler},{default:b(({result:t})=>[v("div",At,[(k(!0),y(I,null,A(t,(s,n)=>(k(),y(I,{key:s.roomId||s.bvid},[s.roomId?(k(),T(m,z({key:0,info:s},e.inlinePlayerTactics,{onClickLive:_=>e.reportHandle("battle-live",s,n)}),null,16,["info","onClickLive"])):(k(),T(u,z({key:1,info:s},e.inlinePlayerTactics,{onClickVideo:_=>e.reportHandle("battle-video",s,n,_),onClickFace:_=>e.reportHandle("face",s,n,_),onClickUname:_=>e.reportHandle("nickname",s,n,_),onWatchLater:_=>e.reportHandle("watch-later",s,n,_),onPlayerPlay:_=>e.reportHandle("player-play",s,n,_),onPlayerClose:_=>e.reportHandle("player-close",s,n,_),onPlayerInit:_=>e.reportHandle("player-init",s,n,_)}),null,16,["info","onClickVideo","onClickFace","onClickUname","onWatchLater","onPlayerPlay","onPlayerClose","onPlayerInit"]))],64))),128))])]),loading:b(()=>[v("div",Pt,[(k(),y(I,null,A(6,t=>w(m,{key:t,skeleton:""})),64))])]),_:1},8,["ssr","func"])],512)),[[l,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]]):U("",!0)}var Et=P(It,[["render",St]]);const Tt=(e,i)=>{const{aid:a,bvid:r,pts:c,title:d,pic:o,author:m,mid:u,coins:p,favorites:l,play:t,video_review:s,redirect_url:n,create:_}=e;return{aid:a,bvid:r,score:c,title:d,cover:o,author:{name:m,mid:u},stats:{coin:p,favorite:l,view:t,danmu:s},url:n||`//www.bilibili.com/video/${r}`,pubdate:Math.floor(Si(_)/1e3),spmInfo:{mod:"partition_rank",idx:"content",ext:"click"}}};const Vt=S({name:"VideoRankList",props:B,setup(e){return{handler:async()=>{var c,d;return{result:(await E.get("x/web-interface/ranking/region",G({day:3,original:0},(d=(c=e.row)==null?void 0:c.aside)==null?void 0:d.params),M())||[]).slice(0,10).map(Tt),no_more:!0}},reportHandle:({info:r,index:c})=>{var d,o,m,u,p;N({c:"partition_rank",d:"content",e:"click",type:"click"},{msg:JSON.stringify({partition_name:(d=e.row)==null?void 0:d.main.head.name,partition_id:((u=(m=(o=e.row)==null?void 0:o.main)==null?void 0:m.head)==null?void 0:u.id)||((p=e.row)==null?void 0:p.id),type_name:"",content_id:r.aid,location:c+1})})}}}});function Nt(e,i,a,r,c,d){const o=D,m=g("bili-rank-list-video"),u=g("bili-list-view"),p=ae;return k(),T(p,null,{head:b(()=>[w(o,{row:e.row,main:!1},null,8,["row"])]),body:b(()=>[w(u,{ssr:e.ssr,func:e.handler},{default:b(({result:l})=>[w(m,{list:l,"custom-class":"video-rank-list",grid:"",onClickVideo:i[0]||(i[0]=t=>e.reportHandle(t))},null,8,["list"])]),_:1},8,["ssr","func"])]),_:1})}var si=P(Vt,[["render",Nt]]);const li=(e,i)=>{const{season_id:a,cover:r,ss_horizontal_cover:c,new_ep:d,title:o,rating:m,pts:u,stat:p,url:l}=e,{view:t}=p||{};return{sid:a,title:o,cover:c||r,url:l,subInfo:"",movie:i===2?{rating:m,pubdate:d.index_show}:void 0,stats:{view:t,score:u},spmInfo:{mod:"partition_rank",idx:"content",ext:"click"}}};const Bt=S({name:"PgcRankList",props:B,setup(e){return{handler:async()=>{var d,o;const{season_type:r}=e.row.aside.params,c=await E.get(r===1?"pgc/web/rank/list":"pgc/season/rank/web/list",G({day:3},(o=(d=e.row)==null?void 0:d.aside)==null?void 0:o.params),M());return{result:(r===1?c.result.list:c.list).slice(0,10).map(m=>li(m,r)),no_more:!0}},reportHandle:({info:r,index:c})=>{var d,o,m,u;N({c:"partition_rank",d:"content",e:"click",type:"click"},{msg:JSON.stringify({partition_name:(m=(o=(d=e.row)==null?void 0:d.main)==null?void 0:o.head)==null?void 0:m.name,partition_id:(u=e.row)==null?void 0:u.id,type_name:"",content_id:r.sid,location:c+1})})}}}});function Ht(e,i,a,r,c,d){const o=D,m=g("bili-rank-list-ogv"),u=g("bili-list-view"),p=ae;return k(),T(p,null,{head:b(()=>[w(o,{row:e.row,main:!1},null,8,["row"])]),body:b(()=>[w(u,{ssr:e.ssr,func:e.handler},{default:b(({result:l})=>[w(m,{list:l,"custom-class":"pgc-rank-list",grid:"",onClickOgv:i[0]||(i[0]=t=>e.reportHandle(t))},null,8,["list"])]),_:1},8,["ssr","func"])]),_:1})}var Ft=P(Bt,[["render",Ht]]);const ci="is-active",Dt=S({name:"TrackSwitch",props:{defaultIndex:{type:Number,default:0},event:{type:String,default:"click"}},emits:["change"],setup(e,{emit:i}){const a=$(null),r=$("");let c=e.defaultIndex;const d=()=>{if(!a.value)return;const{x:m}=a.value.getBoundingClientRect();[].map.call(a.value.children,(u,p)=>{const{x:l,width:t}=u.getBoundingClientRect();u.setAttribute("data-track-x",String(l-m)),u.setAttribute("data-track-width",String(t)),p===c&&o(u)})},o=m=>{const{trackX:u,trackWidth:p}=m.dataset;r.value=`--track-x: ${u}px;--track-width: ${p}px;`};return pe(async()=>{await me(),Se(d);const{children:m}=a.value,u=p=>{i("change",p),c=p,[].forEach.call(m,(l,t)=>{m[t].classList[p===t?"add":"remove"](ci),p===t&&o(l)})};[].forEach.call(m,(p,l)=>{l==e.defaultIndex&&(p.classList.add(ci),o(p)),p.addEventListener(e.event,()=>u(l))}),window.addEventListener("resize",Ei(d,300))}),{elRef:a,trackStyle:r}}}),Ot={class:"track-switch-bar"},Wt={ref:"elRef",class:"track-switch-wrap"};function Mt(e,i,a,r,c,d){return k(),y("div",{class:"track-switch",style:se(e.trackStyle)},[v("div",Ot,[ee(e.$slots,"bar")]),v("div",Wt,[ee(e.$slots,"default")],512)],4)}var Ut=P(Dt,[["render",Mt]]);const di=e=>{const{season_id:i,episode_id:a,delay:r,delay_reason:c,published:d,title:o,ep_cover:m,plays:u,follows:p,pub_index:l,pub_time:t}=e;return{sid:i,eid:a,title:o,cover:m,published:d,url:`//www.bilibili.com/bangumi/play/${d===1?`ep${a}`:`ss${i}`}`,pub:{text:r===1?c:d?`\u66F4\u65B0\u81F3${l}`:l,date:t},stats:{view:u,like:p},spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};const jt=S({name:"BangumiCardList",components:{WidgetArrow:he},props:B,setup(e){const i=$(0),a=async()=>{let o=new Date().getDay();o===0&&(o=7);const m=await E.get("pgc/web/timeline/v2",G({day_before:o-1,day_after:7-o},e.row.main.params),M());return{result:[(m.result.latest||[]).map(di)].concat((m.result.timeline||[]).map(p=>p.episodes.map(di))),no_more:!0}},r=o=>{i.value=o},{reportVideoClick:c}=K();return{index:i,handler:a,switcher:r,reportHandle:(o,m,u)=>{switch(o){case"bangumi":c({partitionName:e.row.main.head.name,partitionId:e.row.id,index:u,aid:m.sid,typeName:i.value.toString()});break}}}}}),Gt={class:"bangumi-card-list"},Jt=v("div",{class:"switch-bar"},null,-1),zt=v("button",null,"\u6700\u8FD1\u66F4\u65B0",-1),qt=v("button",null,"\u5468\u4E00",-1),Kt=v("button",null,"\u5468\u4E8C",-1),Qt=v("button",null,"\u5468\u4E09",-1),Xt=v("button",null,"\u5468\u56DB",-1),Yt=v("button",null,"\u5468\u4E94",-1),Zt=v("button",null,"\u5468\u516D",-1),xt=v("button",null,"\u5468\u65E5",-1),eo={class:"primary-btn timeline-btn",href:"https://www.bilibili.com/anime/timeline/",target:"_blank"},io=v("span",null,"\u65B0\u756A\u65F6\u95F4\u8868",-1),ao={class:"bangumi-card-wrap"},no={class:"bangumi-card-shim"},to={class:"bangumi-card-data"},oo={key:1,class:"is-nothing"},ro={class:"bangumi-card-body is-loading"};function so(e,i,a,r,c,d){const o=Ut,m=g("WidgetArrow"),u=q,p=D,l=g("bili-bangumi-card"),t=g("bili-list-view"),s=O("report");return L((k(),y("div",Gt,[w(p,{row:e.row},{left:b(()=>[w(o,{onChange:e.switcher},{bar:b(()=>[Jt]),default:b(()=>[zt,qt,Kt,Qt,Xt,Yt,Zt,xt]),_:1},8,["onChange"])]),right:b(()=>[L(v("a",eo,[io,w(m)],512),[[s,{type:"click",c:"partition_xinfan",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]]),L(w(u,{href:e.row.main.head.link},null,8,["href"]),[[s,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]])]),_:1},8,["row"]),v("div",ao,[v("div",no,[(k(),y(I,null,A(10,n=>w(l,{key:n,skeleton:""})),64))]),v("div",to,[w(t,{ssr:e.ssr,func:e.handler},{default:b(({result:n})=>{var _;return[((_=n[e.index])==null?void 0:_.length)?(k(),y("div",{key:0,class:X(["bangumi-card-body",[e.index?"is-content":"is-loading"]])},[(k(!0),y(I,null,A(n[e.index],(h,f)=>(k(),T(l,{key:f+String(h.sid),info:h,"disable-hover":"","disable-inline-player":"",onClickBangumi:C=>e.reportHandle("bangumi",h,f,C)},null,8,["info","onClickBangumi"]))),128))],2)):(k(),y("div",oo,[v("span",null,"\u4ECA\u5929\u6CA1\u6709"+re(e.row.main.head.alias)+"\u66F4\u65B0",1)]))]}),loading:b(()=>[v("div",ro,[(k(),y(I,null,A(10,n=>w(l,{key:n,skeleton:""})),64))])]),_:1},8,["ssr","func"])])])],512)),[[s,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])}var $e=P(jt,[["render",so]]);const Le=(e,i)=>{const{comic_id:a,last_short_title:r,title:c,vertical_cover:d,styles:o}=e,m=(o||[]).map(u=>typeof u=="string"?u:u.name);return{comicId:a,title:c,shortTitle:r,cover:d,styles:m,url:`//manga.bilibili.com/detail/mc${a}`,spmInfo:{mod:"partition_rank",idx:"content",ext:"click"}}};const lo=S({name:"MangaRankList",props:B,setup(e){const i=$(0),a=$(null),r=be(()=>["https://manga.bilibili.com/ranking/ticket","https://manga.bilibili.com/?from=bili_main_rank_more","https://manga.bilibili.com/ranking/rising"][i.value]);return{swiper:a,rightLink:r,handler0:async()=>({result:(await E.post("https://manga.bilibili.com/twirp/comic.v1.Comic/HomeFans",{last_month_offset:0,type:1},G({headers:{"Content-Type":"application/json"}},M()))).comics.slice(0,14).map(Le),no_more:!0}),handler1:async()=>({result:(await E.post("https://manga.bilibili.com/twirp/comic.v1.Comic/HomeFans",{last_week_offset:0},{headers:{"Content-Type":"application/json"}})).comics.slice(0,14).map(Le),no_more:!0}),handler2:async()=>({result:(await E.post("https://manga.bilibili.com/twirp/comic.v1.Comic/HomeHot",{type:2},{headers:{"Content-Type":"application/json"}})).slice(0,14).map(Le),no_more:!0}),switcher:p=>{!a.value||(i.value=p,a.value.jump(p))},reportHandle:({info:p,index:l},t)=>{var s,n,_,h;N({c:"partition_rank",d:"content",e:"click",type:"click"},{msg:JSON.stringify({partition_name:(_=(n=(s=e.row)==null?void 0:s.main)==null?void 0:n.head)==null?void 0:_.name,partition_id:(h=e.row)==null?void 0:h.id,type_name:t,content_id:p.comicId,location:l+1})})}}}}),co=v("button",null,"\u6708\u7968",-1),uo=v("button",null,"\u5E94\u63F4",-1),po=v("button",null,"\u98D9\u5347",-1);function mo(e,i,a,r,c,d){const o=Ce,m=q,u=D,p=g("bili-rank-list-manga"),l=g("bili-list-view"),t=g("v-swiper"),s=ae;return k(),T(s,null,{head:b(()=>[w(u,{row:e.row,main:!1},{left:b(()=>[w(o,{onChange:e.switcher},{default:b(()=>[co,uo,po]),_:1},8,["onChange"])]),right:b(()=>[w(m,{href:e.rightLink,text:"\u66F4\u591A"},null,8,["href"])]),_:1},8,["row"])]),body:b(()=>[w(t,{ref:"swiper",headers:[0,1,2],animated:!0},{"0":b(()=>[w(l,{ssr:e.ssr,func:e.handler0},{default:b(({result:n})=>[w(p,{list:n,"custom-class":"manga-rank-list",grid:"",onClickManga:i[0]||(i[0]=_=>e.reportHandle(_,"\u6708\u7968"))},null,8,["list"])]),_:1},8,["ssr","func"])]),"1":b(()=>[w(l,{ssr:e.ssr,func:e.handler1},{default:b(({result:n})=>[w(p,{list:n,"custom-class":"manga-rank-list",grid:"",onClickManga:i[1]||(i[1]=_=>e.reportHandle(_,"\u5E94\u63F4"))},null,8,["list"])]),_:1},8,["ssr","func"])]),"2":b(()=>[w(l,{ssr:e.ssr,func:e.handler2},{default:b(({result:n})=>[w(p,{list:n,"custom-class":"manga-rank-list",grid:"",onClickManga:i[2]||(i[2]=_=>e.reportHandle(_,"\u98D9\u5347"))},null,8,["list"])]),_:1},8,["ssr","func"])]),_:1},512)]),_:1})}var _o=P(lo,[["render",mo]]);const ho=(e,i)=>{const{id:a,cover:r,link:c,play:d,title:o,update_info:m}=e;return{oid:a,cover:r,url:c||`//www.bilibili.com/cheese/play/ss${a}`,title:o,updateInfo:m,stats:{view:d},spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};const wo=S({name:"CheeseCardList",components:{},props:B,setup(e){const i=$(null),a=async()=>({result:(await E.get("pugv/app/web/floor/switch",{load_type:1},M())).season.slice(0,10).map(ho),no_more:!0}),r=()=>{i.value.call("refresh",!1)},{reportVideoClick:c}=K(),d=(o,m,u,p)=>{switch(o){case"cheese":c({partitionName:e.row.main.head.name,partitionId:e.row.id,index:u,aid:m.oid});break}};return{inlinePlayerTactics:Y(!1,{percent:.4}),loaderRef:i,handler:a,refresh:r,reportHandle:d}}}),vo={class:"cheese-card-list"},ko={class:"cheese-card-body"},fo={class:"cheese-card-body"};function bo(e,i,a,r,c,d){const o=Z,m=q,u=D,p=g("bili-cheese-card"),l=g("bili-list-view"),t=O("report");return L((k(),y("div",vo,[w(u,{row:e.row},{right:b(()=>[L(w(o,{onClick:e.refresh},null,8,["onClick"]),[[t,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]]),L(w(m,{href:e.row.main.head.link},null,8,["href"]),[[t,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]])]),_:1},8,["row"]),w(l,{ref:"loaderRef",ssr:e.ssr,func:e.handler},{default:b(({result:s})=>[v("div",ko,[(k(!0),y(I,null,A(s,(n,_)=>(k(),T(p,z({key:_+String(n.oid),info:n},e.inlinePlayerTactics,{onClickCheese:h=>e.reportHandle("cheese",n,_,h)}),null,16,["info","onClickCheese"]))),128))])]),loading:b(()=>[v("div",fo,[(k(),y(I,null,A(10,s=>w(p,{key:s,skeleton:""})),64))])]),_:1},8,["ssr","func"])],512)),[[t,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])}var yo=P(wo,[["render",bo]]);const go=(e,i)=>{const{oid:a,title:r,cover:c,link:d,playNum:o,update_info:m}=e;return{oid:a,cover:c,url:d||`//www.bilibili.com/cheese/play/ss${a}`,title:r,subInfo:m,stats:{play:o},spmInfo:{mod:"partition_rank",idx:"content",ext:"click"}}};const Co=S({name:"CheeseRankList",props:B,setup(e){return{handler:async()=>({result:((await E.get("pugv/app/web/floor/switch",{load_type:3},M())).ranks||[]).slice(0,10).map(go),no_more:!0}),reportHandle:({info:r,index:c})=>{var d,o,m,u;N({c:"partition_rank",d:"content",e:"click",type:"click"},{msg:JSON.stringify({partition_name:(m=(o=(d=e.row)==null?void 0:d.main)==null?void 0:o.head)==null?void 0:m.name,partition_id:(u=e.row)==null?void 0:u.id,type_name:"",content_id:r.oid,location:c+1})})}}}});function $o(e,i,a,r,c,d){const o=D,m=g("bili-rank-list-cheese"),u=g("bili-list-view"),p=ae;return k(),T(p,null,{head:b(()=>[w(o,{row:e.row,main:!1},null,8,["row"])]),body:b(()=>[w(u,{ssr:e.ssr,func:e.handler},{default:b(({result:l})=>[w(m,{list:l,"custom-class":"cheese-rank-list",grid:"",onClickCheese:i[0]||(i[0]=t=>e.reportHandle(t))},null,8,["list"])]),_:1},8,["ssr","func"])]),_:1})}var Lo=P(Co,[["render",$o]]);const Io=e=>{const{id:i,bvid:a,author:r,cover:c,stat:d,title:o,duration:m}=e,{mid:u,name:p,face:l}=r||{},{view:t,like:s,coin:n}=d||{};return{title:o,aid:Number(i),bvid:a,cover:c,author:{name:p,mid:u,face:l},url:`//www.bilibili.com/video/${a}`,spaceUrl:`//space.bilibili.com/${u}`,isAd:!1,pubdate:0,stats:{view:t,like:s,coin:n},duration:m,spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};const Ro=S({name:"InformationArea",props:B,setup(e){const i=$(null),a=$(1),r=async s=>{var h,f,C;const n=await E.get(s.__refresh__?"x/web-interface/dynamic/region":"x/web-interface/information",{ps:12,rid:e.row.main.params.rid,pn:a.value},M());if((h=n==null?void 0:n.page)==null?void 0:h.num){const R=a.value>=Math.floor(((f=n==null?void 0:n.page)==null?void 0:f.count)/12);a.value=R?a.value=1:((C=n==null?void 0:n.page)==null?void 0:C.num)+1}return{result:s.__refresh__?n.archives.map(ai):n.items.map(Io),no_more:!0}},c=()=>{i.value.call("refresh",!1)},{reportVideoClick:d}=K(),{reportReportWatchLaterClick:o}=ie(),{reportUpClickLaterClick:m}=ue(),{reportVideoPlayTime:u}=le(),{reportVideoPlayClose:p}=ce(),{reportVideoPlay:l}=de(),t=(s,n,_,h)=>{switch(s){case"video":d({partitionName:e.row.main.head.name,partitionId:e.row.id,index:_,aid:n.aid});break;case"watch-later":o({partitionName:e.row.main.head.name,partitionId:e.row.id,type:h==null?void 0:h.type,aid:n==null?void 0:n.aid});break;case"player-play":l({partitionName:e.row.main.head.name,partitionId:e.row.id,index:_,aid:n.aid});break;case"player-init":u({partitionName:e.row.main.head.name,partitionId:e.row.id,index:_,aid:n.aid,done:h.done,time:h.time});break;case"player-close":const{dashPlayTime:f,countPlayTime:C}=h;p({partitionName:e.row.main.head.name,partitionId:e.row.id,index:_,aid:n.aid,dashPlayTime:f,countPlayTime:C});break;default:m("partition_recommend",s,{mid:h.mid,aid:n.aid,index:_});break}};return{inlinePlayerTactics:Y(!0,{percent:.4}),loaderRef:i,handler:r,refresh:c,reportHandle:t}}}),Ao={class:"information-area"},Po={class:"information-body"},So={class:"information-body"};function Eo(e,i,a,r,c,d){const o=Z,m=q,u=D,p=g("bili-video-card"),l=g("bili-list-view"),t=O("report");return L((k(),y("div",Ao,[w(u,{row:e.row},{right:b(()=>[L(w(o,{onClick:e.refresh},null,8,["onClick"]),[[t,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]]),L(w(m,{href:e.row.main.head.link},null,8,["href"]),[[t,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]])]),_:1},8,["row"]),w(l,{ref:"loaderRef",ssr:e.ssr,func:e.handler},{default:b(({result:s})=>[v("div",Po,[(k(!0),y(I,null,A(s,(n,_)=>(k(),T(p,z({key:n.bvid,info:n},e.inlinePlayerTactics,{onClickVideo:h=>e.reportHandle("video",n,_,h),onClickFace:h=>e.reportHandle("face",n,_,h),onClickUname:h=>e.reportHandle("nickname",n,_,h),onWatchLater:h=>e.reportHandle("watch-later",n,_,h),onPlayerPlay:h=>e.reportHandle("player-play",n,_,h),onPlayerClose:h=>e.reportHandle("player-close",n,_,h),onPlayerInit:h=>e.reportHandle("player-init",n,_,h)}),null,16,["info","onClickVideo","onClickFace","onClickUname","onWatchLater","onPlayerPlay","onPlayerClose","onPlayerInit"]))),128))])]),loading:b(()=>[v("div",So,[(k(),y(I,null,A(12,s=>w(p,{key:s,skeleton:""})),64))])]),_:1},8,["ssr","func"])],512)),[[t,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])}var To=P(Ro,[["render",Eo]]);const Vo=(e,i)=>{const{id:a,score:r,title:c,origin_image_urls:d}=e;return{cvid:a,score:r,title:c,cover:d[0],url:`//www.bilibili.com/read/cv${a}`,spmInfo:{mod:"partition_rank",idx:"content",ext:"click"}}};const No=S({name:"ArticleRankList",props:B,setup(e){return{handler:async()=>({result:(await E.get("x/article/rank/list",{cid:3},M())).slice(0,10).map(Vo),no_more:!0}),reportHandle:({info:r,index:c})=>{var d,o,m,u;N({c:"partition_rank",d:"content",e:"click",type:"click"},{msg:JSON.stringify({partition_name:(m=(o=(d=e.row)==null?void 0:d.main)==null?void 0:o.head)==null?void 0:m.name,partition_id:(u=e.row)==null?void 0:u.id,type_name:"",content_id:r.cvid,location:c+1})})}}}});function Bo(e,i,a,r,c,d){const o=D,m=g("bili-rank-list-article"),u=g("bili-list-view"),p=ae;return k(),T(p,null,{head:b(()=>[w(o,{row:e.row,main:!1},null,8,["row"])]),body:b(()=>[w(u,{ssr:e.ssr,func:e.handler},{default:b(({result:l})=>[w(m,{list:l,"custom-class":"article-rank-list",grid:"",onClickArticle:i[0]||(i[0]=t=>e.reportHandle(t))},null,8,["list"])]),_:1},8,["ssr","func"])]),_:1})}var Ho=P(No,[["render",Bo]]);const Fo=S({name:"OgvRankList",props:B,setup(e){return{handler:async()=>{var d,o;const{season_type:r}=e.row.aside.params,c=await E.get(r===1?"pgc/web/rank/list":"pgc/season/rank/web/list",G({day:3},(o=(d=e.row)==null?void 0:d.aside)==null?void 0:o.params),M());return{result:(r===1?c.result.list:c.list).slice(0,10).map(m=>li(m,r)),no_more:!0}},reportHandle:({info:r,index:c})=>{var d,o,m,u,p,l;N({c:"partition_rank",d:"content",e:"click",type:"click"},{msg:JSON.stringify({partition_name:(m=(o=(d=e==null?void 0:e.row)==null?void 0:d.aside)==null?void 0:o.head)==null?void 0:m.report.name,partition_id:(l=(p=(u=e==null?void 0:e.row)==null?void 0:u.aside)==null?void 0:p.head)==null?void 0:l.report.id,type_name:"",content_id:r.sid,location:c+1})})}}}});function Do(e,i,a,r,c,d){const o=D,m=g("bili-rank-list-ogv"),u=g("bili-list-view"),p=ae;return k(),T(p,null,{head:b(()=>[w(o,{row:e.row,main:!1},null,8,["row"])]),body:b(()=>[w(u,{ssr:e.ssr,func:e.handler},{default:b(({result:l})=>[w(m,{list:l,"custom-class":"ogv-rank-list",grid:"",onClickOgv:i[0]||(i[0]=t=>e.reportHandle(t))},null,8,["list"])]),_:1},8,["ssr","func"])]),_:1})}var ui=P(Fo,[["render",Do]]);const Oo=e=>{const{aid:i,bvid:a,cid:r,pic:c,stat:d,title:o}=e,{view:m,like:u}=d;return{title:o,aid:i,bvid:a,cid:r,cover:c,stats:{view:m,like:u},url:`//www.bilibili.com/video/${a}`,spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};const Wo=S({name:"BangumiActivityArea",props:B,setup(e){const i=$(null),a=$(1),r=async()=>{var p,l,t;const u=await E.get("x/web-interface/dynamic/region",{rid:13,ps:12,pn:a.value++},M());if((p=u==null?void 0:u.page)==null?void 0:p.num){const s=a.value>=Math.floor(((l=u==null?void 0:u.page)==null?void 0:l.count)/12);a.value=s?a.value=1:((t=u==null?void 0:u.page)==null?void 0:t.num)+1}return{result:u.archives.map(Oo),no_more:!0}},c=()=>{i.value.call("refresh",!1)},{reportVideoClick:d}=K(),{reportReportWatchLaterClick:o}=ie(),m=(u,p,l,t)=>{var s,n,_,h;switch(u){case"bangumi":d({partitionName:e.row.main.head.name,partitionId:e.row.id||((n=(s=e.row)==null?void 0:s.main)==null?void 0:n.head.id),index:l,aid:p.aid});break;case"watch-later":o({partitionName:e.row.main.head.name,partitionId:e.row.id||((h=(_=e.row)==null?void 0:_.main)==null?void 0:h.head.id),type:t==null?void 0:t.type,aid:p==null?void 0:p.aid});break}};return{inlinePlayerTactics:Y(!1,{percent:.4}),loaderRef:i,handler:r,refresh:c,reportHandle:m}}}),Mo={class:"bangumi-activity-area"},Uo={class:"bangumi-activity-body"},jo={class:"bangumi-activity-body"};function Go(e,i,a,r,c,d){const o=Z,m=q,u=D,p=g("bili-movie-card"),l=g("bili-list-view"),t=O("report");return L((k(),y("div",Mo,[w(u,{row:e.row},{right:b(()=>[L(w(o,{onClick:e.refresh},null,8,["onClick"]),[[t,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.main.head.id}},"click"]]),L(w(m,{href:e.row.main.head.link},null,8,["href"]),[[t,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.main.head.id}},"click"]])]),_:1},8,["row"]),w(l,{ref:"loaderRef",ssr:e.ssr,func:e.handler},{default:b(({result:s})=>[v("div",Uo,[(k(!0),y(I,null,A(s,(n,_)=>(k(),T(p,z({key:_+String(n.bvid),info:n},e.inlinePlayerTactics,{"disable-frame":"","disable-hover":"","disable-inline-player":"",onClickMovie:h=>e.reportHandle("bangumi",n,_,h),onWatchLater:h=>e.reportHandle("watch-later",n,_,h)}),null,16,["info","onClickMovie","onWatchLater"]))),128))])]),loading:b(()=>[v("div",jo,[(k(),y(I,null,A(12,s=>w(p,{key:s,skeleton:""})),64))])]),_:1},8,["ssr","func"])],512)),[[t,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.main.head.id}},"show"]])}var Jo=P(Wo,[["render",Go]]);const zo=S({name:"BangumiArea",props:B}),qo={class:"bangumi-area"},Ko={class:"bili-grid"},Qo={class:"bili-grid no-margin"};function Xo(e,i,a,r,c,d){const o=$e,m=ui,u=Jo,p=O("report");return L((k(),y("div",qo,[v("div",Ko,[w(o,{row:e.row},null,8,["row"]),w(m,{row:e.row.main.bottom},null,8,["row"])]),v("div",Qo,[w(u,{row:e.row.main.bottom},null,8,["row"])])],512)),[[p,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])}var Yo=P(zo,[["render",Xo]]);const Zo=S({name:"BangumiArea",props:B}),xo={class:"guo-chuang-area"},er={class:"bili-grid"},ir={class:"bili-grid no-margin"};function ar(e,i,a,r,c,d){const o=$e,m=ui,u=ni,p=si;return k(),y("div",xo,[v("div",er,[w(o,{row:e.row},null,8,["row"]),w(m,{row:e.row.main.extra},null,8,["row"])]),v("div",ir,[w(u,{row:e.row.main.bottom},null,8,["row"]),w(p,{row:e.row.main.bottom},null,8,["row"])])])}var nr=P(Zo,[["render",ar]]);const tr=(e,i)=>{const{season_id:a,cover:r,title:c,sub_title:d,likes:o,plays:m}=e;return{sid:a,title:c,cover:r,url:`//www.bilibili.com/bangumi/play/ss${a}`,stats:{view:m,like:o},subTitle:d,spmInfo:{mod:"partition_recommend",idx:"content",ext:"click"}}};const or=S({name:"VarietyArea",props:B,setup(e){const i=$(null),a=$("0"),r=async()=>{const p=await E.get("pgc/web/variety/feed",{cursor:a.value,page_size:12},M());return{result:((p==null?void 0:p.list)||[]).map(tr),extra:{cursor:p.cursor},no_more:!0}},c=()=>{i.value.call("refresh",!1)},d=p=>{a.value=p.data.extra.cursor},{reportVideoClick:o}=K(),{reportReportWatchLaterClick:m}=ie(),u=(p,l,t,s)=>{switch(p){case"movie":o({partitionName:e.row.main.head.name,partitionId:e.row.id,index:t,aid:l.sid});break;case"watch-later":m({partitionName:e.row.main.head.name,partitionId:e.row.id,type:s==null?void 0:s.type,aid:l==null?void 0:l.sid});break}};return{inlinePlayerTactics:Y(!1,{percent:.4}),loaderRef:i,handler:r,refresh:c,callback:d,reportHandle:u}}}),rr={class:"variety-area"},sr={class:"variety-body"},lr={class:"variety-body"};function cr(e,i,a,r,c,d){const o=Z,m=q,u=D,p=g("bili-movie-card"),l=g("bili-list-view"),t=O("report");return L((k(),y("div",rr,[w(u,{row:e.row},{right:b(()=>[L(w(o,{onClick:e.refresh},null,8,["onClick"]),[[t,{type:"click",c:"partition_change",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]]),L(w(m,{href:e.row.main.head.link},null,8,["href"]),[[t,{type:"click",c:"partition_more",d:"0",e:"click",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"click"]])]),_:1},8,["row"]),w(l,{ref:"loaderRef",ssr:e.ssr,func:e.handler,onSuccess:e.callback},{default:b(({result:s})=>[v("div",sr,[(k(!0),y(I,null,A(s,(n,_)=>(k(),T(p,z({key:_+String(n.sid),info:n},e.inlinePlayerTactics,{"disable-frame":"","disable-hover":"","disable-inline-player":"","short-title":"",onClickMovie:h=>e.reportHandle("movie",n,_,h),onWatchLater:h=>e.reportHandle("watch-later",n,_,h)}),null,16,["info","onClickMovie","onWatchLater"]))),128))])]),loading:b(()=>[v("div",lr,[(k(),y(I,null,A(12,s=>w(p,{key:s,skeleton:"","short-title":""})),64))])]),_:1},8,["ssr","func","onSuccess"])],512)),[[t,{type:"appear",c:"partition",d:"all",e:"show",msg:{partition_name:e.row.main.head.name,partition_id:e.row.id}},"show"]])}var dr=P(or,[["render",cr]]);const ur=S({components:{RecommendedSwipe:za,RecommendedList:an,BattleArea:Et,BangumiArea:Yo,GuoChuangArea:nr,VarietyArea:dr,InformationArea:To,MovieCardList:gn,VideoCardList:ni,ArticleCardList:ot,MangaCardList:ht,LiveCardList:Vn,LiveRankList:Zn,EvaCardList:gt,VideoRankList:si,PgcRankList:Ft,BangumiCardList:$e,MangaRankList:_o,CheeseCardList:yo,CheeseRankList:Lo,ArticleRankList:Ho},setup(){const e=$(!1),i=$(null),a=$([...ia()]),r=$("LOADING"),c=()=>{r.value="VIEWED"},d=()=>{E.get("x/web-show/res/locs",{pf:0,ids:"40,42,44"}).then(o=>{i.value=o})};return pe(()=>{d(),Se(async()=>{const o=await aa();a.value=a.value.concat(o),await me(),e.value=!0,fe.on("guideDialogStatus",m=>{r.value=m})})}),{channel:a,channelLoaded:e,evaBanners:i,SSR_RENDER_COUNT:ge,clickCloseGuideTips:c,isShowNavigationTip:r,isSSR:Ti}}}),pr={class:"bili-layout"};function mr(e,i,a,r,c,d){const o=g("bili-header"),m=xi,u=La,p=g("bili-footer"),l=g("client-only");return k(),y(I,null,[w(o,{"header-type":"large",from:"homepage"}),w(_e,{name:"fade"},{default:b(()=>[e.isShowNavigationTip==="UN_VIEWED"?(k(),y("img",{key:0,class:"more-navigation-guide",src:"https://s1.hdslb.com/bfs/static/jinkela/long/bili-home/more-navigation-guide.png",alt:"\u5206\u533A\u5B9A\u4F4D\u79FB\u52A8\u5230\u4E86\u8FD9\u91CC",importance:"low",loading:"lazy",onClick:i[0]||(i[0]=(...t)=>e.clickCloseGuideTips&&e.clickCloseGuideTips(...t))})):U("",!0)]),_:1}),v("main",pr,[(k(!0),y(I,null,A(e.channel,(t,s)=>{var n,_;return k(),y(I,{key:t.id},[t.ad?(k(),T(m,{key:0,row:t,data:(_=(n=e.evaBanners)==null?void 0:n[t.ad.id])==null?void 0:_[0]},null,8,["row","data"])):U("",!0),v("section",{class:X(t.class)},[(k(),T(Ee(t.main.type),{row:t,ssr:s<e.SSR_RENDER_COUNT},null,8,["row","ssr"])),t.aside?(k(),T(Ee(t.aside.type),{key:0,row:t,ssr:s<e.SSR_RENDER_COUNT},null,8,["row","ssr"])):U("",!0)],2)],64)}),128))]),e.channelLoaded?(k(),T(l,{key:0},{default:b(()=>[w(u,{channel:e.channel,"onUpdate:channel":i[1]||(i[1]=t=>e.channel=t)},null,8,["channel"]),w(p)]),_:1})):U("",!0)],64)}var _r=P(ur,[["render",mr]]);const hr={components:{IndexPage:_r},setup(){Vi("store",{})}};function wr(e,i,a,r,c,d){const o=g("index-page");return k(),T(Ni,null,{default:b(()=>[w(o)]),_:1})}var vr=P(hr,[["render",wr]]);function kr(){const e=Bi(vr);return e.config.performance=!1,e.use(Hi),e.use(Fi),e.use(Di),e.use(Oi),e.use(Wi),e.use(Mi),e.use(Te.VSpm),e.use(Te.VScale),e.component(Ve.name,Ve),e.component(Ne.name,Ne),e.component("VSwiper",Ui),e.component(Be.name,Be),e.component(He.name,He),e.component(Fe.name,Fe),e.component(De.name,De),e.component(Oe.name,Oe),e.component(We.name,We),e.component(Me.name,Me),e.component(Ue.name,Ue),e.component(je.name,je),e.component(Ge.name,Ge),e.component(Je.name,Je),e.component(ze.name,ze),e.component(qe.name,qe),e.component(Ke.name,Ke),e.component(Qe.name,Qe),e.component(Xe.name,Xe),e.component(Ye.name,Ye),e.component(Ze.name,Ze),e.component(xe.name,xe),{app:e}}const{app:fr}=kr();ji("light");fr.mount("#i_cecream");N({c:"home_basic_data",d:"content",e:"click",type:"click"},{msg:JSON.stringify({b_nut:ye.get("b_nut"),is_modern:E.getConfig("isModern"),is_downgrade:window[E.serverConfigKey]?0:1,buvid_fp:ye.get("buvid_fp")})});
