/*! For license information please see app.31120588fcc827fd8155.js.LICENSE.txt */
(self.webpackChunklive_room=self.webpackChunklive_room||[]).push([[2143],{11294:function(t,e,n){var r={"./zh-cn":83839,"./zh-cn.js":83839};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=11294},31444:function(t,e,n){"use strict";n.d(e,{t:function(){return i}});var r=n(57072);function i(t,e){1===t.dmType&&1===t.emoticonOptions.isDynamic&&t.emoticonOptions.url&&r.default.$emit("EmojiDanmakuAnimation",{info:t,type:e})}},49102:function(t,e,n){"use strict";n.d(e,{x:function(){return r},K:function(){return i}});var r={chatHistoryList:document.getElementById("chat-history-list"),chatItems:document.getElementById("chat-items"),brushPromptDom:document.getElementById("brush-prompt"),penuryGiftMsgDom:document.getElementById("penury-gift-msg"),lotteryGiftToastDom:document.getElementById("lottery-gift-toast"),maxDanmakuLength:100,lockScrolling:!1,eventPrefix:"ChatHistoryPanel: ",chatItemClassPrefix:"chat-item ",danmakuBufferPrompt:document.getElementById("danmaku-buffer-prompt")},i="#999999"},67218:function(t,e,n){"use strict";n.d(e,{fq:function(){return st.fq},j2:function(){return st.j2},OM:function(){return Nt},Gc:function(){return pe},RJ:function(){return O},Fu:function(){return J},Vh:function(){return Gt.V},a7:function(){return pt},kf:function(){return lt.kf},U2:function(){return st.U2},oF:function(){return Wt},VI:function(){return st.VI},$k:function(){return st.$k},jN:function(){return ut},tQ:function(){return Ft},Zo:function(){return st.Zo},GL:function(){return a.G},S1:function(){return Lt}});var r=n(20116),i=n.n(r),o=n(3595),a=n(7006),s=n(84706),c=n(1308),u=n(62550),l=n(55716),f={40:{url:n(88652)},42:{url:n(39459)},43:{url:n(1719)},45:{url:n(76648)},46:{url:n(44276)}};var d="//link.bilibili.com/p/center/index#/user-center/wearing-center/library",p="点击查看所有直播头衔 "+l.randomEmoji.happy();function h(t){var e=(0,s.az)("div","title-label dp-i-block p-relative v-middle",null),n=(0,u.titleParser)(t),r=parseInt(n.id);e.innerHTML=(0,u.titleIconHtml)(r,parseInt(n.level));var i=function(t){var e=f[t];return e?e.url:null}(r);if(i){var o=(0,s.az)("img","tachie-title p-absolute",null,[["src",i]]),a=(0,s.az)("a",null,null,[["title","稀有的立绘头衔，四不四很腻害！"+l.randomEmoji.happy()],["href",d],["target","_blank"]]);a.appendChild(o),e.appendChild(a)}else{var c=(0,s.az)("div","hover-panel a-scale-in-ease",'<span style="color: #000">活动头衔</span><br/><a class="out-link" title="'+p+'" href="'+d+'" target="_blank">查看详情</a>',null,!0);e.appendChild(c)}return e}var m=n(96739);var v,g,b,w,y=n(45354),k=n.n(y),_=n(18980),I=n(66552),T=n(86019),x=new(k().Parser);function S(){return void 0===g&&((g=(0,s.az)("audio","audio-danmu",null,[["src",""],["preload","metadata"]])).addEventListener("ended",(function(){A()})),console.log("创建新的Audio实例")),g}function A(){var t=document.querySelector(".audio-danmu-box.playing");null!==t&&(null!=b&&(b.stepToPercentage(0),b=null),I.Rw.volume(w),t.classList.remove("playing"))}x.load(T,(function(t){v=t}));var C,R,E=n(49102);!function(t){t[t.guardZong=1]="guardZong",t[t.guardTi=2]="guardTi",t[t.weekAllAreaTop1=3]="weekAllAreaTop1",t[t.weekSubAreaTop1=4]="weekSubAreaTop1"}(C||(C={}));var L=((R={})[C.guardZong]="guard-level-1",R[C.guardTi]="guard-level-2",R[C.weekAllAreaTop1]="week-all-area-top-1",R[C.weekSubAreaTop1]="week-sub-area-top-1",R);var P=n(30582),M=n(65140),D=n(97225),N=n(2790),B=null;function O(t,e){var n=function(t){var e,n=o.h.state.baseInfoUser.uid,r=t.userInfo.fansMedal,a=t.userInfo.title,u=t.userInfo.uid,f=(t.userInfo.guardLevel,n===u&&0!==n),d=t.content,p=o.h.getters.baseInfoAnchor,g=o.h.getters.baseInfoRoom,y=(o.h.getters.baseInfoUser,t.userInfo.chatBubbleType),C=t.userInfo.chatBubbleColor,R=p.uid===u,B=t.validation&&(t.validation.ts||0),O=t.validation&&(t.validation.ct||""),F=[["data-uname",t.userInfo.username],["data-type",""+t.dmType],["data-uid",""+u],["data-ts",""+B],["data-ct",""+O],["data-danmaku",d]],G="";switch(t.dmType){case 1:G=t.emoticonOptions&&t.emoticonOptions.emoticonUnique+"";break;case 2:G=t.voiceInfo&&t.voiceInfo.file_id}G&&F.push(["data-file-id",G]);var U=t.emoticonOptions&&t.emoticonOptions.url||"";U&&F.push(["data-image",U]);var Z=(0,s.az)("div",E.x.chatItemClassPrefix+"danmaku-item",null,F),V=1===t.dmType&&t.emoticonOptions&&t.emoticonOptions.bulgeDisplay;if(!V)if(C){Z.className+=" chat-colorful-bubble";var H=(0,M.H)(C.split(",")&&C.split(",")[0]||"");Z.style.backgroundColor=H}else{var W=L[y]||"";Z.className+=" "+W}var j=i()(e=g.onlineGoldRank).call(e,(function(t){return u===t.uid}))[0];if(j&&j.rank&&j.rank<=3){var z=(0,D.U)(j.rank);Z.appendChild(z)}if(r&&r.isLight){var Y=(0,c.M)(r);Z.appendChild(Y)}if(t.userInfo.isAdmin||R){var K=function(t){return void 0===t&&(t="admin"),(0,s.az)("div",t+"-icon dp-i-block p-relative v-middle",null,[["title","这是位大人物 "+l.randomEmoji.happy()]])}(R?"anchor":"admin");Z.appendChild(K)}if(t.userInfo.isVip||t.userInfo.isSvip){var J=(0,m.q)(t.userInfo.isSvip);Z.appendChild(J)}if(a){var Q=h(a);Z.appendChild(Q)}if(!P.ge){var X=function(t,e,n){void 0===n&&(n=!1);var r=(0,s.az)("div","user-level-icon lv-"+t+" dp-i-block p-relative v-middle","UL "+t,[["title","这是 TA 的用户等级 "+l.randomEmoji.happy()]]);if(!n){var i=(0,s.az)("div");i.className="hover-panel t-left a-scale-in-ease",i.innerHTML="\n      <span>用户等级："+t+'</span>\n      <br>\n      <a class="bili-link" href="//live.bilibili.com/p/eden/rank#/childnav/level/0" target="_blank">\n        <span>用户排名：'+e+"</span>\n      </a>\n    ",r.appendChild(i)}return r}(t.userInfo.userLevel,t.userInfo.rank);Z.appendChild(X)}var q=(0,s.az)("span","user-name v-middle "+(f?"my-self":"pointer open-menu"),t.userInfo.username+" : ",t.activityInfo.usernameColor&&[["style","color:"+t.activityInfo.usernameColor]]);if(Z.appendChild(q),1===t.dmType&&t.emoticonOptions){Z.className+=" chat-emoticon";var $="danmaku-content v-middle ts-dot-2 pointer emoticon",tt=20;V&&($+=" bulge",tt=40);var et=(0,N.$)(t.emoticonOptions.url,null,tt),nt=t.emoticonOptions.emoji||d,rt=f?"":"open-menu",it='<img class="'+rt+'" src="'+et+'" alt="'+nt+'" onerror="this.classList.add(\'error\')" />',ot='<span class="'+rt+'">'+nt+"</span>",at=(0,s.az)("span",$,it+ot,null,!0);Z.appendChild(at)}else if(2===t.dmType&&t.voiceInfo){var st=function(t){var e=t.voice_url,n=(0,s.az)("div","audio-danmu-box",null),r=(0,s.az)("div","audio-danmu-svga",null),i=(0,s.az)("div","audio-danmu-length",t.file_duration+'"');n.appendChild(r),n.appendChild(i);var o=new(k().Player)(r);return void 0===v?x.load(T,(function(t){v=t,o.setVideoItem(t)})):o.setVideoItem(v),n.addEventListener("click",(function(t){var r=S();if(n.classList.contains("playing"))r.pause(),A(),_.default.report("voice_danmu_click",{action_type:0});else{r.src=decodeURIComponent(e),r.load(),A(),b=o;var i=(I.Rw.getPlayerInfo().volume||{}).value,a=void 0===i?10:i;10!==a&&(w=a),r.play().then((function(){I.Rw.volume(10),o.startAnimation(),n.classList.add("playing")})).catch(),_.default.report("voice_danmu_click",{action_type:1})}})),n}(t.voiceInfo);Z.appendChild(st);var ct=(0,s.az)("div","danmaku-content v-middle pointer ts-dot-2"+(f?"":" open-menu"),d);Z.appendChild(ct)}else{var ut=(0,s.az)("span","danmaku-content v-middle pointer ts-dot-2"+(f?"":" open-menu"),d);Z.appendChild(ut)}return Z}(t);"function"==typeof B&&(n=B(n,t)),a.G.renderEl(n),e&&a.G.unlock()}var F=n(63109),G=n.n(F),U=n(93476),Z=n.n(U),V=n(50417),H=n(26510),W=n(55391),j=n(23933),z=function(t,e,n,r){return new(n||(n=Z()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Y=E.x.chatHistoryList,K=E.x.penuryGiftMsgDom;function J(t){t.effectBlock?function(t){z(this,void 0,void 0,G().mark((function e(){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(X),clearTimeout(q),Q&&et(),e.next=5,at(t);case 5:Q=e.sent,K.appendChild(Q),rt(!0),X=setTimeout((function(){Q&&(Q.className=Q.className.replace($,tt)),q=setTimeout((function(){et(),rt(!1),Q=null}),380)}),5e3);case 9:case"end":return e.stop()}}),e)})))}(t):function(t){z(this,void 0,void 0,G().mark((function e(){var n;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(t);case 2:n=e.sent,a.G.renderEl(n);case 4:case"end":return e.stop()}}),e)})))}(t)}var Q=null,X=null,q=null,$=/a-move-in-top/,tt="a-move-out-bottom";function et(){K.innerHTML=""}var nt=" with-penury-gift";function rt(t){t?Y.className.indexOf(nt)<0&&(Y.className+=nt,(0,s.Og)()):Y.className=Y.className.replace(nt,"")}function it(t){return z(this,void 0,void 0,G().mark((function e(){var n;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.giftInfo.id,j.e.getGiftAssetsById(n)){e.next=5;break}return e.next=5,(0,H._6)();case 5:case"end":return e.stop()}}),e)})))}function ot(t){return z(this,void 0,void 0,G().mark((function e(){var n,r,i,o,a,u,l,f,d,p,h,m,v,g,b,w,y,k,_,I,T;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(t);case 2:return n=W.jG.isStudio&&t.sendMaster,r=t.giftInfo.id,i=t.fansMedal,o="gift-item",n&&(o+=" studio "),a=(0,s.az)("div",E.x.chatItemClassPrefix+o),i&&i.isLight&&(u=(0,c.M)(i,"gift-fans-medal v-bottom"),a.appendChild(u)),l=(0,s.az)("span","username v-bottom",t.userInfo.username,t.userInfo.nameColor&&[["style","color: "+t.userInfo.nameColor]]),a.appendChild(l),f=(0,s.az)("span","action v-bottom",t.action),a.appendChild(f),n&&(d=(0,s.az)("span","master-name v-bottom",t.sendMaster.uname),a.appendChild(d)),t.blindGift?(p=(0,s.az)("span","gift-name v-bottom",t.blindGift.original_gift_name),a.appendChild(p)):(h=(0,s.az)("span","gift-name v-bottom",t.giftInfo.label),a.appendChild(h)),t.blindGift&&(m=(0,s.az)("span","action v-bottom",t.blindGift.gift_action||"爆出"),a.appendChild(m),v=(0,s.az)("span","gift-name v-bottom",t.giftInfo.label),a.appendChild(v)),g=n?24:40,b=(0,s.az)("div","dp-i-block v-middle",(0,V.B)(r,g),null,!0),a.appendChild(b),w=t.giftInfo.count,y=t.blindGift?(0,s.az)("span","gift-num v-bottom",w>=1&&!t.giftInfo.totalNum?"x"+w+" ":" "):(0,s.az)("span","gift-num v-bottom",w>1&&!t.giftInfo.totalNum?"x"+w+" ":" "),a.appendChild(y),(k=t.giftInfo.totalNum)?(_=(0,s.az)("span","gift-total-count v-bottom",k>1?"共"+k+"个":""),a.appendChild(_)):(I=t.giftInfo.comboCount,T=(0,s.az)("span","gift-count v-bottom",I>1?I+"连击":""),a.appendChild(T)),e.abrupt("return",a);case 25:case"end":return e.stop()}}),e)})))}function at(t){return z(this,void 0,void 0,G().mark((function e(){var n,r,i,o,a,c,u;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(t);case 2:return n=t.giftInfo.id,"penury-gift-item v-middle a-move-in-top",r=(0,s.az)("div","penury-gift-item v-middle a-move-in-top"),i=(0,s.az)("span","username v-middle",t.userInfo.username),r.appendChild(i),o=(0,s.az)("span","action v-middle",t.action),r.appendChild(o),a=(0,s.az)("span","gift-name v-middle",t.giftInfo.label),r.appendChild(a),c=(0,s.az)("div","dp-i-block v-middle",(0,V.B)(n,20),null,!0),r.appendChild(c),u=(0,s.az)("span","count","X "+t.giftInfo.count),r.appendChild(u),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))}var st=n(69390),ct=n(43650);function ut(t){var e;e=function(t){var e=(0,s.az)("div",E.x.chatItemClassPrefix+" system-msg border-box",null,[["style","border: 1px solid "+t.borderColor]]),n=(0,ct.W)(t.msgContent,t,'class="v-middle"'),r=t.headIcon?'<i class="msg-icon bg-cover dp-relative" role="img" style="background-image:url('+t.headIcon+')"></i>':"";return e.style.background=t.bgColor,e.innerHTML="\n    "+r+'\n    <div class="msg-content p-relative" style="color:'+t.textColor+';">\n      '+(t.linkUrl&&!t.isSelf?'<a class="link" href="'+t.linkUrl+'" target="_blank">'+n+"</a>":"<span>"+n+"</span>")+"\n    </div>",t.showReport(),e.addEventListener("click",(function(){t.clickReport()})),e}(t),a.G.renderEl(e)}var lt=n(33214),ft=n(3649),dt=n.n(ft);function pt(t){var e,r=t.dmConf,i=t.matchInfo,o=t.initInfo,c=function(t){var e=t.dmConf,r=t.assistName,i=e.font_color,o=e.bg_color;if(r){var a=(0,s.az)("div",E.x.chatItemClassPrefix+"new-video-pk-item-dm",null,[["style","background: "+o]]);if(r){var c=r.length>7?dt()(r).call(r,0,7)+"...":r,u=(0,s.az)("div","new-video-pk-dm-desc","恭喜"),l=(0,s.az)("div","new-video-pk-dm-text",""+c,[["style","color: "+i]]),f=(0,s.az)("div","new-video-pk-dm-desc","成为主播的"),d=(0,s.az)("img","new-video-pk-dm-pic",null,[["src",""+n(87570)]]);a.appendChild(u),a.appendChild(l),a.appendChild(f),a.appendChild(d)}return a}}({dmConf:r,assistName:e=2===i.result_type?i.assist_info[0].uname:o.assist_info[0].uname});e&&a.G.renderEl(c)}var ht=n(57285),mt=n.n(ht),vt=n(57072);function gt(){var t=E.x.chatHistoryList,e=null;e=o.h.watch((function(){return o.h.getters.baseInfoAnchor.uid}),(function(n){if(n){for(var r=t.querySelectorAll('.danmaku-item[data-uid="'+n+'"]'),i=0,o=r.length;i<o;i++){var a=r[i].querySelector(".admin-icon");a.className=a.className.replace("admin-icon","anchor-icon")}e()}}))}var bt=n(51064),wt=n(24251),yt=n(68913),kt=n(2708),_t=n(90801),It=function(t,e,n,r){return new(n||(n=Z()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Tt="系统提示：哔哩哔哩直播内容及互动评论须严格遵守直播规范，严禁传播违法违规、低俗血暴、吸烟酗酒、造谣诈骗等不良有害信息。如有违规，平台将进行封禁直至永久封停账号哦！注意理性打赏，未成年不提倡大额打赏。请勿轻信平台上各类广告信息，谨防上当受骗。";function xt(t){if(""===t)return Tt;var e=JSON.parse(t),n=JSON.parse(e.civilized_notice);return""===n.notice?Tt:n.notice}function St(){return It(this,void 0,void 0,G().mark((function t(){var e,n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_t.Z.get("civilized_pledge");case 2:e=t.sent,n=xt(e),r=At(n),a.G.renderEl(r);case 5:case"end":return t.stop()}var r}),t)})))}function At(t){return(0,s.az)("div",E.x.chatItemClassPrefix+" convention-msg border-box",t,[])}var Ct=n(65643);function Rt(t){t.forEach((function(t){!function(t){e=function(t){var e=(0,s.az)("div",E.x.chatItemClassPrefix+" guard-renew-msg border-box",null,[]),n=(0,ct.W)(t.content,{textColor:"#999999",highlightColor:"#FB7299"});e.innerHTML=n;var r=(0,s.az)("div","guard-renew-btn border-box",t.btn_text,[["level",t.guard_level]]);return r.addEventListener("click",(function(){var t;t=this.getAttribute("level"),(0,Ct.QL)({level:t,fromType:7})})),e.appendChild(r),e}(t),a.G.renderEl(e);var e}(t)}))}var Et=function(t,e,n,r){return new(n||(n=Z()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function Lt(t){return Et(this,void 0,void 0,G().mark((function e(){var n,r;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vt.default.$on(E.x.eventPrefix+"LockScrolling",(function(t){t&&(E.x.lockScrolling=!!t.value)})),Pt(),e.next=4,(0,P.jP)();case 4:return e.prev=4,e.next=7,(0,wt.aT)(t);case 7:if(!(n=e.sent).error){e.next=10;break}return e.abrupt("return",Mt(n.error));case 10:n.data.forEach((function(t){return O(t)})),o.h.dispatch("baseInfoRoom",{isHistoryDanmakuReady:!0}).catch(kt.noop),Dt(),St().catch(kt.noop),(r=o.h.state.baseInfoUser.interactToasts)&&r.length>0&&Rt(r),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),Mt(e.t0);case 22:gt();case 23:case"end":return e.stop()}}),e,null,[[4,19]])})))}function Pt(){var t=E.x.chatHistoryList,e=0;function n(n,r){"top"===n&&(E.x.lockScrolling?t.scrollTop+t.offsetHeight>=t.scrollHeight&&a.G.unlock():(0===e&&(e=t.scrollTop),t.scrollTop<e&&vt.default.$emit(E.x.eventPrefix+"LockScrolling",{value:!0,source:"scroll"})))}mt().initialize(t,{handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],wheelPropagation:!0,swipePropagation:!0,suppressScrollX:!0,useBothWheelAxes:!0,onWheelScroll:n,onDragScroll:n,onClickScroll:n,onKeydownScroll:n,onTouchMove:n}),t.addEventListener("scroll",(function(n){n.preventDefault(),n.stopPropagation(),E.x.lockScrolling||(e=t.scrollTop)})),t.addEventListener("click",(function(t){var e=t.target;if(!(e.className.indexOf("open-menu")<0)){var n=(0,kt.findTargetParentElement)(e,"chat-item danmaku-item");if(n){var r=n.dataset.uname||"",i=parseInt(n.dataset.uid)||0,o=n.dataset.danmaku||"",a=parseInt(n.dataset.ts)||0,s=n.dataset.ct||"",c=parseInt(n.dataset.type)||0,u=n.dataset.fileId||"",l=n.dataset.image||"",f=e.getBoundingClientRect(),d=f.left,p=f.top;(0,bt.AE)(d,p,{username:r,uid:i,content:o,ts:a,sign:s,dmType:c,fileId:u,imgUrl:l})}}})),E.x.danmakuBufferPrompt&&E.x.danmakuBufferPrompt.addEventListener("click",(function(){a.G.unlock()}))}function Mt(t){(0,yt.$S)("chat-history-panel/init")("历史弹幕列表初始化失败",t)}function Dt(){var t=o.h.state.baseInfoUser.guideLightMedal;t?(0,st.J5)():o.h.watch((function(){return o.h.getters.baseInfoUser.guideLightMedal}),(function(){(t=o.h.state.baseInfoUser.guideLightMedal)&&(0,st.J5)()}))}function Nt(t){a.G.renderEl(function(t){var e=(0,s.az)("div",E.x.chatItemClassPrefix+"boom-votes-msg");return e.innerHTML='\n    <span>\n      <span class="text v-middle">暴击！</span>\n      <span class="v-middle" style="color: #fb7299">'+t.username+'</span>\n      <span class="text v-middle">为主播额外增加'+t.pkName+t.pkVotes+"</span>\n    </span>\n  ",e}(t))}var Bt=null,Ot=E.x.chatHistoryList;function Ft(t){Bt=function(t){var e=(0,s.az)("div",E.x.chatItemClassPrefix+"toast-msg"),n=(0,s.az)("span","action v-middle",t.content);return n.style.color=t.color||"#999",n.style.fontSize=(t.fontSize||12)+"px",e.appendChild(n),e}(t),Ot.children.length>=E.x.maxDanmakuLength&&Ot.removeChild(Ot.children[0]),Ot.appendChild(Bt),(0,s.Og)()}var Gt=n(38417),Ut=E.x.lotteryGiftToastDom;var Zt=[];function Vt(t){var e=(0,s.az)("div","lottery-gift-item border-box",t.toast_msg?t.toast_msg.replace("\\n","<br>"):"",[],!0);Ut.appendChild(e),setTimeout((function(){Ut.innerHTML="",Zt.shift(),Zt.length&&setTimeout((function(){Vt(Zt[0])}),500)}),3e3)}function Ht(t){Zt.length>=10||(0===Zt.length&&Vt(t),Zt.push(t))}function Wt(t){var e;t&&t.interact_msg&&(e=function(t){var e=(0,s.az)("div",E.x.chatItemClassPrefix+"lottery-gift-msg border-box",null,[]),n=function(t,e){var n=t.replace(/(<%\$.*?\$%>)/g,(function(t){return'<span style="font-weight: bold; color: '+e.highlightColor+';">'+t.substring(3,t.length-3)+"</span>"})).replace(/(<%.*?%>)/g,(function(t){return'<span style="color: '+e.highlightColor+';">'+t.substring(2,t.length-2)+"</span>"})).replace(/(<\$.*?\$>)/g,(function(t){return'<span style="font-weight: bold;">'+t.substring(2,t.length-2)+"</span>"}));return'<div style="color:'+e.textColor+';">'+n+"</div>"}(t.interact_msg,{textColor:"#4F97FA",highlightColor:t.highlight_col});return e.innerHTML=n,e}(t),a.G.renderEl(e)),t&&t.toast_msg&&Ht(t)}var jt=n(78580),zt=n.n(jt),Yt=n(62462),Kt=n.n(Yt),Jt=n(92762),Qt=n.n(Jt),Xt=n(77766),qt=n.n(Xt),$t=n(2991),te=n.n($t),ee=n(94473),ne=n.n(ee),re=n(66419),ie=n.n(re),oe=n(65420),ae=n.n(oe),se=n(19996),ce=n.n(se),ue=n(41532);function le(t,e){var n=void 0!==ae()&&ce()(t)||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return fe(t,e);var r=dt()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return ie()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function de(t){switch(t.type){case 1:return function(t,e){var n=t.replace(/(<%<\$.*?\$>%>)/g,(function(t){return'<span style="font-weight: bold; color: '+e.highlightFontColor+';">'+t.substring(4,t.length-4)+"</span>"})).replace(/(<%.*?%>)/g,(function(t){return'<span style="color: '+e.highlightFontColor+';">'+t.substring(2,t.length-2)+"</span>"})).replace(/(<\$.*?\$>)/g,(function(t){return'<span style="font-weight: bold; color: '+e.fontColor+'">'+t.substring(2,t.length-2)+"</span>"}));return'<div style="color: '+e.fontColor+'; display: inline; vertical-align: middle;">'+n+"</div>"}(t.text,{fontColor:t.font_color,highlightFontColor:t.highlight_font_color});case 2:var e=t.img_width?t.img_width+"px":"auto",r=t.img_height?t.img_height+"px":"14px";return function(t,e,r){return'<img src="'+t+'" onerror="this.src=\''+n(41533)+'\';"   alt="" style="width: '+e+";   height: "+r+'; display: inline; vertical-align: middle; margin: 0 4px;"></span>'}(t.img_url,e,r);case 3:return function(t,e){var n=e.backgroundColor,r=e.fontColor,i=e.fontBold;return'<a href="'+e.url+'" style="display: inline; vertical-align: middle; margin: 0 4px;" target="_blank"><span style="color: '+r+";\n    cursor: pointer;\n    border-radius: 4px;\n    font-weight: "+(i?"bold":"normal")+";\n    padding: 0px 4px;\n    background-color: "+n+';; display: inline-block; vertical-align: middle;">'+t+"</span></a>"}(t.text,{backgroundColor:t.background_color,fontColor:t.font_color,fontBold:t.font_bold,url:t.uri});default:return""}}function pe(t){var e;if(t&&t.content_segments&&t.content_segments.length){var n,r,o=[1,2,3];t.content_segments=i()(n=t.content_segments).call(n,(function(t){return!(1===t.type&&!t.text)&&(!(2===t.type&&!t.img_url)&&(!!(3!==t.type||t.text&&t.uri)&&zt()(o).call(o,t.type)))}));var c=Kt()(r=t.content_segments).call(r,(function(t){return 3===t.type}));if(-1!==c){var u,l,f=Qt()(u=t.content_segments).call(u,c,1);t.content_segments=qt()(l=t.content_segments).call(l,f)}}if(t&&t.content_segments&&t.content_segments.length&&zt()(e=t.terminals).call(e,4)){var d,p,h="";if(t.danmaku_style&&t.danmaku_style.background_color&&t.danmaku_style.background_color.length)t.danmaku_style.background_color=te()(d=t.danmaku_style.background_color).call(d,ue.Z),ne()(p=t.danmaku_style.background_color).call(p,(function(t){return!t}))&&(t.danmaku_style.background_color=["transparent"]),h=t.danmaku_style.background_color.length>1?"background-image: linear-gradient(to right, "+t.danmaku_style.background_color.toString()+");":"background-color: "+t.danmaku_style.background_color.toString()+";";for(var m,v,g=(0,s.az)("div",E.x.chatItemClassPrefix+"common-danmuku-msg border-box",null,[["style",h+" border-radius: 4px; padding: 8px 6px; line-height: 1.5;"]]),b=[],w=le(t.content_segments);!(m=w()).done;){var y=m.value;b.push(de(y))}g.innerHTML=b.join(""),v=g,a.G.renderEl(v)}}},1308:function(t,e,n){"use strict";n.d(e,{M:function(){return s}});var r=n(36893),i=n(55716),o=n(84706),a=n(46633);function s(t,e){var n="fans-medal-item-ctnr fans-medal-item-target dp-i-block p-relative v-middle";e&&(n+=" "+e),a.m.switchInfo.isShowFansMedal||(n+=" dp-none");var s=(0,o.az)("div",n,null,[["title","这是 TA 的粉丝勋章 "+i.randomEmoji.happy()],["data-anchor-id",""+t.anchorId],["data-room-id",""+t.shortRoomID]]),c={level:t.level||1,label:t.label||"--",type:t.special||"",shortRoomID:t.shortRoomID||0,anchorUsername:t.anchorUsername||"",hideHover:!1,isLighted:t.isLight,medalColor:t.medalColor||null,medalColorStart:t.medalColorStart,medalColorEnd:t.medalColorEnd,medalColorBorder:t.medalColorBorder,anchorId:t.anchorId,guardLevel:t.guardLevel||0};return t.iconId?c.iconId=t.iconId||0:c.anchorId=t.anchorId||0,s.innerHTML=(0,r.getMedalHtml)(c),s}},97225:function(t,e,n){"use strict";n.d(e,{U:function(){return i}});var r=n(84706);n(7006);function i(t){return(0,r.az)("i","rank-icon rank-icon-"+t+" v-middle")}},38417:function(t,e,n){"use strict";n.d(e,{m:function(){return a},V:function(){return s}});var r=n(84706),i=n(7006),o=n(49102);function a(){return(0,r.az)("i","hot-icon hot-icon-img v-middle")}function s(t){var e=(0,r.az)("div",o.x.chatItemClassPrefix+"hot-rank-msg");t=(t=t.replace(/<%/g,'<span style="color: #FF86B2">')).replace(/%>/g,"</span>"),e.innerHTML="<span style='color:#998EFF'>"+t+"</span>",i.G.renderEl(e)}},33214:function(t,e,n){"use strict";n.d(e,{kf:function(){return et},Ce:function(){return nt}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(39392),c=n.n(s),u=n(51942),l=n.n(u),f=n(47302),d=n.n(f),p=n(3649),h=n.n(p),m=n(66419),v=n.n(m),g=n(72119),b=n.n(g),w=n(49102),y=n(7006),k=n(84706),_=n(65140),I=n(23933),T=n(2183),x=n(34074),S=n.n(x),A=n(9669),C=n.n(A),R=n(8605),E=n(32841),L=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=S()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},P=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},M=function(){function t(){}return t.triggerInteract=function(t){return P(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/xlive/web-room/v1/index/TrigerInteract",e.next=3,C().post("/xlive/web-room/v1/index/TrigerInteract",{roomid:I.e.getRoomId(),interact_type:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",new R.K(r));case 6:case"end":return e.stop()}}),e)})))},t}();L([(0,E.Z)()],M,"triggerInteract",null);var D,N=n(6547),B=n(20685),O=n(96739),F=n(1308),G=n(97225),U=n(38417),Z=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},V=((D={})[B.X.zong]=T.R$.GuardZong,D[B.X.ti]=T.R$.GuardTi,D[B.X.jian]=T.R$.GuardJian,D),H=w.x.chatHistoryList,W=w.x.brushPromptDom,j=new(c()),z=0,Y=null,K=0,J=null,Q=null,X=null,q=null,$=/a-move-in-top/,tt="a-move-out-bottom";function et(t){var e=function(t){var e=I.e.getStore().getters.baseInfoUser,n=t.uid===I.e.getUid(),r=0,i="",o="",a=0,s=0,c=!1,u=t.msgType;if(n){var l=e.privilege.privilegeType,f=e.isVip,d=t.msgType===T.Sv.Entry,p=d&&l&&!e.privilege.noticeStatus,h=d&&l&&e.privilege.noticeStatus||!d&&l,m=d&&f&&e.showVipTips||!d&&f;r=h?V[l]:m?e.isSvip?T.R$.SVip:T.R$.Vip:T.R$.Normal,m&&(a=1,s=+e.isSvip),i=e.username,o=p?w.K:N.lh.userExtraInfo.unameColor,c=e.medal}else t.identities&&t.identities.indexOf(T.R$.Vip)>-1&&(a=1),t.identities&&t.identities.indexOf(T.R$.SVip)>-1&&(s=1),r=t.highestIdentity,i=t.userName,o=t.nameColor,c=t.fansMedal;return o=o||w.K,{username:i,nameColor:o,vip:a,svip:s,identity:r,msgType:u,fansMedal:c,rank:t.rank,tailIcon:t.tailIcon}}(t),n=t.uid===I.e.getUid(),r=e.identity>=T.R$.GuardJian,i=e.rank>0&&e.rank<=3;(n||!r&&!i||t.msgType!==T.Sv.Entry)&&(n||r||i?function(t){var e=function(t){var e="important-prompt-item",n=(0,k.az)("div",w.x.chatItemClassPrefix+e,null);if(t.rank&&t.rank<=3){var r=(0,G.U)(t.rank);n.appendChild(r)}var i=t.fansMedal;if(i&&i.isLight){var o=(0,F.M)(i);n.appendChild(o)}if(t.vip||t.svip){var a=(0,O.q)(!!t.svip);n.appendChild(a)}var s=ct(t);if(n.appendChild(s.name),n.appendChild(s.desc),t.tailIcon&&101===t.tailIcon){var c=(0,U.m)();n.appendChild(c)}return n}(t);y.G.renderEl(e)}(e):(!function(t,e){var n;if(z>e.timestamp)return;var r=j.get(e.timestamp)||[];r.push(l()(l()({},t),{score:e.score})),d()(r).call(r,(function(t,e){return e.score-t.score}));var i=h()(r).call(r,0,2);j.set(e.timestamp,i),j=new(c())(d()(n=v()(j)).call(n,(function(t,e){return t[0]-e[0]})))}(e,{timestamp:t.timestamp,score:t.score}),!z&&rt()))}function nt(t){return Z(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.triggerInteract(t);case 2:if((n=e.sent).error||!n.data){e.next=5;break}return e.abrupt("return",n.data.allow_mock);case 5:case"end":return e.stop()}}),e)})))}function rt(){var t=b()(j).call(j).next().value;t?(J&&clearTimeout(J),z=t[0],Y=t[1],j.delete(z),K=0,it()):J=setTimeout((function(){0===j.size?(z=0,Y=null,K=0):rt()}),500)}function it(){!function(t){clearTimeout(X),clearTimeout(q),Q&&ot();Q=function(t){var e="dp-flex flex-v-center brush-prompt-item v-middle a-move-in-top",n=(0,k.az)("div",e,null),r=t.fansMedal;if(r&&r.isLight){var i=(0,F.M)(r,"flex-no-shrink");n.appendChild(i)}if(t.vip||t.svip){var o=(0,O.q)(!!t.svip);n.appendChild(o)}var a=ct(t);return n.appendChild(a.name),n.appendChild(a.desc),n}(t),W.appendChild(Q),st(!0),X=setTimeout((function(){Q&&(Q.className=Q.className.replace($,tt)),q=setTimeout((function(){ot(),st(!1),Q=null}),0)}),2e3)}(Y[K]),K<Y.length-1?(K+=1,setTimeout(it,500)):setTimeout(rt,500)}function ot(){W.innerHTML=""}var at=" with-brush-prompt";function st(t){t?H.className.indexOf(at)<0&&(H.className+=at,(0,k.Og)()):H.className=H.className.replace(at,"")}function ct(t){var e,n=t.username,r=t.identity,i=t.nameColor,o=t.msgType,a=((e={})[T.Sv.Entry]=r<T.R$.GuardJian?"进入":"光临",e[T.Sv.Attention]="关注了",e[T.Sv.Share]="分享了",e[T.Sv.SpecialAttention]="特别关注了",e[T.Sv.MutualAttention]="互粉了",e),s=(0,_.H)(i);return{name:(0,k.az)("span","t-over-hidden interact-name v-middle",n,[["style","color: "+s+"; margin-right: 4px;"]]),desc:(0,k.az)("span","flex-no-shrink v-middle",a[o]+"直播间",o>T.Sv.Entry?[["style","color: #F7B500"]]:[["style","color: #999999"]])}}},2183:function(t,e,n){"use strict";var r,i,o;n.d(e,{_1:function(){return r},Sv:function(){return i},R$:function(){return o}}),function(t){t[t.Entry=1]="Entry",t[t.Follow=2]="Follow",t[t.Share=3]="Share"}(r||(r={})),function(t){t[t.Entry=1]="Entry",t[t.Attention=2]="Attention",t[t.Share=3]="Share",t[t.SpecialAttention=4]="SpecialAttention",t[t.MutualAttention=5]="MutualAttention"}(i||(i={})),function(t){t[t.Normal=1]="Normal",t[t.Manager=2]="Manager",t[t.Fans=3]="Fans",t[t.Vip=4]="Vip",t[t.SVip=5]="SVip",t[t.GuardJian=6]="GuardJian",t[t.GuardTi=7]="GuardTi",t[t.GuardZong=8]="GuardZong"}(o||(o={}))},69390:function(t,e,n){"use strict";n.d(e,{j2:function(){return d},fq:function(){return p},$k:function(){return c},VI:function(){return u},U2:function(){return l},Zo:function(){return f},JA:function(){return h},aK:function(){return m},J5:function(){return v},b5:function(){return b},o4:function(){return g}});var r=n(49102),i=n(7006),o=n(84706),a=n(3595),s=n(65140);function c(t){w((0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg room-silent on","[系统]："+t))}function u(){w((0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg room-silent off","[系统]：主播取消了房间禁言"))}function l(t){var e=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg kick-out");e.innerHTML='<span>用户 <span style="color: #aaa">'+t+"</span> 已被管理员踢出房间</span>",w(e)}function f(t){var e=t.userShow,n=t.color?(0,s.H)(t.color):r.K,i=t.msg;if(!1!==e){var a=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg guard-buy");i=i.replace(/<%([^%>]+)%>/g,(function(t,e){return'<span style="color: '+n+'">'+e+"</span>"})),a.innerHTML=i,w(a)}}function d(t){var e=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg user-block");e.innerHTML='<span>用户 <span style="color: #aaa">'+t+"</span> 已被管理员禁言</span>",w(e)}function p(t){var e=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg user-block");e.innerHTML='<span>用户 <span style="color: #aaa">'+t+"</span> 已被加入黑名单</span>",w(e)}function h(t){var e=a.h.getters.baseInfoUser.username,n=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg user-block");n.innerHTML='<span>恭喜 <span style="color: #FB7299;">'+e+'</span> 粉丝勋章刚刚升级至 <span style="color: #FB7299;">Lv.'+t+"</span>",w(n)}function m(){var t=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg user-block");t.innerHTML="<span style='color: #FB7299;'>您</span> <span> 刚刚再次点亮了粉丝勋章</span>",w(t)}function v(){var t=a.h.getters.baseInfoAnchor.username,e=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg user-block");e.innerHTML="<span style='color: #FB7299;'>您 </span>和 <span style=\"color: #FB7299;\">"+t+"</span> 的勋章已熄灭</span>",w(e)}function g(t){var e=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg user-block");e.innerHTML="<span style='color: #FB7299;'>您 </span> <span>已解锁</span> <span style='color: #FB7299;'>Lv."+t+"特权礼包</span>",w(e)}function b(){var t=a.h.getters.baseInfoUser.username,e=(0,o.az)("div",r.x.chatItemClassPrefix+"misc-msg user-block");e.innerHTML='<span>恭喜 </span><span style="color: #FB7299">'+t+" </span><span>成为粉丝团成员</span>",w(e)}function w(t){i.G.renderEl(t)}},96739:function(t,e,n){"use strict";n.d(e,{q:function(){return o}});var r=n(84706),i=n(55716).randomEmoji.happy();function o(t){return(0,r.az)("i","vip-icon dp-i-block v-middle flex-no-shrink "+(t?"svip-icon-new":"vip-icon-new"),"",[["title","不来当一发老爷么？"+i]])}},7006:function(t,e,n){"use strict";n.d(e,{G:function(){return d}});var r=n(66570),i=n(26849),o=n(3649),a=n.n(o),s=n(57285),c=n.n(s),u=n(57072),l=n(49102),f=n(84706),d=new(function(t){function e(e,n){var r;return void 0===n&&(n=100),(r=t.call(this,e,n)||this).fragmentBufferList=[],r}(0,r.Z)(e,t);var n=e.prototype;return n.throttle=function(t,e,n){void 0===n&&(n=100);var r,i,o,a=Date.now(),s=function(){t.apply(i,o)},c=function(){var t=Date.now(),c=n-(t-a);i=this,o=arguments,clearTimeout(r),e.apply(i,o),c<=0?(s(),a=Date.now()):r=setTimeout((function(){s()}),c)};return c.cancel=function(){r&&(clearTimeout(r),r=void 0),i=void 0,o=void 0},c.exec=function(){r&&(clearTimeout(r),r=void 0),s()},c},n.appendEl=function(t,e){this.fragmentAppendEl||(this.fragmentAppendEl=this.throttle(this.batchUpdateEl,this.updateFragmentBuffer,100)),this.fragmentAppendEl(t,e)},n.renderFragmentBuffer=function(t,e){if(e.length)if(t>1){for(var n=document.createDocumentFragment(),r=0;r<t;r++)n.appendChild(e.shift());this.chatList.appendChild(n)}else 1===t&&this.chatList.appendChild(e.shift())},n.batchUpdateEl=function(t,e){var n,r=this.nodeNum-this.maxDanmakuLength,i=!l.x.lockScrolling&&this.fragmentBufferList.length,o=l.x.lockScrolling&&r<0;if(i||o){var s=i?this.fragmentBufferList.length:Math.min(Math.abs(r),this.fragmentBufferList.length);this.renderFragmentBuffer(s,this.fragmentBufferList),c().update(l.x.chatHistoryList)}this.fragmentBufferList.length>=this.maxDanmakuLength&&(this.fragmentBufferList=a()(n=this.fragmentBufferList).call(n,-this.maxDanmakuLength));e&&e()},n.updateFragmentBuffer=function(t){this.fragmentBufferList.push(t),this.bufferList++},n.unlock=function(e){void 0===e&&(e=!0),e&&this.renderFragmentBuffer(this.fragmentBufferList.length,this.fragmentBufferList),t.prototype.unlock.call(this,e)},n.renderEl=function(t){var e=this;l.x.lockScrolling?this.appendEl(t,(function(){(0,f.if)(e.bufferNum,!0)})):this.appendEl(t,(function(){e.unlock(!1)}))},e}(function(){function t(t,e){void 0===e&&(e=100),this.bufferList=0,this.chatList=t,this.maxDanmakuLength=e}var e=t.prototype;return e.appendEl=function(t,e){console.log("appendEl",t,e)},e.removeEl=function(t,e){void 0===t&&(t=1),t>=1&&this.shiftElAll(t),e&&e()},e.shiftElAll=function(t){var e=1;if(t>=1)for(;this.chatList.firstChild&&e<=t;)this.chatList.removeChild(this.chatList.firstChild),e++;else for(;this.chatList.firstChild;)this.chatList.removeChild(this.chatList.firstChild);c().update(l.x.chatHistoryList)},e.clearBuffer=function(){this.bufferList=0},e.scrollToBottom=function(){(0,f.Og)()},e.unlock=function(t){var e=this;void 0===t&&(t=!0),this.removeEl(this.nodeOffset,(function(){(0,f.if)(0,!1),e.clearBuffer()})),t&&l.x.lockScrolling&&u.default.$emit(l.x.eventPrefix+"LockScrolling",{value:!1,source:"scroll"}),this.scrollToBottom()},e.renderEl=function(t){console.log("renderEl",t)},(0,i.Z)(t,[{key:"nodeNum",get:function(){return this.chatList.children.length}},{key:"nodeOffset",get:function(){return Math.max(0,this.nodeNum-this.maxDanmakuLength)}},{key:"checkNodeOverflow",get:function(){return this.nodeNum>=this.maxDanmakuLength}},{key:"bufferNum",get:function(){return this.bufferList}},{key:"bufferOffset",get:function(){return Math.max(0,this.bufferNum-this.maxDanmakuLength)}},{key:"checkBufferOverflow",get:function(){return this.bufferNum>=this.maxDanmakuLength}}]),t}()))(l.x.chatItems,l.x.maxDanmakuLength)},84706:function(t,e,n){"use strict";n.d(e,{az:function(){return u},Og:function(){return l},if:function(){return c}});var r=n(57285),i=n.n(r),o=n(49102),a=o.x.chatHistoryList,s=o.x.danmakuBufferPrompt;function c(t,e){if(s){var n=s.querySelector(".danmaku-buffer-num"),r=t?"新消息"+(t>=100?"99+":t):"",i=n&&t&&e?"block":"none";n&&(n.textContent=r),s.style.display!==i&&(s.style.display=i)}}function u(t,e,n,r,i){var o=document.createElement(t);if(e&&(o.className=e),n&&(i?o.innerHTML=n:o.textContent=n),r)for(var a=0,s=r.length;a<s;a++)o.setAttribute(r[a][0],r[a][1]);return o}function l(){o.x.lockScrolling||(window.requestAnimationFrame?window.requestAnimationFrame((function(){a.scrollTop=a.scrollHeight,i().update(a)})):(a.scrollTop=a.scrollHeight,i().update(a)))}},51064:function(t,e,n){"use strict";n.d(e,{S1:function(){return V},AE:function(){return H}});var r=n(70538),i=n(3595),o=n(26849),a=n(66570),s=n(63109),c=n.n(s),u=n(34074),l=n.n(u),f=n(93476),d=n.n(f),p=n(51942),h=n.n(p),m=n(95334),v=n(55716),g=n(82159),b=n(68913),w=n(2708),y=n(9669),k=n.n(y),_=n(74338),I=n(23933),T=function(t,e,n,r){return new(n||(n=d()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},x=function(){function t(){}return t.searchUser=function(t){return T(this,void 0,void 0,c().mark((function e(){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.searchUser,r={search:t},e.next=5,k().get(n,{params:r});case 5:if(i=e.sent,o=i.data,0===parseInt(o.code)){e.next=11;break}return e.abrupt("return",{error:new Error(o.msg||n+" "+_.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:o.msg,code:o.code,data:o.data});case 11:return e.abrupt("return",{data:o.data,error:null});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:_.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))},t.blockUser=function(t,e){return T(this,void 0,void 0,c().mark((function n(){var r,i,o,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=this.urls.blockUser,i={room_id:I.e.getRoomId(),tuid:t,msg:e,mobile_app:"web"},n.next=5,k().post(r,i);case 5:if(o=n.sent,a=o.data,0===parseInt(a.code)){n.next=11;break}return n.abrupt("return",{error:new Error(a.message||r+" "+_.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:a.message,code:a.code,data:null});case 11:return n.abrupt("return",{data:null,error:null});case 12:n.next=17;break;case 14:return n.prev=14,n.t0=n.catch(0),n.abrupt("return",{error:n.t0,errorType:"error",errorMsg:_.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return n.stop()}}),n,this,[[0,14]])})))},t.roomSilent=function(t,e,n){return T(this,void 0,void 0,c().mark((function r(){var i,o,a,s;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=this.urls.roomSilent,o={room_id:I.e.getRoomId(),type:t,level:e,minute:n},r.next=5,k().post(i,o);case 5:if(a=r.sent,s=a.data,0===parseInt(s.code)){r.next=11;break}return r.abrupt("return",{error:new Error(s.message||i+" "+_.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:s.message,code:s.code,data:null});case 11:return r.abrupt("return",{data:null,error:null});case 12:r.next=17;break;case 14:return r.prev=14,r.t0=r.catch(0),r.abrupt("return",{error:r.t0,errorType:"error",errorMsg:_.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return r.stop()}}),r,this,[[0,14]])})))},t.getRoomSilent=function(t){return T(this,void 0,void 0,c().mark((function e(){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.getRoomSilent,e.next=4,k().get(n,{params:{room_id:t}});case 4:if(r=e.sent,i=r.data,0===parseInt(i.code)){e.next=10;break}return e.abrupt("return",{error:new Error(i.message||n+" "+_.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:i.message,code:i.code,data:null});case 10:return e.abrupt("return",{data:i.data,error:null});case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:_.D.SERVER_ERROR_MSG,data:null});case 16:case"end":return e.stop()}}),e,this,[[0,13]])})))},t.addBlack=function(t){return T(this,void 0,void 0,c().mark((function e(){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.addBlack,e.next=4,k().post(n,{tuid:t,spmid:"444.8.0.0"});case 4:if(r=e.sent,i=r.data,0===parseInt(i.code)){e.next=10;break}return e.abrupt("return",{error:new Error(i.message||n+" "+_.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:i.message,code:i.code,data:null});case 10:return e.abrupt("return",{data:i.data,error:null});case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:_.D.SERVER_ERROR_MSG,data:null});case 16:case"end":return e.stop()}}),e,this,[[0,13]])})))},t}();x.urls={searchUser:"/banned_service/v2/Silent/search_user",blockUser:"/xlive/web-ucenter/v1/banned/AddSilentUser",roomSilent:"/xlive/web-room/v1/banned/RoomSilent",getRoomSilent:"/xlive/web-room/v1/banned/GetRoomSilent",addBlack:"/xlive/web-ucenter/v1/banned/AddBlack"};var S=n(2991),A=n.n(S),C=function(){function t(){}return t.filterSearchUserInfo=function(t){var e=(t||{}).items,n=void 0===e?[]:e;return Array.isArray(n)?A()(n).call(n,(function(t){var e=t.uid,n=void 0===e?0:e,r=t.uname,i=void 0===r?"":r,o=t.face;return{uid:n,uname:i,face:void 0===o?"":o}})):[]},t}(),R=function(t,e,n,r){return new(n||(n=d()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},E=function(){function t(){this.isShow=!1,this.openInfo=null}var e=t.prototype;return e.searchUser=function(t){return R(this,void 0,void 0,c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.searchUser(t);case 2:if(!(n=e.sent).error){e.next=6;break}e.next=7;break;case 6:return e.abrupt("return",C.filterSearchUserInfo(n.data));case 7:case"end":return e.stop()}}),e)})))},e.addBlockUser=function(t,e){return R(this,void 0,void 0,c().mark((function n(){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.blockUser(t,e);case 2:if(!(r=n.sent).error){n.next=7;break}return n.abrupt("return",{errorMsg:r.errorMsg});case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})))},e.getRoomSilent=function(t){return R(this,void 0,void 0,c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getRoomSilent(t);case 2:if(!(n=e.sent).error){e.next=7;break}return e.abrupt("return",{data:null,errorMsg:n.errorMsg,errorType:n.errorType});case 7:return e.abrupt("return",{errorMsg:null,data:n.data});case 8:case"end":return e.stop()}}),e)})))},e.roomSilent=function(t,e,n){return R(this,void 0,void 0,c().mark((function r(){var i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.roomSilent(t,e,n);case 2:if(!(i=r.sent).error){r.next=7;break}return r.abrupt("return",{errorMsg:i.errorMsg,errorType:i.errorType});case 7:return r.abrupt("return",null);case 8:case"end":return r.stop()}}),r)})))},e.addBlack=function(t){return R(this,void 0,void 0,c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.addBlack(t);case 2:if(!(n=e.sent).error){e.next=7;break}return e.abrupt("return",{errorMsg:n.errorMsg,errorType:n.errorType});case 7:return e.abrupt("return",{errorMsg:null,errorType:"success"});case 8:case"end":return e.stop()}}),e)})))},e.openBlockList=function(t,e){this.isShow=!0,this.openInfo={uid:e,uname:t}},e.closeBlockList=function(){this.isShow=!1,this.openInfo=null},e.getBlockUserList=function(){},t}(),L=new function(){this.blockUser=null,this.blockUser=new E},P=n(67218);var M=n(90801),D=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=l()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},N=function(t,e,n,r){return new(n||(n=d()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},B=(0,b.$S)("component/aside-area/danmaku-menu"),O=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isShowShield=!1,e}(0,a.Z)(e,t);var r=e.prototype;return r.preventClose=function(t){t.stopPropagation()},r.getConfig=function(){return N(this,void 0,void 0,c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.Z.get("anchor_room_shield_permission");case 3:(e=t.sent)?"1"==JSON.parse(e).isShowShield&&(this.isShowShield=!0):this.isShowShield=!1,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))},r.closeMenu=function(){this.$parent.hideMenu()},r.blockUser=function(t){return N(this,void 0,void 0,c().mark((function e(){var r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F()){e.next=2;break}return e.abrupt("return");case 2:return r=t.target,e.prev=3,e.next=6,n.e(6833).then(n.bind(n,96833));case 6:return i=e.sent,o=i.blockUser,e.next=10,o(this.info.uid);case 10:if(!(a=e.sent).error){e.next=13;break}return e.abrupt("return",this.linkMsg(r,a.errorMsg,a.errorType));case 13:this.linkMsg(r,"屏蔽成功，再也见不到 TA 了~ "+v.randomEmoji.helpless(),"success"),this.closeMenu(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),B("modules/block-service 加载失败",e.t0);case 20:case"end":return e.stop()}}),e,this,[[3,17]])})))},r.report=function(){return N(this,void 0,void 0,c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,n.e(3885).then(n.bind(n,3885));case 5:e=t.sent,(0,e.openReportPanel)(h()({title:"举报弹幕",url:"/xlive/web-ucenter/v1/dMReport/Report",reportUrl:"/xlive/web-ucenter/v1/dMReport/ForReason",id:0,token:"",type:"danmaku"},this.info)),this.closeMenu(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),B("modules/danmaku-report 加载失败",t.t0);case 14:case"end":return t.stop()}}),t,this,[[2,11]])})))},r.addToBlackList=function(){var t=this;F()&&(i.h.getters.baseInfoUser.isAdmin&&this.linkPopup({width:400,button:{confirm:"确认",cancel:"取消"},title:"禁言",html:'<p style="color:#666;font-size:14px;line-height:22px;">被禁言后任何人都将看不到该用户发言，确定将'+this.info.username+"永久禁言吗？</p>"}).onConfirm((function(e){return N(t,void 0,void 0,c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.blockUser.addBlockUser(this.info.uid,this.info.content);case 2:(n=t.sent)&&n.errorMsg?this.linkMsg(e.confirmBtn,n.errorMsg,"caution"):e.close();case 4:case"end":return t.stop()}}),t,this)})))})),this.closeMenu())},r.addblockUser=function(){var t=this;F()&&(i.h.getters.baseInfoUser.isAdmin&&this.linkPopup({width:400,button:{confirm:"确认",cancel:"取消"},title:"拉黑",html:'<p style="color:#666;font-size:14px;line-height:22px;">被拉黑的用户会自动解除关系且禁止与我互动 (包括发言、送礼)，确定将'+this.info.username+"拉黑吗？</p>"}).onConfirm((function(e){return N(t,void 0,void 0,c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.blockUser.addBlack(this.info.uid);case 2:(n=t.sent)&&n.errorMsg?this.linkMsg(e.confirmBtn,n.errorMsg,"caution"):(r={cmd:"ROOM_BLACKLIST_MSG",uname:this.info.username},i=void 0,i=r.uname||"--",(0,P.fq)(i),e.close());case 4:case"end":return t.stop()}var r,i}),t,this)})))})),this.closeMenu())},r.mounted=function(){this.getConfig()},(0,o.Z)(e,[{key:"isAdmin",get:function(){return this.$store.getters.baseInfoUser.isAdmin}},{key:"isAnchor",get:function(){return this.$store.getters.baseInfoUser.isAnchor}}]),e}(r.default);function F(){try{return(0,g.quickLogin)(),!0}catch(t){return!1}}D([(0,m.Prop)({type:Number,default:0})],O.prototype,"x",void 0),D([(0,m.Prop)({type:Number,default:0})],O.prototype,"y",void 0),D([(0,m.Prop)({type:Object,default:{username:"神秘用户 "+v.randomEmoji.happy(),content:"",ts:0,sign:"",uid:0,dmType:0,fileId:"",imgUrl:""}})],O.prototype,"info",void 0);var G=O=D([(0,m.Component)({filters:{mainCenterTarget:w.centerTarget.mainCenterTarget}})],O),U=(0,n(51900).Z)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"danmaku-menu p-fixed ts-dot-4 a-move-in-top p-relative z-danmaku-menu",style:{left:t.x+"px",top:t.y+"px"},on:{click:t.preventClose}},[n("div",{staticClass:"username t-nowrap t-over-hidden"},[n("span",{domProps:{textContent:t._s(t.info.username)}})]),n("div",{staticClass:"none-select"},[n("div",{staticClass:"go-space"},[n("a",{directives:[{name:"click-report-new",rawName:"v-click-report-new",value:{eventName:"liveroom_user_click",customData:{tag_name:"弹幕区"}},expression:"{eventName: 'liveroom_user_click', customData: {tag_name: '弹幕区'}}"}],staticClass:"clickable bili-link",attrs:{href:t._f("mainCenterTarget")(t.info.uid),target:"_blank"}},[n("span",[t._v("去 TA 的个人空间")])])]),n("div",{staticClass:"block-this-guy"},[!t.isAnchor||t.isShowShield?n("a",{staticClass:"clickable bili-link pointer",on:{click:t.blockUser}},[n("span",[t._v("屏蔽发送者")])]):t._e()]),n("div",{staticClass:"report-this-guy"},[n("a",{staticClass:"clickable bili-link pointer",on:{click:t.report}},[n("span",[t._v("举报选中弹幕")])])]),t.isAdmin?n("div",{staticClass:"add-to-black-list"},[n("a",{staticClass:"clickable bili-link pointer",on:{click:t.addToBlackList}},[n("span",[t._v("禁言该用户")])])]):t._e(),t.isAnchor?n("div",{staticClass:"add-to-black-list"},[n("a",{staticClass:"clickable bili-link pointer",on:{click:t.addblockUser}},[n("span",[t._v("拉黑该用户")])])]):t._e()])])}),[],!1,null,"6ce0b611",null).exports,Z=new r.default({data:{show:!1,x:0,y:0,danmakuMenuInfo:{username:"",danmakuContent:"",ts:0,sign:"",uid:0,dmType:0,fileId:"",imgUrl:""}},components:{DanmakuMenu:U},methods:{showMenu:H,hideMenu:W},template:'\n    <transition leave-active-class="a-scale-out">\n      <danmaku-menu v-show="show" :x="x" :y="y" :info="danmakuMenuInfo"></danmaku-menu>\n    </transition>\n  ',store:i.h});function V(){Z.$mount("#danmaku-menu-vm")}function H(t,e,n){Z.show||(Z.show=!0,Z.x=t,Z.y=e,Z.danmakuMenuInfo=n,setTimeout((function(){window.addEventListener("click",W)}),5))}function W(t){Z.show=!1,window.removeEventListener("click",W)}},48303:function(t,e,n){"use strict";n.d(e,{s:function(){return f}});var r=n(2991),i=n.n(r),o=n(86902),a=n.n(o),s=n(38060),c=n(20549),u=function(){function t(t){void 0===t&&(t=.08),this.frameSpeed=t}return t.prototype.createConfig=function(){var t,e=this,n=s.PJ.getAssets();return i()(t=a()(n)).call(t,(function(t){var r=n[t];return{interval:e.frameSpeed,imageUrl:(0,c.kA)(r.id),id:r.id,frameCount:r.frameAnimationTotalCount}}))},t}(),l=[20,24,40,50,56,72,88];function f(){var t="",e=(new u).createConfig();i()(l).call(l,(function(n){i()(e).call(e,(function(e){var r=function(t,e){var n=".gift-"+t.id+"-"+e,r="frame-gift-"+t.id+"-"+e,i="url("+t.imageUrl+")",o=t.frameCount*e,a=(t.interval*t.frameCount).toFixed(2)+"s steps("+t.frameCount+") infinite "+r;return"\n    "+n+" {\n      background-image: "+i+";\n      -webkit-animation: "+a+";\n      animation: "+a+";\n      background-size: "+100*t.frameCount+"% 100%;\n    }\n\n    @-webkit-keyframes "+r+" {\n      0% {\n        background-position-x: 0;\n      }\n      100% {\n        background-position-x: -"+o+"px;\n      }\n    }\n\n    @keyframes "+r+" {\n      0% {\n        background-position-x: 0;\n      }\n      100% {\n        background-position-x: -"+o+"px;\n      }\n    }\n  "}(e,n);t+=r}))}));var n=document.createElement("style");n.type="text/css";var r=document.createTextNode(t);n.appendChild(r),document.head.appendChild(n)}},50417:function(t,e,n){"use strict";n.d(e,{B:function(){return h},st:function(){return u.s}});var r=n(26849),i=n(66570),o=n(34074),a=n.n(o),s=n(70538),c=n(95334),u=n(48303),l=n(91236),f=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},d=n.n(l)()+"static/img/gift-images/",p=function(t){function e(){return t.apply(this,arguments)||this}return(0,i.Z)(e,t),(0,r.Z)(e,[{key:"giftImg",get:function(){return d+"image-sprite/gift-"+this.giftId+".png?1651ea6ddfeb920"}}]),e}(s.default);f([(0,c.Prop)({type:Number})],p.prototype,"giftId",void 0),f([(0,c.Prop)({type:Number})],p.prototype,"width",void 0),p=f([c.Component],p);function h(t,e){return'<div class="gift-frame gift-'+t+"-"+e+'" style="width: '+e+"px; height: "+e+'px;"></div>'}},67889:function(t,e,n){"use strict";n.d(e,{Z:function(){return o},c:function(){return i}});var r=n(96225),i={superChatMessage:"superChatMessage",superChatMessageDelete:"superChatMessageDelete",superChatEntrance:"superChatEntrance"},o=(0,r.Z)("SuperChat")},6423:function(t,e,n){"use strict";n.d(e,{m:function(){return It}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(82159),c=n(24633),u=function(){function t(){}return t.openPanel=function(t){this.re=c.b.createSectionPopup(t,{width:"340px",height:"450px",align:"center",isBodyScroll:!1})},t.closePanel=function(){this.re&&this.re.destroy()},t}();u.re=null;var l=n(26849),f=n(66570),d=n(34074),p=n.n(d),h=n(70538),m=n(95334),v=n(3595),g=n(51942),b=n.n(g),w=n(39392),y=n.n(w),k=n(9669),_=n.n(k),I=n(32841),T=n(8605),x=n(58932),S=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},A=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},C=function(){function t(){}return t.joinPopularityRedEnvelope=function(t){return A(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_().post("/xlive/lottery-interface/v1/popularityRedPocket/RedPocketDraw",{ruid:t.rUid,room_id:t.roomId,lot_id:t.lotteryId,spm_id:"444.8.red_envelope.extract",jump_from:"",session_id:""});case 2:return n=e.sent,r=n.data,(0,x.cM)(x.hi.NETWORK,b()({eventId:"live.red_envelope.UserJoinDraw"},t)),e.abrupt("return",new T.K(r));case 6:case"end":return e.stop()}}),e)})))},t.getPopularityRedEnvelopeWinners=function(t){return A(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_().get("/xlive/lottery-interface/v1/popularityRedPocket/RedPocketGetWinners",{params:{lot_id:t}});case 2:return n=e.sent,r=n.data,(0,x.cM)(x.hi.NETWORK,b()({eventId:"live.red_envelope.DrawResultFromBackUpMethod",lot_id:t},r)),e.abrupt("return",new T.K(r));case 6:case"end":return e.stop()}}),e)})))},t}();S([(0,I.Z)()],C,"joinPopularityRedEnvelope",null),S([(0,I.Z)()],C,"getPopularityRedEnvelopeWinners",null);var R=C,E=n(23933),L=n(76030),P=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},M=function(t){function e(){return t.apply(this,arguments)||this}return(0,f.Z)(e,t),e}(m.Vue);P([(0,m.Prop)({default:!0})],M.prototype,"havebg",void 0),P([(0,m.Prop)({default:!1})],M.prototype,"contentFlexCenter",void 0);var D=M=P([(0,m.Component)({components:{}})],M),N=n(51900),B=(0,N.Z)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resultbg"},[n("div",{staticClass:"result-img-img"},[t.havebg?n("div",{staticClass:"result-img-bg"}):t._e(),n("div",{staticClass:"result-content",class:{"result-img-bg-t":t.havebg,"result-content-flex-center":t.contentFlexCenter}},[t._t("content"),t._t("footer")],2)])])}),[],!1,null,"efcb2ff2",null).exports,O=n(55716),F=n(18980),G=n(75225),U=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Z=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};L.Z.suspendWhenDocumentHidden=!1;var V=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).envelopeType="small",e.joinStatus=2,e.circleR=40,e.circlePerimetered=0,e.remainTime=15,e.joinLock=!1,e.lotStatus=1,e.lotEndAnimaTimer=null,e}(0,f.Z)(e,t);var n=e.prototype;return n.remainTimeFromStoreChange=function(t){2===t&&this.remainTimeFromStoreEndDo()},n.initAnimateInfo=function(){this.remainTime=this.info.endTime-this.info.currentTime;var t=(this.info.currentTime-this.info.startTime)/this.info.lastTime;this.circlePerimetered=this.circlePerimeter*(1+t),2===this.info.lotConfigId&&(this.envelopeType="large"),this.joinStatus=this.info.userStatus},n.animate=function(t){return new(a())((function(e){(0,L.Z)(b()(b()({},t),{complete:function(t){e(t)}}))}))},n.animateCountDown=function(){return Z(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.animate({targets:this.$refs.circle,"stroke-dashoffset":2*this.circlePerimeter,easing:"linear",duration:1e3*this.remainTime});case 2:case"end":return t.stop()}}),t,this)})))},n.join=function(){return Z(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==this.joinStatus&&!this.joinLock){t.next=2;break}return t.abrupt("return");case 2:return this.reportEvents("joinClick"),this.$emit("changeJoinStatus",!0),this.animate({targets:this.$refs.joinTimeoutStep,scale:.95,easing:"linear",direction:"alternate",duration:.5}),t.next=7,this.joinPopularityRedPacket();case 7:this.reportEvents("joinSuccessClick");case 8:case"end":return t.stop()}}),t,this)})))},n.joinPopularityRedPacket=function(){return Z(this,void 0,void 0,i().mark((function t(){var e,n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.joinLock=!0,t.next=3,R.joinPopularityRedEnvelope({roomId:E.e.getRoomId(),rUid:E.e.getAnchorUid(),lotteryId:this.lotteryId});case 3:e=t.sent,n=e.code,r=e.data,o=e.errorMsg,this.joinLock=!1,0===n&&1===r.join_status?(this.$store.commit("popularityRedEnvelope/SET_POPULARITY_RED_ENVELOPE_INFO",{userStatus:1}),this.joinStatus=1,this.linkMsg(this.$refs.joinTimeoutStep,"已参与抽奖 等待开奖","success"),this.$store.getters.baseInfoUser.isAnchor||this.$store.state.baseInfoAnchor.isAttention||(a=this.$store.getters.baseInfoAnchor.fansCount+1,this.$store.dispatch("baseInfoAnchor",{isAttention:!0,fansCount:a}))):this.linkMsg(this.$refs.joinTimeoutStep,o||"网络拥堵, 请稍后再试 ￣ω￣=","caution");case 9:case"end":return t.stop()}}),t,this)})))},n.remainTimeFromStoreEndDo=function(){var t=this;this.lotStatus=2,this.lotEndAnimaTimer=setTimeout((function(){t.goToResultPage()}),200)},n.goToResultPage=function(){this.$emit("changeRouter","Result")},n.reportEvents=function(t,e){void 0===e&&(e={});var n=new(y());n.set("joinShow","red_envelope_extraction_panel_show"),n.set("joinClick","red_envelope_extraction_panel_extract_click"),n.set("joinSuccessClick","red_envelope_extraction_panel_extract_success_click"),n.get(t)&&F.default.report(n.get(t),b()({envelope_id:this.lotteryId},e),(0,G.D)())},n.itemFace=function(t){return{backgroundImage:"url("+(0,O.bfsImgLink)(t,140,140)+")"}},n.created=function(){this.initAnimateInfo()},n.mounted=function(){this.animateCountDown(),this.reportEvents("joinShow",{pop_type:this.$store.state.popularityRedEnvelope.popType})},n.destroyed=function(){clearTimeout(this.lotEndAnimaTimer)},(0,l.Z)(e,[{key:"circlePerimeter",get:function(){return 2*Math.PI*this.circleR}},{key:"info",get:function(){return this.$store.getters["popularityRedEnvelope/getPopularityRedEnvelopeInfo"]}},{key:"storeLotStatus",get:function(){return this.info.lotteryStatus}},{key:"remainTimeFromStore",get:function(){return this.info.endTime-this.info.currentTime}}]),e}(m.Vue);U([(0,m.Prop)()],V.prototype,"lotteryId",void 0),U([(0,m.Watch)("storeLotStatus",{immediate:!0})],V.prototype,"remainTimeFromStoreChange",null);var H=V=U([(0,m.Component)({components:{ResultBg:B}})],V),W=(0,N.Z)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"join"},["large"===t.envelopeType?n("div",{staticClass:"join-large"}):t._e(),n("div",{staticClass:"join-main"},[n("div",{staticClass:"join-envelope-sponsor",class:[t.envelopeType+"-sponsor-bg",2===t.lotStatus?"join-envelope-sponsor-up":""]},[n("div",{staticClass:"sponsor-header",class:["sponsor-header-"+t.envelopeType]},["large"===t.envelopeType?n("div",{staticClass:"large-start"}):t._e(),n("div",{staticClass:"senderFace",style:t.itemFace(t.info.senderAvatar)})]),n("div",{staticClass:"sponsor-name"},[t._v(t._s(t.info.senderName))]),n("div",{staticClass:"sponsor-award"},[t.info.awards.length>0?[n("div",{staticClass:"award-item item-1"},[t.info.awards[0]?n("div",{staticClass:"award-item-bg"},[n("div",{staticClass:"award-item-img",style:{backgroundImage:"url("+t.info.awards[0].giftPic+")"}}),t.info.awards[0].num?n("div",{staticClass:"award-item-num"},[t._v("x"+t._s(t.info.awards[0].num))]):t._e()]):t._e()]),n("div",{staticClass:"award-item item-2"},[t.info.awards[1]?n("div",{staticClass:"award-item-bg"},[n("div",{staticClass:"award-item-img",style:{backgroundImage:"url("+t.info.awards[1].giftPic+")"}}),t.info.awards[1].num?n("div",{staticClass:"award-item-num"},[t._v("x"+t._s(t.info.awards[1].num))]):t._e()]):t._e()]),n("div",{staticClass:"award-item item-3"},[t.info.awards[2]?n("div",{staticClass:"award-item-bg"},[n("div",{staticClass:"award-item-img",style:{backgroundImage:"url("+t.info.awards[2].giftPic+")"}}),t.info.awards[2].num?n("div",{staticClass:"award-item-num"},[t._v("x"+t._s(t.info.awards[2].num))]):t._e()]):t._e()])]:t._e()],2),n("div",{staticClass:"join-btn",on:{click:function(e){return e.stopPropagation(),t.join.apply(null,arguments)}}},[n("div",{staticClass:"join-timeout"},[n("div",{staticClass:"join-timeout-bg"}),n("div",{staticClass:"join-timeout-border"}),n("div",{staticClass:"join-timeout-svg"},[n("svg",{ref:"countDown",staticClass:"count-down",attrs:{width:"100",height:"100",xmlns:"http://www.w3.org/2000/svg"}},[n("g",[n("circle",{ref:"circle",attrs:{cx:"70",cy:"46",r:t.circleR,fill:"transparent","stroke-width":"60",stroke:"#5A59FF","stroke-dasharray":t.circlePerimeter,circlePerimeter:t.circlePerimeter,"stroke-dashoffset":t.circlePerimetered}})])])]),n("div",{ref:"joinTimeoutStep",staticClass:"join-timeout-step"}),2===t.joinStatus?n("div",{staticClass:"join-timeout-word"}):t._e(),1===t.joinStatus?n("div",{staticClass:"join-timeout-lastnum"},[n("i",[t._v(t._s(t.remainTimeFromStore<0?0:t.remainTimeFromStore))])]):t._e()])])]),n("div",{staticClass:"join-info",class:[t.envelopeType+"-joininfo-bg",2===t.lotStatus?"join-info-down":""]},[n("div",{staticClass:"join-info-desc"},[1===t.info.joinRequirement?n("p",[t._v("◈ 自动关注主播并发送红包口令 ◈")]):t._e(),t.info.danmu?n("div",{staticClass:"danmu-wrap"},[n("span",[t._v("【")]),n("span",{staticClass:"danmu-desc"},[t._v(t._s(t.info.danmu))]),n("span",[t._v("】")])]):t._e()])])]),n("div",{staticClass:"winning-wrap"},[n("ResultBg")],1)])}),[],!1,null,"43d757fd",null).exports,j=n(20116),z=n.n(j),Y=n(66856),K=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},J=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).currency=Y.webCurrency,e}return(0,f.Z)(e,t),e.prototype.toResultList=function(){this.$emit("toResultList")},e}(m.Vue);K([(0,m.Prop)()],J.prototype,"winResult",void 0);var Q=J=K([(0,m.Component)({components:{Resultbg:B}})],J),X=(0,N.Z)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"winning"},[n("div",{staticClass:"winning-content"},[n("Resultbg",[n("template",{slot:"content"},[n("div",{staticClass:"win-content"},[n("div",{staticClass:"win-gift-img",style:{backgroundImage:"url("+t.winResult.awardBigPic+")"}}),n("div",{staticClass:"win-gift-info",class:{"win-gift-bigwinner":1===t.winResult.userType,"win-gift-winner":1!==t.winResult.userType}},[n("div",{staticClass:"gift-name"},[t._v(t._s(t.winResult.awardName))]),n("div",{staticClass:"gift-price"},[n("span",{staticClass:"currency-icon",style:{backgroundImage:"url("+t.currency.icon+")"}}),n("span",{staticClass:"currency-num"},[t._v(t._s(t.currency.format(t.winResult.awardPrice)))])])]),n("div",{staticClass:"win-check-package"},[t._v("礼物已存入包裹中")]),n("div",{staticClass:"win-todos",on:{click:t.toResultList}},[t._v("查看全部中奖"),n("span",{staticClass:"todos-icon"},[t._v(">")])])])])],2)],1)])}),[],!1,null,"c07f119e",null).exports,q=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},$=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},tt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).winnerInfoList=[],e}(0,f.Z)(e,t);var n=e.prototype;return n.toResult=function(){this.$emit("toResult")},n.mounted=function(){return $(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.winnerInfoList=this.winnerInfo.list;case 1:case"end":return t.stop()}}),t,this)})))},e}(m.Vue);q([(0,m.Prop)()],tt.prototype,"winnerInfo",void 0),q([(0,m.Prop)()],tt.prototype,"uid",void 0);var et=tt=q([(0,m.Component)({components:{Resultbg:B}})],tt),nt=(0,N.Z)(et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"winningList"},[n("div",{staticClass:"winning-content"},[n("Resultbg",{attrs:{havebg:!1,contentFlexCenter:!0}},[n("template",{slot:"content"},[n("div",{staticClass:"winning-list-content"},[n("div",{staticClass:"header"},[n("div",{staticClass:"back",on:{click:t.toResult}}),n("div",{staticClass:"header-info"},[t._v("红包礼物抽中数量 "+t._s(t.winnerInfoList.length)+"/"+t._s(t.winnerInfo.totalNum))])]),t.winnerInfoList.length>0?n("ul",{staticClass:"winner-list"},t._l(t.winnerInfoList,(function(e,r){return n("li",{key:r,staticClass:"winner-list-item"},[n("div",{staticClass:"name-info"},[n("div",{staticClass:"name-info-name",class:{"name-info-self":t.uid===e.uid}},[t._v(t._s(e.name))]),1===e.userType?n("span",{staticClass:"name-info-label"},[t._v("欧皇")]):t._e()]),n("div",{staticClass:"gift-img",style:{backgroundImage:"url("+e.awardPic+")"}})])})),0):t._e(),0===t.winnerInfoList.length?n("div",{staticClass:"winner-list-none"},[n("div",{staticClass:"winner-list-none-content"},[n("div",{staticClass:"abnormalResult-img"}),n("div",{staticClass:"result-desc"},[t._v("无人参与")])])]):t._e()])])],2)],1)])}),[],!1,null,"6a156a80",null).exports,rt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},it=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).resulttext={img:"",desc:""},e.resultObj={error:{img:"error",desc:"加载失败，请重试"},empty:{img:"empty",desc:"很遗憾，没有抽中"},nojoin:{img:"nojoin",desc:"下次参与抽奖，欧皇就是你~"}},e}(0,f.Z)(e,t);var n=e.prototype;return n.toResultList=function(){this.$emit("toResultList")},n.mounted=function(){this.resulttext=this.resultObj[this.resultStatus]},e}(m.Vue);rt([(0,m.Prop)()],it.prototype,"resultStatus",void 0);var ot=it=rt([(0,m.Component)({components:{Resultbg:B}})],it),at=(0,N.Z)(ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"abnormalResult"},[n("div",{staticClass:"abnormalResult-content"},[n("Resultbg",[n("template",{slot:"content"},[n("div",{staticClass:"abnormalResult-img",class:"abnormalResult-img-"+t.resulttext.img}),n("div",{staticClass:"result-desc"},[t._v(t._s(t.resulttext.desc))])]),n("template",{slot:"footer"},["error"!==t.resulttext.img?n("div",{staticClass:"abnormalResult-todos",on:{click:t.toResultList}},[t._v("查看全部中奖"),n("span",{staticClass:"todos-icon"},[t._v(">")])]):t._e()])],2)],1)])}),[],!1,null,"7e5d4b60",null).exports,st=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ct=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ut=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).resultType="",e.abnormalResultStatus="empty",e.userStatus=1,e.winResult={uid:0,name:"",userType:0,awardPic:"",awardBigPic:"",awardName:"",awardPrice:0},e.selfResult=[],e.winListResult=[],e.winnerInfo={},e.uid=E.e.getUid(),e}(0,f.Z)(e,t);var n=e.prototype;return n.init=function(){this.getWinnerInfoAndUserStatusFromStore(),this.winnerInfo&&0!==this.winnerInfo.lotId?this.checkResultList():this.getResult("INIT")},n.getResult=function(t){var e=this;this.winnerInfo&&0!==this.winnerInfo.lotId||(("INIT"===t||"SECOND"===t)&&setTimeout((function(){e.getWinnerInfoAndUserStatusFromStore(),e.winnerInfo&&0!==e.winnerInfo.lotId?e.checkResultList():e.getResult("INIT"===t?"SECOND":"SPILLAPI")}),2e3),"SPILLAPI"===t&&setTimeout((function(){e.getWinnerInfo()}),2e3*Math.random()))},n.getWinnerInfo=function(){return ct(this,void 0,void 0,i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.lotteryId,t.next=3,R.getPopularityRedEnvelopeWinners(e);case 3:if(n=t.sent,!(r=n.data)){t.next=10;break}return t.next=8,this.$store.dispatch("popularityRedEnvelope/setWinnerInfo",b()({lot_id:e},r));case 8:this.getWinnerInfoAndUserStatusFromStore(),this.checkResultList();case 10:case"end":return t.stop()}}),t,this)})))},n.getWinnerInfoAndUserStatusFromStore=function(){var t=this.$store.state.popularityRedEnvelope;this.winnerInfo=t.winnerInfo,this.userStatus=t.userStatus},n.checkResultList=function(){var t,e=this;this.selfResult=z()(t=this.winnerInfo.list).call(t,(function(t){return t.uid===e.uid})),this.showResultPage()},n.showResultPage=function(){var t=0;this.selfResult.length>0?(this.winResult=this.selfResult[0],this.resultType="Winning",t=this.winResult.userType):2===this.userStatus?(this.abnormalResultStatus="nojoin",this.resultType="AbnormalResult"):(this.abnormalResultStatus="empty",this.resultType="AbnormalResult"),this.$emit("changeResultPageInfo",{resultPageName:this.resultType,resultUserType:t})},n.toResultList=function(){this.resultType="WinningList",this.$emit("changeResultPageInfo",{resultPageName:this.resultType,resultUserType:0})},n.created=function(){this.isError?(this.abnormalResultStatus="error",this.resultType="AbnormalResult"):this.init()},(0,l.Z)(e,[{key:"lotteryId",get:function(){return this.$store.state.popularityRedEnvelope.lotteryId}}]),e}(m.Vue);st([(0,m.Prop)()],ut.prototype,"isError",void 0),st([(0,m.Prop)()],ut.prototype,"changeResulPageInfo",void 0);var lt=ut=st([(0,m.Component)({components:{Winning:X,WinningList:nt,AbnormalResult:at,Resultbg:B}})],ut),ft=(0,N.Z)(lt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("div",{staticClass:"result-content"},["Winning"===t.resultType?n("Winning",{attrs:{winResult:t.winResult},on:{toResultList:t.toResultList}}):t._e(),"WinningList"===t.resultType?n("WinningList",{attrs:{winnerInfo:t.winnerInfo,uid:t.uid},on:{toResult:t.showResultPage}}):t._e(),"AbnormalResult"===t.resultType?n("AbnormalResult",{attrs:{resultStatus:t.abnormalResultStatus},on:{toResultList:t.toResultList}}):t._e(),t.resultType?t._e():n("Resultbg",[n("template",{slot:"content"},[n("div",{staticClass:"loading-wrap"},[n("div",{staticClass:"loading"})])])],2)],1)])}),[],!1,null,"20e342b4",null).exports,dt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},pt=function(t){function e(){return t.apply(this,arguments)||this}return(0,f.Z)(e,t),e}(m.Vue);dt([(0,m.Prop)()],pt.prototype,"starNum",void 0);var ht=pt=dt([(0,m.Component)({components:{}})],pt),mt=(0,N.Z)(ht,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stars-wrap"},[n("div",{staticClass:"stars"},[t.starNum>=1?n("span",{staticClass:"star star3"}):t._e(),t.starNum>=2?n("span",{staticClass:"star star4"}):t._e(),t.starNum>=3?n("span",{staticClass:"star star5"}):t._e(),t.starNum>=4?n("span",{staticClass:"star star6"}):t._e()])])}),[],!1,null,"05736ec8",null).exports,vt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=p()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},gt=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},bt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).envelopeType="small",e.pageName="",e.isClickJoin="2",e.isError=!1,e.resultPageName="",e.resultUserType=0,e}(0,f.Z)(e,t);var n=e.prototype;return n.isErrorChange=function(t){t&&(this.pageName="Result")},n.changeRouter=function(t){this.pageName=t},n.changeJoinStatus=function(t){this.isClickJoin=t?"1":"2"},n.changeResultPageInfo=function(t){this.resultPageName=t.resultPageName,this.resultUserType=t.resultUserType},n.onClickClose=function(){return gt(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F.default.report("red_envelope_extraction_panel_close_click",{envelope_id:this.lotteryId,is_participate:this.isClickJoin},(0,G.D)()),t.next=3,this.$store.dispatch("popularityRedEnvelope/setRedEnvelopePanel",!1);case 3:u.closePanel();case 4:case"end":return t.stop()}}),t,this)})))},n.getPopularityRedPacketInfo=function(){var t=this.$store.getters["popularityRedEnvelope/getPopularityRedEnvelopeInfo"];0!==t.lotteryId?2===t.lotteryStatus?this.pageName="Result":1===t.lotteryStatus&&(this.pageName="Join"):this.isError=!0},n.mounted=function(){this.getPopularityRedPacketInfo(),this.envelopeType=2===this.$store.state.popularityRedEnvelope.lotConfigId?"large":"small"},(0,l.Z)(e,[{key:"lotteryId",get:function(){return this.$store.state.popularityRedEnvelope.lotteryId}},{key:"showStar",get:function(){return"Join"===this.pageName&&"large"===this.envelopeType||"Winning"===this.resultPageName&&1===this.resultUserType}},{key:"showCoin",get:function(){return"large"===this.envelopeType}}]),e}(h.default);vt([(0,m.Watch)("isError")],bt.prototype,"isErrorChange",null);var wt=bt=vt([(0,m.Component)({components:{Join:W,Result:ft,Stars:mt},store:v.h})],bt),yt=(0,N.Z)(wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popular-main"},[n("div",{staticClass:"lottery"},[n("div",{staticClass:"lottery-content"},[n("div",{staticClass:"lottery-pages"},[n(t.pageName,{tag:"component",attrs:{lotteryId:t.lotteryId,isError:t.isError},on:{changeRouter:t.changeRouter,changeJoinStatus:t.changeJoinStatus,changeResultPageInfo:t.changeResultPageInfo}})],1),t.showCoin?n("div",{staticClass:"coins"}):t._e(),t.showStar?n("span",{staticClass:"star star1"}):t._e(),t.showCoin?n("div",{staticClass:"coin"}):t._e(),t.showStar?n("span",{staticClass:"star star2"}):t._e(),t.showStar?n("Stars",{staticClass:"stars",attrs:{starNum:2}}):t._e()],1),n("div",{staticClass:"lottery-close-wrap"},[n("div",{staticClass:"lottery-close",on:{click:t.onClickClose}},[n("div",{staticClass:"img"})])])])])}),[],!1,null,"c802dee0",null).exports,kt=n(2708),_t=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function It(t){return _t(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("windowFullScreen"!==v.h.getters.appStatus.displayMode){e.next=3;break}return e.abrupt("return");case 3:if(n=kt.loginStatus.isLogin,r=v.h.getters["popularityRedEnvelope/getIsShowPopupPanel"],!n){e.next=14;break}if(!r){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,v.h.dispatch("popularityRedEnvelope/setRedEnvelopePanel",!0);case 10:v.h.commit("popularityRedEnvelope/SET_POPULARITY_RED_ENVELOPE_INFO",{popType:t||0}),u.openPanel(yt),e.next=23;break;case 14:if(2!==t){e.next=23;break}return e.prev=15,e.next=18,(0,s.quickLogin)();case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(15),e.abrupt("return");case 23:(0,x.cM)(x.hi.NETWORK,{eventId:"live.red_envelope.userEnterDrawInterface",loginStatus:kt.loginStatus.isLogin});case 24:case"end":return e.stop()}}),e,null,[[15,20]])})))}},15046:function(t,e,n){"use strict";n.d(e,{I:function(){return i}});var r=n(24633),i=function(){function t(){}return t.openPanel=function(t){this.re=r.b.createSectionPopup(t,{width:"306px",height:"364px",align:"center",isBodyScroll:!1})},t.closePanel=function(){this.re&&this.re.destroy()},t}();i.re=null},43889:function(t,e,n){"use strict";n.d(e,{e:function(){return o}});var r=n(56474),i=n.n(r),o={NAVBAR_SCROLLING_HIDE_OFFSET:40,EMOJI_LIST:["(⌒▽⌒)","（￣▽￣）","(=・ω・=)","(｀・ω・´)","(〜￣△￣)〜","(･∀･)","(°∀°)ﾉ","(￣3￣)","╮(￣▽￣)╭","_(:3」∠)_","( ´_ゝ｀)","←_←","→_→","(<_<)","(>_>)","(;¬_¬)",'("▔□▔)/',"(ﾟДﾟ≡ﾟдﾟ)!?","Σ(ﾟдﾟ;)","Σ( ￣□￣||)","(´；ω；`)","（/TДT)/","(^・ω・^ )","(｡･ω･｡)","(●￣(ｴ)￣●)","ε=ε=(ノ≧∇≦)ノ","(´･_･`)","(-_-#)","（￣へ￣）","(￣ε(#￣) Σ","ヽ(`Д´)ﾉ","（#-_-)┯━┯","(╯°口°)╯(┴—┴","←◡←","( ♥д♥)","Σ>―(〃°ω°〃)♡→","⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","(╬ﾟдﾟ)▄︻┻┳═一","･*･:≡(　ε:)","(汗)","(苦笑)"],PENURY_GIFT_VALUE:1e3,PENURY_GIFT_ID:[1]};i()&&i()(o)},74338:function(t,e,n){"use strict";n.d(e,{e:function(){return E.e},D:function(){return L}});var r=n(86902),i=n.n(r),o=n(3649),a=n.n(o),s=n(66419),c=n.n(s),u=n(65420),l=n.n(u),f=n(19996),d=n.n(f),p=n(9669),h=n.n(p),m=n(80129),v=n.n(m),g=n(82159),b=n(50346),w=n(55716),y=n(68913),k=n(5985),_=n(2708);function I(t,e){var n=void 0!==l()&&d()(t)||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return T(t,e);var r=a()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return c()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x=(0,y.$S)("axios/interceptors"),S=g.cookie.getItem("bili_jct"),A="未获取到 code 值, 疑似接口格式错误或网络已断开",C="网络错误或服务不可用",R="undefined"!=typeof window&&window.__statisObserver&&window.__statisObserver.__visitId;h().defaults.timeout=1e4,h().interceptors.request.use((function(t){void 0===t.withCredentials&&(t.withCredentials=!0);var e=/^\/[^/]+/;if(e.test(t.url)&&(t.url="//api.live.bilibili.com"+t.url),"get"===t.method&&t.params&&/fetch_client_resource/gi.test(t.url)){var n=t.url;n+="?";for(var r,o=I(i()(t.params));!(r=o()).done;){var a=r.value;n+=a+"="+t.params[a]+"&"}return n=n.substring(0,n.length-1),t.params={},t.url=n,t}return t.data||"post"!==t.method||(t.data={}),(/^((https:|http:))?\/\/(api|uat-api).(live|vc).bilibili.com\/[^\s]+/.test(t.url)||e.test(t.url))&&"post"===t.method&&"object"==typeof t.data&&(t.data instanceof FormData?(t.data.append("csrf_token",S),t.data.append("csrf",S),t.data.append("visit_id",R||""),(0,k.V9)()&&(t.data.append("data_behavior_id",k.WY),t.data.append("data_source_id",k.WY?"system":""))):(t.data.csrf_token=S,t.data.csrf=S,t.data.visit_id=R||"",(0,k.V9)()&&(t.data.data_behavior_id=k.WY,t.data.data_source_id=k.WY?"system":""),t.data=v().stringify(t.data))),t})),h().interceptors.response.use((function(t){var e=t.data||{};if(e.need_login&&1===e.need_login){(0,b.C$)().catch(_.noop);try{x("服务端老哥发现你没登录，我们将强制弹出登录框~"),(0,g.quickLogin)({force:!0})}catch(t){0}t.serverResponse={code:null,error:new Error("你还没有登录哟~"),errorType:"error",errorMsg:"你还没有登录哟~",data:null}}if(0===e.code)t.serverResponse={code:0,data:e.data,error:null,msg:e.msg||e.message||""};else{var n=e.msg||e.message||"服务器返回状态码非 0";t.serverResponse=void 0===e.code?{code:null,data:null,error:new TypeError(A),errorMsg:"请求失败，请您稍后再试：未获取到 code 值, 疑似接口格式错误或网络已断开 "+w.randomEmoji.sad(),errorType:"error"}:{code:e.code,data:e.data||null,error:new Error(n),errorMsg:"请求失败："+n+" "+w.randomEmoji.sad(),originErrorMsg:n+" "+w.randomEmoji.sad(),errorType:"caution"}}return t}),(function(t){return t=t||new Error(C),x("接口 "+t.config.url+" 请求失败："+"网络错误或服务不可用\n",t),t.serverResponse={code:null,data:null,error:t,errorMsg:"接口请求失败，可能为网络错误或服务不可用，请您等待片刻后再次尝试 "+w.randomEmoji.sad(),errorType:"error"},t}));var E=n(43889),L={FALLBACK_ERROR_MSG:"返回 Code 非 0",SERVER_ERROR_MSG:"网络错误或服务器宕机",PLATFORM:"pc",TIMEOUT_ERROR_MSG:"请求超时啦，你当前的网络可能不太稳定，请重试~"}},79433:function(t,e,n){"use strict";n.d(e,{_:function(){return f}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=n(68913),l=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function f(t){return l(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/room/v1/Room/getBannedInfo?roomid="+t);case 2:return n=e.sent,(r=n.serverResponse).error&&(0,u.$S)("modules/enter-failure")("获取直播间封禁信息错误",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))}},4089:function(t,e,n){"use strict";n.d(e,{c:function(){return p}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=n(68913),l=n(83587),f=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},d=null;function p(t,e){return void 0===t&&(t=0),void 0===e&&(e=!1),f(this,void 0,void 0,i().mark((function n(){var r,o,a,s,f,p;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=2;break}return n.abrupt("return",d);case 2:if(!(r=(0,l.tU)("roomInitRes"))){n.next=6;break}return d=r,n.abrupt("return",r);case 6:return o=e?1:0,a=(0,l.wn)()+"/xlive/web-room/v2/index/getRoomPlayInfo?room_id="+t+"&no_playurl="+o+"&mask=1&qn=0&platform=web&protocol=0,1&format=0,1,2&codec=0,1",n.prev=8,n.next=11,c().get(a);case 11:return s=n.sent,d=e?s:s.serverResponse,n.abrupt("return",d);case 16:return n.prev=16,n.t0=n.catch(8),f="/xlive/web-room/v2/index/getRoomPlayInfo 接口请求错误",p=n.t0.serverResponse||{data:null,error:new Error(f),errorMsg:f,errorType:"error"},(0,u.$S)("core/api/get-room-id")(p.errorMsg,n.t0),d=p,n.abrupt("return",p);case 23:case"end":return n.stop()}}),n,null,[[8,16]])})))}},51395:function(t,e,n){"use strict";n.d(e,{S:function(){return x}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(51942),c=n.n(s),u=n(95503),l=n(58073),f=n(3954),d=n(53168),p=n(15796),h=n(19456),m=n(20703),v=n(92803),g=n(54465),b=n(62707),w=n(73645),y=n(12598),k=function(){var t=window.location.pathname.match(/\/(\d+)/);if(t&&t.length>=2)return+t[1];var e=window.location.href.match(/\?(.*)/),n={};return e&&(n=function(t){for(var e,n={},r=/([^&]*)=([^&]*)/g;e=r.exec(t);){var i=e[1],o=e[2];n[i]?(n[i]=Array.isArray(n[i])?n[i]:[n[i]],n[i].push(o)):n[i]=o}return n}(e[1])),n.roomId},_=n(33960),I=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},T=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function x(t,e){return void 0===t&&(t=0),T(this,void 0,void 0,i().mark((function n(){var r,o,a,s,T,x,S,A,C;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.y9.getRemoteInfo(t);case 2:return r=n.sent,I(void 0,void 0,void 0,i().mark((function t(){var e,n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=k(),t.next=3,y.ZP.baseInfo.getRoomInfo(e);case 3:if(n=t.sent,r=n.code,o=n.data,0===r){t.next=8;break}throw new Error("房间信息初始化失败");case 8:_.Z.dispatchs.controlSwitch.updateState(o.controlSwitchInfo);case 9:case"end":return t.stop()}}),t)}))),o=r.error,a=r.errorType,s=r.data||Object.create(null),T=window.__SSR_INITIAL_STATE__||{baseInfoRoom:{}},x=f.Z.state,S=u.ZQ(s.room_info,s.anchor_info),A=u.b1(c()(T.baseInfoRoom,s,{allSpecialTypes:e.all_special_types})),C=u.eY(e,s),window.BilibiliLive.AREA_ID=A.areaID,window.BilibiliLive.PARENT_AREA_ID=A.parentAreaID,n.abrupt("return",{error:o,errorType:a,data:{activity:{isHeart:!1,heartTime:0,top3:[],common:null,freeGift:{},eventGifts:[],lottery:[],receiveGift:[],masterRank:null},appStatus:c()({},l.Z.state,{upSession:s.room_info&&s.room_info.up_session||""}),baseInfoActivity:x,baseInfoAnchor:S,baseInfoRoom:A,baseInfoUser:C,gift:c()({},d.Z.state),rankList:{currentTab:""},chatPopupArea:{popupsConfig:{},popupsState:[],smallIcon:[]},danmakuOptions:p.Z.state,instance:{},recharge:{activityInfo:null},lpl:h.Z.state,superChat:m.Z.state,guard:v.Z.state,redEnvelope:g.Z.state,popularityRedEnvelope:b.Z.state}});case 15:case"end":return n.stop()}}),n)})))}},40017:function(t,e,n){"use strict";n.d(e,{a:function(){return r}});var r,i=n(77772);try{r=function(t){var e=t.match(/\/(\d+)/);return e&&e.length?e[1]:null}(window.location.pathname)||(0,i.W)("roomId")}catch(t){}},6148:function(t,e,n){"use strict";n.d(e,{n:function(){return i}});var r=n(68913);function i(t,e){if(0!==e&&t!==e){(0,r.Yb)("core/rewrite-short-id")("跳转至短位号：",e);var n=window.location.pathname.replace(new RegExp(t+""),e+""),i=window.location.search;window.history.replaceState?window.history.replaceState({},"",n+i):window.location.href=n+i}}},73645:function(t,e,n){"use strict";n.d(e,{CP:function(){return S},y9:function(){return m},vb:function(){return w}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(51942),c=n.n(s),u=n(9669),l=n.n(u),f=n(68913),d=n(83587),p=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function h(t){return void 0===t&&(t=0),p(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=(0,d.tU)("roomInfoRes"))){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,l().get("/xlive/web-room/v1/index/getInfoByRoom?room_id="+t);case 6:return(r=e.sent).serverResponse&&r.serverResponse.error&&console.error("/getInfoByRoom?room_id="+t+" error",r.serverResponse.errorMsg),e.abrupt("return",r.serverResponse);case 12:return e.prev=12,e.t0=e.catch(3),o="/web-room/v1/index/getInfoByRoom 接口请求错误",a=e.t0.serverResponse||{data:null,error:new Error(o),errorMsg:o,errorType:"error"},(0,f.$S)("core/service.created-data/created-room-info.ts")(a.errorMsg,e.t0),e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[3,12]])})))}var m=function(){function t(){}return t.getRemoteInfo=function(t){return p(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:return this.serverResponse=e.sent,this.serverResponse&&0===this.serverResponse.code&&(this.data=this.serverResponse.data),e.abrupt("return",this.serverResponse);case 5:case"end":return e.stop()}}),e,this)})))},t.getRoomInfoData=function(){return this.serverResponse},t.getInfoFromParam=function(t,e){void 0===e&&(e=!0);var n=this.data[t];return n&&c()({},n)||(e?{}:null)},t.getPureFullData=function(){return this.data},t.getAnchorInfo=function(){return this.getInfoFromParam("anchor_info")},t.getRoomInfo=function(){return this.getInfoFromParam("room_info")},t.getSwitchInfo=function(){return{switch_info:this.data.switch_info||{},new_switch_info:this.data.new_switch_info||{},record_switch_info:this.data.record_switch_info||{}}},t}();m.serverResponse=null,m.data=null;var v=n(77772),g=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function b(t){return void 0===t&&(t=0),g(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Number((0,v.W)("hotRank"))||0,e.next=4,l().get("/xlive/web-room/v1/index/getInfoByUser?room_id="+t+"&from="+n);case 4:return(r=e.sent).serverResponse&&r.serverResponse.error&&console.error("/getInfoByUser?room_id="+t+" error",r.serverResponse.errorMsg),e.abrupt("return",r.serverResponse);case 10:return e.prev=10,e.t0=e.catch(0),o="/web-room/v1/index/getInfoByUser 接口请求错误",a=e.t0.serverResponse||{data:null,error:new Error(o),errorMsg:o,errorType:"error"},(0,f.$S)("core/service.created-data/created-user-info.ts")(a.errorMsg,e.t0),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[0,10]])})))}var w=function(){function t(){}return t.getRemoteInfo=function(t){return g(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return this.serverResponse=e.sent,this.serverResponse&&0===this.serverResponse.code&&(this.data=this.serverResponse.data),e.abrupt("return",this.serverResponse);case 5:case"end":return e.stop()}}),e,this)})))},t.getInfoFromParam=function(t,e){void 0===e&&(e=!0);var n=this.data&&this.data[t];return n&&c()({},n)||(e?{}:null)},t.asyncGetInfoFromParam=function(t,e){var n=this;return void 0===e&&(e=!0),new(a())((function(r){var i=0,o=setInterval((function(){++i,n.data&&i<=7&&(clearInterval(o),o=null,i=null,r(n.getInfoFromParam(t,e))),i>7&&(clearInterval(o),o=null,i=null,r(e?{}:null))}),300)}))},t.getWallet=function(){return c()({},this.data.wallet||{})},t}();w.serverResponse=null,w.data=null;var y=n(41609),k=n.n(y),_=n(14293),I=n.n(_),T=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function x(t){return void 0===t&&(t=0),T(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get("/xlive/lottery-interface/v1/lottery/getLotteryInfoWeb?roomid="+t);case 3:n=e.sent,e.next=6;break;case 6:return n.serverResponse&&n.serverResponse.error&&console.error("/getLotteryInfoWeb?room_id="+t+" error",n.serverResponse.errorMsg),e.abrupt("return",n.serverResponse);case 10:return e.prev=10,e.t0=e.catch(0),r="/xlive/lottery-interface/v1/lottery/getLotteryInfoWeb 接口请求错误",o=e.t0.serverResponse||{data:null,error:new Error(r),errorMsg:r,errorType:"error"},(0,f.$S)("core/service.created-data/created-lottery-info.ts")(o.errorMsg,e.t0),e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,null,[[0,10]])})))}var S=function(){function t(){}return t.callTasks=function(){this.tasks.length>0&&(this.tasks.forEach((function(t){t&&t()})),this.tasks.length=0)},t.getRemoteInfo=function(t){return T(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return this.serverResponse=e.sent,this.serverResponse&&0===this.serverResponse.code&&(this.data=this.serverResponse.data,this.callTasks()),e.abrupt("return",this.serverResponse);case 5:case"end":return e.stop()}}),e,this)})))},t.getInfoFromParam=function(t){var e=this.data&&this.data[t];return I()(e)||"object"==typeof e&&k()(e)?null:e},t.asyncGetInfoFromParam=function(t){var e=this;return this.data?a().resolve(this.getInfoFromParam(t)):new(a())((function(n){var r=setTimeout((function(){n(null)}),15e3);e.tasks.push((function(){clearTimeout(r),r=null,n(e.getInfoFromParam(t))}))}))},t}();S.serverResponse=null,S.data=null,S.tasks=[]},32842:function(t,e,n){"use strict";n.d(e,{r:function(){return r}});var r={code:0,message:"0",ttl:1,data:{pk:[{id:13287,pk_id:13287,room_id:460722,time:91,status:1,asset_icon:"https://i0.hdslb.com/bfs/vc/44c367b09a8271afa22853785849e65797e085a1.png",asset_animation_pic:"https://i0.hdslb.com/bfs/vc/03be4c2912a4bd9f29eca3dac059c0e3e3fc69ce.gif",title:"恭喜主播大乱斗胜利",max_time:120,thank_text:"恭喜<%zbcs030%>赢得大乱斗PK胜利",from_user:{uid:110000261,uname:"zbcs030",face:"http://i0.hdslb.com/bfs/face/member/noface.jpg"},weight:0}],guard:null,gift:null,storm:null,silver:null,activity_box:{ACTIVITY_ID:0,ACTIVITY_PIC:""},danmu:null,anchor:null,red_pocket:{id:233,remain_time:30,num:2e4,sender_uid:213123,sender_name:"吹毛求疵",sender_face:"http://i0.hdslb.com/bfs/face/7676516300d51e98201bf5c4fae8c92b90dbf8bb.jpg",require_message:"参与自动关注：<%召唤的野鸡%>,<%zbcs010%>",server_hash:1}}}},94942:function(t,e,n){"use strict";n.d(e,{E:function(){return w}});var r=n(26849),i=n(66570),o=n(34074),a=n.n(o),s=n(70538),c=n(26452),u=n(95334),l=n(86524),f=n.n(l),d=n(3595),p=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},h={initError:"init-error",urlIncorrect:"url-incorrect",roomBlocked:"room-blocked",roomIsNotExist:"room-is-not-exist",roomLocking:"room-locking",roomEncrypted:"room-encrypted",roomIsRegionRestrict:"room-is-region-restrict",pageEmbeddedForbidden:"page-embedded-forbidden"},m=function(t){function e(){return t.apply(this,arguments)||this}(0,i.Z)(e,t);var n=e.prototype;return n.removeRoomElement=function(){var t=document.querySelector(".app-content"),e=document.querySelector(".link-navbar-ctnr");t&&t.parentElement.removeChild(t),e&&e.parentElement.removeChild(e)},n.created=function(){this.removeRoomElement()},(0,r.Z)(e,[{key:"showingComponent",get:function(){return h[this.type||"roomIsNotExist"]}}]),e}(s.default);p([(0,u.Prop)({type:String,default:"urlIncorrect"})],m.prototype,"type",void 0);var v=m=p([(0,u.Component)({components:{LiveNavbar:f(),"init-error":function(){return n.e(3095).then(n.bind(n,73095)).then((function(t){return t.default}))},"room-blocked":function(){return n.e(3001).then(n.bind(n,3001)).then((function(t){return t.default}))},"room-is-not-exist":function(){return n.e(3276).then(n.bind(n,53276)).then((function(t){return t.default}))},"url-incorrect":function(){return n.e(3405).then(n.bind(n,33405)).then((function(t){return t.default}))},"room-encrypted":function(){return n.e(1584).then(n.bind(n,51584)).then((function(t){return t.default}))},"room-is-region-restrict":function(){return n.e(5650).then(n.bind(n,25650)).then((function(t){return t.default}))},"page-embedded-forbidden":function(){return n.e(1951).then(n.bind(n,41951)).then((function(t){return t.default}))}},store:d.h})],m),g=(0,n(51900).Z)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"enter-failure w-100 p-relative border-box z-enter-failure"},["page-embedded-forbidden"!==t.showingComponent?n("div",{staticClass:"link-navbar-ctnr"},[n("live-navbar")],1):t._e(),n("div",{staticClass:"content-ctnr"},[n(t.showingComponent,{tag:"component"})],1)])}),[],!1,null,"08b762be",null).exports,b=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},w=function(t){function e(){return t.apply(this,arguments)||this}return(0,i.Z)(e,t),(0,r.Z)(e,[{key:"enterFailed",get:function(){return this.$store.getters.appStatus.enterFailed}}]),e}(s.default);w=b([(0,c.ZP)({components:{EnterFailure:g},store:d.h})],w)},32841:function(t,e,n){"use strict";function r(t){return{error:t,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null}}function i(){return function(t,e,n){var i=n.value;return n.value=function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=i.apply(this,e);return o&&"function"==typeof o.then&&"function"==typeof o.catch?o.catch(r):o}catch(t){return r(t)}},n}}n.d(e,{Z:function(){return i}})},41125:function(t,e,n){"use strict";n.d(e,{f1:function(){return f},hb:function(){return d}});var r=n(3649),i=n.n(r),o=n(70538),a=n(75225),s=n(18980),c=null;function u(){clearTimeout(c),c=setTimeout(l,100)}function l(){var t=document.querySelectorAll("[data-bl-report-view]");i()(Array.prototype).call(t).forEach((function(t){try{var e=JSON.parse(t.dataset.blReportView);if(!e.id)return!1;(function(t){var e=t.getBoundingClientRect();return e.bottom>0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)})(t)&&(s.default.report(e.id,e.msg,(0,a.D)()),delete t.dataset.blReportView)}catch(t){}}))}function f(){o.default.directive("click-report-new",{bind:function(t,e){t.addEventListener("click",(function(t){s.default.report(e.value.eventName,e.value.customData,(0,a.D)())}))}})}function d(){document.removeEventListener("scroll",u,!0),document.addEventListener("scroll",u,!0),document.removeEventListener("load",u,!0),document.addEventListener("load",u,!0),l()}},94669:function(t,e,n){"use strict";n.d(e,{T:function(){return i}});var r=n(2708);function i(t,e){var n=t.frame||null,r={};if(n&&(r.avatar=o(n,"avatar")),e){var i="";0===e.role&&(i="v_person"),1===e.role&&(i="v_company"),r.corner=o({name:i,position:3,desc:e.desc,value:""},"corner")}return r}function o(t,e){return t&&e?{name:t.name+""||"--",position:(0,r.toNumber)(t.position)||("corner"===e?3:0),imageUrl:t.value||"",desc:t.desc||"",type:e}:null}},27858:function(t,e,n){"use strict";n.d(e,{Z:function(){return a},H:function(){return s}});var r=n(86902),i=n.n(r),o=n(2708);function a(t){if(t.length<1)return!1;var e=t;return{level:e[0]||0,label:e[1]||"--",anchorUsername:e[2]||"--",shortRoomID:e[3]||0,medalColor:e[4]||null,special:e[5]||"",iconId:e[6]||0,medalColorBorder:e[7],medalColorStart:e[8],medalColorEnd:e[9],guardLevel:e[10]||0,isLight:e[11],anchorId:e[12]}}function s(t){return(!(0,o.isObject)(t)||0!==i()(t).length)&&{uid:t.uid,type:(0,o.toNumber)(t.type)||1,level:(0,o.toNumber)(t.medal_level)||1,label:t.medal_name||"--",anchorId:t.up_uid||0,anchorUsername:t.target_name||"",medalColorStart:(0,o.toNumber)(t.medal_color_start||0),medalColorEnd:(0,o.toNumber)(t.medal_color_end||0),medalColorBorder:(0,o.toNumber)(t.medal_color_border||0),isLight:(0,o.toNumber)(t.is_lighted||0),guardLevel:(0,o.toNumber)(t.guard_level||0)}}},95503:function(t,e,n){"use strict";n.d(e,{ZQ:function(){return p},xX:function(){return nt},pj:function(){return i},rB:function(){return B},k5:function(){return et},lo:function(){return s},Oo:function(){return M},jX:function(){return a},PI:function(){return o},s0:function(){return r},b1:function(){return w},RP:function(){return D},eY:function(){return x}});var r={};n.r(r),n.d(r,{backgroundImagesData:function(){return S}});var i={};n.r(i),n.d(i,{$:function(){return A},T:function(){return C}});var o={};n.r(o),n.d(o,{activity:function(){return j},admin:function(){return W},giftRank:function(){return O},guard:function(){return F},loveClub:function(){return Z},loveClubFight:function(){return V},medal:function(){return U},tab:function(){return H}});var a={};n.r(a),n.d(a,{lotteryCheck:function(){return z},lotteryCheckAll:function(){return Y},lotteryPrizeFilter:function(){return J},lotteryResult:function(){return K}});var s={};n.r(s),n.d(s,{guardBuyInfoFilter:function(){return it},guardBuyTicketInfoFilter:function(){return at},guardDiaryFilter:function(){return ot},guardHeartFilter:function(){return rt},guardShowcaseFilter:function(){return st}});var c=n(51942),u=n.n(c),l=n(44424),f=n(94669),d=n(2708);function p(t,e){var n=null;(0,d.isObject)(t)||(t={}),t.pendants&&(n=(0,f.T)(t.pendants,e.base_info&&e.base_info.official_info));var r={facePendants:n,areaPendant:t.area_pendants||"",pendant:"",uid:t.uid||0,allowChangeAreaTime:t.allow_change_area_time||0,description:t.description||"",tags:t.tags?t.tags.split(","):[]};return u()({},l.Z.state,r)}var h=n(2991),m=n.n(h),v=n(3649),g=n.n(v),b=n(15508);function w(t){(0,d.isObject)(t)||(t={});var e,n,r=t.room_info||{},i=t.silent_room_info||{},o=t.online_gold_rank_info_v2&&t.online_gold_rank_info_v2.list||[],a=(e=t.guard_info&&t.guard_info.count,n=t.tab_info&&t.tab_info.list||[],"number"==typeof e?m()(n).call(n,(function(t){return"guard"===t.type?u()(u()({},t),{num:e}):t})):n),s={areaID:r.area_id||0,background:r.background||"",allSpecialTypes:t.allSpecialTypes||[],coverUrl:r.cover||"",liveStatus:y(r.live_status),roomID:k(r.room_id)||0,roomTitle:r.title||"",roomType:r.room_type||{},parentAreaID:r.parent_area_id||0,areaName:r.area_name||"--",parentAreaName:r.parent_area_name||"--",liveTime:r.live_start_time||0,roomSilentLevel:i.level||0,roomSilentDuration:i.second||0,roomSilentType:_(i.type),allowUploadCoverTime:I(0),verify:"",shortRoomID:k(r.short_id)||0,pkStatus:r.pk_status,pkId:t.pk_info&&t.pk_info.pk_id||0,battleId:t.battle_info&&t.battle_info.pk_id||0,onlineCount:r.online||0,studioInfo:{isStudio:!!r.is_studio,masterList:[]},tabInfo:a,skinInfo:t.skin_info||{},battleRankEntryInfo:t.battle_rank_entry_info||{},voiceJoinInfo:t.voice_join_info||{},newsInfo:t.news_info||{},adBannerInfo:t.ad_banner_info&&t.ad_banner_info.data||[],playerThrottleInfo:t.player_throttle_info||{},videoChannleId:t.video_connection_info&&t.video_connection_info.channel_id||"",onlineGoldRank:g()(o).call(o,0,3)||[],hotRankInfo:t.hot_rank_info||{},areaList:t.areaList||[],danmakuTypeInfo:t.dm_tag_info||{dm_tag:0}};return u()({},b.ZP.state,s)}function y(t){switch(t){case 0:return"PREPARING";case 1:return"LIVE";case 2:return"ROUND"}return"PREPARING"}function k(t){return"string"==typeof t?parseInt(t):t}function _(t){return-1!==["member","medal","level"].indexOf(t)&&t}function I(t){return t?1e3*t:0}var T=n(29795);function x(t,e){return(0,d.isObject)(t)||(t={}),(0,d.isObject)(e)||(e={}),u()({},T.Z.state,{})}function S(t){var e,n;(0,d.isObject)(t)||(t={can_upload:!1,no_upload_reason:"",default:[],custom:[]});var r=m()(e=t.default).call(e,(function(t){return{id:t.id,url:t.url}})),i=m()(n=t.custom).call(n,(function(t){return{id:t.id,url:t.url,auditStatus:t.audit_status,auditReason:t.audit_reason}}));return{canUpload:t.can_upload,reason:t.no_upload_reason,custom:i,default:r}}function A(t){if(!t)return{};t.base_info||(t.base_info={});var e=t.live_info||{},n=t.relation_info||{},r=t.medal_info||{};return{face:t.base_info.face,username:t.base_info.uname||"--",masterLevel:e.level||1,sort:e.rank||">10000",next:e.next||[333,666],current:e.current||[0,333],upgradeScore:e.upgrade_score||99999,giftReceived:e.score||0,fansCount:n.attention||0,fansClubPersonCount:r.fansclub||0,medalName:r.medal_name||"",medalId:r.medal_id||0}}function C(t){if(!(t&&t.info&&t.wallet&&t.user_level))return{};var e=(0,d.toNumber)(t.info.mobile_verify)||-1,n=t.mailbox||{switch_status:0,red_notice:0},r=t.extra_config||{},i=t.relation||{},o=t.cd||{},a=t.user_reward||{};return u()(u()({mobileVerifyCode:e,uid:t.info.uid||0,goldSeed:t.wallet.gold||0,silverSeed:t.wallet.silver||0,username:t.info.uname,userAvatar:t.info.uface,isAdmin:t.badge&&t.badge.is_room_admin,isNewBie:(0,d.toNumber)(t.info.main_rank)<1e4,isPhoneVerified:e>0,biliVip:(0,d.toNumber)(t.info.bili_vip)||0,isSvip:t.vip&&(0,d.toNumber)(t.vip.svip)>0,isVip:t.vip&&(0,d.toNumber)(t.vip.vip)>0,level:t.user_level.level||0,lpl:t.lpl_info.lpl||0,rank:(0,d.toNumber)(t.info.main_rank),userLevelRank:t.user_level.level_rank||"--",isShowGiftPackage:Number(r.show_bag),showVipTips:r.show_vip_broadcast,privilege:R(t.privilege),property:E(t.property),realNameIdentification:!!t.info.identification,mailbox:{switch:n.switch_status,red_notice:n.red_notice},title:t.title&&t.title.title||"",medal:L(t.medal||{})},function(t){if(!t)return{guideFreeMedalCost:0,guideLightMedal:0,guideFollow:0,guardCompensate:0,interactToasts:[]};return{guideFreeMedalCost:t.guide_free_medal_cost||0,guideLightMedal:t.guide_light_medal||0,guideFollow:t.guide_follow||0,guardCompensate:t.guard_compensate||0,interactToasts:t.interact_toasts||[]}}(o)),{isInFansClub:!!i.is_in_fansclub,medalCount:t.medal?t.medal.cnt:0,allowWelcomeMock:a.welcome&&a.welcome.allow_mock||0})}function R(t){return t?{id:(0,d.toNumber)(t.id||0),privilegeType:(0,d.toNumber)(t.privilege_type||0),currentTopGuardLevel:(0,d.toNumber)(t.privilege_type||0),privilegeColor:t.privilege_uname_color,noticeStatus:(0,d.toNumber)(t.notice_status||0),isHeart:t.heart_status||!0,heartTime:1e3*(t.heart_time||0),broadcastConfig:t.broadcast,subLevel:t.sub_level,renewRemind:t.renew_remind,autoRenew:t.auto_renew}:{}}function E(t){return t?{unameColor:t.uname_color,bubble:t.bubble,danmu:t.danmu,bubbleColor:t.bubble_color}:{}}function L(t){if(!t.curr_weared)return!1;var e=t.curr_weared||{},n={level:e.level||1,label:e.medal_name||"--",anchorId:e.target_id||0,anchorUsername:e.target_name||"--",shortRoomID:e.target_roomid||0,special:"",intimacy:(0,d.toNumber)(e.intimacy||0),nextIntimacy:(0,d.toNumber)(e.next_intimacy||0),todayFeed:(0,d.toNumber)(e.today_feed||0),dayLimit:(0,d.toNumber)(e.day_limit||0),medalColorStart:(0,d.toNumber)(e.medal_color_start||0),medalColorEnd:(0,d.toNumber)(e.medal_color_end||0),medalColorBorder:(0,d.toNumber)(e.medal_color_border||0),isLight:(0,d.toNumber)(e.is_lighted||0),guardLevel:(0,d.toNumber)(e.guard_level||0),medalColor:null};return 1===(0,d.toNumber)(e.is_union)&&(n.special="union"),n}var P=n(27858);function M(t){var e=t.emoticon||{};return{userInfo:{username:t.nickname||"--",uid:t.uid||0,isAdmin:!!t.isadmin||!1,isVip:!!t.vip||!1,isSvip:!!t.svip||!1,rank:t.user_level[3]||0,fansMedal:(0,P.Z)(t.medal),title:t.user_title||"",userLevel:t.user_level[0]||0,guardLevel:t.guard_level||0,chatBubbleType:t.bubble||0,chatBubbleColor:t.bubble_color||"",lpl:t.lpl||0},content:t.text||"",validation:{ts:t.check_info.ts||0,ct:t.check_info.ct||""},rnd:t.rnd||0,activityInfo:{usernameColor:t.uname_color||""},emoticonOptions:{bulgeDisplay:e.bulge_display||0,emoticonUnique:e.emoticon_unique||"",inPlayerArea:e.in_player_area||0,isDynamic:e.is_dynamic||0,height:e.height||1,width:e.width||1,url:e.url||""},dmType:t.dm_type,voiceInfo:t.voice_dm_info}}function D(t){var e=t[0][13]||{};return{userInfo:{username:t[2][1]||"",uid:t[2][0]||0,isAdmin:!!t[2][2],isVip:!!t[2][3],isSvip:!!t[2][4],rank:t[4][3]||0,fansMedal:(0,P.Z)(t[3]),title:t[5][1]||"",userLevel:t[4][0]||0,guardLevel:t[7]||0,chatBubbleType:t[0][10],chatBubbleColor:t[0][11],lpl:t[14]||0},content:t[1]||"",validation:{ts:t[9].ts||0,ct:t[9].ct||""},rnd:("number"==typeof t[0][5]?t[0][5]:parseInt(t[0][5]))||0,activityInfo:{usernameColor:t[2][7]||""},emoticonOptions:{bulgeDisplay:e.bulge_display||0,emoticonUnique:e.emoticon_unique||"",inPlayerArea:e.in_player_area||0,isDynamic:e.is_dynamic||0,height:e.height||1,width:e.width||1,url:e.url||""},dmType:t[0][12],voiceInfo:t[0][14]}}var N=n(80207);function B(t){var e=(0,d.toNumber)(t.num)||1,n=t.price||0,r=e*n;return{fansMedal:(0,N.us)(t.medal_info),userInfo:{username:t.uname||"",nameColor:t.name_color||"",uid:t.uid||0},giftInfo:{id:t.giftId||0,label:t.giftName||"--",count:e,comboCount:t.super_batch_gift_num||0,price:n,totalValue:r},action:t.action||"--",effectBlock:t.effect_block||0,rnd:(0,d.toNumber)(t.rnd)||0,timestamp:("string"==typeof t.timestamp?parseInt(t.timestamp):t.timestamp)||0,getNewTitle:!!t.newTitle,getNewMedal:!!t.newMedal,isSuperGift:!!t.super,sendMaster:t.send_master||null,batchId:t.batch_combo_id,blindGift:t.blind_gift}}function O(t){return{coin:t.coin||0,face:t.face||"",guardLevel:parseInt(t.guard_level.toString(),10)||0,isSelf:!!t.isSelf||!1,rank:t.rank||-1,score:t.score||0,uid:t.uid||0,uname:t.uname||"",unlogin:t.unlogin||0}}function F(t){return{face:t.face||"",guardLevel:parseInt(t.guard_level,10)||0,rank:t.rank||-1,uid:t.uid||0,uname:t.username||"",isLive:t.is_alive||0,ruid:t.ruid,guardSubLevel:t.guard_sub_level,medalInfo:{medal_color_border:t.medal_info.medal_color_border||0,medal_color_end:t.medal_info.medal_color_end||0,medal_color_start:t.medal_info.medal_color_start||0,medal_level:t.medal_info.medal_level||0,medal_name:t.medal_info.medal_name||0}}}function G(t){return{face:t.face||"",isSelf:1===t.isSelf,rank:t.rank||-1,uid:t.uid||0,medalName:t.medal_name||"",uname:t.uname||"",level:t.level||1,special:t.special||"",masterId:t.target_id||0,medalColorStart:t.medal_color_start,medalColorEnd:t.medal_color_end,medalColorBorder:t.medal_color_border,isLighted:t.is_lighted,guardLevel:t.guard_level}}var U={medalInfoFilter:G,medalOwnFilter:function(t){var e=G(t),n={isMax:t.isMax||0};return u()({},e,n)}};function Z(t){var e=t||{},n=e.days,r=void 0===n?0:n,i=e.face,o=void 0===i?"":i,a=e.fight_status,s=void 0===a?0:a,c=e.id,u=void 0===c?0:c,l=e.rank,f=void 0===l?-1:l,d=e.score,p=void 0===d?0:d,h=e.uid,m=void 0===h?"":h,v=e.uname,g=void 0===v?"":v,b=e.union_name,w=void 0===b?"":b,y=e.isSelf;return{days:r,face:o,status:s,id:u,rank:f,score:p,uid:m,uname:g,clubName:w,isSelf:!!(void 0!==y&&y)}}function V(t){var e,n=t.master,r=t.other,i=t.list,o=t.own,a={defending:null,challengers:null,own:null,listData:[]};(a.defending=Z(n),r)&&(a.challengers={list:m()(e=r.list).call(e,(function(t){return Z(t)})),score:r.score});return a.own=Z(o),i&&(a.listData=m()(i).call(i,(function(t){return Z(t)}))),a}function H(t){return{type:t.type||"",apiPrefix:t.apiPrefix||"",isEvent:!!t.isEvent,desc:t.desc||"",isFirst:t.isFirst||0,rankName:t.rank_name||"",num:t.num||null}}function W(t){return{uid:t.uid||0,uname:t.uname||""}}function j(t){var e=t.rank,n=void 0===e?-1:e,r=t.score,i=void 0===r?0:r,o=t.uname,a=void 0===o?"":o,s=t.icon,c=void 0===s?"":s,u=t.id,l=void 0===u?0:u,f=t.uid,d=void 0===f?0:f,p=t.face;return{id:l,uid:d,face:void 0===p?"":p,rank:n,score:i,uname:a,icon:c}}n(86902);var z=function(t){var e=t.time,n=void 0===e?0:e,r=t.raffleId,i=void 0===r?0:r,o=t.status,a=void 0===o?2:o,s=t.from,c=void 0===s?"":s,u=t.type,l=void 0===u?"":u,f=t.type,d=void 0===f?"":f,p=t.asset_animation_pic,h=t.asset_tips_pic,m=t.max_time,v=t.title;return{id:d,time:n,raffleId:i||t.id,state:a,thx:c,type:l,animationUrl:p,iconUrl:h,maxTime:m,title:v}};function Y(t){return Array.isArray(t)?m()(t).call(t,(function(t){var e=t.time,n=void 0===e?0:e,r=t.id,i=void 0===r?-1:r,o=t.status,a=void 0===o?2:o,s=t.sender.uname,c=void 0===s?"":s,u=t.keyword;return{time:n,raffleId:i,state:a,thx:c,id:void 0===u?"":u,guardLevel:t.privilege_type,title:t.title}})):[]}var K=function(t){var e=t.gift_name,n=void 0===e?"":e,r=t.gift_num,i=void 0===r?0:r,o=t.gift_content,a=void 0===o?"":o,s=t.gift_id,c=void 0===s?0:s,u=t.gift_type;return{giftName:n,giftNum:i,giftContent:a,giftId:c,giftType:void 0===u?0:u}};var J=function(t){return{giftName:t&&t.message||""}};var Q=n(20549),X=n(23933);var q=n(53466);var $=n(78718),tt=n.n($);var et={userPackageFilter:function(t,e){var n=t.gift_id||0,r=X.e.getGiftAssetsById(n),i=t.bind_room_text||"";return i=i.replace(/<%([^%]+)%>/g,(function(e,n){return'<a href="//live.bilibili.com/'+t.bind_roomid+'" target="_blank">'+n+"</a>"})),{data:t,bagId:t.bag_id||0,id:n,rule:r.rule,rights:r.rights,description:r.description,coinType:r.coinType,giftNum:t.gift_num||0,countSet:t.gift_num>1?[1,t.gift_num]:[1],bindRoomId:t.bind_roomid||0,bindRoomText:i,cornerBgColor:t.corner_color||"",cornerMark:t.corner_mark||"",customInput:!0,effect:0,countLimit:1,fansMedalGift:!1,all:!0,label:t.gift_name||"",type:t.gift_type||0,giftImg:{gif:(0,Q.jJ)(n),gifGrey:(0,Q.bv)(n),png:(0,Q.KZ)(n)}}},receivedPackageFilter:function(t,e){var n,r=t.source||{},i={medalId:r.medal_id||0,medalName:r.medal_name||"",medalLevel:r.level||0,userLevel:r.user_level||0,masterId:r.target_id||0,masterName:r.target_name||""},o=function(t){if(0===t)return"";var n=t-e,r=Math.ceil(n/86400);return r>99?"99+":r>1?r+"天":"今天"},a=t.gift_list&&m()(n=t.gift_list).call(n,(function(t){var e=t.gift_id||0;return{giftId:e,giftNum:t.gift_num||0,expiration:o(t.expire_at),giftImage:{png:(0,q.O)(e)}}}));return{type:t.type||0,bagName:t.bag_name||"",source:i,giftList:a}},titleRenewCardFilter:function(t){return{data:tt()(t,["card_image","card_gif","card_id","card_record_id","is_show_send","gift_name","gift_num","corner_mark"])}}};function nt(t){return(0,d.isObject)(t)||(t={}),{title:t.title||"抽奖",rule:t.rule||"",currentRound:t.current_round||0,typeB:t.typeB||[]}}function rt(t){var e=t.guard_stop;return{isStopHeart:void 0!==e&&e}}function it(t){var e=t||{},n=e.expired_sevenday,r=void 0===n?{expired_day:0,is_expired_sevenday:0}:n,i=e.price_info,o=void 0===i?[]:i,a=e.guard_level,s=void 0===a?0:a,c=e.coin,u=void 0===c?"0":c,l=e.is_personal_dress,f=void 0===l?0:l,d=e.rusername,p=void 0===d?"":d,h=e.room_id,v=void 0===h?0:h,g=e.expired_timestamp,b=void 0===g?0:g,w=e.uface,y=void 0===w?"":w,k=e.face,_=void 0===k?"":k,I=e.username,T=void 0===I?"":I,x=e.accompany_days,S=void 0===x?0:x;Array.isArray(o)||(o=[]);var A=m()(o).call(o,(function(t){var e=t||{},n=e.guard_level,r=void 0===n?1:n,i=e.price,o=void 0===i?0:i,a=e.discount_type,s=void 0===a?0:a,c=e.discount_price,u=void 0===c?o:c,l=e.num,f=void 0===l?1:l,d=e.expired_timestamp_origin,p=void 0===d?0:d,h=e.auto_renew_price,m=void 0===h?0:h,v=e.next_auto_renew_time,g=void 0===v?"":v,b=e.gift_name,w=void 0===b?"":b,y=e.goods_id,k=void 0===y?0:y,_=e.buy_back_remain;return{guardLevel:r,price:o,accompanyDays:S,discountPrice:u,isDiscount:0!==s,discountType:s,autoRenewPrice:m,nextAutoRenewTime:g,giftName:w,isNew:0===s,limitNum:f,expiredTime:1e3*p,goodsId:k,buyBackRemain:void 0===_?-1:_}}));return{expiredSevenday:{expiredDay:r.expired_day,isExpiredSevenday:r.is_expired_sevenday},priceInfo:A,uface:y,face:_,isPersonalDress:f,username:T,guardLevel:s,balance:parseInt(u),masterUsername:p,roomId:v,expiredTime:1e3*b,accompanyDays:S}}function ot(t){var e=t||{},n=e.price_info,r=void 0===n?[]:n,i=e.guards_info,o=void 0===i?[]:i,a=e.guard_type,s=void 0===a?0:a,c=e.medal_level,u=void 0===c?0:c,l=e.has_guard,f=void 0===l?0:l,d=e.room_id,p=void 0===d?0:d,h=e.head_pic,v=void 0===h?"":h,g=e.anchor_name,b=void 0===g?"":g,w=e.accomany_day,y=void 0===w?0:w,k=e.privilege,_=void 0===k?[]:k,I=e.is_seven_expired,T=void 0===I?0:I;return Array.isArray(r)||(r=[]),Array.isArray(o)||(o=[]),{roomId:p,isSevenExpired:T,priceInfo:m()(r).call(r,(function(t){var e=t||{},n=e.guard_level,r=void 0===n?1:n,i=e.price,o=void 0===i?0:i,a=e.discount_type,s=void 0===a?0:a,c=e.discount_price,u=void 0===c?o:c,l=e.num,f=void 0===l?1:l,d=e.expired_timestamp_origin,p=void 0===d?0:d,h=e.auto_renew_price,m=void 0===h?0:h,v=e.next_auto_renew_time,g=void 0===v?"":v,b=e.gift_name,w=void 0===b?"":b,k=e.goods_id,_=void 0===k?0:k,I=e.buy_back_remain;return{guardLevel:r,price:o,accompanyDay:y,discountPrice:u,isDiscount:0!==s,discountType:s,autoRenewPrice:m,nextAutoRenewTime:g,giftName:w,isNew:0===s,limitNum:f,expiredTime:1e3*p,goodsId:_,buyBackRemain:void 0===I?-1:I}})),guardsInfo:m()(o).call(o,(function(t){var e=t||{},n=e.guard_type,r=void 0===n?0:n,i=e.expired_time,o=void 0===i?0:i,a=e.guard_status;return{guardType:r,expiredTime:1e3*o,guardStatus:void 0===a?0:a}})),guardType:s,hasGuard:f,accomanyDay:y,medalLevel:u,headPic:v,anchorName:b,privilege:_}}function at(t){var e=t||{},n=e.url,r=void 0===n?"":n,i=e.expired_time,o=void 0===i?"":i,a=e.cost,s=void 0===a?0:a,c=e.guard_level,u=void 0===c?1:c,l=e.rusername,f=void 0===l?"":l,d=e.token,p=void 0===d?"":d,h=t.room_id||0;return{expiredTime:o,totalPrice:s,level:u,time:t.num||1,roomid:h,masterUserName:f,payOnlineUrl:r,token:p}}function st(t){var e=t.list||[];return{list:m()(e).call(e,(function(t){var e=t.uid,n=void 0===e?0:e,r=t.end_time,i=void 0===r?0:r,o=t.face;return{uid:n,endTime:1e3*i,face:void 0===o?"":o}}))}}},35581:function(t,e,n){"use strict";var r=n(63109),i=n.n(r),o=(n(82526),n(41817),n(72443),n(92401),n(8722),n(32165),n(69007),n(83510),n(41840),n(6982),n(32159),n(96649),n(39341),n(60543),n(92222),n(50545),n(43290),n(57327),n(69826),n(34553),n(84944),n(86535),n(91038),n(26699),n(66992),n(69600),n(21249),n(26572),n(47042),n(38706),n(40561),n(33792),n(99244),n(18264),n(96078),n(4855),n(68309),n(73706),n(51532),n(99752),n(82376),n(73181),n(23484),n(2388),n(88621),n(60403),n(84755),n(25438),n(90332),n(40658),n(40197),n(44914),n(52420),n(60160),n(60970),n(10408),n(73689),n(9653),n(93299),n(35192),n(33161),n(44048),n(78285),n(44363),n(55994),n(61874),n(9494),n(56977),n(19601),n(59595),n(35500),n(69720),n(43371),n(38559),n(38880),n(49337),n(36210),n(30489),n(43304),n(41825),n(98410),n(72200),n(47941),n(94869),n(33952),n(57227),n(60514),n(41539),n(26833),n(88674),n(17727),n(36535),n(12419),n(69596),n(52586),n(74819),n(95683),n(39361),n(51037),n(5898),n(67556),n(14361),n(83593),n(39532),n(24603),n(74916),n(92087),n(39714),n(70189),n(79841),n(27852),n(94953),n(32023),n(78783),n(4723),n(66528),n(83112),n(38992),n(82481),n(15306),n(64765),n(23123),n(23157),n(73210),n(48702),n(55674),n(15218),n(74475),n(57929),n(50915),n(29253),n(42125),n(78830),n(58734),n(29254),n(37268),n(7397),n(60086),n(80623),n(44197),n(76495),n(87145),n(35109),n(65125),n(82472),n(49743),n(8255),n(29135),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(98145),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(95206),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(4129),n(38478),n(54747),n(33948),n(85844),n(60285),n(83753),n(41637),n(93476)),a=n.n(o),s=(n(35666),n(78580)),c=n.n(s),u=n(51942),l=n.n(u),f=n(20116),d=n.n(f),p=n(70538),h=n(55716);var m=n(2708);d()(p.default).call(p.default,"tenThousand",(function(t){return h.numberFormat.autoParse(t)})),d()(p.default).call(p.default,"secondFormatter",(function(t){return e=t,((n=Math.floor(e/60))<10?"0"+n:n)+":"+((r=e%60)<10?"0"+r:r);var e,n,r})),d()(p.default).call(p.default,"formatMoney",(function(t){return null==t?"--":(0,m.formatMoney)(t)})),d()(p.default).call(p.default,"bfsImgLink",(function(t,e,n){return void 0===t?"":(0,h.bfsImgLink)(t,e,n)}));var v=n(4089),g=n(79433),b=n(6148),w=n(51395),y=n(40017),k={EnterFailureVM:n(94942).E},_=n(66570),I=n(34074),T=n.n(I),x=n(26452),S=n(26849),A=n(86524),C=n.n(A),R=n(43889),E=n(35955),L=n(3595),P=n(73645),M=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=T()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},D=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).hideNavbar=!1,e.lastScroll=0,e.showGuild=!1,e.delayMounted=!1,e}(0,_.Z)(e,t);var n=e.prototype;return n.initScrollingControl=function(){var t=R.e.NAVBAR_SCROLLING_HIDE_OFFSET,e=this;function n(){var n=(0,E.c)();if(n<t)return e.hideNavbar=!1,void(e.lastScroll=n);n-e.lastScroll>0?(e.hideNavbar=!0,e.lastScroll=n):n-e.lastScroll<0&&(e.hideNavbar=!1,e.lastScroll=n)}window.addEventListener("scroll",n),n()},n.mounted=function(){var t=this;-1!==window.location.search.indexOf("showGuild=1")&&setTimeout((function(){t.showGuild=!0}),1e3),this.initScrollingControl()},(0,S.Z)(e,[{key:"skinConfig",get:function(){return{roomid:this.$store.getters.baseInfoRoom.roomID,parentAreaID:this.$store.getters.baseInfoRoom.parentAreaID,areaID:this.$store.getters.baseInfoRoom.areaID}}},{key:"userStatusInfo",get:function(){return{uid:this.$store.state.baseInfoUser.uid,uname:this.$store.state.baseInfoUser.username,face:this.$store.state.baseInfoUser.userAvatar}}},{key:"skinBannerInfo",get:function(){return"undefined"==typeof window?null:P.y9.getInfoFromParam("web_banner_info",!1)}},{key:"areaListInfo",get:function(){return this.$store.state.baseInfoRoom.areaList}}]),e}(p.default),N=D=M([(0,x.ZP)({components:{LiveNavbar:C()},store:L.h})],D),B=n(51900),O=(0,B.Z)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"z-link-navbar link-navbar-ctnr w-100 p-fixed p-zero ts-dot-4 z-navbar contain-optimize",class:{hide:t.hideNavbar},attrs:{id:"link-navbar-vm"}},[n("live-navbar",{attrs:{"skin-config":t.skinConfig,"skin-banner-info":t.skinBannerInfo,"user-status-info":t.userStatusInfo,"area-list-info":t.areaListInfo,"force-update-from-client":!0,"show-guild":t.showGuild,"delay-mounted":t.delayMounted}})],1)}),[],!1,null,"0b73ee38",null).exports,F=n(65190),G=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=T()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};var U=!1;try{var Z=n(2708);U=Z.isIE}catch(t){}var V="//i0.hdslb.com/bfs/live/636d66a97d5f55099a9d8d6813558d6d4c95fd61.jpg",H=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isIE=U,e}(0,_.Z)(e,t);var n=e.prototype;return n.mounted=function(){var t=this;setTimeout((function(){t.$forceUpdate()})),this.sendBgImgLoadedMetrics()},n.sendBgImgLoadedMetrics=function(){var t=new Image;t.onload=function(){(0,F.pr)("bgImgLoaded"),(0,F.c5)("bgImgLoaded")},t.src=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}}()?this.webpBackgroundUrl:this.defaultBackgroundUrl},(0,S.Z)(e,[{key:"defaultBackgroundUrl",get:function(){var t=(0,h.bfsImgLink)(this.$store.state.baseInfoRoom.background||V,1920,1080);return t=t.replace(/.webp/,"")}},{key:"webpBackgroundUrl",get:function(){return(0,h.bfsImgLink)(this.$store.state.baseInfoRoom.background||V,1920,1080,{useWebp:!0})}}]),e}(p.default),W=H=G([(0,x.ZP)({store:L.h})],H),j=(0,B.Z)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"z-room-background room-bg-ctnr w-100 h-100 p-absolute p-zero",class:t.isIE?"":"fixed-limitation",attrs:{id:"room-background-vm"}},[n("div",{staticClass:"room-bg webp",class:t.isIE?"p-absolute":"p-fixed",style:"background-image: url("+t.webpBackgroundUrl+")",attrs:{role:"img.webp"}}),n("div",{staticClass:"room-bg no-webp",class:t.isIE?"p-absolute":"p-fixed",style:"background-image: url("+t.defaultBackgroundUrl+")",attrs:{role:"img"}})])}),[],!1,null,"224849d4",null).exports,z=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=T()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Y=function(t){function e(){return t.apply(this,arguments)||this}return(0,_.Z)(e,t),e}(p.default),K=Y=z([(0,x.ZP)({components:{LinkNavbar:O,RoomBackground:j},store:L.h})],Y),J=(0,B.Z)(K,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"z-room-ssr",attrs:{id:"room-ssr-vm"}},[e("link-navbar"),e("room-background")],1)}),[],!1,null,null,null).exports;var Q=n(41125),X=n(5985),q=n(18980),$=n(6619),tt=n(95503),et=n(85453);var nt=n(92689),rt=n(95334),it=n(2060),ot=n(45651),at=(0,it.aZ)({props:{url:{type:String,default:"//static.hdslb.com/images/member/noface.gif"},link:String},setup:function(){var t=(0,ot.lE)();return{faceFrame:t.faceFrame,corner:t.corner}}}),st=(0,B.Z)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"avatar",style:{backgroundImage:"url("+t.url+")"},attrs:{href:t.link,target:"_blank"}},[n("div",{staticClass:"face-pendants"},[t.faceFrame.imageUrl?n("div",{staticClass:"face-frame",style:{backgroundImage:"url("+t.faceFrame.imageUrl+")"},attrs:{title:t.faceFrame.desc}}):t._e(),t.corner.imageUrl?n("div",{staticClass:"face-corner",class:"corner-"+t.corner.position,style:{backgroundImage:"url("+t.corner.imageUrl+")"}}):t._e()])])}),[],!1,null,"199c6cc4",null).exports,ct=n(26384),ut=n(17388),lt=n(33960),ft=n(58209),dt=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},pt=(0,it.aZ)({setup:function(t,e){var n=this,r=(0,it.Fl)((function(){var t=lt.Z.state.baseInfo.anchor.username;return"round"===lt.Z.state.baseInfo.room.liveStatus.toLowerCase()?t+"的投稿视频":lt.Z.state.baseInfo.room.roomTitle||t+"的直播间"})),o=(0,it.Fl)((function(){return lt.Z.state.baseInfo.user.isAnchor})),a=(0,it.Fl)((function(){return lt.Z.state.baseInfo.user.isAdmin})),s=(0,it.iH)(!1),c=(0,it.iH)(!1),u=(0,ot.Uk)(r.value),l=u.editableTitleText,f=u.maxLength,d=u.setEditableTitleText,p=u.updateTitle,m=function(){s.value=!s.value,e.emit("changeEditStatus",s.value),s.value||d(r.value)};return{roomTitle:r,isAnchor:o,isAdmin:a,isEdit:s,isFetchUpdateTitle:c,toggleEditStatus:m,editableTitleText:l,editMaxLength:f,confirmModifyTitleClick:function(t){return dt(n,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.value=!0,e.next=3,p();case 3:0===(n=e.sent).code?((0,ft.Z)(t.target,"修改成功"+h.randomEmoji.happy(),"success"),m()):((0,ft.Z)(t.target,n.msg+""+h.randomEmoji.sad(),null==n.code?"error":"caution"),console.warn("[updateTitleError]:",n)),c.value=!1;case 6:case"end":return e.stop()}}),e)})))}}},components:{LiveInput:ct.default,LiveButton:ut.default}}),ht=(0,B.Z)(pt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"live-title"},[t.isEdit?n("div",{staticClass:"edit a-move-in-left"},[n("div",{staticClass:"input-wrap"},[n("live-input",{staticClass:"title-edit-input",attrs:{width:391,maxlength:t.editMaxLength,disabled:t.isFetchUpdateTitle},model:{value:t.editableTitleText,callback:function(e){t.editableTitleText=e},expression:"editableTitleText"}}),n("span",{staticClass:"dp-i-block p-absolute text-length-limit"},[t._v(t._s(t.editableTitleText.length+"/"+t.editMaxLength))])],1),n("live-button",{staticClass:"title-edit-btn v-middle",attrs:{disabled:t.isFetchUpdateTitle},on:{click:t.confirmModifyTitleClick}},[t._v("确认")]),n("live-button",{staticClass:"title-edit-btn v-middle",attrs:{type:"ghost",disabled:t.isFetchUpdateTitle},on:{click:t.toggleEditStatus}},[t._v("取消")])],1):n("div",{staticClass:"flex-wrap"},[n("div",{staticClass:"text live-skin-main-text title-length-limit",class:!t.isAnchor&&t.isAdmin?"smaller-title":"small-title",attrs:{title:t.roomTitle}},[t._v(t._s(t.roomTitle))]),t.isAnchor?n("i",{staticClass:"icon-font icon-edit live-skin-normal-text v-middle dp-i-block pointer ts-dot-4",attrs:{title:"编辑房间标题"},on:{click:t.toggleEditStatus}}):t._e()])])}),[],!1,null,"21015ffc",null).exports,mt=n(30381),vt=n.n(mt),gt=n(86720),bt=n(16694),wt=(0,it.aZ)({setup:function(){var t=(0,ot.BZ)(),e=t.showHotRank,n=t.hotRankRefs,r=t.hotIcon,i=t.openHotRankDetailIFrame,o=t.currentRoomHasRank,a=t.currentRoomRankTrend,s=t.currentRoomRankNumber,c=t.settlementCountdown,u=t.isSettlement,l=(0,it.iH)(!1),f=(0,it.Fl)((function(){var t;return function(t){t[t["animate-bounce-up"]=1]="animate-bounce-up",t[t["animate-bounce-down"]=2]="animate-bounce-down"}(t||(t={})),l?t[a.value]:""})),d=(0,it.Fl)((function(){var t=a.value;return t>0?1===t?gt:bt:""})),p=(0,it.iH)(!1),h=(0,it.Fl)((function(){var t=vt().duration(c.value,"seconds").asMilliseconds();return vt().utc(t).format("mm:ss")})),m=null,v=function t(){m=setTimeout((function(){p.value=!p.value,t()}),8e3)};return(0,it.YP)(s,(function(){a.value>0&&(l.value=!0,setTimeout((function(){l.value=!1}),800))})),(0,it.m0)((function(){var t=c.value;if(0===t&&m)return clearTimeout(m),void(p.value=!1);t>0&&t<=180&&!m&&v()})),(0,it.m0)((function(){e.value&&setTimeout(q.default.report.bind(q.default),2e3,"hourrank_show")})),(0,it.Ah)((function(){return clearTimeout(m)})),{hotRankRefs:n,showHotRank:e,handleClick:function(){q.default.report("hourrank_click"),i()},currentRoomHasRank:o,currentRoomRankNumber:s,hotIcon:r,runTrendChangedAnimation:l,trendChangedAnimationClassName:f,trendAnimationIcon:d,showCountdown:p,countdownText:h,isSettlement:u}}}),yt=(0,B.Z)(wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showHotRank?n("div",{ref:"hotRankRefs",staticClass:"dp-i-block info-section v-middle",on:{click:t.handleClick}},[t.currentRoomHasRank&&!t.isSettlement?n("div",{staticClass:"hot-rank-wrap"},[n("img",{staticClass:"hot-icon",class:t.runTrendChangedAnimation?"animate-text-hide":"animate-text-show",attrs:{src:t.hotIcon}}),n("img",{directives:[{name:"show",rawName:"v-show",value:t.runTrendChangedAnimation,expression:"runTrendChangedAnimation"}],staticClass:"trend-icon",class:t.trendChangedAnimationClassName,attrs:{src:t.trendAnimationIcon}}),n("div",{staticClass:"hot-rank hot-rank-content"},[n("transition",{attrs:{name:"task-move","out-in":""}},[t.showCountdown?n("span",{key:"countdownText",staticClass:"dp-i-block countdown"},[t._v(t._s(t.countdownText))]):n("span",{key:"rankNumber",staticClass:"dp-i-block rank"},[t._v("No."+t._s(t.currentRoomRankNumber))])])],1)]):n("div",{staticClass:"hot-not-rank"},[t._m(0)])]):t._e()}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hot-rank-text"},[n("span",[t._v("热门榜")]),n("span",{staticClass:"hot-rank-text-icon"})])}],!1,null,"62078723",null).exports,kt=n(47302),_t=n.n(kt),It=n(39616),Tt=n(18706),xt=(0,it.aZ)({props:{show:{type:Boolean,default:!0},delay:{type:Number,default:300}},setup:function(t){var e,n=(0,it.iH)(t.show);return(0,it.YP)((function(){return t.show}),(function(r){clearTimeout(e),e=setTimeout((function(){n.value=r}),t.delay)})),{_show:n}},components:{ProgressTv:Tt.default}}),St=(0,B.Z)(xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{enterActiveClass:"a-scale-in-ease",leaveActiveClass:"a-scale-out"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t._show,expression:"_show"}],staticClass:"drop-ctnr p-absolute"},[n("div",{staticClass:"common-popup-wrap arrow-top drop-bubble-ctnr"},[t._t("default",(function(){return[n("div",{staticClass:"default-ctnr"},[n("progress-tv",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{text:"# Make a small news #"}})],1)]}))],2)])])}),[],!1,null,"659b2995",null).exports,At=n(66856),Ct=(0,it.aZ)({components:{MasterLevel:It.u,DropBubble:St},setup:function(){var t=(0,it.Fl)((function(){return lt.Z.state.baseInfo.anchor.masterLevel})),e=(0,it.Fl)((function(){return _t()(lt.Z.state.baseInfo.anchor)})),n=(0,it.Fl)((function(){return lt.Z.state.baseInfo.anchor.upgradeScore})),r=(0,it.Fl)((function(){var t=lt.Z.state.baseInfo.anchor.next[0];return(t-lt.Z.state.baseInfo.anchor.upgradeScore)/t*100})),i=(0,it.iH)(At.webCurrency.name),o=(0,it.iH)(!1);return{level:t,rank:e,upgradeScore:n,progressPercentage:r,isShowDrop:o,showDrop:function(){return o.value=!0},hideDrop:function(){return o.value=!1},currencyName:i}}}),Rt=(0,B.Z)(Ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dp-i-block v-middle p-relative",on:{mouseenter:t.showDrop,mouseleave:t.hideDrop}},[n("master-level",{staticClass:"pointer",attrs:{level:t.level}}),n("drop-bubble",{attrs:{show:t.isShowDrop}},[n("div",{staticClass:"master-rank-ctnr"},[n("p",{staticClass:"rank-text-ctnr"},[t._v("当前排名："),n("span",{staticClass:"rank-text",domProps:{textContent:t._s(t.rank)}})])]),n("div",{staticClass:"progress-outer-ctnr"},[n("p",{staticClass:"next-text t-center"},[t._v("升级还需 "+t._s(t.upgradeScore)+" 积分")]),n("div",{staticClass:"progress-ctnr"}),n("span",{staticClass:"dp-i-block v-middle lv-text"},[t._v("UP."+t._s(t.level))]),n("div",{staticClass:"score-progress-bar dp-i-block v-middle p-relative"},[n("div",{staticClass:"progress-bar-core p-absolute",style:{width:t.progressPercentage+"%"}})]),n("span",{staticClass:"dp-i-block v-middle lv-text"},[t._v("UP."+t._s(t.level+1))])]),n("p",{staticClass:"score-introduction"},[t._v("积分通过获得的道具提升，每 "),n("span",{staticClass:"emphasis"},[t._v("1"+t._s(t.currencyName))]),t._v("或者"),n("span",{staticClass:"emphasis"},[t._v("100银瓜子")]),t._v(" 的礼物提升 "),n("span",{staticClass:"emphasis"},[t._v("1点")]),t._v(" 积分。")])])],1)}),[],!1,null,"1993a428",null).exports,Et=(0,it.aZ)({setup:function(){var t=(0,ot.OM)(),e=t.isFollow,n=t.curButtonType,r=t.curButtonStrategy,i=t.diplayCount,o=t.isShowisNotification,a=t.hideNotification,s=(0,it.iH)(!1),c=function(t){return s.value=t};return{isFollow:e,curButtonType:n,curButtonStrategy:r,diplayCount:i,isShowisNotification:o,isShow22:s,handleMouseenter:function(){return c(!0)&&a()},handleMouseleave:function(){return c(!1)}}}}),Lt=(0,B.Z)(Et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"follow-ctnr p-relative v-middle",style:{zIndex:t.isShow22?3:1}},[n("div",{staticClass:"left-part live-skin-highlight-bg live-skin-button-text dp-i-block pointer p-relative",attrs:{role:"button","aria-label":t.curButtonStrategy.attrs.aria,title:t.curButtonStrategy.attrs.title},on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave,click:t.curButtonStrategy.action}},["unFollow"===t.curButtonType?n("i",{staticClass:"icon-font v-middle icon-attention"}):t._e(),"follow"===t.curButtonType?n("i",{staticClass:"icon-font v-middle icon-solid-heart"}):t._e(),n("span",{staticClass:"follow-text v-middle d-inline-block",domProps:{textContent:t._s(t.curButtonStrategy.attrs.text)}}),"joinFansClub"===t.curButtonType?n("i",{staticClass:"icon-font v-middle icon-arrow-right self-icon-arrow-right"}):t._e(),n("transition",{attrs:{"enter-active-class":"a-scale-in-ease","leave-active-class":"a-scale-out-ease"}},[t.isShowisNotification?n("div",{staticClass:"subscribe-notification-ctnr p-absolute"},[n("div",{staticClass:"subscribe-notification p-relative w-100 h-100"},[t._v("为主播打 call")])]):t._e()])],1),n("div",{staticClass:"p-absolute loli-ctnr fix",class:[t.isFollow?"happy":"normal",{active:t.isShow22}]}),n("div",{staticClass:"right-part live-skin-separate-border live-skin-separate-area dp-i-block live-skin-normal-text",domProps:{textContent:t._s(t.diplayCount)}})])}),[],!1,null,"f476dffe",null).exports,Pt=(0,it.aZ)({props:{name:String,label:{default:""},type:{type:String,default:function(){return"font"}},iconSize:{type:Number,default:function(){return 16}},labelSize:{type:Number,default:function(){return 12}},desc:{type:String,default:function(){return""}}},setup:function(t,e){return{classnames:(0,it.Fl)((function(){return"font"===t.type?"icon-font icon-"+t.name:"icon svg-icon "+t.name})),click:function(){return e.emit("click")},mouseenter:function(){return setTimeout(e.emit,100,"mouseenter")},mouseleave:function(){return setTimeout(e.emit,100,"mouseleave")}}}}),Mt=(0,B.Z)(Pt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon-ctnr live-skin-normal-a-text",style:{"line-height":t.iconSize+"px"},attrs:{title:t.desc},on:{click:t.click,mouseenter:t.mouseenter,mouseleave:t.mouseleave}},[n("i",{staticClass:"v-middle",class:t.classnames,style:{"font-size":t.iconSize+"px"}}),n("span",{staticClass:"action-text v-middle",style:{"font-size":t.labelSize+"px"},domProps:{textContent:t._s(t.label)}}),t._t("default")],2)}),[],!1,null,"6d89404a",null).exports,Dt=n(90392),Nt=n(57072),Bt=n(97683),Ot=n(60048),Ft=n(75443),Gt=n(72379),Ut=n(18305),Zt=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Vt=function(){(0,Gt.Z)({button:!1,title:"开播封面设置",width:528,component:{components:{StartLiveCoverSetting:function(){return{component:n.e(3522).then(n.bind(n,3522)),loading:Tt.default}}},name:"start-live-cover-setting-popup",template:"<start-live-cover-setting></start-live-cover-setting>"}})},Ht=function(){(0,Gt.Z)({button:!1,title:"直播分类",width:406,component:{components:{EditLiveArea:function(){return{component:n.e(6260).then(n.bind(n,76260)),loading:Tt.default}}},name:"edit-live-area-popup",template:"<edit-live-area></edit-live-area>"}})},Wt=function(){(0,Gt.Z)({button:!1,title:"分享给你的小伙伴",width:468,component:{components:{Share:function(){return{component:Promise.all([n.e(2638),n.e(7414)]).then(n.bind(n,97414)),loading:Tt.default}}},name:"share-popup",template:"<share></share>"}})},jt=function(){(0,Gt.Z)({button:!1,title:"房间举报",width:408,component:{components:{Report:function(){return{component:n.e(1410).then(n.bind(n,81410)),loading:Tt.default}}},name:"report-popup",template:"<report></report>"}})},zt=function(t){return Zt(void 0,void 0,void 0,i().mark((function e(){var r,o,a,s,c,u,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ut.getAnchorTodayUseInfo)(lt.Z.state.baseInfo.user.uid);case 2:if(0===(r=e.sent).code){e.next=5;break}return e.abrupt("return",(0,ft.Z)(document.body,r.msg,null==r.code?"error":"caution"));case 5:o=r.data,a=o.modules,s=o.remainCnt,c=a&&1===a.length&&a[0].leftTime>0,u=c?a[0]&&a[0].moduleText:t.moduleName,l={show:!c,modules:a||[],remainCnt:s||0},f=null,(0,Gt.Z)({button:!1,title:u,width:344,component:{data:function(){return{initialData:l,hotModuleInfo:t}},methods:{setPopupTitle:function(t){f&&(f.title=t)}},components:{EditHotModule:function(){return{component:n.e(4846).then(n.bind(n,94846)),loading:Tt.default}}},name:"edit-hot-module-popup",template:'<edit-hot-module :initialData="initialData" :hotModuleInfo="hotModuleInfo" @setPopupTitle="setPopupTitle"></edit-hot-module>'}}).onInited((function(t){f=t}));case 11:case"end":return e.stop()}}),e)})))},Yt=n(18498),Kt=n(2055),Jt=n(36893),Qt=n.n(Jt),Xt=n(95241),qt=n(13822),$t=n(65643),te=n(96905),ee=n(5730),ne=n(91936),re=n(80207),ie=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=T()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},oe=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ae=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).medalInfo=!1,e.showEmpty=!1,e.isShowRank=!1,e.fansMedalLightCount=null,e.fansRankTop5=[],e.coverSpanLeft=[0,-2,4,14,22],e.medalLevelRewardConf=[{node:1,levelDes:'粉丝勋章<span style="color: #666666;">专属大礼包</span>'},{node:5,levelDes:'专属弹幕颜色<span style="color: #666666;">松石绿</span>'},{node:10,levelDes:'专属礼物<span style="color: #666666;">泡泡机</span>购买资格'},{node:15,levelDes:'专属弹幕颜色<span style="color: #666666;">雨后蓝</span>'},{node:22,levelDes:'专属弹幕颜色<span style="color: #666666;">星空蓝</span>'},{node:24,levelDes:'专属礼物<span style="color: #666666;">爱之魔力</span>'},{node:26,levelDes:'专属弹幕颜色<span style="color: #666666;">紫罗兰</span>'},{node:28,levelDes:'专属礼物<span style="color: #666666;">摩天轮</span>'},{node:30,levelDes:'专属弹幕颜色<span style="color: #666666;">梦境红</span>'},{node:32,levelDes:'<span style="color: #666666;">转运锦鲤</span>购买资格'},{node:34,levelDes:'专属弹幕颜色<span style="color: #666666;">热力橙</span>'},{node:38,levelDes:'专属弹幕颜色<span style="color: #666666;">香槟金</span>'}],e}(0,_.Z)(e,t);var n=e.prototype;return n.showVipDialog=function(){(0,$t.tG)(),this.setDropShowStatus(!1)},n.format=function(t){return(0,qt.P)(t)},n.setDropShowStatus=function(t){Nt.default.$emit("MedalInfoContent: ChangeStatus",t)},n.showRank=function(t){this.isShowRank=t},n.mounted=function(){return oe(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee.Z.getFansMedalRankList({target_id:L.h.getters.baseInfoAnchor.uid,room_id:this.baseInfoRoom.roomID,room_area_id:this.baseInfoRoom.areaID,area_parent_id:this.baseInfoRoom.parentAreaID});case 2:e=t.sent,this.medalInfo=(0,re.vh)(e.data||[],1),this.fansMedalLightCount=e.data?e.data.fans_medal_light_count:0,this.fansRankTop5=e.data?e.data.item:[],this.medalInfo||(this.showEmpty=!0);case 7:case"end":return t.stop()}}),t,this)})))},(0,S.Z)(e,[{key:"medalDescTop",get:function(){if(this.medalInfo){for(var t=this.medalInfo,e=t.level,n=(t.isLight,""),r=this.medalLevelRewardConf,i=0;i<r.length-1;i++)e>=r[i].node&&e<r[i+1].node&&(n=r[i+1].node+"级解锁"+r[i+1].levelDes),e>=15&&e<=20&&(n="");return n}return""}},{key:"medalDescBottom",get:function(){if(!this.medalInfo)return"";var t=this.medalInfo,e=t.level,n=t.isLight;return 40===e?"勋章已达满级上限":!n&&e<20?"发弹幕、投喂小心心或礼物均可点亮勋章":n&&e<20?"每日首条弹幕、投喂小心心或礼物可增加亲密度":!n&&e>20&&e<40?"发弹幕、投喂小心心或礼物均可点亮勋章":n&&e>20&&e<40?"投喂礼物可增加原力值":void 0}},{key:"isFullLevel",get:function(){if(!this.medalInfo)return!1;var t=this.medalInfo.level;return 40===t||20===t||void 0}},{key:"baseInfoRoom",get:function(){return L.h.getters.baseInfoRoom}}]),e}(p.default),se=ae=ie([(0,x.ZP)({components:{medal:Qt(),MedalEmpty:Xt.Z,LinkButton:ut.default,RankFace:ne.Z,FansClubRank:te.Z}})],ae),ce=(0,B.Z)(se,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{enterActiveClass:"a-scale-in-ease",leaveActiveClass:"a-scale-out"}},[n("div",{staticClass:"medal-info dp-i-block v-middle p-absolute",on:{click:function(t){t.stopPropagation()}}},[t.showEmpty?t._e():n("div",{staticClass:"medal-info-content"},[n("h3",{staticClass:"medal-info-title"},[n("span",{staticClass:"dp-i-block v-middle medal-info-title-anchor-name"},[t._v(t._s(t.medalInfo.masterName))]),n("span",{staticClass:"dp-i-block v-middle"},[t._v("的粉丝团")]),n("a",{staticClass:"dp-i-block v-middle qs-icon",attrs:{href:"http://link.bilibili.com/p/help/index#/audience-fans-medal",target:"_blank"}})]),t.fansMedalLightCount?n("div",{staticClass:"info-fans-club-entry",on:{click:function(e){return t.showRank(!0)}}},[n("span",[t._v("粉丝团： "+t._s(t.fansMedalLightCount))]),n("div",{staticClass:"dp-i-block fans-club-top5 v-middle"},[t._l(t.fansRankTop5,(function(t){return n("rank-face",{key:t.user_rank,style:{"z-index":5-t.user_rank,left:"-"+8*(t.user_rank-1)+"px"},attrs:{guardLevel:t.guard_level,boxWidth:20,faceWidth:16,faceUrl:t.face}})})),t.fansRankTop5.length>1?n("span",{staticClass:"dp-i-block cover-span",style:{right:t.coverSpanLeft[t.fansRankTop5.length-1]+"px"}}):t._e()],2)]):t._e(),t.medalInfo.level?n("div",{staticClass:"medal-info-div"},[n("medal",{staticClass:"v-middle",attrs:{isLighted:t.medalInfo.isLight,level:t.medalInfo.level,label:t.medalInfo.label,type:t.medalInfo.special,medalColorBorder:t.medalInfo.medalColorBorder,medalColorStart:t.medalInfo.medalColorStart,medalColorEnd:t.medalInfo.medalColorEnd,guardLevel:t.medalInfo.guardLevel,masterId:t.medalInfo.masterId}}),n("span",{staticClass:"dp-i-block v-middle anchor-name t-over-hidden t-no-wrap"},[t._v(t._s(t.medalInfo.masterName))]),t.isFullLevel&&20!=t.medalInfo.level?n("span",{staticClass:"dp-i-block full-level"},[t._v("满级啦~")]):t._e()],1):t._e(),t.medalInfo&&!t.isFullLevel?n("p",{staticClass:"upgrade-desc"},[n("span",[t._v("还差"+t._s(t.format(t.medalInfo.nextIntimacy-t.medalInfo.intimacy)))]),t.medalInfo.level<=20?n("span",[t._v("亲密度")]):n("span",[t._v("原力值")]),n("span",[t._v("升级；")]),t.medalDescTop?n("span",{domProps:{innerHTML:t._s(t.medalDescTop)}}):t._e()]):t._e(),t.medalInfo.level?n("div",{staticClass:"dp-i-block progress-level-div"},[n("span",{staticClass:"dp-i-block level-span"},[t._v("Lv."+t._s(t.medalInfo.level))]),n("div",{staticClass:"dp-i-block progress-div",class:t.medalInfo.isLight?"":"gray-progress"},[n("span",{staticClass:"dp-i-block progress-num-span"},[t._v(t._s(t.format(t.medalInfo.intimacy))+"/"+t._s(t.format(t.medalInfo.nextIntimacy)))]),n("div",{staticClass:"dp-i-block progress-div-cover",style:{width:t.medalInfo.intimacy/t.medalInfo.nextIntimacy*100+"%"}},[n("span",{staticClass:"dp-i-block progress-num-span-cover"},[t._v(t._s(t.format(t.medalInfo.intimacy))+"/"+t._s(t.format(t.medalInfo.nextIntimacy)))])])]),t.isFullLevel?t._e():n("span",{staticClass:"dp-i-block level-span"},[t._v("Lv."+t._s(t.medalInfo.level+1))]),t.isFullLevel?n("span",{staticClass:"dp-i-block level-span"},[t._v("MAX")]):t._e()]):t._e(),t.medalInfo?n("p",{staticClass:"medal-info-text"},[t.medalDescBottom?n("span",[t._v(t._s(t.medalDescBottom))]):t._e(),t.medalDescBottom&&t.medalInfo.level<=20?n("span",[t._v("；")]):t._e(),t.medalInfo.level<=20?n("span",{staticClass:"text-button",on:{click:t.showVipDialog}},[t._v("开通或续费大航海")]):t._e(),t.medalInfo.level<=20?n("span",[t._v("直接突破20级哦~")]):t._e()]):t._e()]),t.showEmpty?n("div",{staticClass:"medal-info-content"},[n("medal-empty",{staticClass:"no-medal-width"})],1):t._e(),t.isShowRank?n("fans-club-rank",{staticClass:"fans-club-rank-postion",nativeOn:{mouseleave:function(e){return t.showRank(!1)}}}):t._e()],1)])}),[],!1,null,"1ceb6c07",null).exports,ue=(0,it.aZ)({components:{Avatar:st,LiveTitle:ht,HotRank:yt,DropBubble:St,Icon:Mt,MasterLevel:Rt,Follow:Lt,JoinFansPopup:Kt.Z,FansMedalLevelUp:ce,ActivityEntry:function(){return n.e(3825).then(n.bind(n,79956)).then((function(t){return t.default}))}},setup:function(){var t=(0,it.iH)(null),e=(0,it.iH)(!1),n=(0,it.Fl)((function(){return(0,h.bfsImgLink)(lt.Z.state.baseInfo.anchor.face,100,100)})),r=(0,ot.fY)(),i=r.color,o=r.displayText,a=(0,it.Fl)((function(){return lt.Z.state.baseInfo.room.areaName})),s=(0,it.Fl)((function(){return"//live.bilibili.com/p/eden/area-tags?parentAreaId="+lt.Z.state.baseInfo.room.parentAreaID+"&areaId="+lt.Z.state.baseInfo.room.areaID})),c=(0,it.Fl)((function(){return lt.Z.state.baseInfo.anchor.username})),u=(0,it.Fl)((function(){return lt.Z.state.baseInfo.anchor.san})),l=(0,it.iH)(!1),f=(0,it.Fl)((function(){return h.numberFormat.autoParse(lt.Z.state.baseInfo.anchor.giftReceived)})),d=(0,it.Fl)((function(){return lt.Z.state.controlSwitch.isShowIntegral})),p=(0,it.iH)(!1),m=(0,ot.b$)(),v=m.rank,g=m.index,b=(0,it.Fl)((function(){return lt.Z.state.controlSwitch.isShowAnchorRank})),w=(0,it.Fl)((function(){return lt.Z.state.controlSwitch.isShowHotRank})),y=(0,it.Fl)((function(){return(t=lt.Z.state.baseInfo.anchor.uid)?"//space.bilibili.com/"+t+"/":"";var t})),k=(0,ot.NB)(),_=k.onlineCount,I=k.isShowOnlineCount,T=(0,it.Fl)((function(){return lt.Z.state.baseInfo.user.isAnchor})),x=(0,Ft.Z)().isShowAdminPopTip,S=(0,it.iH)(!1),A=(0,it.Fl)((function(){return lt.Z.state.baseInfo.room.roomID})),C=(0,it.Fl)((function(){return!T.value&&lt.Z.state.baseInfo.user.isAdmin})),R=(0,it.Fl)((function(){return lt.Z.state.controlSwitch.isShowPopularity})),E=(0,it.Fl)((function(){return!T.value&&lt.Z.state.controlSwitch.isShowReport})),L=(0,it.iH)(!1),P=function(){return L.value=!1},M=(0,it.iH)(!1),D=function(){return M.value=!1},N=(0,it.iH)("主播积分：主播每收到1"+At.webCurrency.name+"或者100银瓜子礼物提升1点积分");(0,it.YP)(S,(function(e){e&&Bt.ZP.roomHot.getHotModules(lt.Z.state.baseInfo.user.uid).then((function(e){0===e.code&&(t.value=e.data)}))})),(0,it.bv)((function(){Nt.default.$on(Dt.Z.OPEN_JION_FANS_POPUP,(function(t){L.value=t,t&&(document.body.removeEventListener("click",P),setTimeout((function(){return document.body.addEventListener("click",P)}),500))})),Nt.default.$on(Dt.Z.OPEN_FANS_MEDAL_LEVEL_UP_PANEL,(function(t){M.value=t,t&&(document.body.removeEventListener("click",D),setTimeout((function(){return document.body.addEventListener("click",D)}),500))}));var t;window.performance.timing.firstscreenfinish||(window.performance.timing.firstscreenfinish=(new Date).getTime()),performance.getEntriesByName("firstscreenfinish").length||(0,F.c5)("firstscreenfinish"),(t=new Image).onload=function(){(0,F.pr)("faceImgLoaded"),(0,F.c5)("faceImgLoaded")},t.src=n.value}));var B=(0,it.iH)(400);return(0,it.Y3)().then((function(){var t=document.querySelector(".activity-entry"),e=document.querySelector(".follow-ctnr"),n=t&&t.offsetLeft,r=e&&e.offsetLeft;B.value=r-n-400})),{isEditTitle:e,setEditTitleStatus:function(t){return e.value=t},anchorAvatarUrl:n,liveStatusDisplayColor:i,liveStatusDisplayText:o,anchorDomainPersonalCenterLink:y,onlineCount:_,liveAreaName:a,childAreaUri:s,isShowOnline:R,isShowHotRank:w,isShowReport:E,isShowBlock:C,isAnchor:T,isShowRoomManageDropBubble:S,showRoomManageDropBubble:function(){return S.value=!0},hideRoomManageDropBubble:function(){return S.value=!1},anchorUsername:c,anchorSan:u,anchorGiftReceived:f,roomId:A,roomRank:v,roomRankIndex:g,isShowRoomRank:b,isShowSanDesc:l,setShowSanDescStatus:function(t){return l.value=t},isShowGiftDesc:p,setShowGiftDescStatus:function(t){return p.value=t},isShowAdminPopTip:x,isShowJoinFansPopup:L,isShowFansMedalLevelUp:M,isShowOnlineCount:I,openEditAreaPopup:Ht,openStartLiveCoverSettingPopup:Vt,openSharePopup:Wt,openReportPopup:jt,openEditHotModulePopup:zt,activitySpace:B,hotModules:t,giftHoverDesc:N,roomManagerPopup:Ot.hx,isShowGiftReceived:d,openGuardStore:Yt.openGuardStore,openGuard:function(){(0,Yt.openGuardStore)()}}}}),le=(0,B.Z)(ue,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-info-ctnr live-skin-coloration-area"},[n("avatar",{directives:[{name:"click-report-new",rawName:"v-click-report-new",value:{eventName:"liveroom_anchor_click",customData:{tag_name:"播放器上方头像"}},expression:"{eventName: 'liveroom_anchor_click', customData: {tag_name: '播放器上方头像'}}"}],attrs:{url:t.anchorAvatarUrl,link:t.anchorDomainPersonalCenterLink}}),n("div",{staticClass:"rows-ctnr"},[n("div",{staticClass:"upper-row"},[n("div",{staticClass:"left-ctnr"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditTitle,expression:"!isEditTitle"}],staticClass:"live-status live-skin-highlight-text live-skin-highlight-border",style:{color:t.liveStatusDisplayColor,boderColor:t.liveStatusDisplayColor},domProps:{textContent:t._s(t.liveStatusDisplayText)}}),n("live-title",{on:{changeEditStatus:t.setEditTitleStatus}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditTitle,expression:"!isEditTitle"}],staticClass:"live-area"},[n("a",{staticClass:"area-link live-skin-normal-a-text",attrs:{title:t.liveAreaName,href:t.childAreaUri,target:"_blank"},domProps:{textContent:t._s(t.liveAreaName)}}),t.isAnchor?n("i",{staticClass:"icon-font icon-edit live-skin-normal-text v-middle dp-i-block pointer ts-dot-4",attrs:{title:"编辑房间分区"},on:{click:t.openEditAreaPopup}}):t._e()]),n("hot-rank",{directives:[{name:"show",rawName:"v-show",value:t.isShowHotRank&&!t.isEditTitle,expression:"isShowHotRank && !isEditTitle"}]})],1),n("div",{staticClass:"right-ctnr"},[t.isAnchor?n("icon",{staticClass:"p-relative pointer",attrs:{name:"set-up",label:"直播间管理"},on:{mouseenter:t.showRoomManageDropBubble,mouseleave:t.hideRoomManageDropBubble}},[n("transition",{attrs:{"enter-active-class":"a-fade-in","leave-active-class":"a-fade-out"}},[t.isShowAdminPopTip?n("div",{staticClass:"admin-up-tip p-absolute common-popup-wrap arrow-top t-no-wrap"},[t._v("可以在此进行房间管理，快来试试吧~")]):t._e()]),n("drop-bubble",{attrs:{show:t.isShowRoomManageDropBubble}},[n("div",{staticClass:"admin-drop-ctnr"},[n("p",{staticClass:"drop-menu-item ts-dot-4",on:{click:function(e){return t.roomManagerPopup.open()}}},[t._v("房间管理")]),n("p",{staticClass:"drop-menu-item ts-dot-4",on:{click:t.openStartLiveCoverSettingPopup}},[t._v("开播封面")]),n("a",{directives:[{name:"click-report",rawName:"v-click-report",value:{eventName:"info_set"},expression:"{eventName: 'info_set'}"}],staticClass:"drop-menu-item dp-block ts-dot-4",attrs:{href:"//link.bilibili.com/p/center/index#/my-room/start-live",target:"_blank"}},[t._v("开播设置")]),t._l(t.hotModules,(function(e){return n("p",{staticClass:"drop-menu-item ts-dot-4",on:{click:function(n){return t.openEditHotModulePopup(e)}}},[t._v(t._s(e.moduleName))])}))],2)])],1):t._e(),t.isShowBlock?n("icon",{staticClass:"pointer",attrs:{name:"blacklist",label:"禁言"},on:{click:function(e){return t.roomManagerPopup.open()}}}):t._e(),t.isShowReport?n("icon",{staticClass:"pointer",attrs:{name:"report",label:"举报"},on:{click:t.openReportPopup}}):t._e(),n("icon",{staticClass:"pointer",attrs:{name:"share",label:"分享"},on:{click:t.openSharePopup}}),t.isShowOnlineCount?n("icon",{staticClass:"not-hover",attrs:{name:"popular",label:t.onlineCount,desc:"只有开播状态才会显示人气哟 ~"}}):t._e()],1)]),n("div",{staticClass:"lower-row"},[n("div",{staticClass:"left-ctnr"},[n("master-level"),n("a",{directives:[{name:"click-report-new",rawName:"v-click-report-new",value:{eventName:" ",customData:{tag_name:"播放器上方昵称"}},expression:"{eventName: ' ', customData: {tag_name: '播放器上方昵称'}}"}],staticClass:"room-owner-username live-skin-normal-a-text dp-i-block v-middle pointer",attrs:{title:t.anchorUsername,href:t.anchorDomainPersonalCenterLink,target:"_blank"},domProps:{textContent:t._s(t.anchorUsername)}}),n("a",{attrs:{href:"//link.bilibili.com/p/help/index#/anchor-san",target:"_blank"}},[t.isAnchor?n("icon",{staticClass:"p-relative pointer",attrs:{type:"svg",name:"san",iconSize:24,label:t.anchorSan},on:{mouseenter:function(e){return t.setShowSanDescStatus(!0)},mouseleave:function(e){return t.setShowSanDescStatus(!1)}}},[n("drop-bubble",{attrs:{show:t.isShowSanDesc}},[n("p",{staticClass:"hover-description"},[t._v("主播 SAN 值")])])],1):t._e()],1),t.isShowGiftReceived?n("icon",{staticClass:"p-relative pointer",attrs:{type:"svg",name:"gift",iconSize:24,label:t.anchorGiftReceived},on:{mouseenter:function(e){return t.setShowGiftDescStatus(!0)},mouseleave:function(e){return t.setShowGiftDescStatus(!1)}}},[n("drop-bubble",{attrs:{show:t.isShowGiftDesc}},[n("p",{staticClass:"hover-description"},[t._v(t._s(t.giftHoverDesc))])])],1):t._e(),n("a",{attrs:{href:"//live.bilibili.com/p/eden/rank#/childnav/vitality/"+t.roomRankIndex,target:"_blank"}},[t.isShowRoomRank?n("icon",{attrs:{type:"svg",name:"ranking-big",iconSize:24,label:"No. "+t.roomRank,labelSize:14,desc:"元气主播榜"}}):t._e()],1),t.roomId?n("activity-entry",{attrs:{roomId:t.roomId,availableWidth:t.activitySpace,openGuard:t.openGuard}}):t._e()],1),n("div",{staticClass:"right-ctnr"},[n("follow")],1)]),t.isShowJoinFansPopup?n("join-fans-popup",{staticClass:"medal-info-postion join-fans-box-shadow",attrs:{callerType:"linkPopup"}}):t._e(),t.isShowFansMedalLevelUp?n("fans-medal-level-up",{staticClass:"medal-info-postion"}):t._e()],1)],1)}),[],!1,null,"6f529884",null).exports,fe=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=T()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};rt.Vue.use(it.ZP);var de=function(t){function e(){return t.apply(this,arguments)||this}return(0,_.Z)(e,t),e}(rt.Vue);de=fe([(0,rt.Component)({components:{headerInfo:le}})],de);var pe=n(68913),he=n(3465),me=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ve=tt.pj.$,ge=(0,m.getLiteVersionStatus)(),be=(0,m.getHeadInfoVmStatus)(),we=(0,pe.$S)("src/index");function ye(){return me(this,void 0,void 0,i().mark((function t(){var e,n,r,o,s,u,f,d,h,k,_,I,T,x,S,A,C,R,E,M,D;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{(0,X.h9)(),(0,Q.f1)(),p.default.use(q.default),n=function(t){var e=t.event,n=t.params;return q.default.report(e,n),a().resolve(1)},r=new $.F(n),window.exp=r,p.default.directive("show-report",{bind:function(t){r.add({el:t})}})}catch(t){we("点击埋点上报初始化失败")}if((0,F.c5)("preloadStart"),(0,et.CH)((function(t){window.addWaifu(t.name,(0,m.toDecimal)(t.value))})),(0,et.ai)((function(t){window.addWaifu(t.name,(0,m.toDecimal)(t.value))})),(0,et._q)((function(t){window.addWaifu(t.name,(0,m.toDecimal)(t.value))})),(0,et.Y)((function(t){window.addWaifu(t.name,(0,m.toDecimal)(t.value))})),(0,et.Tb)((function(t){window.addWaifu(t.name,(0,m.toDecimal)(t.value))}),!1,".room-bg"),(0,et.CA)((function(t){window.addWaifu(t.name,(0,m.toDecimal)(t.value))})),y.a){t.next=7;break}return t.next=6,_e("urlIncorrect");case 6:return t.abrupt("return",t.sent);case 7:return(0,nt.gd)(),t.next=10,(0,v.c)(y.a);case 10:if(!(o=t.sent).error){t.next=27;break}s=o.code,u=o.error,f=null,t.t0=s,t.next=60005===t.t0?17:60004===t.t0?21:25;break;case 17:return t.next=19,_e("roomIsRegionRestrict",{errorMsg:u.message||""});case 19:return f=t.sent,t.abrupt("break",25);case 21:return t.next=23,_e("roomIsNotExist");case 23:return f=t.sent,t.abrupt("break",25);case 25:return we(o),t.abrupt("return",f);case 27:if(d=(0,m.isObject)(o.data)?o.data:Object.create(null),h=(0,m.toNumber)(d.room_id),k=(0,m.toNumber)(d.short_id),_=(0,m.toNumber)(d.uid),"number"==typeof h){t.next=35;break}return t.next=34,_e("initError");case 34:return t.abrupt("return",t.sent);case 35:if(window.BilibiliLive.ANCHOR_UID=_,window.BilibiliLive.SHORT_ROOMID=k||h,window.BilibiliLive.ROOMID=h,window.__TiMo_anchorID=[21721813,1314],!d.is_locked){t.next=50;break}return I=0,t.next=43,(0,g._)(h);case 43:return T=t.sent,x=T.code,S=T.data,0===x&&(I=S.lock_till||0),t.next=49,_e("roomBlocked",{blockingTime:(0,m.toNumber)(I)});case 49:return t.abrupt("return",t.sent);case 50:if(c()(e=d.all_special_types).call(e,17)&&(window.__isQuizRoom=!0),!d.encrypted||d.pwd_verified){t.next=55;break}return t.next=54,_e("roomEncrypted");case 54:return t.abrupt("return",t.sent);case 55:return!ge&&(0,b.n)((0,m.toNumber)(y.a),k),t.next=58,(0,w.S)(h,d);case 58:return A=t.sent,(0,F.c5)("storeCoreDataInitialized"),A.error&&L.h.dispatch("appStatus",{initFailureHint:!0}),L.h.replaceState(A.data),C=A.data,R=C.baseInfoRoom,E=C.baseInfoAnchor,M=C.baseInfoUser,lt.Z.dispatchs.baseInfo.room.setRoomInfo(R),lt.Z.dispatchs.baseInfo.anchor.setAnchorInfo(E),lt.Z.dispatchs.baseInfo.user.setUserInfo(M),D=ve(P.y9.getAnchorInfo()),L.h.dispatch("baseInfoAnchor",l()({},D)).catch(m.noop),ke(A.data),(0,F.c5)("preLoadVMInitialized"),t.abrupt("return",{roomInitData:o,roomIdFromServer:h,shortIdFromServer:k,anchorUIDFromServer:_});case 71:case"end":return t.stop()}}),t)})))}function ke(t){var e;(ge&&be||(new de).$mount("#head-info-vm"),ge)||(void 0===e&&(e={}),{app:new p.default({render:function(t){return t(J)},store:L.h}),store:L.h}).app.$mount("#room-ssr-vm",!0);!(0,he.t)("roomInfoRes")&&t.baseInfoRoom.skinInfo.id&&window.roomBuffService.mount(t.baseInfoRoom.skinInfo)}function _e(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return me(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.h.dispatch("appStatus",{enterFailed:t});case 2:return e.next=4,lt.Z.dispatchs.appStatus.setAppStatus({enterFailed:t});case 4:void 0!==n&&n.forEach((function(t){L.h.dispatch("appStatus",t).catch(m.noop),lt.Z.dispatchs.appStatus.setAppStatus(t).catch(m.noop)})),(new k.EnterFailureVM).$mount("#enter-failure");case 6:case"end":return e.stop()}}),e)})))}var Ie=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};window.BilibiliLive.COLORFUL_LOGGER=!1;var Te=(0,pe.$S)("src/index");function xe(t,e){return new(a())((function(n){if(t&&!e){var r=null,i=(0,pe.a5)("src/index"),o=function(){clearTimeout(r),n(0)};r=setTimeout((function(){i("播放器超时"),o()}),1800),t.on("firstLoadedMetaData",o)}else n(t?1:2)}))}function Se(){return Ie(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([n.e(2638),n.e(179)]).then(n.bind(n,32459));case 3:e=t.sent,(0,e.startRoomBusiness)(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))}!function(){try{var t=window.top,e=window;if(t!==e&&-1===["bilibili.com"].indexOf(t.location.hostname)&&![/\.bilibili.com$/].some((function(e){return e.test(t.location.hostname)})))return!0}catch(t){return console.error("Anti-embedded: ",t),!0}return!1}()?function(){return Ie(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a().all([xe(window.__PLAYER_GLOBAL_INSTANCE__,window.__PLAYER_GLOBAL_INIT_FLAG__),ye()]);case 3:e=t.sent,e[0],n=e[1],(0,F.c5)("preLoadInitializationFinished"),n&&Se().catch((function(){return null})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),Te(t.t0),Se().catch((function(){return null}));case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))}().catch((function(){return null})):(window.__PLAYER_GLOBAL_INSTANCE__&&(window.__PLAYER_GLOBAL_INSTANCE__.pause(),window.__PLAYER_GLOBAL_INSTANCE__.destroy()),setTimeout((function(){return _e("pageEmbeddedForbidden").catch((function(t){return console.error(t)}))})))},8605:function(t,e,n){"use strict";n.d(e,{K:function(){return r}});var r=function(){function t(t){this.data=null,this.error=null,t&&this.parseServerResponse(t)}var e=t.prototype;return e.parseServerResponse=function(t){0===t.code?(this.code=0,this.data=t.data,this.error=null):(this.errorType="caution",this.setCaution(new Error(t.message||t.msg||"接口返回错误码"+t.code)))},e.setExpectation=function(t,e){void 0===e&&(e="error"),this.error=t,this.errorMsg=t.message,this.errorType||(this.errorType=e)},e.setError=function(t){this.setExpectation(t,"error")},e.setCaution=function(t){this.setExpectation(t,"caution")},e.setData=function(t){this.data=t},t}()},46784:function(t,e,n){"use strict";n.d(e,{ok:function(){return y},Jr:function(){return b},rO:function(){return h},yR:function(){return o},PF:function(){return v}});var r=n(3595),i=n(2708);function o(t){r.h.dispatch("baseInfoRoom",{background:t}).catch(i.noop)}var a=n(63109),s=n.n(a),c=n(93476),u=n.n(c),l=n(9669),f=n.n(l),d=n(95503),p=function(t,e,n,r){return new(n||(n=u()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function h(t){return void 0===t&&(t=0),p(this,void 0,void 0,s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f().get("/room/v1/Bg/get_list",{params:{room_id:t}});case 3:if(n=e.sent,r=n.data,0===parseInt(r.code)){e.next=7;break}return e.abrupt("return",{error:new Error(r.msg||"getBackgroundImages 返回 Code 不为 0"),errorType:"caution",errorMsg:r.msg,code:r.code,data:null});case 7:return e.abrupt("return",{data:d.s0.backgroundImagesData(r.data),error:null});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))}var m=function(t,e,n,r){return new(n||(n=u()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function v(t,e,n){return void 0===t&&(t=0),m(this,void 0,void 0,s().mark((function r(){var i,o,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={},"default"===n&&(i={room_id:t,bg_id:e||""}),"custom"===n&&(i={room_id:t,pic_id:e||""}),r.prev=3,r.next=6,f().post("/room/v1/Bg/update_bg",i);case 6:if(o=r.sent,a=o.data,0===parseInt(a.code)){r.next=10;break}return r.abrupt("return",{error:new Error(a.msg||"updateBackgroundImage 返回 Code 不为 0"),errorType:"caution",errorMsg:a.msg,code:a.code,data:null});case 10:return r.abrupt("return",{data:a.data,error:null});case 13:return r.prev=13,r.t0=r.catch(3),r.abrupt("return",{error:r.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 16:case"end":return r.stop()}}),r,null,[[3,13]])})))}var g=function(t,e,n,r){return new(n||(n=u()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function b(t,e){return void 0===t&&(t=0),g(this,void 0,void 0,s().mark((function n(){var r,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f().post("/room/v1/Bg/del_custom_bg",{room_id:t,pic_id:e||""});case 3:if(r=n.sent,i=r.data,0===parseInt(i.code)){n.next=7;break}return n.abrupt("return",{error:new Error(i.msg||"updateBackgroundImage 返回 Code 不为 0"),errorType:"caution",errorMsg:i.msg,code:i.code,data:null});case 7:return n.abrupt("return",{data:i.data,error:null});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{error:n.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))}var w=function(t,e,n,r){return new(n||(n=u()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function y(t,e){return void 0===t&&(t=0),void 0===e&&(e=""),w(this,void 0,void 0,s().mark((function n(){var r,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f().post("/room/v1/Bg/add_custom_bg",{room_id:t,url:e});case 3:if(r=n.sent,i=r.data,0===parseInt(i.code)){n.next=7;break}return n.abrupt("return",{error:new Error(i.msg||"updateBackgroundImage 返回 Code 不为 0"),errorType:"caution",errorMsg:i.msg,code:i.code,data:null});case 7:return n.abrupt("return",{data:i.data,error:null});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{error:n.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))}},40016:function(t,e,n){"use strict";n.d(e,{H:function(){return u},Kw:function(){return l},ey:function(){return d},yy:function(){return p}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(3595),c=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},u={setActivity:"setActivity",setFreeGift:"setFreeGift",setTop3Score:"setTop3Score",setHeartInfo:"setHeartInfo",setReceiveGiftStatus:"setReceiveGiftStatus",setMasterRankSidebarBtan:"setMasterRankSidebarBtan",setMasterRankListCustomConfig:"setMasterRankListCustomConfig"};function l(t,e){return c(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.h.dispatch(t,e);case 2:case"end":return n.stop()}}),n)})))}function f(){return s.h.getters.activity}function d(){return s.h.state.baseInfoRoom.roomID}function p(t){if(f().eventGifts.indexOf(t)>-1)return!0}},81835:function(t,e,n){"use strict";n.d(e,{Eq:function(){return h},S1:function(){return w}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(57072),c=(n(77766),n(73645)),u=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function l(){return u(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=c.y9.getInfoFromParam("activity_init_info",!1))){t.next=3;break}return t.abrupt("return",{data:e,error:null});case 3:return t.abrupt("return",{error:new Error("activity_init_info 数据异常"),errorType:"caution",errorMsg:"activity_init_info 数据异常",code:500,data:null});case 4:case"end":return t.stop()}}),t)})))}var f=n(40016),d=n(96225),p="selfSendGIft",h=(0,d.Z)("Activity"),m=n(47166),v=n(55391),g=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function b(t){return g(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Kw)(f.H.setActivity,t);case 2:case"end":return e.stop()}}),e)})))}function w(){return g(this,void 0,void 0,i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l();case 2:if((e=t.sent).error){t.next=11;break}null;try{n=e.data.giftName,(r=function(t){if(t&&t.config)try{return{config:JSON.parse(t.config),timestamp:t.timestamp}}catch(e){return{config:null,timestamp:t.timestamp}}}(e.data.lego))&&m.B.init(r),n&&v.XO.init(n)}catch(t){h.print("error","activity data filter error",t)}return s.default.$on("GiftService: Sent",(function(t){var e=t.giftID;(0,f.yy)(e)&&h.emit(p,t)})),t.next=9,b(null);case 9:t.next=12;break;case 11:h.print("error","[活动模块初始化失败]");case 12:case"end":return t.stop()}}),t)})))}},76412:function(t,e,n){"use strict";n.d(e,{H:function(){return u}});var r=n(89400),i=n.n(r),o=n(51942),a=n.n(o),s=n(57072),c=n(19356),u=new(function(){function t(t){this.values={placeholderText:"",chatInput:"",autofill:!1},this.eventId=null,this.eventName="Danmaku: autoSetDanmaku",this.eventName=t}var e=t.prototype;return e.setValues=function(t){this.values=t},e.getValues=function(){return i()(this)},e.register=function(t,e){var n=this;void 0===t&&(t={}),this.eventId=s.default.$on(this.eventName,(function(e){var r=i()(e),o=void 0===r?{}:r,s=e.sendCb,u=void 0!==s&&s,l="function"==typeof u?u:c.Z;void 0!==o&&(n.setValues(a()(a()({},i()(n)),o)),u&&t.sendDanmaku&&t.sendDanmaku(i()(n),l))}))},e.dispatch=function(t){s.default.$emit(this.eventName,t)},e.destroy=function(){this.eventId&&(s.default.$destroy(this.eventId),this.eventId=null)},t}())("Danmaku: ChatControlPanel")},50097:function(t,e,n){"use strict";n.d(e,{$:function(){return a}});var r,i=n(96225);!function(t){t.blockSuperGift="blockSuperGift",t.blockEffect="blockEffect"}(r||(r={}));var o=(0,i.Z)("BlockEffect"),a=function(){function t(){}return t.blockSuperGift=function(t){void 0===t&&(t=null),this.event.emit(r.blockSuperGift,t)},t.onBlockSuperGift=function(t){var e=this,n=this.event.on(r.blockSuperGift,t);return function(){e.event.off(n)}},t.blockEffect=function(t){this.event.emit(r.blockEffect,t)},t.onBlockEffect=function(t){var e=this,n=this.event.on(r.blockEffect,t);return function(){e.event.off(n)}},t}();a.event=o},40797:function(t,e,n){"use strict";n.d(e,{e:function(){return a},V:function(){return s}});var r=n(20567),i=n(3595),o=n(73645),a="LIVE_BLCOK_EFFECT_STATE",s=[{text:"屏蔽全部礼物及广播",type:[r.m.GiftAnimation,r.m.Notice,r.m.SuperGift,r.m.buffCard],checked:!1},{text:"屏蔽抽奖弹幕",type:[r.m.LotteryDanmaku],checked:!1},{text:"屏蔽进场信息",type:[r.m.EntryInfo],checked:!1},{text:"屏蔽醒目留言",type:[r.m.SuperChat],checked:!1,when:function(){return i.h.getters["superChat/superChatFlag"].isOpenSuperChat}},{text:"屏蔽表情动画（右下角）",type:[r.m.EmojiAnimation],checked:!1},{text:"屏蔽表情弹幕",type:[r.m.EmojiDanmaku],checked:!1,when:function(){return 0===o.y9.getInfoFromParam("dm_emoticon_info").is_shield_emoticon}}]},41402:function(t,e,n){"use strict";n.d(e,{Z:function(){return u},$:function(){return r.$}});var r=n(50097),i=n(2991),o=n.n(i),a=n(77766),s=n.n(a),c=n(40797),u=new(function(){function t(){}var e=t.prototype;return e.checkLocalState=function(){var t,e=window.localStorage.getItem(c.e);return e?o()(t=e.split(",")).call(t,(function(t){return parseInt(t)})):[]},e.checkBlock=function(){var t=u.checkLocalState();c.V.forEach((function(e){e.type.some((function(n){if(t.indexOf(n)>-1)return e.checked=!0,r.$.blockEffect({type:e.type,isBlock:!0}),!0}))}))},e.updateLocalState=function(t){var e=t.join(",");window.localStorage.setItem(c.e,e)},e.onMsg=function(){var t=this;r.$.onBlockEffect((function(e){e.type,e.isBlock;var n=[];c.V.forEach((function(t){t.checked&&(n=s()(n).call(n,t.type))})),t.updateLocalState(n)}))},e.init=function(){this.checkBlock(),this.onMsg()},t}())},20567:function(t,e,n){"use strict";var r;n.d(e,{m:function(){return r}}),function(t){t[t.GiftAnimation=0]="GiftAnimation",t[t.SuperGift=1]="SuperGift",t[t.LotteryDanmaku=2]="LotteryDanmaku",t[t.Notice=3]="Notice",t[t.buffCard=4]="buffCard",t[t.SuperChat=5]="SuperChat",t[t.EntryInfo=6]="EntryInfo",t[t.EmojiAnimation=7]="EmojiAnimation",t[t.EmojiDanmaku=8]="EmojiDanmaku"}(r||(r={}))},94806:function(t,e,n){"use strict";n.d(e,{Uf:function(){return s},Vw:function(){return c},kq:function(){return u},T:function(){return l},DY:function(){return f},f7:function(){return d}});var r=n(77766),i=n.n(r),o=n(47302),a=n.n(o);function s(t){if(!t||0===t.length)return[];var e=[];return t.forEach((function(t){e.push({id:t.id,gift_id:t.pk_id,type:"pk",report_type:3,sender:t.from_user,time_wait:t.time_wait||0,time:t.time,asset_icon:t.asset_icon,asset_animation_pic:t.asset_animation_pic,thank_text:t.thank_text,weight:t.weight})})),e}function c(t){if(!t||0===t.length)return[];var e=[];return t.forEach((function(t){e.push({id:t.id,type:t.keyword,report_type:2,sender:t.sender,time_wait:t.time_wait||0,time:t.time,asset_icon:t.mobile_static_asset||t.asset_icon,asset_animation_pic:t.mobile_animation_asset||t.asset_animation_pic,thank_text:t.thank_text,weight:t.weight})})),e}function u(t){if(!t||0===t.length)return[];var e=[];return t.forEach((function(t){e.push({id:t.raffleId,type:t.type,report_type:1,sender:t.from_user,time_wait:t.time_wait||0,time:t.time,asset_icon:t.asset_icon,asset_animation_pic:t.asset_animation_pic,thank_text:t.thank_text||"",weight:t.weight,gift_id:t.gift_id})})),e}function l(t){var e,n=s(t.pk||[]),r=c(t.guard||[]),o=u(t.gift||[]);return i()(e=[]).call(e,n,r,o)}function f(t,e){return"weight"===e?a()(t).call(t,(function(t,e){return t.weight!==e.weight?e.weight-t.weight:t.time_wait>0&&e.time_wait>0?t.time_wait-e.time_wait:t.time_wait<=0&&e.time_wait<=0?t.time-e.time:t.time_wait>0&&e.time_wait<=0?1:t.time_wait<=0&&e.time_wait>0?-1:void 0})):a()(t).call(t,(function(t,n){return t[e]-n[e]}))}function d(t){var e=[],n=[],r=[];return t.forEach((function(t){t.weight>0?e.push(t):t.time_wait>0?r.push(t):n.push(t)})),e=f(e,"weight"),n=f(n,"time"),r=f(r,"time_wait"),{weight:e,time:n,wait:r}}},99225:function(t,e,n){"use strict";n.d(e,{H:function(){return u},_1:function(){return f},fl:function(){return d},Kw:function(){return l}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(3595),c=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},u={addPopupConfig:"addPopupConfig",addPopup:"addPopup",delPopup:"delPopup",setPopup:"setPopup",addSmallIcon:"addSmallIcon"};function l(t,e){return c(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.h.dispatch(t,e);case 2:case"end":return n.stop()}}),n)})))}function f(){return s.h.getters.chatPopupArea}function d(t){var e=t.id,n=-1;return f().popupsState.some((function(t,r){if(e===t.id)return n=r,!0})),n}},82377:function(t,e,n){"use strict";n.d(e,{uB:function(){return o},co:function(){return i},bs:function(){return d},S1:function(){return v},J:function(){return f}});var r=n(96225),i={chatPopupAreaInit:"chatPopupAreaInit",addPopup:"addPopup",updatePopup:"updatePopup",addPopupConfig:"addPopupConfig",resetOrder:"resetOrder",showLotteryNotice:"showLotteryNotice",closeAllLotteryNotice:"closeAllLotteryNotice",showLotteryResult:"showLotteryResult",addSmallIcon:"addSmallIcon",lotteryInit:"lotteryInit",lotteryClose:"lotteryClose"},o=(0,r.Z)("ChatPopupArea"),a=n(99225);function s(){o.on(i.addSmallIcon,(function(t){(0,a.Kw)(a.H.addSmallIcon,t).then().catch()}))}var c={smallTV:"smallTV",Gift:"Gift",activity:"activity",guard:"guard",receiveGift:"receiveGift",chaos:"chaos"},u=0;function l(t){var e=t.id,n=t.type;c[n]?(0,a._1)().popupsConfig[e]?function(t){return(0,a.fl)(t)}(t)>-1?o.emit(i.updatePopup,t):p(t,"new",0):function(t){void 0===t&&(t="");o.print("error",t+" 弹窗配置未注册， 请先注册")}(n):h(c[n])}function f(t,e){if(void 0===e&&(e=null),null===e){var n=(0,a.fl)(t);(0,a.Kw)(a.H.setPopup,{index:n,value:t}).then().catch()}else p(t,"update",e)}function d(t){p(t,"end",0)}function p(t,e,n){var r=t.time,i=t.id,o=t.order,s=-1;switch(n=0===n&&0!==u?((new Date).getTime()-u)/1e3:n,n=Math.ceil(n),"new"===e&&(o=0),(0,a._1)().popupsState.forEach((function(t,c){var u=t.time,l=t.id,f=t.order;if(l!==i){switch((u-=n)<r&&f>=o&&(o=f+1),e){case"new":u>r&&t.order++;break;case"update":u>r&&f<o&&t.order++,u<r&&f>o&&t.order--;break;case"end":f>o&&t.order--}t.time=u,(0,a.Kw)(a.H.setPopup,{index:c,value:t}).then().catch()}else s=c})),t.order=o,e){case"new":(0,a.Kw)(a.H.addPopup,t).then().catch();break;case"end":(0,a.Kw)(a.H.delPopup,s).then().catch();break;case"update":(0,a.Kw)(a.H.setPopup,{index:s,value:t}).then().catch()}u=(new Date).getTime()}function h(t){void 0===t&&(t=""),o.print("error",t+" 弹窗类型未预定义， 请在"+o.moduleName+" Module 定义后使用")}function m(){o.on(i.addPopupConfig,(function(t){!function(t){c[t.type]?(0,a.Kw)(a.H.addPopupConfig,t).then().catch():h(t.type)}(t)})),o.on(i.addPopup,(function(t){l(t)})),o.on(i.updatePopup,(function(){})),o.on(i.lotteryClose,(function(){0===(0,a._1)().popupsState.length&&(u=0)}))}function v(){o.emit(i.chatPopupAreaInit,"init"),m(),s()}},55826:function(t,e,n){"use strict";n.d(e,{f:function(){return i},_:function(){return o}});var r=new(n(70538).default);function i(t){return r.linkPopup(t)}function o(t,e,n,i){return r.linkMsg(t,e,n,i)}},92689:function(t,e,n){"use strict";n.d(e,{w9:function(){return f},gd:function(){return l},rv:function(){return c},z1:function(){return s}});var r=n(59340),i=n.n(r),o=n(94473),a=n.n(o);function s(t,e,n){if(void 0===n&&(n="__FIRE_EVENT__"),window.top!==window){var r={source:"BILI_LIVE_EMBEDED_ROOM_MSG",callbackName:t||"defaultEvent",data:e};0,"function"==typeof window[n]&&window[n](i()(r))}}var c={SWITCH_BLOCK_EFFECT:"SWITCH_BLOCK_EFFECT",SWITCH_BLOCK_LOTTERY_DANMAKU:"SWITCH_BLOCK_LOTTERY_DANMAKU"},u=[];function l(){"undefined"!=typeof window&&window.top!==window&&(window.top.__RoomGlobalEvents=window.__RoomGlobalEvents=u,window.top.__EmitRoomGlobalEvent=window.__EmitRoomGlobalEvent=function(t,e){var n=a()(u).call(u,(function(e){return e.action===t}));n&&n.callback&&"function"==typeof n.callback&&n.callback(e)})}function f(t,e){window.top!==window&&u.push({action:t,callback:e})}},91174:function(t,e,n){"use strict";n.d(e,{ag:function(){return w},F9:function(){return h},Rd:function(){return y}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(68913),c=n(51942),u=n.n(c),l=n(23933),f=n(43650),d=function(){function t(t){this.messageHtml="";var e=t.headIcon,n=t.tailIcon,r=t.bgColor,i=t.textColor,o=t.highlightColor,a=t.showTime,s=t.roomid,c=t.msgContent;this.headIcon=e,this.tailIcon=n,this.bgColor=r,this.textColor=i,this.highlightColor=o,this.showTime=a,this.roomid=s,this.msgContent=c,this.bigIconClassName="",this.isSelf=s===l.e.getRoomId(),this.setMessage()}var e=t.prototype;return e.setMessage=function(){this.messageHtml=(0,f.W)(this.msgContent,{highlightColor:this.highlightColor,textColor:this.textColor},'class="v-middle"')},e.setClassName=function(t){this.bigIconClassName="notice-"+t+"-icon"},t}();var p=n(46119);function h(t){var e,n,r,i,o,a,s,c,l,f,h,m,v,g,b,w,y;return new d(u()((e=t.data||{},n=e.head_icon,r=void 0===n?"":n,i=e.web_tail_icon,o=void 0===i?"":i,a=e.content,s=void 0===a?"":a,c=e.high_light_text_color,l=void 0===c?"":c,f=e.normal_text_color,h=void 0===f?"":f,m=e.background_color,v=void 0===m?"":m,g=e.duration,b=void 0===g?0:g,w=e.sender_uid,y=void 0===w?0:w,{headIcon:r,tailIcon:o,bgColor:v.substring(0,7),textColor:h.substring(0,7),highlightColor:l.substring(0,7),showTime:b,roomid:y,msgContent:s}),{position:p.w.player}))}var m=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},v=(0,s.Yb)("DAModule.Wrapper"),g=null,b=null;function w(t){return m(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(t),e.next=3,k();case 3:g.showAnnouncement(t);case 4:case"end":return e.stop()}}),e)})))}function y(t){b=t,g&&g.init(b)}function k(){return m(this,void 0,void 0,i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g){t.next=7;break}return t.next=3,n.e(2324).then(n.bind(n,62324));case 3:e=t.sent,r=e.DanmakuAnnouncementController,g=r.getInstance(),b&&g.init(b);case 7:return t.abrupt("return",g);case 8:case"end":return t.stop()}}),t)})))}},46377:function(t,e,n){"use strict";n.d(e,{ag:function(){return E},F9:function(){return T},Tg:function(){return x},VL:function(){return L}});var r,i=n(63109),o=n.n(i),a=n(93476),s=n.n(a),c=n(68913),u=n(51942),l=n.n(u),f=n(23933),d=n(18980),p=n(46119);!function(t){t.danmu_news_show="danmu_news_show",t.danmu_news_click="danmu_news_click",t.liveroom_notice_click="liveroom_notice_click"}(r||(r={}));var h=function(){function t(){}return t.report=function(t,e){void 0===e&&(e={}),d.default.report(t,e)},t.showAnnouncement=function(t){Math.random()<.001&&this.report(r.danmu_news_show,t)},t.clickAnnouncement=function(t){this.report(r.danmu_news_click,t)},t.clickNoticeAnnouncement=function(t){this.report(r.liveroom_notice_click,t)},t}(),m=n(43650),v=n(75225),g=function(){function t(t){this.messageHtml="";var e=t.headIcon,n=t.headIconFrameCount,r=t.tailIcon,i=t.tailIconFrameCount,o=t.bgColor,a=t.textColor,s=t.highlightColor,c=t.showTime,u=t.roomid,l=t.msgContent,d=t.linkUrl,p=t.msgType,h=t.borderColor,m=t.position,v=t.gift_id,g=t.business_id,b=t.id,w=t.name;this.headIcon=e,this.headIconFrameCount=n,this.tailIcon=r,this.tailIconFrameCount=i,this.bgColor=o,this.textColor=a,this.highlightColor=s,this.borderColor=h,this.showTime=c,this.roomid=u,this.msgContent=l,this.linkUrl=d,this.msgType=p,this.bigIconClassName="",this.isSelf=u===f.e.getRoomId(),this.position=m,this.gift_id=v,this.business_id=g,this.id=b,this.name=w,this.setMessage()}var e=t.prototype;return e.setMessage=function(){this.messageHtml=(0,m.W)(this.msgContent,{highlightColor:this.highlightColor,textColor:this.textColor},'class="v-middle"')},e.setClassName=function(t){this.bigIconClassName="notice-"+t+"-icon"},e.clickReport=function(){var t=this.msgType,e=this.position;!this.isSelf&&this.linkUrl&&(h.clickAnnouncement({type:t,to_room:this.roomid,gift_id:this.gift_id,business_id:this.business_id,position:e}),h.clickNoticeAnnouncement(l()({type:t,to_room:this.roomid,gift_id:this.gift_id,business_id:this.business_id,position:e,id:this.id||"-99998",name:this.name||"-99998"},(0,v.D)())))},e.showReport=function(){var t=this.msgType,e=this.position;h.showAnnouncement({type:t,to_room:this.roomid,gift_id:this.gift_id,business_id:this.business_id,position:e})},t}(),b=n(2991),w=n.n(b),y=[90],k=[];function _(t){var e="",n=k.indexOf(t.headIcon);if(n>-1)t.setClassName(n);else{w()(y).call(y,(function(n){var r=function(t,e){var n={type:t.msgType,picUrl:t.headIcon,frameCount:t.headIconFrameCount},r=k.push(n.picUrl)-1;t.setClassName(r);var i=n.picUrl,o=n.frameCount,a="."+t.bigIconClassName,s="frame-notice-"+r+"-"+e,c="url("+i+")",u=o*e,l=(.033*o).toFixed(2)+"s steps("+o+") infinite "+s;return"\n    "+a+" {\n      background-image: "+c+";\n      -webkit-animation: "+l+";\n      animation: "+l+";\n    }\n\n    @-webkit-keyframes "+s+" {\n      0% {\n        background-position-x: 0;\n      }\n      100% {\n        background-position-x: -"+u+"px;\n      }\n    }\n\n    @keyframes "+s+" {\n      0% {\n        background-position-x: 0;\n      }\n      100% {\n        background-position-x: -"+u+"px;\n      }\n    }\n  "}(t,n);e+=r}));var r=document.createElement("style");r.type="text/css";var i=document.createTextNode(e);r.appendChild(i),document.head.appendChild(r)}}function I(t){var e=t||{},n=e.msg_common,r=void 0===n?"":n,i=e.msg_self,o=void 0===i?"":i,a=e.link_url,s=void 0===a?"":a,c=e.msg_type,u=void 0===c?1:c,l=e.real_roomid,f=void 0===l?0:l,d=e.business_id,p=void 0===d?"":d,h=e.id,m=void 0===h?"":h,v=e.name,g=void 0===v?"":v,b=e.full,w=(b=void 0===b?{}:b).head_icon_fa,y=void 0===w?"":w,k=b.head_icon_fan,_=void 0===k?1:k,I=b.tail_icon_fa,T=void 0===I?"":I,x=b.tail_icon_fan,S=void 0===x?1:x,A=b.background,C=void 0===A?"":A,R=b.color,E=void 0===R?"":R,L=b.highlight,P=void 0===L?"":L,M=b.time,D=void 0===M?10:M,N=window.BilibiliLive.ROOMID===f,B={headIcon:y,headIconFrameCount:_,tailIcon:T,tailIconFrameCount:S,bgColor:C.substring(0,7),textColor:E.substring(0,7),highlightColor:P.substring(0,7),showTime:D,roomid:f,msgContent:N?o:r,linkUrl:s,msgType:u};return 1===u&&p?B.business_id=p:B.gift_id=p,m&&(B.id=m),g&&(B.name=g),B}function T(t){var e=new g(l()(I(t),{position:p.w.player}));return _(e),e}function x(t){var e,n,r,i,o,a,s,c,u,f,d,h,m,v=new g(l()((n=((e=t)||{}).side,r=(n=void 0===n?{}:n).background,i=void 0===r?"":r,o=n.color,a=void 0===o?"":o,s=n.highlight,c=void 0===s?"":s,u=n.border,f=void 0===u?"":u,d=n.head_icon,h=void 0===d?"":d,m=I(e),l()({},m,{headIcon:h,bgColor:i.substring(0,7),textColor:a.substring(0,7),highlightColor:c.substring(0,7),borderColor:f.substring(0,7)})),{position:p.w.chatArea}));return _(v),v}var S=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},A=(0,c.Yb)("DAModule.Wrapper"),C=null,R=null;function E(t){return S(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(t),e.next=3,P();case 3:C.showAnnouncement(t);case 4:case"end":return e.stop()}}),e)})))}function L(t){R=t,C&&C.init(R)}function P(){return S(this,void 0,void 0,o().mark((function t(){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C){t.next=7;break}return t.next=3,n.e(4407).then(n.bind(n,94407));case 3:e=t.sent,r=e.DanmakuAnnouncementController,C=r.getInstance(),R&&C.init(R);case 7:return t.abrupt("return",C);case 8:case"end":return t.stop()}}),t)})))}},63046:function(t,e,n){"use strict";var r;n.d(e,{s:function(){return r}}),function(t){t[t.normal=1]="normal",t[t.giftLottery=2]="giftLottery",t[t.guardLottery=3]="guardLottery",t[t.guardWelcome=4]="guardWelcome",t[t.giftLotteryResult=5]="giftLotteryResult",t[t.highEnergy=6]="highEnergy",t[t.no1=7]="no1",t[t.notSide=8]="notSide",t[t.chaosPk=9]="chaosPk"}(r||(r={}))},35072:function(t,e,n){"use strict";n.d(e,{bG:function(){return r.bG},fj:function(){return r.fj},b9:function(){return r.b9},eW:function(){return r.eW},JW:function(){return r.JW},V1:function(){return r.V1},Uy:function(){return r.Uy}});var r=n(96006)},96006:function(t,e,n){"use strict";n.d(e,{sW:function(){return v},V1:function(){return b},bG:function(){return w},fj:function(){return y},b9:function(){return k},eW:function(){return _},JW:function(){return I},Uy:function(){return T}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(59340),c=n.n(s),u=n(68913),l=n(3595),f=n(15796),d=n(18980),p=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},h=(0,u.a5)("danmaku-options/service"),m="blinkRoomDanmakuOptions:";function v(){try{var t=window.localStorage.getItem(m+l.h.state.baseInfoUser.uid)||"";return JSON.parse(t)}catch(t){return h("获取 LocalStorage 中弹幕选项失败",t),{}}}function g(){var t=l.h.state.danmakuOptions;!function(t){try{var e=c()(t);window.localStorage.setItem(m+l.h.state.baseInfoUser.uid,e)}catch(t){h("弹幕选项储存到 LocalStorage 失败",t)}}({danmakuDensity:t.danmakuDensity,danmakuDensityRate:t.danmakuDensityRate,danmakuFontSizeScale:t.danmakuFontSizeScale,danmakuOpacity:t.danmakuOpacity,danmakuMask:t.danmakuMask,danmakuMaskTip:t.danmakuMaskTip,danmakuAreaHeight:t.danmakuAreaHeight,autoAdjustDanmakuDensity:t.autoAdjustDanmakuDensity})}function b(){var t=v(),e={danmakuDensity:t.danmakuDensity,danmakuDensityRate:t.danmakuDensityRate,danmakuFontSizeScale:t.danmakuFontSizeScale,danmakuOpacity:t.danmakuOpacity,danmakuMask:t.danmakuMask,danmakuMaskTip:t.danmakuMaskTip,danmakuAreaHeight:t.danmakuAreaHeight,autoAdjustDanmakuDensity:t.autoAdjustDanmakuDensity};l.h.commit(f.V.SET_ENTIRE_DANMAKU_OPTIONS,e)}function w(t){return p(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.dispatch("switchDanmakuAutoDensityStatus",t);case 2:g();case 3:case"end":return e.stop()}}),e)})))}function y(t,e){return p(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("mask"!==t){n.next=6;break}return n.next=3,l.h.dispatch("switchDanmakuMaskStatus",e);case 3:d.default.report("room_danmu_anti_occlusion_click",{roomid:l.h.state.baseInfoRoom.roomID,type:e?1:2}),n.next=8;break;case 6:return n.next=8,l.h.dispatch("setDanmakuMaskTip",e);case 8:g();case 9:case"end":return n.stop()}}),n)})))}function k(t){return p(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.dispatch("setDanmakuOpacity",t);case 2:g();case 3:case"end":return e.stop()}}),e)})))}function _(t){return p(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.dispatch("setDanmakuDensityRate",t);case 2:g();case 3:case"end":return e.stop()}}),e)})))}function I(t){return p(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.dispatch("setDanmakuFontSizeScale",t);case 2:g();case 3:case"end":return e.stop()}}),e)})))}function T(t){return p(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.dispatch("setDanmakuAreaHeight",t);case 2:g();case 3:case"end":return e.stop()}}),e)})))}},24251:function(t,e,n){"use strict";n.d(e,{aT:function(){return m},Nn:function(){return b}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(2991),c=n.n(s),u=n(9669),l=n.n(u),f=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function d(t){return f(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/xlive/web-room/v1/dM/gethistory",{params:{roomid:t}});case 2:return n=e.sent,r=n.serverResponse,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))}var p=n(95503),h=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function m(t){return h(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:if(!(r=e.sent).error){e.next=5;break}return e.abrupt("return",{data:null,error:r.error,errorMsg:r.errorMsg,errorType:r.errorType});case 5:return o=c()(n=r.data.room).call(n,p.Oo),e.abrupt("return",{error:null,data:o});case 7:case"end":return e.stop()}}),e)})))}var v=n(12683),g=(n(57072),null);function b(t){return new(a())((function(e,n){(0,v.Nn)(t).then((function(n){var r,i=n.response;r=t.msg,"function"==typeof g&&(g(r),g=null),e(i)})).catch((function(t){n(t)}))}))}},63677:function(t,e,n){"use strict";n.d(e,{U:function(){return d}});var r=n(20116),i=n.n(r),o=n(78580),a=n.n(o),s=n(23933),c=n(95519),u=n(66552),l={platform:[1],dmTag:0,extra:"",toast:""},f=function(t){if(!t)return l;var e="";if(t.dm_tag===c.e.Pk){var n=t.extra&&JSON.parse(t.extra);if(n.guide_toast&&n.guide_toast.length){var r,o=i()(r=n.guide_toast).call(r,(function(t){return t.platform===c.T.Web})),a=o&&o.length&&o[0].toast_long||"";e=a[Math.floor(Math.random()*a.length)]}}return{platform:t.platform,dmTag:t.dm_tag,extra:t.extra,toast:e}},d=new(function(){function t(){this.danmakuTypeInfo=l}var e=t.prototype;return e.init=function(){var t=f(s.e.getDanmakuTypeInfo());this.handleChange(t)},e.onDanmakuTypeChange=function(t){var e=t.data,n=f(e);this.handleChange(n)},e.setConfig=function(t){u.Rw.changeUIStatus({specialDanmaku:{dmTag:t.dmTag,isHideDanmakuPanel:0===t.dmTag,extra:t.extra}})},e.handleChange=function(t){var e;t.dmTag!==c.e.Normal&&t.platform&&a()(e=t.platform).call(e,1)?(this.danmakuTypeInfo=t,this.setConfig(t)):(this.danmakuTypeInfo=l,this.setConfig(l))},t}())},95519:function(t,e,n){"use strict";var r,i;n.d(e,{e:function(){return r},T:function(){return i}}),function(t){t[t.Normal=0]="Normal",t[t.Meteor=1]="Meteor",t[t.Moon=2]="Moon",t[t.Pk=3]="Pk"}(r||(r={})),function(t){t[t.Web=1]="Web",t[t.Android=2]="Android",t[t.Ios=3]="Ios"}(i||(i={}))},5985:function(t,e,n){"use strict";n.d(e,{WY:function(){return d},F3:function(){return s},h9:function(){return c},V9:function(){return f}});var r=n(3595),i=n(23374),o=n(18980),a={normal:1,webFullScreen:2,windowFullScreen:3};function s(t,e){o.default.report(t,e)}function c(){o.default.inject((function(){return{up_id:r.h.getters.baseInfoAnchor.uid,room_id:r.h.getters.baseInfoRoom.roomID,area_id:r.h.getters.baseInfoRoom.parentAreaID,subarea_id:r.h.getters.baseInfoRoom.areaID,pk_id:i.bJ.getPKId(),screen_status:a[r.h.getters.appStatus.displayMode],live_status:r.h.getters.baseInfoRoom.liveStatus}}))}var u=n(80129),l=n.n(u)().parse(document.location.search,{ignoreQueryPrefix:!0}).recommend_source;function f(){if(l){var t=Number(l.split("_")[1]);return(new Date).setHours(0,0,0,0)===new Date(t).setHours(0,0,0,0)}return!1}var d=l?l.split("_")[0]:""},80207:function(t,e,n){"use strict";n.d(e,{c0:function(){return a},vh:function(){return c},us:function(){return u},NZ:function(){return s}});var r=n(2991),i=n.n(r),o=n(2708);function a(t){if(Array.isArray(t))return!1;var e=t.roominfo,n={level:(0,o.toNumber)(t.level)||1,label:t.medal_name||"--",anchorId:t.target_id||0,anchorUsername:t.target_name||"--",shortRoomID:e&&(e.short_id||e.room_id)||0,special:"",intimacy:(0,o.toNumber)(t.intimacy||0),nextIntimacy:(0,o.toNumber)(t.next_intimacy||0),todayFeed:(0,o.toNumber)(t.today_feed||0),dayLimit:(0,o.toNumber)(t.day_limit||0),medalColorStart:(0,o.toNumber)(t.medal_color_start||0),medalColorEnd:(0,o.toNumber)(t.medal_color_end||0),medalColorBorder:(0,o.toNumber)(t.medal_color_border||0),isLight:(0,o.toNumber)(t.is_lighted||0),guardLevel:(0,o.toNumber)(t.guard_level||0),medalColor:null};return 1===(0,o.toNumber)(t.is_union)&&(n.special="union"),n}function s(t){if(t.received){var e,n,r=t.current,a=t.expectation;return{current:{level:(0,o.toNumber)(r.medal.level)||1,label:r.medal.medal_name||"--",masterId:r.medal.target_id||0,masterName:r.medal.target_name||"",intimacy:(0,o.toNumber)(r.medal.intimacy||0),nextIntimacy:(0,o.toNumber)(r.medal.next_intimacy||0),todayFeed:(0,o.toNumber)(r.medal.today_feed||0),dayLimit:(0,o.toNumber)(r.medal.day_limit||0),medalColorStart:(0,o.toNumber)(r.medal.medal_color_start||0),medalColorEnd:(0,o.toNumber)(r.medal.medal_color_end||0),medalColorBorder:(0,o.toNumber)(r.medal.medal_color_border||0),isLight:(0,o.toNumber)(r.medal.is_lighted||0),guardLevel:(0,o.toNumber)(r.medal.guard_level||0),description:i()(e=r.description).call(e,(function(t){return t.message}))||[]},next:{level:(0,o.toNumber)(a.medal.level)||1,label:a.medal.medal_name||"--",masterId:a.medal.target_id||0,masterName:a.medal.target_name||"",intimacy:(0,o.toNumber)(a.medal.intimacy||0),nextIntimacy:(0,o.toNumber)(a.medal.next_intimacy||0),todayFeed:(0,o.toNumber)(a.medal.today_feed||0),dayLimit:(0,o.toNumber)(a.medal.day_limit||0),medalColorStart:(0,o.toNumber)(a.medal.medal_color_start||0),medalColorEnd:(0,o.toNumber)(a.medal.medal_color_end||0),medalColorBorder:(0,o.toNumber)(a.medal.medal_color_border||0),isLight:(0,o.toNumber)(a.medal.is_lighted||0),guardLevel:(0,o.toNumber)(a.medal.guard_level||0),description:i()(n=a.description).call(n,(function(t){return t.message}))||[]}}}return!1}function c(t,e){var n;if(void 0===e&&(e=1),1===e){if(Array.isArray(t)||!t.has_fans_medal)return!1;n=t.my_fans_medal}else if(2===e){if(Array.isArray(t)||!t.received)return!1;n=t.medal}return{level:(0,o.toNumber)(n.level)||1,label:n.medal_name||"--",masterId:n.target_id||0,masterName:n.target_name||"",intimacy:(0,o.toNumber)(n.intimacy||0),nextIntimacy:(0,o.toNumber)(n.next_intimacy||0),todayFeed:(0,o.toNumber)(n.today_feed||0),dayLimit:(0,o.toNumber)(n.day_limit||0),medalColorStart:(0,o.toNumber)(n.medal_color_start||0),medalColorEnd:(0,o.toNumber)(n.medal_color_end||0),medalColorBorder:(0,o.toNumber)(n.medal_color_border||0),isLight:(0,o.toNumber)(n.is_lighted||0),guardLevel:(0,o.toNumber)(n.guard_level||0)}}function u(t){return"[object Object]"===Object.prototype.toString.call(t)&&{level:(0,o.toNumber)(t.medal_level)||1,label:t.medal_name||"--",anchorId:t.target_id||0,anchorUsername:t.anchor_uname||"--",shortRoomID:t.anchor_roomid||0,medalColorStart:(0,o.toNumber)(t.medal_color_start||0),medalColorEnd:(0,o.toNumber)(t.medal_color_end||0),medalColorBorder:(0,o.toNumber)(t.medal_color_border||0),isLight:(0,o.toNumber)(t.is_lighted||0),guardLevel:(0,o.toNumber)(t.guard_level||0),medalColor:null}}},47204:function(t,e,n){"use strict";n.d(e,{h:function(){return r.hi}});var r=n(70238)},70238:function(t,e,n){"use strict";n.d(e,{Bo:function(){return k},M0:function(){return y},hi:function(){return w}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function l(t,e){return u(this,void 0,void 0,i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/live_user/v1/UserInfo/get_weared_medal",n.next=3,c().post("/live_user/v1/UserInfo/get_weared_medal",{source:1,uid:e,target_id:t});case 3:return r=n.sent,n.abrupt("return",r.serverResponse);case 5:case"end":return n.stop()}}),n)})))}function f(t,e){return u(this,void 0,void 0,i().mark((function n(){var r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=1===e?"/xlive/app-room/v1/fansMedal/fans_medal_info":"/xlive/web-room/v1/fansMedal/room",n.next=3,c().get(r,{params:{target_id:t}});case 3:return o=n.sent,n.abrupt("return",o.serverResponse);case 5:case"end":return n.stop()}}),n)})))}function d(t,e,n,r,o){return u(this,void 0,void 0,i().mark((function a(){var s;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return"/xlive/app-ucenter/v1/fansMedal/room",i.next=3,c().get("/xlive/app-ucenter/v1/fansMedal/room",{params:{target_id:t,price:e,coin_type:n,gift_id:r,gift_type:o,platform:"pc"}});case 3:return s=i.sent,i.abrupt("return",s.serverResponse);case 5:case"end":return i.stop()}}),a)})))}var p=n(3595),h=n(68913),m=n(80207),v=n(2708),g=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},b=(0,h.$S)("fans-medal/service");function w(){return g(this,void 0,void 0,i().mark((function t(){var e,n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,v.isLogin)()){t.next=2;break}return t.abrupt("return");case 2:return e=p.h.state.baseInfoAnchor.uid,n=p.h.state.baseInfoUser.uid,t.next=6,l(e,n);case 6:if(r=t.sent,o=r.data||[],!r.error){t.next=10;break}return t.abrupt("return",b("粉丝勋章接口请求失败",r.error));case 10:return a=(0,m.c0)(o),t.next=13,p.h.dispatch("baseInfoUser",{medal:a});case 13:case"end":return t.stop()}}),t)})))}function y(t){return void 0===t&&(t=1),g(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,v.isLogin)()){e.next=2;break}return e.abrupt("return",!1);case 2:return n=p.h.state.baseInfoAnchor.uid,e.next=5,f(n,t);case 5:if(r=e.sent,o=r.data||[],!r.error){e.next=10;break}return b("用户粉丝勋章接口请求失败",r.error),e.abrupt("return",!1);case 10:return e.next=12,p.h.dispatch("baseInfoAnchor",{isOpenFansMedal:!0});case 12:return a=(0,m.vh)(o,t),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))}function k(t,e,n,r){return g(this,void 0,void 0,i().mark((function o(){var a,s,c,u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if((0,v.isLogin)()){i.next=2;break}return i.abrupt("return",!1);case 2:return a=p.h.state.baseInfoAnchor.uid,i.next=5,d(a,t,e,n,r);case 5:if(s=i.sent,c=s.data||[],!s.error){i.next=10;break}return b("用户粉丝勋章接口请求失败",s.error),i.abrupt("return",!1);case 10:return i.next=12,p.h.dispatch("baseInfoAnchor",{isOpenFansMedal:!0});case 12:return u=(0,m.NZ)(c),i.abrupt("return",u);case 14:case"end":return i.stop()}}),o)})))}},20549:function(t,e,n){"use strict";n.d(e,{KZ:function(){return c},jJ:function(){return u},bv:function(){return l},kA:function(){return f}});var r=n(91236),i=n.n(r),o=n(38060),a=i()+"static/img/gift-images/",s=[];function c(t){return s.indexOf(t)>-1?a+"image-png/gift-"+t+".png?1651ea6ddfeb920":o.PJ.getAssetsById(t).basic}function u(t){return a+"image-gif/gift-"+t+".gif?1651ea6ddfeb920"}function l(t){return a+"image-gif-grey/gift-grey-"+t+".gif?1651ea6ddfeb920"}function f(t){return o.PJ.getAssetsById(t).frameAnimation}},40917:function(t,e,n){"use strict";n.d(e,{S:function(){return r}});var r={config:{action:"开启风暴",count:"节奏倍率",msgEnd:"节奏风暴席卷而过╮(￣▽￣)╭，手慢没有领到只能等下一次啦！",title:"节奏风暴"},privateInfo:[{content:"未设置自定义弹幕",id:"",reason:"",status:-3}],publicInfo:[{id:"1",content:"前方高能预警，注意这不是演习"},{id:"2",content:"我从未见过如此厚颜无耻之人"},{id:"3",content:"那万一赢了呢"},{id:"4",content:"你们城里人真会玩"},{id:"5",content:"左舷弹幕太薄了"},{id:"6",content:"别这样，我们乡下人营养跟不上"},{id:"7",content:"要优雅，不要污"},{id:"8",content:"我选择狗带"}]}},50483:function(t,e,n){"use strict";n.d(e,{VV:function(){return r},o9:function(){return i}});var r=2,i=100},55391:function(t,e,n){"use strict";n.d(e,{ZJ:function(){return o.ZJ},rX:function(){return F},LC:function(){return a.K},XO:function(){return x},IU:function(){return k},MQ:function(){return H},jG:function(){return S.j},L3:function(){return o.KU},Ab:function(){return o.Ab},sC:function(){return r.sC},cX:function(){return y},qc:function(){return r.qc},hF:function(){return i.h}});var r=n(26510),i=n(15525),o=n(19562),a=n(78943),s=n(63109),c=n.n(s),u=n(93476),l=n.n(u),f=n(40917),d=n(9669),p=n.n(d),h=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function m(){return h(this,void 0,void 0,c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p().get("/api/ajaxGetAllBeats");case 2:return e=t.sent,n=e.serverResponse,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))}var v=n(2991),g=n.n(v);var b=function(t){var e,n=t.config,r={title:n.title,msgEnd:n.msgEnd,action:n.action,count:n.count},i=g()(e=t.public).call(e,(function(t){return{id:t.id,content:t.content}})),o=[];return t.private.forEach((function(t){t.status>0&&o.push({id:t.id,content:t.content||"未设置自定义弹幕",status:t.status,reason:t.reason})})),o.length<=0&&o.push({id:"",content:"未设置自定义弹幕",status:0,reason:""}),{config:r,publicInfo:i,privateInfo:o}},w=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function y(){return w(this,void 0,void 0,c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:if(e=t.sent,!(n=e.data)){t.next=6;break}return t.abrupt("return",b(n));case 6:return t.abrupt("return",f.S);case 7:case"end":return t.stop()}}),t)})))}var k,_=n(86902),I=n.n(_),T=function(){function t(){}return t.filterGiftList=function(t){var e={};return I()(t||{}).forEach((function(n){var r=t[n],i=r.gift_id,o=void 0===i?0:i,a=r.uname,s=void 0===a?"":a,c=r.face,u=void 0===c?"":c,l=r.first_uname,f=void 0===l?"":l,d=r.first_face,p=void 0===d?"":d,h=r.bg_url,m=void 0===h?"":h,v=r.text_color_1,g=void 0===v?"":v,b=r.text_color_2,w=void 0===b?"":b;e[n]={giftId:o,masterFace:u,masterName:s,topUserFace:p,topUserName:f,bgUrl:m,masterTextColor:g,userTextColor:w}})),e},t}(),x=new(function(){function t(){this.giftList={}}var e=t.prototype;return e.init=function(t){this.setGiftList(t)},e.setGiftList=function(t){var e=T.filterGiftList(t);this.giftList=e},t}()),S=n(56872),A=n(20116),C=n.n(A),R=n(51942),E=n.n(R),L=n(53338),P=n(57072),M=n(39984),D=n(3595),N=n(23933),B=n(7466),O=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},F=new(function(){function t(){}var e=t.prototype;return e.init=function(){this.onMsg(),this.setAnimationsConfig()},e.addAnimation=function(t,e,n,r,i,o){L.J.addAnimation(t,e,M.m.GIFT,n,r,i,o)},e.onSocket=function(t){this.addAnimation(t.uid,"gift-"+t.giftId,t.demarcation,t.is_special_batch,t.num,{avatar:t.face,username:t.uname,action:t.action,giftLabel:t.giftName,giftNum:t.num,floatID:t.float_sc_resource_id,blind:t.blind_gift})},e.onMsg=function(){var t=this;P.default.$on("GiftService: Sent",(function(e){"giftList"in e?(e=e).giftList.forEach((function(n){t.addAnimation(e.userId,"gift-"+n.giftID,n.demarcation,n.is_special_batch,n.giftNum,{avatar:e.avatar,username:e.username,action:n.action,giftLabel:n.giftLabel,giftNum:n.giftNum,floatID:n.floatID,blind:e.blindGift})})):(e=e,t.addAnimation(e.userId,"gift-"+e.giftID,e.demarcation,e.is_special_batch,e.giftNum,{avatar:e.avatar,username:e.username,action:e.action,giftLabel:e.giftLabel,giftNum:e.giftNum,floatID:e.floatID,blind:e.blindGift}))}))},e.loadAnimationJson=function(t){return O(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I()(t).forEach((function(e){var n,r,i=t[e],o=i.effectId,a=N.e.getEffectItemById(o),s=g()(n=C()(r=i.countMap).call(r,(function(t){return t.effectId}))).call(n,(function(t){var e=N.e.getEffectItemById(t.effectId);return E()(E()({},t),{web_svga:e.webSvga,mp4_url:e.webMP4,mp4_json:e.webMP4Json})}));(i.effect===B.q.fullScreenAnimation&&(a||s.length)||s.length)&&L.J.registerConfig({id:"gift-"+e,type:M.m.GIFT,url:a&&a.webSvga,mp4_url:a&&a.webMP4,mp4_json:a&&a.webMP4Json,effectId:o,countMap:s})}));case 1:case"end":return e.stop()}}),e)})))},e.setAnimationsConfig=function(){var t=this;if(I()(D.h.getters["gift/giftAssets"]).length>0){var e=D.h.getters["gift/giftAssets"];this.loadAnimationJson(e).then().catch()}else{var n=null;n=D.h.watch((function(){return D.h.getters["gift/giftAssets"]}),(function(e){0!==I()(e).length&&(t.loadAnimationJson(e).then().catch(),n())}))}},t}()),G=n(77766),U=n.n(G),Z=n(90801),V=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};!function(t){t.S11_THERMAL_EFFECT="s11_thermal_effect"}(k||(k={}));var H=new(function(){function t(){}var e=t.prototype;return e.init=function(){this.setAnimationsConfig()},e.addAnimation=function(t){L.i.addAnimation(0,t,M.m.PLAYER_EFFECT,5,0,1)},e.parseMsg=function(t,e){var n=[];try{var r=JSON.parse(t[e]);return Array.isArray(r)&&r.forEach((function(t){n.push(E()(E()({},t),{kv_key:e}))})),n}catch(t){console.log(t)}return n},e.getConfig=function(t){return V(this,void 0,void 0,c().mark((function e(){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,Z.Z.get("live_room_player_animation");case 4:for(r=e.sent,i=JSON.parse(r),o=t.length,a=0;i&&a<o;)n=U()(n).call(n,this.parseMsg(i,t[a])),a++;return e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})))},e.setAnimationsConfig=function(){return V(this,void 0,void 0,c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getConfig([k.S11_THERMAL_EFFECT]);case 2:t.sent.forEach((function(t){L.i.registerConfig({id:e.getEffectId(t.id,t.kv_key),type:M.m.PLAYER_EFFECT,url:t.web_svga,mp4_url:t.web_mp4,mp4_json:t.web_mp4_json,effectId:t.id,countMap:[]})}));case 5:case"end":return t.stop()}}),t,this)})))},e.getEffectId=function(t,e){return e+"-"+t},t}())},9339:function(t,e,n){"use strict";n.d(e,{vD:function(){return s},PJ:function(){return c},tu:function(){return r}});var r,i=n(66570),o=n(20549),a=n(23933);!function(t){t[t.normal=0]="normal",t[t.community=1]="community",t[t.top=2]="top",t[t.special=3]="special",t[t.silver=4]="silver"}(r||(r={}));var s=function(t){function e(e){return t.call(this,e)||this}return(0,i.Z)(e,t),e}(function(){function t(t){var e=t.id,n=t.bagGift,r=t.name,i=t.price,o=t.effect,a=t.basic,s=t.gif,c=t.frameAnimation,u=t.frameAnimationTotalCount,l=t.fullScreenAnimationJsonUrl,f=t.startPic,d=t.endPic,p=t.type,h=t.giftType,m=t.countMap,v=t.diyCountMap,g=t.effectId;this.id=e,this.bagGift=n,this.name=r,this.price=i,this.effect=o,this.basic=a,this.frameAnimation=c,this.frameAnimationTotalCount=u,this.fullScreenAnimationJsonUrl=l,this.gif=s,this.startPic=f,this.endPic=d,this.giftType=h,this.type=p,this.bindRoomId=t.bindRoomId,this.rule=t.rule,this.rights=t.rights,this.description=t.description,this.coinType=t.coinType,this.comboStayTime=t.comboStayTime,this.comboResourcesId=t.comboResourcesId,this.maxSendLimit=t.maxSendLimit,this.countMap=m,this.diyCountMap=v,this.effectId=g}return t.prototype.getFlashPic=function(){return{startPic:this.startPic,endPic:this.endPic,gif:(0,o.jJ)(this.id),png:(0,o.KZ)(this.id)}},t}()),c=function(){function t(){}return t.getAssets=function(){return a.e.getStore().getters["gift/giftAssets"]},t.getAssetsById=function(t){return a.e.getStore().getters["gift/getGiftAssetsById"](t)},t}()},95106:function(t,e,n){"use strict";var r;n.d(e,{Z:function(){return r}}),function(t){t.top="0",t.right="1",t.down="2",t.left="3"}(r||(r={}))},38060:function(t,e,n){"use strict";n.d(e,{tu:function(){return u.tu},ZR:function(){return l.Z},vD:function(){return u.vD},PJ:function(){return u.PJ},fy:function(){return s},L3:function(){return c.L}});var r=n(26849),i=n(20549),o=function(){function t(t){this.id=0,this.type=0,this.label="--",this.description="--",this.expScore="",this.rule="",this.rights="",this.buyable=!0,this.bindRoomId=0,this.countSet=[],this.customInput=!0,this.countLimit=-1,this.goldPrice=0,this.silverPrice=0,this.discountPrice=0,this.price=0,this.cornerMark="",this.specificPanel="",this.isShownInPlayer=!1,this.fansMedalGift=!1,this.ownCount=!1,this.position=0,this.planId=0,this.extraType=0,this.bindRuid=0,this.comboStayTime=3,this.comboResourcesId=0,this.maxSendLimit=-1,this.isShowLock=!1,this.specialType=0,this.specialTips="",this.countSpecialBatch=null,this.id=t.id||0,this.label=t.label||"--",this.description=t.description||"--",this.effect=t.effect||0,this.rule=t.rule||"",this.rights=t.rights||"",this.buyable=t.buyable||!1,this.customInput=t.customInput||!1,this.countSet=t.countSet||[],this.countLimit=t.countLimit||-1,this.goldPrice=t.goldPrice||0,this.silverPrice=t.silverPrice||0,this.discountPrice=t.discountPrice,this.cornerMark=t.cornerMark,this.specificPanel=t.specificPanel||"",this.isShownInPlayer=!!t.isShownInPlayer,this.fansMedalGift=!!t.fansMedalGift,this.position=t.position,this.planId=t.planId,this.extraType=t.extraType,this.comboStayTime=t.comboStayTime,this.comboResourcesId=t.comboResourcesId,this.maxSendLimit=t.maxSendLimit,this.isShowLock=t.isShowLock,this.specialType=t.specialType,this.specialTips=t.specialTips,this.countSpecialBatch=t.countSpecialBatch,this.giftBanner=t.giftBanner,this.diyCountMap=t.diy_count_map,"number"==typeof t.ownCount&&(this.ownCount=t.ownCount),this.bindRuid=t.bindRuid}return t.prototype.setDiscountPrice=function(t){this.discountPrice=t},(0,r.Z)(t,[{key:"giftImg",get:function(){return{gif:(0,i.jJ)(this.id),gifGrey:(0,i.bv)(this.id),png:(0,i.KZ)(this.id)}}}]),t}(),a=n(66570),s=function(t){function e(e){var n;return(n=t.call(this,e)||this).type=0,n}return(0,a.Z)(e,t),e}(o),c=n(91036),u=n(9339),l=n(95106)},91036:function(t,e,n){"use strict";n.d(e,{L:function(){return w},p:function(){return y}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(78580),c=n.n(s),u=n(20116),l=n.n(u),f=n(92762),d=n.n(f),p=n(3595),h=n(23933),m=n(9339),v=n(50483),g=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},b=function(){function t(){}return t.commit=function(t,e){return p.h.dispatch(t,e).then().catch()},t.getters=function(){return p.h.getters},t.getQueue=function(){return this.getters()["gift/superGift"]},t.contrast=function(t){return g(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commit("gift/comparisonGift",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))},t.unshiftTop=function(t){return g(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commit("gift/unshiftTop",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))},t.addSuperGift=function(t){return this.commit("gift/addSuperGift",t)},t.clearSuperGifts=function(){return this.commit("gift/clearSuperGifts",h.e.getUid())},t.deleteSuperGift=function(t,e){return void 0===e&&(e=null),this.commit("gift/deleteSuperGift",{superGift:t,newSuperGift:e})},t.updateSuperGift=function(t,e){return this.commit("gift/updateSuperGift",{index:e,superGift:t})},t.getSuperGiftById=function(t){var e=this;return new(a())((function(n){setTimeout((function(){n(e.getters()["gift/getSuperGiftById"](t))}),0)}))},t}(),w=function(){function t(t){this.tid="",this.giftID=0,this.giftCount=0,this.giftLabel="--",this.giftType=m.tu.normal,this.userName="--",this.userId=0,this.critProb=0,this.id="",this.avatar="",this.guardLevel=0,this.superGiftNum=0,this.superBatchGiftNum=0,this.timer=null,this.addTime=0,this.tagPicUrl="",this.action="",this.sendMaster=null,this.comboResourcesId=0,this.giftAssets=null,this.showTime=0;var e=t.tid,n=void 0===e?"":e,r=t.giftID,i=void 0===r?0:r,o=t.giftCount,a=void 0===o?0:o,s=t.giftLabel,c=void 0===s?"":s,u=t.userName,l=void 0===u?"":u,f=t.userId,d=void 0===f?0:f,p=t.avatar,h=void 0===p?"":p,v=t.guardLevel,g=void 0===v?0:v,b=t.superGiftNum,w=t.superBatchGiftNum,y=t.comboStayTime,k=t.demarcation,_=t.comboTotalCoin,I=t.comboResourcesId,T=void 0===I?0:I,x=t.magnification,S=t.isSpecialBatch,A=t.batchComboId,C=t.tagPicUrl,R=void 0===C?"":C,E=t.action,L=void 0===E?"":E,P=t.sendMaster,M=t.critProb,D=void 0===M?0:M,N=t.blind_gift;this.tid=n,this.giftID=i,this.giftAssets=this.getGiftAssets(),this.giftCount="string"==typeof a?parseInt(a):a,this.giftLabel=c,this.giftType=this.giftAssets.type,this.userName=l,this.userId=d,this.id=A,this.avatar=h,this.guardLevel=g,this.superGiftNum=b,this.superBatchGiftNum=w,this.critProb=D,this.comboStayTime=y,this.demarcation=k,this.comboTotalCoin=_,this.batchComboId=A,this.comboResourcesId=T,this.isSpecialBatch=S,this.magnification=x,this.showTime=y,this.tagPicUrl=R,this.addTime=(new Date).getTime(),this.action=L,this.sendMaster=P,this.blind_gift=N}var e=t.prototype;return e.getGiftAssets=function(){return m.PJ.getAssetsById(this.giftID)},e.isTopGift=function(t){return t.magnification<=2},e.setTimeId=function(t){this.timer=t},t}(),y=function(){function t(){this.isBlock=!1,this.isOpenThrottle=!1,this.throttleTime=1e3,this.radarQueue=[],this.masterQueue=[]}t.addSuperGift=function(t){return b.addSuperGift(t)},t.updateSuperGift=function(t,e){return b.updateSuperGift(t,e)},t.deleteSuperGift=function(t,e){return void 0===e&&(e=null),b.deleteSuperGift(t,e)},t.dealWithDuplicateQueue=function(t,e){void 0===e&&(e="interface");var n,r="socket"===e?t.uid:t.userId;return h.e.getUid()===r?c()(n=this.duplicateQueue).call(n,t.tid)?{showFlag:!1}:(this.duplicateQueue.push(t.tid),{showFlag:!0}):{showFlag:!0}};var e=t.prototype;return e.setBlockStatus=function(t){this.isBlock=t},e.getQueueData=function(){return b.getQueue()},e.checkIsCurrentUser=function(t){return h.e.getUid()===t},e.checkRepeat=function(t){var e=this;return new(a())((function(n,r){b.getSuperGiftById(t.id).then((function(i){var o=i.index,a=i.superGift;o>-1&&a?a.comboTotalCoin<t.comboTotalCoin?(e.update(t,a,o).then().catch(),r(Error("已有道具，不再重复添加，直接更新道具"))):r(Error("丢弃策略，连击数据可能产生前面的数据后面到达的情况")):n()}))}))},e.setCountDown=function(t){var e=this;return new(a())((function(n,r){var o=t.showTime,a=setTimeout((function(){return g(e,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clearExistWaitQueueData(t);case 2:return e.next=4,this.delete(t);case 4:this.playWaitQueue().then().catch(),n();case 6:case"end":return e.stop()}}),e,this)})))}),1e3*o);t.setTimeId(a)}))},e.update=function(e,n,r){return g(this,void 0,void 0,i().mark((function o(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return clearTimeout(n.timer),i.next=3,t.updateSuperGift(e,r);case 3:return clearTimeout(e.timer),e=null,i.next=7,this.setCountDown(n);case 7:case"end":return i.stop()}}),o,this)})))},e.checkIsExceedLength=function(){var t;return l()(t=this.getQueueData()).call(t,(function(t){return!!t})).length>=v.VV},e.handleMasterModeAct=function(t){return g(this,void 0,void 0,i().mark((function e(){var n,r,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userId,r=this.getQueueData(),this.checkIsCurrentUser(n)){e.next=4;break}return e.abrupt("return",a().resolve());case 4:if(l()(r).call(r,(function(t){return o.checkIsCurrentUser(t.userId)})).length!==v.VV){e.next=17;break}if(!(t.comboTotalCoin<r[1].comboTotalCoin)){e.next=12;break}return e.next=9,this.addGiftToWaitQueue(t);case 9:return e.abrupt("return",a().reject(t.giftLabel+"加入主态等待队列"));case 12:return e.next=14,b.contrast(t).then((function(){return g(o,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c()(r).call(r,t)){e.next=5;break}return e.next=3,this.setCountDown(t);case 3:e.next=7;break;case 5:return e.next=7,this.addGiftToWaitQueue(t);case 7:case"end":return e.stop()}}),e,this)})))}));case 14:return e.abrupt("return",a().reject(t.giftLabel+"执行同态礼物比价策略"));case 15:e.next=20;break;case 17:return e.next=19,b.unshiftTop(t).then((function(){return g(o,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c()(r).call(r,t)){e.next=3;break}return e.next=3,this.setCountDown(t);case 3:case"end":return e.stop()}}),e,this)})))}));case 19:return e.abrupt("return",a().reject("将当前礼物添加到顶部"));case 20:case"end":return e.stop()}}),e,this)})))},e.handleObjectiveModeAct=function(t){return g(this,void 0,void 0,i().mark((function e(){var n,r,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getQueueData(),this.checkIsExceedLength()){e.next=3;break}return e.abrupt("return",a().resolve());case 3:if((r=l()(n).call(n,(function(t){return o.checkIsCurrentUser(t.userId)})).length)!==v.VV){e.next=9;break}return this.addGiftToWaitQueue(t),e.abrupt("return",a().reject("当前礼物队列都是主态礼物，客态礼物加入客态礼物等待队列等待"));case 9:if(r){e.next=15;break}return e.next=12,b.contrast(t).then((function(){return g(o,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c()(n).call(n,t)){e.next=5;break}return e.next=3,this.setCountDown(t);case 3:e.next=7;break;case 5:return e.next=7,this.addGiftToWaitQueue(t);case 7:case"end":return e.stop()}}),e,this)})))}));case 12:return e.abrupt("return",a().reject("执行同态礼物比价策略"));case 15:if(!(t.comboTotalCoin>n[1].comboTotalCoin)){e.next=22;break}return e.next=18,this.delete(n[1],t,!0);case 18:return e.next=20,this.setCountDown(t);case 20:e.next=25;break;case 22:return e.next=24,this.addGiftToWaitQueue(t);case 24:return e.abrupt("return",a().reject("当前礼物价值较低，加入客态礼物等待队列等待"));case 25:case"end":return e.stop()}}),e,this)})))},e.checkBlock=function(t){var e=this;return new(a())((function(n,r){if(e.isBlock&&!e.checkIsCurrentUser(t.userId))throw clearTimeout(t.timer),t=null,new Error("当前处于连击道具屏蔽状态，不再继续添加");if(!t.giftAssets.id)throw new Error("在GiftConfig里面找不到当前礼物，屏蔽展示 "+t.giftLabel);n()}))},e.checkThrottle=function(t){var e=this;return new(a())((function(n,r){if(e.isOpenThrottle&&!e.checkIsCurrentUser(t.userId)&&e.checkIsExceedLength())throw t.isTopGift(t)?(e.addGiftToWaitQueue(t),new Error("当前处于节流状态，顶级道具进入等待队列 "+t.giftLabel)):new Error("当前处于节流状态，且不是当前用户，该条记录将被丢弃");e.isOpenThrottle=!0,setTimeout((function(){return g(e,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isOpenThrottle=!1;case 1:case"end":return t.stop()}}),t,this)})))}),e.throttleTime),n()}))},e.playWaitQueue=function(){return g(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.masterQueue.length>0)){t.next=5;break}return t.next=3,this.add(this.masterQueue.shift());case 3:t.next=8;break;case 5:if(!(this.radarQueue.length>0)){t.next=8;break}return t.next=8,this.add(this.radarQueue.shift());case 8:case"end":return t.stop()}}),t,this)})))},e.addGiftToWaitQueue=function(t){function e(e,n){if(void 0===n&&(n=v.o9),!(e.length>=n)){var r=-1,i=0;e.some((function(e,n){if(e.batchComboId===t.batchComboId&&t.comboTotalCoin>e.comboTotalCoin)return r=n,i=1,!0})),r>-1?d()(e).call(e,r,i,t):e.push(t)}}this.checkIsCurrentUser(t.userId)?e(this.masterQueue):e(this.radarQueue)},e.clearExistWaitQueueData=function(t){function e(e){var n=-1,r=0;e.some((function(e,i){if(e.batchComboId===t.batchComboId)return n=i,r=1,!0})),n>-1&&d()(e).call(e,n,r)}this.checkIsCurrentUser(t.userId)?e(this.masterQueue):e(this.radarQueue)},e.add=function(e){return g(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.checkBlock(e);case 3:return n.next=5,this.checkRepeat(e);case 5:return n.next=7,this.checkThrottle(e);case 7:return n.next=9,this.handleMasterModeAct(e);case 9:return n.next=11,this.handleObjectiveModeAct(e);case 11:return n.next=13,t.addSuperGift(e);case 13:return n.next=15,this.setCountDown(e);case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0);case 20:case"end":return n.stop()}}),n,this,[[0,17]])})))},e.delete=function(e,n,r){return void 0===n&&(n=null),void 0===r&&(r=!0),r&&e&&clearTimeout(e.timer),t.deleteSuperGift(e,n)},e.clear=function(){return b.clearSuperGifts()},t}();y.duplicateQueue=[]},78943:function(t,e,n){"use strict";n.d(e,{K:function(){return f},P:function(){return l}});var r,i=n(51942),o=n.n(i),a=n(96225),s=n(67218),c=n(80207);!function(t){t.newHistory="newHistory",t.socketComboSend="socketComboSend"}(r||(r={}));var u=(0,a.Z)("GiftHistory"),l=function(){function t(){}return t.newHistory=function(t){this.event.emit(r.newHistory,t)},t.onNewHistory=function(t){this.event.on(r.newHistory,t)},t.socketComboSend=function(t){this.event.emit(r.socketComboSend,t)},t.onSocketComboSend=function(t){this.event.on(r.socketComboSend,t)},t}();l.event=u;var f=function(){var t=e.prototype;function e(){this.init()}return t.onMsg=function(){l.onSocketComboSend((function(t){var n,r,i,a,s,u,l,f,d,p,h,m,v,g=(n=t.data,r=n.uid,i=n.uname,a=n.name_color,s=n.gift_num,u=n.batch_combo_num,l=n.gift_id,f=n.gift_name,d=n.action,p=void 0===d?"赠送":d,h=n.total_num,m=n.is_show,v=n.medal_info,{uid:r,username:i,nameColor:a,comboCount:u,giftName:f,giftId:l,count:s,action:p,fansMedal:(0,c.us)(v),totalNum:h,isShow:m,sendMaster:n.send_master}),b=o()(g,{effectBlock:0}),w=b.giftId;b.giftName&&w&&(g.isShow&&e.addHistory(b))}))},e.addHistory=function(t){var e=t.username,n=t.nameColor,r=t.uid,i=t.giftId,o=t.giftName,a=t.count,c=void 0===a?0:a,u=t.comboCount,l=t.effectBlock,f=t.action,d=t.sendMaster,p={userInfo:{username:e,nameColor:n,uid:r},giftInfo:{id:i,label:o,count:c||0,comboCount:u,totalNum:t.totalNum},fansMedal:t.fansMedal,action:f,rnd:null,effectBlock:l,sendMaster:d,timestamp:0,getNewMedal:!1,getNewTitle:!1,isSuperGift:!1};(0,s.Fu)(p)},t.init=function(){this.onMsg()},e}()},26510:function(t,e,n){"use strict";n.d(e,{sC:function(){return K},qc:function(){return Y},_6:function(){return X}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(20116),c=n.n(s),u=n(2991),l=n.n(u),f=n(78580),d=n.n(f),p=n(3595),h=n(68913),m=n(2708),v=n(9669),g=n.n(v),b=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},w="/xlive/web-room/v1/giftPanel/giftConfig",y="/xlive/web-room/v1/giftPanel/giftData",k="/xlive/web-room/v1/giftPanel/tabRoomGiftList",_="/xlive/general-interface/v1/fullScSpecialEffect/GetEffectConfList";function I(t,e,n,r){return b(this,void 0,void 0,i().mark((function o(){var a,s,c;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=y,i.next=3,g().get(a,{params:{room_id:t,area_id:e,area_parent_id:n,attr:r,platform:"pc",source:"live"}});case 3:return s=i.sent,c=s.serverResponse,i.abrupt("return",c);case 6:case"end":return i.stop()}}),o)})))}function T(t,e,n,r){return b(this,void 0,void 0,i().mark((function o(){var a,s,c;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=k,i.next=3,g().get(a,{params:{tab_id:t,room_id:e,area_id:n,area_parent_id:r,platform:"pc",source:"live",build:1}});case 3:return s=i.sent,c=s.serverResponse,i.abrupt("return",c);case 6:case"end":return i.stop()}}),o)})))}function x(t,e,n){return b(this,void 0,void 0,i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I(t,e,n);case 2:return o=r.sent,r.abrupt("return",o);case 4:case"end":return r.stop()}}),r)})))}function S(t,e,n){return b(this,void 0,void 0,i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I(t,e,n,"discount_gift_list");case 2:return o=r.sent,r.abrupt("return",o);case 4:case"end":return r.stop()}}),r)})))}function A(t,e,n){return b(this,void 0,void 0,i().mark((function r(){var o,a,s;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=w,r.next=4,g().get(o,{params:{platform:"pc",room_id:t||0,area_parent_id:n,area_id:e}});case 4:if(a=r.sent,s=a.data,0===parseInt(s.code)){r.next=8;break}return r.abrupt("return",{error:new Error(s.msg||o+" 返回 Code 非 0"),errorType:"caution",errorMsg:s.msg,code:s.code,data:null});case 8:return r.abrupt("return",{data:s.data,error:null});case 11:return r.prev=11,r.t0=r.catch(0),r.abrupt("return",{error:r.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))}function C(t,e,n){return b(this,void 0,void 0,i().mark((function r(){var o,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g().get(_,{params:{platform:"pc",room_id:t||0,area_parent_id:n,area_id:e,source:"live",build:0}});case 2:o=r.sent,a=o.data,r.next=6;break;case 6:return r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))}var R=n(38060),E=[3],L={39:"rhythm-master"},P=(n(66570),function(){function t(){}return t.createGift=function(t,e){var n=null;try{n=new t(e)}catch(t){throw Error("道具类型不正确！")}return n},t}()),M=n(95106),D=(0,h.a5)("gift-service/filters/gift-presets"),N={39:{max_limit:100}};function B(t,e){if(!Array.isArray(t))return{giftList:[],giftCornerMark:{}};var n={},r=l()(t).call(t,(function(t){var r=c()(e).call(e,(function(e){return t&&e.id===t.id}))[0];if(r){var i=r.corner_mark,o=r.id,a=r.corner_background;return i&&(n[o.toString()]=[{color:"#fb7299",backgroundImageUrl:a,text:i,position:M.Z.right}]),function(t,e){var n=t.id,r=void 0===n?0:n,i=e.desc,o=void 0===i?"":i,a=e.rule,s=void 0===a?"":a,u=e.rights,f=void 0===u?"":u,d=e.price,h=void 0===d?0:d,m=e.count_map,v=void 0===m?[]:m,g=e.buyable,b=e.effect,w=void 0===b?0:b,y=e.gift_type,k=void 0===y?0:y,_=e.bind_ruid,I=void 0===_?0:_,T=e.coin_type,x=void 0===T?"gold":T,S=e.stay_time,A=void 0===S?3:S,C=e.combo_resources_id,M=void 0===C?0:C,B=e.gift_banner,O=void 0===B?null:B,F=e.diy_count_map,G=void 0===F?1:F,U=p.h.getters["gift/getGiftAssetsById"](r);if(U){var Z=l()(v).call(v,(function(t,e){return+t.num}));if(!Array.isArray(Z))try{var V;Z=l()(V=Z.split(",")).call(V,(function(t){return parseInt(t)}))}catch(t){D('Gift "'+r+'" countSet 过滤出错.',"count_set:",Z),Z=[1]}var H=N[r]?N[r].max_limit:-1;"number"!=typeof H&&(D('Gift "'+r+'" max_limit 数据错误',"max_limit:",H),H=-1);var W,j="gold"===x?h:0,z="silver"===x?h:0,Y=t.position,K=t.plan_id,J=!(!t.special||0!==t.special.is_use),Q=t.special&&t.special.special_type,X=t.special&&t.special.tips,q=null;v&&v.length&&(q=l()(W=c()(v).call(v,(function(t){return!!t.web_svga}))).call(W,(function(t){return t.num})));var $={id:r,label:U.name||"",description:o,rule:s,rights:f,effect:w,buyable:!!g,countSet:Z,countLimit:H,customInput:!0,goldPrice:j,silverPrice:z,discountPrice:0,specificPanel:L[r],fansMedalGift:E.indexOf(r)>-1,position:Y,planId:K,extraType:k,bindRuid:I,comboStayTime:A,comboResourcesId:M,maxSendLimit:U.maxSendLimit,isShowLock:J,specialType:Q,specialTips:X,countSpecialBatch:q,giftBanner:O,diy_count_map:G};return P.createGift(R.fy,$)}}(t,r)}}));return{giftList:c()(r).call(r,(function(t){return t&&0!==t.id})),giftCornerMark:n}}var O=n(9339);function F(t){var e={};t&&Array.isArray(t.list)&&t.list.forEach((function(t){var n=t.id,r=void 0===n?0:n,i=t.bag_gift,o=void 0===i?0:i,a=t.name,s=void 0===a?"":a,c=t.effect,u=void 0===c?0:c,f=t.animation_frame_num,d=void 0===f?0:f,p=t.bind_roomid,h=void 0===p?0:p,m=t.rule,v=void 0===m?"":m,g=t.rights,b=void 0===g?"":g,w=t.price,y=void 0===w?0:w,k=t.desc,_=void 0===k?"":k,I=t.coin_type,T=void 0===I?"":I,x=t.img_basic,S=void 0===x?"":x,A=t.frame_animation,C=void 0===A?"":A,R=t.gif,E=void 0===R?"":R,L=t.full_sc_web,P=void 0===L?"":L,M=t.bullet_head,D=void 0===M?"":M,N=t.bullet_tail,B=void 0===N?"":N,F=t.gift_type,G=void 0===F?0:F,U=t.type,Z=void 0===U?0:U,V=t.stay_time,H=void 0===V?3:V,W=t.combo_resources_id,j=void 0===W?0:W,z=t.max_send_limit,Y=void 0===z?-1:z,K=t.count_map,J=void 0===K?[]:K,Q=t.diy_count_map,X=void 0===Q?1:Q,q=t.effect_id,$=void 0===q?0:q,tt=new O.vD({id:r,bagGift:o,name:s,effect:u,frameAnimation:C,bindRoomId:h,rule:v,rights:b,price:y,description:_,coinType:T,gif:E,startPic:D,endPic:B,frameAnimationTotalCount:d,basic:S,fullScreenAnimationJsonUrl:P,giftType:G,type:Z,comboStayTime:H,comboResourcesId:j,maxSendLimit:Y,countMap:l()(J).call(J,(function(t){return{num:t.num,web_svga:t.web_svga||"",effectId:t.effect_id||0}})),diyCountMap:X,effectId:$});e[r]=tt}));var n=t&&t.combo_resources||[],r={};n.forEach((function(t){r[t.combo_resources_id]=t}));var i,o=[];t&&Array.isArray(t.guard_resources)&&(o=l()(i=t.guard_resources).call(i,(function(t){return{level:t.level,pendantImg:t.img}})));return{giftAssets:e,giftComboBanners:r,giftCornerMark:null,guardAssets:o}}var G=n(50417);function U(t){var e={};return t.forEach((function(t){var n,r,i,o,a,s,c;e[t.gift_id]=[(n=t,r=n||{},i=r.corner_color,o=void 0===i?"":i,a=r.corner_mark,s=void 0===a?"":a,c=r.corner_position,{color:o,text:s,position:(void 0===c?R.ZR.right:c).toString()})]})),e}var Z=n(23933),V=n(57072),H=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},W=(0,h.$S)("gift-service/modules/gift-presets"),j=!1,z=null;function Y(t,e,n,r){return H(this,void 0,void 0,i().mark((function n(){var o,s,u,l,f,d,h,v,g;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a().all([x(t,e,r),A(t,e,r),C(t,e,r)]);case 3:return s=n.sent,n.next=6,Q(s[2]&&s[2].data);case 6:if(u=s[0],z=s[1],f=u.data&&u.data.max_send_gift,d=u.data&&u.data.privilege,p.h.dispatch("gift/setMaxSendGift",f||5e3).then().catch(),p.h.dispatch("gift/setGuardEntInfo",d).then().catch(),h=[],v=[],g=u.data&&u.data.room_gift_list.silver_list||[],!u.error){n.next=22;break}return W("礼物道具列表获取失败",u),n.next=19,p.h.dispatch("gift/setGiftPresetsList",{loadError:!0});case 19:return n.abrupt("return",n.sent);case 22:v=u.data&&u.data.tab_list||[],l=u.data&&u.data.room_gift_list||[];case 24:return h=c()(o=l.gold_list).call(o,(function(t){return 0!==t.id})),n.next=27,J(z.data);case 27:return n.next=29,q(h,g,v,z.data.list);case 29:return j=!0,(0,G.st)(),V.default.$emit("giftAssets:finish"),n.next=34,$(!0,u.data&&u.data.discount_gift_list||[]);case 34:if(!(0,m.isLogin)()){n.next=37;break}return n.next=37,tt();case 37:n.next=46;break;case 39:return n.prev=39,n.t0=n.catch(0),W("礼物道具列表获取失败"),console.error(n.t0),n.next=45,p.h.dispatch("gift/setGiftPresetsList",{loadError:!0});case 45:return n.abrupt("return",n.sent);case 46:case"end":return n.stop()}}),n,null,[[0,39]])})))}function K(t,e,n,r){return H(this,void 0,void 0,i().mark((function o(){var a,s,c,u,l;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,T(t,e,n,r);case 2:return a=i.sent,s=a&&a.data&&a.data.list||[],c=B(s,z.data.list),u=c.giftList,l=c.giftCornerMark,i.next=7,p.h.dispatch("gift/setGiftTabPresets",{tabId:t,list:u});case 7:return i.next=9,p.h.dispatch("gift/setGiftCornerMark",l);case 9:case"end":return i.stop()}}),o)})))}function J(t){return H(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F(t),r=n.giftAssets,o=n.giftComboBanners,a=n.guardAssets,e.next=3,p.h.dispatch("gift/setGiftAssets",r);case 3:return e.next=5,p.h.dispatch("gift/setComboBanners",o);case 5:return e.next=7,p.h.dispatch("guard/setGlobalGuardInfo",a);case 7:case"end":return e.stop()}}),e)})))}function Q(t){return H(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t&&t.conf_list||[],o=t&&t.float_sc_resource||[],a=l()(n=c()(r).call(r,(function(t){var e;return t.plan_platform&&d()(e=t.plan_platform).call(e,2)}))).call(n,(function(t){return{type:t.type,effectId:t.id,webSvga:t.web_svga,webMP4:t.web_mp4,webMP4Json:t.web_mp4_json}})),s=l()(o).call(o,(function(t){return{type:t.type,effectId:t.id,defaultLevel:t.default_level,leftColor:t.left_color,rightColor:t.right_color,faceBackground:t.face_background,tailBackground:t.tail_background}})),e.next=6,p.h.dispatch("gift/setEffectAssetsList",a);case 6:return e.next=8,p.h.dispatch("gift/setEffectFloatList",s);case 8:case"end":return e.stop()}}),e)})))}function X(){return H(this,void 0,void 0,i().mark((function t(){var e,n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Z.e.getRoomId(),n=Z.e.getAreaId(),r=Z.e.getParentAreaId(),t.next=5,C(e,n,r);case 5:return o=t.sent,t.next=8,A(e,n,r);case 8:if(a=t.sent,o.error){t.next=12;break}return t.next=12,Q(o.data);case 12:if(a.error){t.next=16;break}return t.next=15,J(a.data);case 15:(0,G.st)();case 16:case"end":return t.stop()}}),t)})))}function q(t,e,n,r){return H(this,void 0,void 0,i().mark((function o(){var a,s,c,u,f,d;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=B(t,r),s=a.giftList,c=a.giftCornerMark,u=B(e,r),f=u.giftList,d=(o=n)&&o.length?l()(o).call(o,(function(t){return{tabId:t.tab_id,tabName:t.tab_name,position:t.position}})):[],i.next=5,p.h.dispatch("gift/setGiftCornerMark",c);case 5:return i.next=7,p.h.dispatch("gift/setGiftPresetsList",s);case 7:return i.next=9,p.h.dispatch("gift/setFreeGiftPresetsList",f);case 9:return i.next=11,p.h.dispatch("gift/setGiftTabList",d);case 11:case"end":return i.stop()}var o}),o)})))}function $(t,e){return H(this,void 0,void 0,i().mark((function n(){var r,o,a,s,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=p.h.getters.baseInfoRoom.roomID,o=p.h.getters.baseInfoRoom.areaID,a=p.h.getters.baseInfoRoom.parentAreaID,s=[],!t){n.next=8;break}s=e,n.next=12;break;case 8:return n.next=10,S(r,o,a);case 10:(c=n.sent).error?W("折扣礼物道具列表获取失败",c):s=c.data&&c.data.discount_gift_list||[];case 12:return s.forEach((function(t){var e=t.gift_id,n=p.h.getters["gift/getGiftById"](e);n&&n.setDiscountPrice(t.discount_price||0)})),n.next=15,p.h.dispatch("gift/setGiftCornerMark",U(s));case 15:return n.abrupt("return",s);case 16:case"end":return n.stop()}}),n)})))}function tt(){return H(this,void 0,void 0,i().mark((function t(){var e=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:5e3,p.h.watch((function(){return p.h.getters.baseInfoUser.privilege.privilegeType}),(function(){var t=j?5e3:0;j=!0,setTimeout((function(){return H(e,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(!1);case 2:case"end":return t.stop()}}),t)})))}),t)}));case 2:case"end":return t.stop()}}),t)})))}},15525:function(t,e,n){"use strict";n.d(e,{h:function(){return E}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(51942),c=n.n(s),u=n(57072),l=n(55716),f=n(3595),d=(n(68913),n(67218)),p=n(19562),h=n(78580),m=n.n(h),v=n(9669),g=n.n(v),b=n(18980),w=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function y(t){return w(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bagID?"/xlive/revenue/v1/gift/sendBag":"gold"===t.coinType?"/xlive/revenue/v1/gift/sendGold":"/xlive/revenue/v1/gift/sendSilver",r=f.h.getters.baseInfoRoom.roomID,e.next=4,g().post(n,{uid:t.uid,gift_id:t.giftID,ruid:t.ruid,send_ruid:t.sendRuid,gift_num:t.count,coin_type:t.coinType,bag_id:t.bagID,platform:t.platform||"pc",biz_code:t.bizCode||"Live",biz_id:t.roomID||r,rnd:t.rnd,storm_beat_id:t.stormBeatId,metadata:t.metadata,price:t.discountPrice});case 4:o=e.sent,a=o.serverResponse;try{b.default.report("live.send-gift.0.click",{type:a.error&&!m()(s=[200013,65530]).call(s,a.code)?2:1,response_code:a.code,c_time:Date.now(),url:n,room_id:t.roomID,gift_id:t.giftID,bag_id:t.bagID,uid:t.uid,ruid:t.ruid,count:t.count,coin_type:t.coinType,platform:t.platform||"pc",message:a.error&&a.error.message||""})}catch(t){console.log("Send gift report fail.")}return a.error&&(a.errorMsg=null===a.code?"送礼失败，可能是网络错误或服务器宕机，请您稍后再试，非常对不起 "+l.randomEmoji.sad():"送礼失败："+a.error.message+" "+l.randomEmoji.shock()),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))}var k=n(2991),_=n.n(k),I=n(2708);function T(t,e){var n;if("gold"===e)return{username:(t=t).uname||f.h.getters.baseInfoUser.username,userId:t.uid,avatar:t.face,guardLevel:t.guard_level,sendTips:t.send_tips,blindGift:t.blind_gift,giftList:_()(n=t.gift_list).call(n,(function(e){return{userId:t.uid,tid:e.tid,combo_resources_id:e.combo_resources_id,is_special_batch:e.is_special_batch,magnification:e.magnification,action:e.gift_action||"赠送",giftID:e.gift_id||0,floatID:e.float_sc_resource_id||0,giftLabel:e.gift_name||"--",giftPrice:e.gift_price||0,giftNum:e.gift_num||0,effectBlock:e.effect_block||0,giftEffect:{superGiftNum:e.gift_effect.super_gift_num,superBatchGiftNum:e.gift_effect.super_batch_gift_num,batch_combo_id:e.gift_effect.batch_combo_id||""}||Object.create(null),packageItem:e.extra.gift_bag&&{packageItemId:e.extra.gift_bag.bag_id||0,packageItemRemain:e.extra.gift_bag.gift_num||0},superGift:!!e.gift_effect.super_batch_gift_num||!1,critProb:0,pkTip:e.extra.pk.pk_gift_tips||"",tagPicUrl:e.tag_image,combo_stay_time:e.combo_stay_time,combo_total_coin:e.combo_total_coin,demarcation:e.demarcation}}))};(t=t).gift_effect=t.gift_effect||Object.create(null),t.extra=t.extra||Object.create(null);var r=t.extra.gift_bag,i=r&&{packageItemId:r.bag_id||0,packageItemRemain:r.gift_num||0},o=t.gift_effect.super_batch_gift_num||0,a="";t.extra.pk&&(a=t.extra.pk.pk_gift_tips||"");var s=t.tag_image||"";return{tid:t.tid,combo_resources_id:t.combo_resources_id,is_special_batch:t.is_special_batch,magnification:t.magnification,blindGift:t.blind_gift,action:t.gift_action||"赠送",giftID:t.gift_id||0,floatID:t.float_sc_resource_id||0,giftLabel:t.gift_name||"--",giftPrice:t.gift_price||0,giftNum:t.gift_num||0,username:t.uname||f.h.getters.baseInfoUser.username,userId:t.uid||0,effectBlock:t.effect_block||0,giftEffect:{superGiftNum:t.gift_effect.super_gift_num,superBatchGiftNum:t.gift_effect.super_batch_gift_num,batch_combo_id:t.gift_effect.batch_combo_id||""},packageItem:i,superGift:o,critProb:0,avatar:t.face,guardLevel:t.guard_level,pkTip:a,tagPicUrl:s,sendTips:t.send_tips||"",combo_stay_time:t.combo_stay_time,combo_total_coin:t.combo_total_coin,demarcation:t.demarcation||0}}var x=n(27681),S=n(56872),A=n(26737),C=n(91036),R=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function E(t){return R(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s,h,m,v,g,b,w,k,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.h.getters.baseInfoUser,r=t.roomID||f.h.getters.baseInfoRoom.roomID,o=Date.now(),a=f.h.getters.baseInfoAnchor.uid,s=n.uid,r&&o){e.next=8;break}return h="gift-service/sendGift "+(r?"未成功获取合法 rnd":"未成功获取合法房间号"),e.abrupt("return",{code:200005,error:new Error(h),errorMsg:h,errorType:"error",data:null});case 8:if(t.allowSelfSending||s!==a){e.next=11;break}return m="自己不能为自己送礼",e.abrupt("return",{code:200005,data:null,error:new Error(m),errorMsg:"自己不能为自己送礼喔 "+l.randomEmoji.helpless(),errorType:"info"});case 11:if(!("number"!=typeof(v=t.count)||v<=0)){e.next=15;break}return g="请输入正确的送礼数量",e.abrupt("return",{code:200005,data:null,error:new Error(g),errorMsg:"请输入正确的送礼数量喔 "+l.randomEmoji.helpless(),errorType:"info"});case 15:return b=0,!t.bagID&&"silver"!==t.coinType&&S.j.isStudio&&S.j.sendMaster&&(b=S.j.sendMaster.uid),e.next=19,y({uid:s,giftID:t.giftID,roomID:r,ruid:a,sendRuid:b,count:v,coinType:t.coinType,bagID:t.bagID||0,platform:"pc",bizCode:t.bizCode||"Live",rnd:o,stormBeatId:t.stormBeatId||0,metadata:t.metadata||"",discountPrice:t.discountPrice||0});case 19:if(!(w=e.sent).error){e.next=22;break}return e.abrupt("return",c()(w,{data:200013===w.code?(i=w.data,i&&i.need_num?{availableGiftCount:(0,I.toNumber)(i.available_num||0),leftCoin:(0,I.toNumber)(i.left_num||0),needCoin:(0,I.toNumber)(i.need_num||0)}:null):null}));case 22:return k=T(w.data,t.coinType),e.next=25,L();case 25:return"gold"===t.coinType?k.giftList.forEach((function(t){C.p.dealWithDuplicateQueue(t).showFlag&&!t.effectBlock&&p.Ab.add({type:p.ZJ.self,data:{tid:t.tid,superGiftParam:!0,giftID:t.giftID,count:t.giftNum,label:t.giftLabel,username:k.username,userid:k.userId,critProb:t.critProb,avatar:k.avatar,guardLevel:k.guardLevel,superGiftNum:t.giftEffect.superGiftNum,superBatchGiftNum:t.giftEffect.superBatchGiftNum,tagPicUrl:t.tagPicUrl,action:t.action,sendMaster:S.j.sendMaster,comboStayTime:t.combo_stay_time,comboTotalCoin:t.combo_total_coin,demarcation:t.demarcation||0,batchComboId:t.giftEffect.batch_combo_id||"",comboResourcesId:t.combo_resources_id,magnification:t.magnification,isSpecialBatch:t.is_special_batch,blind_gift:k.blindGift}})})):(k=k).effectBlock||p.Ab.add({type:p.ZJ.self,data:{tid:o+"",superGiftParam:!0,giftID:k.giftID,count:k.giftNum,label:k.giftLabel,username:k.username,userid:k.userId,critProb:k.critProb,avatar:k.avatar,guardLevel:k.guardLevel,superGiftNum:k.giftEffect.superGiftNum,superBatchGiftNum:k.giftEffect.superBatchGiftNum,tagPicUrl:k.tagPicUrl,action:k.action,sendMaster:S.j.sendMaster,comboStayTime:k.combo_stay_time,comboTotalCoin:k.combo_total_coin,demarcation:k.demarcation||0,batchComboId:k.giftEffect.batch_combo_id||"",comboResourcesId:k.combo_resources_id,magnification:k.magnification,isSpecialBatch:k.is_special_batch,blind_gift:{original_gift_id:0,original_gift_name:"盲盒礼物",gift_action:"爆出"}}}),"gold"!==t.coinType?(k=k).effectBlock&&(_=k.giftPrice,(0,d.Fu)({userInfo:{username:n.username,nameColor:"",uid:s},giftInfo:{id:k.giftID,label:k.giftLabel,count:v,comboCount:0,price:_,totalValue:_*v},action:k.action,rnd:null,effectBlock:k.effectBlock||0,fansMedal:!1,timestamp:0,getNewMedal:!1,getNewTitle:!1,isSuperGift:!1,sendMaster:S.j.sendMaster})):k.giftList.forEach((function(t){if(t.effectBlock){var e=t.giftPrice;(0,d.Fu)({userInfo:{username:n.username,nameColor:"",uid:s},giftInfo:{id:t.giftID,label:t.giftLabel,count:v,comboCount:0,price:e,totalValue:e*v},action:t.action,rnd:null,effectBlock:t.effectBlock||0,fansMedal:!1,timestamp:0,getNewMedal:!1,getNewTitle:!1,isSuperGift:!1,sendMaster:S.j.sendMaster})}})),u.default.$emit("GiftService: Sent",k),e.abrupt("return",{code:w.code,data:k,error:null});case 30:case"end":return e.stop()}var i}),e)})))}function L(){return R(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.wallet.refresh();case 2:return t.next=4,(0,x.Y7)({goldSeed:A.wallet.goldSeed,silverSeed:A.wallet.silverSeed});case 4:case"end":return t.stop()}}),t)})))}},56872:function(t,e,n){"use strict";n.d(e,{j:function(){return x}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(94473),c=n.n(s),u=n(2991),l=n.n(u),f=n(94669);function d(t){var e,n={isStudio:!1,masterList:[]};if(!t)return n;(n.isStudio=1===t.status,t.master_list&&t.master_list.length)&&(n.masterList=l()(e=t.master_list).call(e,p));return n}function p(t){return t?{uid:t.uid||0,roomID:t.room_id||0,uname:t.uname||"",face:t.face||"//static.hdslb.com/images/member/noface.gif",facePendants:(0,f.T)(t.pendants),tag:t.tag||"",tag_type:t.tag_type}:null}var h=n(34074),m=n.n(h),v=n(9669),g=n.n(v),b=n(32841),w=n(8605),y=n(23933),k=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=m()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},_=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},I=function(){function t(){}return t.fetchStudioData=function(){return _(this,void 0,void 0,i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/xlive/web-room/v1/studio/getStudioList",e=y.e.getRoomId(),t.next=4,g().get("/xlive/web-room/v1/studio/getStudioList",{params:{room_id:e,t:(new Date).getTime()}});case 4:return n=t.sent,r=n.data,t.abrupt("return",new w.K(r));case 7:case"end":return t.stop()}}),t)})))},t}();k([(0,b.Z)()],I,"fetchStudioData",null);var T=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},x=new(function(){function t(){this.isStudio=!1,this.masterList=[],this.selectedMaster=null,this.bindingMaster=null,this.bindRuid=null,this.sendMaster=null}var e=t.prototype;return e.refreshMasterList=function(t){return T(this,void 0,void 0,i().mark((function e(){var n,r,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.fetchStudioData();case 2:0===(n=e.sent).code&&(r=d(n.data),this.isStudio=r.isStudio,this.masterList=r.masterList),t||this.masterList.forEach((function(t,e){1===t.tag_type&&o.selectMaster(o.masterList[e])}));case 5:case"end":return e.stop()}}),e,this)})))},e.init=function(t){this.isStudio=t.isStudio,this.masterList=t.masterList},e.setSendMaster=function(t){this.sendMaster=this.isStudio?t:null},e.selectMaster=function(t){this.selectedMaster=t,this.setSendMaster(t)},e.resetSelectMaster=function(t){this.sendMaster=t?null:1===this.masterList.length?this.masterList[0]:null,this.selectedMaster=t?null:1===this.masterList.length?this.masterList[0]:null,this.bindRuid=t||null},e.findBindingMaster=function(t){var e;t?(this.bindRuid=t,this.bindingMaster=c()(e=this.masterList).call(e,(function(e){return e.uid===t})),this.bindingMaster&&(this.sendMaster=this.bindingMaster)):this.bindingMaster=null},t}())},19562:function(t,e,n){"use strict";n.d(e,{KU:function(){return A},Ab:function(){return S},ZJ:function(){return i}});var r,i,o=n(63109),a=n.n(o),s=n(93476),c=n.n(s),u=n(3649),l=n.n(u),f=n(91036),d=n(96225),p=n(50097),h=n(20567),m=n(73645),v=n(50346),g=n(18980),b=n(3595),w=n(76209),y=n(57072),k=function(t,e,n,r){return new(n||(n=c()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};!function(t){t.addSuperGift="addSuperGift",t.clear="clear"}(r||(r={})),function(t){t.socket="socket",t.self="self",t.mock="mock",t.memory="memory"}(i||(i={}));var _=(0,d.Z)("SuperGift"),I=2,T=0,x=!1,S=function(){function t(){}return t.add=function(t){this.event.emit(r.addSuperGift,t)},t.onAdd=function(t){this.event.on(r.addSuperGift,t)},t.clear=function(){this.event.emit(r.clear)},t.onClear=function(t){this.event.on(r.clear,t)},t}();S.event=_;var A=function(){function t(){var t=this;this.isBlock=!1,this.queue=null,this.needDealWithMemoryGift=!0,this.queue=new f.p,this.onMsg(),window.BilibiliLive.UID||(0,v.E1)((function(e){window.BilibiliLive.UID=e.uid,y.default.$on("giftAssets:finish",(function(){t.dealWithMemoryGift()}))}))}var e=t.prototype;return e.createSuperGiftBySocket=function(t){return new f.L({tid:t.tid,giftID:t.giftId,giftCount:t.num,giftLabel:t.giftName,critProb:t.crit_prob,userName:t.uname,userId:t.uid,avatar:t.face,guardLevel:t.guard_level,superGiftNum:t.super_gift_num,tagPicUrl:t.tag_image,action:t.action,sendMaster:t.send_master,superBatchGiftNum:t.super_batch_gift_num,comboStayTime:t.combo_stay_time,demarcation:t.demarcation,batchComboId:t.batch_combo_id,comboTotalCoin:t.combo_total_coin,comboResourcesId:t.combo_resources_id,magnification:t.magnification,isSpecialBatch:t.is_special_batch,blind_gift:t.blind_gift})},e.createSuperGiftBySelf=function(t){return new f.L({tid:t.tid,giftID:t.giftID,giftCount:t.count,giftLabel:t.label,userName:t.username,userId:t.userid,avatar:t.avatar,critProb:t.critProb,guardLevel:t.guardLevel,superGiftNum:t.superGiftNum,tagPicUrl:t.tagPicUrl,action:t.action,sendMaster:t.sendMaster,superBatchGiftNum:t.superBatchGiftNum,comboStayTime:t.comboStayTime,demarcation:t.demarcation,batchComboId:t.batchComboId,comboTotalCoin:t.comboTotalCoin,comboResourcesId:t.comboResourcesId,magnification:t.magnification,isSpecialBatch:t.isSpecialBatch,blind_gift:t.blind_gift})},e.createSuperGiftByMemory=function(t){return new f.L({tid:t.tid,giftID:t.giftId,giftCount:t.num,giftLabel:t.giftName,critProb:t.crit_prob,userName:t.uname,userId:t.uid,avatar:t.face,guardLevel:parseInt(t.guard_level),superGiftNum:t.num,tagPicUrl:t.tag_image,action:t.action,sendMaster:t.send_master,superBatchGiftNum:t.super_batch_gift_num,comboStayTime:t.combo_stay_time,demarcation:t.demarcation,batchComboId:t.batch_combo_id,comboTotalCoin:t.combo_total_coin,comboResourcesId:t.combo_resources_id,magnification:t.magnification,isSpecialBatch:t.is_special_batch,blind_gift:t.blind_gift})},e.addSuperGift=function(t){return k(this,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queue.add(t);case 2:case"end":return e.stop()}}),e,this)})))},e.onMsg=function(){var t=this;p.$.onBlockEffect((function(e){var n=e.type,r=e.isBlock;return k(t,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.indexOf(h.m.SuperGift)<0)){t.next=2;break}return t.abrupt("return");case 2:if(this.queue.setBlockStatus(r),!r){t.next=6;break}return t.next=6,this.queue.clear();case 6:case"end":return t.stop()}}),t,this)})))})),S.onAdd((function(e){return k(t,void 0,void 0,a().mark((function t(){var n,r,o,s,c,u=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.type,r=e.data,o=null,t.t0=n,t.next=t.t0===i.self?5:t.t0===i.socket?7:t.t0===i.mock?11:t.t0===i.memory?13:22;break;case 5:return o=this.createSuperGiftBySelf(r),t.abrupt("break",22);case 7:return this.needDealWithMemoryGift=!1,I=3,o=this.createSuperGiftBySocket(r),t.abrupt("break",22);case 11:return o=r,t.abrupt("break",22);case 13:if(!this.needDealWithMemoryGift){t.next=22;break}return I=1,T=(s=r).length,c=window.BilibiliLive.UID,x=!0,(0,w.JR)().then((function(){setTimeout((function(){g.default.report("room_giftcombo_banner_show",{roomid:b.h.state.baseInfoRoom.roomID,bannercnt:T,bannertype:I})}),1500)})).catch(),l()(s).call(s,0,2).forEach((function(t){(o=c!==t.uid&&u.createSuperGiftByMemory(t))&&u.addSuperGift(o)})),t.abrupt("return");case 22:if(x||(x=!0,g.default.report("room_giftcombo_banner_show",{roomid:b.h.state.baseInfoRoom.roomID,bannercnt:T,bannertype:I})),t.t1=o,!t.t1){t.next=27;break}return t.next=27,this.addSuperGift(o);case 27:case"end":return t.stop()}}),t,this)})))}))},e.dealWithMemoryGift=function(){try{var t=m.y9.getPureFullData().gift_memory_info||{};t.list&&t.list.length?S.add({type:i.memory,data:t.list}):(x=!0,(0,w.JR)().then((function(){setTimeout((function(){g.default.report("room_giftcombo_banner_show",{roomid:b.h.state.baseInfoRoom.roomID,bannercnt:T,bannertype:I})}),1500)})).catch())}catch(t){console.log("高价礼物记忆数据赋值报错")}},t}()},48585:function(t,e,n){"use strict";n.d(e,{J:function(){return r}});var r={code:0,message:"ok",data:{conf_list:[{type:1,web_svga:"//i0.hdslb.com/bfs/live/331f6ca5924753b282420a6962d326003111e7e9.svga",horizontal_svga:"",vertical_svga:"",web_mp4:"//activity.hdslb.com/blackboard/static/20210508/1d0c5a1b042efb59f46d4ba1286c6727/9BVP1D2eSb.mp4",web_mp4_json:"//activity.hdslb.com/blackboard/static/20210508/1d0c5a1b042efb59f46d4ba1286c6727/3pUK349JHG.json",horizontal_mp4:"",vertical_mp4:"",id:25,plan_platform:[1,2]},{type:1,web_svga:"//i0.hdslb.com/bfs/live/331f6ca5924753b282420a6962d326003111e7e9.svga",horizontal_svga:"",vertical_svga:"",web_mp4:"//activity.hdslb.com/blackboard/static/20210508/1d0c5a1b042efb59f46d4ba1286c6727/9BVP1D2eSb.mp4",web_mp4_json:"//activity.hdslb.com/blackboard/static/20210508/1d0c5a1b042efb59f46d4ba1286c6727/3pUK349JHG.json",horizontal_mp4:"",vertical_mp4:"",id:26,plan_platform:[1]}]}}},7466:function(t,e,n){"use strict";var r,i;n.d(e,{X:function(){return r},q:function(){return i}}),function(t){t[t.normal=0]="normal",t[t.lucky=1]="lucky",t[t.chaosPKScore=2]="chaosPKScore",t[t.chaosPKImmune=3]="chaosPKImmune",t[t.chaosPKBoom=4]="chaosPKBoom"}(r||(r={})),function(t){t[t.noEffect=0]="noEffect",t[t.player=1]="player",t[t.fullScreenAnimation=2]="fullScreenAnimation",t[t.medal=3]="medal"}(i||(i={}))},72325:function(t,e,n){"use strict";n.d(e,{H:function(){return u},Kw:function(){return l},Yp:function(){return f},BW:function(){return d}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(3595),c=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},u={setGuardLevel:"setGuardLevel",setTopGuardLevel:"setTopGuardLevel",setGuardSubLevel:"setGuardSubLevel",lotteryStart:"lotteryStart"};function l(t,e){return c(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.h.dispatch(t,e);case 2:case"end":return n.stop()}}),n)})))}function f(){return s.h.getters.baseInfoAnchor.uid}function d(){return s.h.state.baseInfoUser.privilege.privilegeType}},78746:function(t,e,n){"use strict";n.d(e,{Wu:function(){return o},go:function(){return a}});var r,i=n(20685),o={FALLBACK_ERROR_MSG:"返回 Code 非 0"},a={1:"总督",2:"提督",3:"舰长"};(r={})[i.X.zong]=1,r[i.X.ti]=2,r[i.X.jian]=3},60662:function(t,e,n){"use strict";n.d(e,{Z:function(){return o},c:function(){return i}});var r=n(96225),i={guardStoreVMInit:"guardStoreVMInit",openGuardStore:"openGuardStore",refreshBuyInfo:"refreshBuyInfo",closeGuardStore:"closeGuardStore",lotteryStart:"lotteryStart",guardAchievementRoom:"guardAchievementRoom",getGuardRank:"getGuardRank",showPackage:"showPackage",openGuardDiary:"openGuardDiary",closeGuardDiary:"closeGuardDiary",guardDiaryVMInit:"guardDiaryVMInit"},o=(0,r.Z)("Guard")},65643:function(t,e,n){"use strict";n.d(e,{S1:function(){return b},QL:function(){return y},tG:function(){return w}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(3595),c=n(12683),u=n(30691),l=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function f(){return s.h.state.baseInfoUser}function d(){var t,e=f().privilege;if(function(t,e){return 1===t&&1===e}(e.privilegeType,e.noticeStatus)){var n=f().privilege.broadcastConfig;n&&(t=n,setTimeout((function(){(0,c.O$)(t)}),2e3))}}function p(){var t=s.h.getters.baseInfoAnchor.uid;return u.tt({ruid:t})}function h(t){var e=this;setTimeout((function(){return l(e,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:n=e.sent,!1,(!!n.error||!n.data.isStopHeart)&&h(t);case 6:case"end":return e.stop()}}),e)})))}),t)}function m(){var t=f().privilege,e=t.privilegeType,n=t.isHeart,r=t.heartTime;e>0&&n&&r&&h(r)}var v=n(18498),g=n(82222);function b(){d(),m(),v.init(),g.init()}var w=v.openGuardStore,y=g.openGuardDiary},20685:function(t,e,n){"use strict";var r,i;n.d(e,{X:function(){return i}}),function(t){t[t["guard-1"]=1]="guard-1",t[t["guard-2"]=2]="guard-2",t[t["guard-3"]=3]="guard-3"}(r||(r={})),function(t){t[t.normal=0]="normal",t[t.zong=1]="zong",t[t.ti=2]="ti",t[t.jian=3]="jian"}(i||(i={}))},18498:function(t,e,n){"use strict";n.r(e),n.d(e,{init:function(){return h},openGuardStore:function(){return f},getGuardBuyInfo:function(){return d},getPayOnlineUrl:function(){return p}});var r=n(57072),i=n(75278),o=n(60662),a=n(30691),s=n(72325),c=n(5985),u=null,l=!1;function f(t){void 0===t&&(t={}),o.Z.emit(o.c.openGuardStore,t),(0,c.F3)("selfDef.ship_show")}function d(){var t=(0,s.Yp)();return(0,a.Am)({ruid:t})}function p(t){return(0,a.WQ)(t)}function h(){r.default.$on(i.U.openGuardStore,(function(t){l?f(t):u=t})),o.Z.on(o.c.guardStoreVMInit,(function(){l=!0,u&&f(u)}))}},82222:function(t,e,n){"use strict";n.r(e),n.d(e,{init:function(){return d},openGuardDiary:function(){return l},getGuardDiaryInfo:function(){return f}});var r=n(57072),i=n(75278),o=n(60662),a=n(30691),s=n(72325),c=null,u=!1;function l(t){void 0===t&&(t={}),o.Z.emit(o.c.openGuardDiary,t)}function f(t){var e=(0,s.Yp)();return(0,a.qz)({ruid:e,guard_type:t})}function d(){r.default.$on(i.U.openGuardDiary,(function(t){u?l(t):c=t})),o.Z.on(o.c.guardDiaryVMInit,(function(){u=!0,c&&l(c)}))}},30691:function(t,e,n){"use strict";n.d(e,{tt:function(){return w},Am:function(){return y},qz:function(){return k},WQ:function(){return I},yY:function(){return _}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(51942),c=n.n(s),u=n(9669),l=n.n(u),f=n(95503),d=n(78746),p=(n(73645),function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}),h=d.Wu.FALLBACK_ERROR_MSG,m="/guard/heart",v="/xlive/general-interface/v1/guard/showGuardOrderInfo",g="/xlive/revenue/v1/contract/terminate",b="/xlive/general-interface/v1/guard/guardDaily";function w(t){return p(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=m,e.next=4,l().get(""+n,{params:t});case 4:if(r=e.sent,o=r.data,0===parseInt(o.code)){e.next=10;break}return e.abrupt("return",{error:new Error(o.msg||n+" "+h),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 10:return a=o.data,s=f.lo.guardHeartFilter(a),e.abrupt("return",{data:s,error:null});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))}function y(t){return p(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=v,e.next=4,l().get(""+n,{params:c()({},t,{t:(new Date).getTime()})});case 4:if(r=e.sent,o=r.data,0===parseInt(o.code)){e.next=10;break}return e.abrupt("return",{error:new Error(o.msg||n+" "+h),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 10:return a=o.data,s=f.lo.guardBuyInfoFilter(a),e.abrupt("return",{data:s,error:null});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))}function k(t){return p(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=b,e.next=4,l().get(""+n,{params:c()({},t,{t:(new Date).getTime()})});case 4:if(r=e.sent,o=r.data,0===parseInt(o.code)){e.next=10;break}return e.abrupt("return",{error:new Error(o.msg||n+" "+h),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 10:return a=o.data,s=f.lo.guardDiaryFilter(a),e.abrupt("return",{data:s,error:null});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))}function _(t){return p(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=g,e.next=4,l().post(""+n,t);case 4:if(r=e.sent,o=r.data,0===parseInt(o.code)){e.next=10;break}return e.abrupt("return",{error:new Error(o.msg||n+" "+h),errorType:"caution",errorMsg:o.message,code:o.code,data:null});case 10:return e.abrupt("return",{data:o.data,error:null});case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))}function I(t){return p(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get(""+t);case 3:if(n=e.sent,r=n.data,0===parseInt(r.code)){e.next=9;break}return e.abrupt("return",{error:new Error(r.msg||t+" "+h),errorType:"caution",errorMsg:r.msg,code:r.code,data:null});case 9:return o=r.data,a=o,e.abrupt("return",{data:a,error:null});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))}},90801:function(t,e,n){"use strict";var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(59340),c=n.n(s),u=n(3649),l=n.n(u),f=n(66419),d=n.n(f),p=n(65420),h=n.n(p),m=n(19996),v=n.n(m),g=n(9669),b=n.n(g),w=n(23933);function y(t,e){var n=void 0!==h()&&v()(t)||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return k(t,e);var r=l()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return d()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},I=function(){function t(){this.kList=["live_web_player_comm:0","chasing_frame_web_pc:0","civilized_pledge:0","live_room_feedback_pc:0","anchor_room_shield_permission:0","live_web_survey: 0","live_room_player_animation: 0"],this.customizes={},this.kvConfig={},this.list=[],this.isInitialized=!1}var e=t.prototype;return e.init=function(){return _(this,void 0,void 0,i().mark((function t(){var e,n,r,o,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.customizes.chasing_frame_web_pc={area:w.e.getParentAreaId()+"",subArea:w.e.getAreaId()+"",roomid:w.e.getRoomId()+""},this.customizes.live_web_player_comm={room_id:w.e.getRoomId()+""},t.prev=2,t.next=5,this.getKvConfig();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log("获取KV配置失败");case 10:if(this.initialData&&Array.isArray(this.initialData)&&this.initialData.length>0)for(e=y(this.initialData);!(n=e()).done;)r=n.value,this.kvConfig[r.key]=r.value;if(this.list&&this.list.length>0){for(o=y(this.list);!(a=o()).done;)(s=a.value).callback&&s.callback.call(this,this.kvConfig[s.key]||"");this.list=[]}this.isInitialized=!0;case 13:case"end":return t.stop()}}),t,this,[[2,7]])})))},e.getKvConfig=function(){return _(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b().get("/xlive/open-interface/v1/fetch_client_resource",{params:{business:this.kList.join("|"),custommulti:encodeURI(c()(this.customizes))}});case 2:return e=t.sent,0===(n=e.data).code&&n.data&&n.data.kv_list&&(this.initialData=n.data.kv_list),t.abrupt("return");case 6:case"end":return t.stop()}}),t,this)})))},e.getConfig=function(t,e){this.isInitialized?e.call(this,this.kvConfig[t]||""):this.list.push({key:t,callback:e})},e.get=function(t){var e=this;return new(a())((function(n){e.getConfig(t,(function(t){n(t)}))}))},t}();e.Z=new I},26663:function(t,e,n){"use strict";n.d(e,{x:function(){return a}});n(55826),n(55716);var r=n(43427),i=n.n(r),o=n(2708);function a(t,e){if(!e){var n={1:0,2:61002,"-1":61001}[t];if(isNaN(n))throw new TypeError("invalidData");if(0!==n)throw i()("//static.hdslb.com/common/js/identityDialog.js").then((function(){new IdentityDialog(n)})).catch(),(0,o.exitFullscreen)(),new Error("[live-cert] 手机号码未认证："+t+" "+n)}}},78556:function(t,e,n){"use strict";n.d(e,{$w:function(){return _},WN:function(){return x},z0:function(){return R}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(23933),c=n(9669),u=n.n(c),l=n(74338),f=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},d=function(){function t(){}return t.check=function(t){return f(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.check,r={room_id:t},e.next=5,u().get(n,{params:r});case 5:if(o=e.sent,a=o.data,0===parseInt(a.code)){e.next=11;break}return e.abrupt("return",{error:new Error(a.msg||n+" "+l.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:a.msg,code:a.code,data:a.data});case 11:return e.abrupt("return",{data:a.data,error:null});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:l.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))},t.buyValidate=function(t){return f(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.buyValidate,r={goods_id:t},e.next=5,u().get(n,{params:r});case 5:if(o=e.sent,a=o.data,0===parseInt(a.code)){e.next=11;break}return e.abrupt("return",{error:new Error(a.msg||n+" "+l.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:a.msg,code:a.code,data:null});case 11:return e.abrupt("return",{data:null,error:null});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:l.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))},t.liveChargeInfo=function(t){return f(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.liveChargeInfo,r={room_id:t},e.next=5,u().get(n,{params:r});case 5:if(o=e.sent,a=o.data,0===parseInt(a.code)){e.next=11;break}return e.abrupt("return",{error:new Error(a.msg||n+" "+l.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:a.msg,code:a.code,data:null});case 11:return e.abrupt("return",{data:a.data,error:null});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:l.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))},t}();d.urls={check:"/av/v1/PayLive/liveValidate",liveChargeInfo:"/av/v1/PayLive/getInfo",buyValidate:"/av/v1/PayLive/buyValidate"};var p,h=function(){function t(){}return t.filterValidateInfo=function(t){var e=(t||{}).pic;return{cutOffPic:void 0===e?"":e}},t.filterLiveChargeInfo=function(t){var e=t||{},n=e.live_id,r=void 0===n?0:n,i=e.goods_id,o=void 0===i?0:i,a=e.goods_type,s=void 0===a?0:a,c=e.goods_link,u=void 0===c?"":c,l=e.start_time,f=void 0===l?"":l,d=e.end_time,p=void 0===d?"":d,h=e.web_jump,m=void 0===h?0:h;return{liveId:r,goodsId:o,goodsType:s,goodsLinkUrl:u,startTime:new Date(f).getTime(),endTime:this.getDateByTimeStr(p).getTime(),needJump:!!m}},t.getDateByTimeStr=function(t){try{return new Date(t.replace(/-/g,"/"))}catch(t){return new Date}},t}(),m=n(91428),v=n(12683),g=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},b=function(){function t(){this.rightsType=null,this.chargeGoodsInfo=null,this.cutOffPic=""}var e=t.prototype;return e.getRightsType=function(){return this.rightsType},e.getLiveChargeInfo=function(){return g(this,void 0,void 0,i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.e.getRoomId(),t.next=3,d.liveChargeInfo(e);case 3:if((n=t.sent).error){t.next=8;break}return r=h.filterLiveChargeInfo(n.data),this.chargeGoodsInfo=r,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})))},e.checkCharge=function(){return g(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getLiveChargeInfo();case 2:if(e=t.sent,n=null,!(e&&e.goodsId&&e.goodsType)){t.next=10;break}return t.next=7,this.validate();case 7:n=t.sent,t.next=11;break;case 10:n=m.k.noLive;case 11:return this.rightsType=n,t.abrupt("return",n);case 13:case"end":return t.stop()}}),t,this)})))},e.buyValidate=function(){return g(this,void 0,void 0,i().mark((function t(){var e,n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.chargeGoodsInfo.goodsId,t.next=3,d.buyValidate(e);case 3:return n=t.sent,r="",o=n.code,n.error&&(r=n.errorMsg),t.abrupt("return",{errorMsg:r,type:o});case 8:case"end":return t.stop()}}),t,this)})))},e.validate=function(){return g(this,void 0,void 0,i().mark((function t(){var e,n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.e.getRoomId(),t.next=3,d.check(e);case 3:return n=t.sent,r=null,n.error?(o=n.code||m.k.error,r=this.checkResult(o)):r=m.k.success,a=h.filterValidateInfo(n&&n.data),this.cutOffPic=a.cutOffPic,this.cutOffPic&&(0,v.VB)(this.cutOffPic),this.rightsType=r,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t,this)})))},e.checkResult=function(t){var e=null;switch(t){case m.D.noRights:e=m.k.charge;break;case m.D.unlogin:e=m.k.login;break;case m.D.blockIP:e=m.k.regionBlock;break;case m.D.ok:e=m.k.success}return e},t}(),w=function(){function t(){}return t.showPopup=function(){return new(a())((function(t,e){setTimeout((function(){new window.vipPopup({type:"2",appid:19,subid:"",fromtitle:"",fromid:"",check:1},(function(){t()}))}),1e3)}))},t}(),y=n(2708),k=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},_=new(function(){function t(){this.liveCharge=null,this.isRoomCharge=!1,this.liveCharge=this.createLiveCharge()}var e=t.prototype;return e.init=function(t){this.onMsg(),this.isRoomCharge=t,t&&this.checkCharge().then(y.noop).catch(y.noop)},e.onMsg=function(){var t=this;S.onSocketNeedCharge((function(t){var e=t.time,n=Math.floor(Math.random()*e);x.needCharge({time:n})})),x.onRetry((function(){return k(t,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.retry();case 2:case"end":return t.stop()}}),t,this)})))})),x.onBuy((function(e){return k(t,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.buyVip(e);case 2:case"end":return t.stop()}}),t,this)})))}))},e.checkCharge=function(){return k(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.liveCharge.checkCharge();case 2:e=t.sent,this.showCharge(e);case 4:case"end":return t.stop()}}),t,this)})))},e.buyValidate=function(){return this.liveCharge.buyValidate()},e.retry=function(){return k(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkCharge();case 2:case"end":return t.stop()}}),t,this)})))},e.showCharge=function(t){x.showCharge(t)},e.createLiveCharge=function(){return new b},e.buyVip=function(t){return k(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.showPopup();case 3:x.buyVipSuccess(),t&&t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))},e.getRightsType=function(){return this.liveCharge.rightsType},e.checkIsHasRights=function(){var t=this.getRightsType();return!this.isRoomCharge||t===m.k.success||t===m.k.noLive},t}()),I=n(96225);!function(t){t[t.socketNeedCharge=0]="socketNeedCharge",t[t.needCharge=1]="needCharge",t[t.showCharge=2]="showCharge",t[t.retry=3]="retry",t[t.buy=4]="buy",t[t.buyVipSuccess=5]="buyVipSuccess"}(p||(p={}));var T=(0,I.Z)("LiveCharge"),x=function(){function t(){}return t.needCharge=function(t){this.event.emit(p[p.needCharge],t)},t.onNeedCharge=function(t){this.event.on(p[p.needCharge],t)},t.showCharge=function(t){this.event.emit(p[p.showCharge],t)},t.onShowCharge=function(t){this.event.on(p[p.showCharge],t)},t.retry=function(){this.event.emit(p[p.retry],null)},t.onRetry=function(t){this.event.on(p[p.retry],t)},t.buy=function(t){this.event.emit(p[p.buy],t)},t.onBuy=function(t){this.event.on(p[p.buy],t)},t.buyVipSuccess=function(){this.event.emit(p[p.buyVipSuccess],null)},t.onBuyVipSuccess=function(t){this.event.on(p[p.buyVipSuccess],t)},t}();x.event=T;var S=function(){function t(){}return t.socketNeedCharge=function(t){this.event.emit(p[p.socketNeedCharge],t)},t.onSocketNeedCharge=function(t){this.event.on(p[p.socketNeedCharge],t)},t}();S.event=T;var A,C=n(18980);!function(t){t.paylive_canbuy_show="paylive_canbuy_show",t.paylive_login_click="paylive_login_click",t.paylive_loginback_show="paylive_loginback_show",t.paylive_buy_click="paylive_buy_click",t.paylive_canotbuy_show="paylive_canotbuy_show",t.paylive_ipbanned_show="paylive_ipbanned_show"}(A||(A={}));var R=function(){function t(){}return t.report=function(t,e){void 0===e&&(e={}),C.default.report(t,e)},t.showCharge=function(){this.report(A.paylive_canbuy_show)},t.clickBuyToLogin=function(){this.report(A.paylive_login_click)},t.clickBuy=function(){this.report(A.paylive_buy_click)},t.showCannotBuy=function(){this.report(A.paylive_canotbuy_show)},t.showRegionBlock=function(){this.report(A.paylive_ipbanned_show)},t}()},91428:function(t,e,n){"use strict";var r,i;n.d(e,{k:function(){return r},D:function(){return i}}),function(t){t[t.error=0]="error",t[t.noLive=1]="noLive",t[t.charge=2]="charge",t[t.login=3]="login",t[t.regionBlock=4]="regionBlock",t[t.success=5]="success",t[t.timeError=6]="timeError"}(r||(r={})),function(t){t[t.ok=0]="ok",t[t.unlogin=1005]="unlogin",t[t.blockIP=5002]="blockIP",t[t.noRights=5001]="noRights",t[t.repeatBuy=5003]="repeatBuy",t[t.timeError=5004]="timeError",t[t.error=-100]="error"}(i||(i={}))},12683:function(t,e,n){"use strict";n.d(e,{YE:function(){return C},Rj:function(){return m},Kg:function(){return v},Rz:function(){return g},s3:function(){return b},yy:function(){return w},r:function(){return y},Kz:function(){return k},lZ:function(){return _},Qd:function(){return I},pe:function(){return T},Nn:function(){return x},gk:function(){return S},ot:function(){return A},gQ:function(){return E},W$:function(){return R},SB:function(){return L},O$:function(){return P},X9:function(){return D},kQ:function(){return M},Ek:function(){return N},Hy:function(){return B},VB:function(){return O}});var r=n(93476),i=n.n(r),o=n(51942),a=n.n(o),s=n(77766),c=n.n(s),u=n(66552),l=n(68913),f=n(2708),d=n(67624),p="live-player/bridge",h=(0,l.$S)(p);(0,l.Yb)(p);function m(t,e){try{u.Rw.set({component:"block",action:"addShieldUser",data:{uid:t,uname:e}})}catch(t){F("addShieldUser",t)}}function v(t){try{u.Rw.set({component:"block",action:"addShieldWord",data:t})}catch(t){F("addWordShield",t)}}function g(t){try{u.Rw.set({component:"block",action:"deleteShieldId",data:t})}catch(t){F("deleteShieldId",t)}}function b(t){try{u.Rw.set({component:"danmaku",action:"autoDensity",data:t})}catch(t){F("set/danmaku/autoDensity",t)}}function w(t){try{u.Rw.set({component:"block",action:"roomListShield",data:t})}catch(t){F("set/block/roomListShield",t)}}function y(){try{u.Rw.pause()}catch(t){F("stop",t)}}function k(){try{u.Rw.play()}catch(t){F("play",t)}}function _(){try{u.Rw.reload()}catch(t){F("reload",t)}}function I(){try{u.Rw.freeze()}catch(t){F("freeze",t)}}function T(){try{u.Rw.refresh()}catch(t){F("refresh",t)}}function x(t){return"string"==typeof t.color&&(t.color=(0,f.hexToRgb)(t.color).hexDecimal),new(i())((function(e,n){u.Rw.sendDanmaku(t).then((function(t){e(t)})).catch((function(t){var e=t.response;F("sendDanmaku",t),n(e)}))}))}function S(t){try{u.Rw.set({component:"danmaku",action:"opacity",data:t})}catch(t){F("set/danmaku/opacity",t)}}function A(t){try{u.Rw.set({component:"danmaku",action:"density",data:t})}catch(t){F("set/danmaku/density",t)}}function C(t){try{u.Rw.set({component:"danmaku",action:"densityRate",data:t})}catch(t){F("set/danmaku/densityRate",t)}}function R(t){try{u.Rw.set({component:"danmaku",action:"scale",data:t})}catch(t){F("set/danmaku/scale",t)}}function E(t){try{u.Rw.set({component:"danmaku",action:"areaHeight",data:t})}catch(t){F("set/danmaku/areaHeight",t)}}function L(t,e){try{u.Rw.set({component:"block",action:"setUserShield",data:t,callback:function(t){e&&e(t)}})}catch(t){F("set/block/setUserShield",t)}}function P(t){try{var e=a()({},{cmd:"NOTICE_MSG"},t);(0,d.X)(e)}catch(t){F("noticeGuard",t)}}function M(t){try{u.Rw.notifyInOperation(t)}catch(t){F("loader",t)}}function D(t,e){void 0===e&&(e=90);try{u.Rw.notifyAnnouncement(t,e)}catch(t){F("loader",t)}}function N(t){try{u.Rw.set({component:"block",action:"blockDanmaku",data:{type:t}})}catch(t){F("set/block/blockDanmaku",t)}}function B(t){try{u.Rw.set({component:"block",action:"blockSpecialDanmaku",data:{type:t}})}catch(t){F("set/block/blockSpecialDanmaku",t)}}function O(t){try{u.Rw.addLoadingPicture(t)}catch(t){F("addLoadingPicture",t)}}function F(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];h.apply(void 0,c()(e=["播放器 "+t+" 执行失败"]).call(e,r))}},66552:function(t,e,n){"use strict";n.d(e,{S1:function(){return Ue},Rw:function(){return Oe},Rv:function(){return Ze},mx:function(){return Me.mx}});var r=document.getElementById("live-player-ctnr"),i=document.getElementById("live-player"),o=document.getElementById("minimal-restore-btn"),a=n(57072);var s=n(3595),c=n(68913),u=(0,c.Yb)("player/config-init");var l=n(87750),f=n(60048);var d=n(35072),p=n(2708),h=n(18980),m=n(75225),v=/^[0-9]+_.+$/,g="live-player/on-events/danmaku-ctrl",b=((0,c.Yb)(g),(0,c.$S)(g));function w(t){try{t.on("set",(function(t){if(!t)return b("livePlayer.onSet 未获取到数据.");var e=t.component,n=t.action,r=t.data;switch(e){case"block":"addShieldList"===n&&function(t){0;0===t.code&&s.h.dispatch("addShieldItem",{value:t.msg,type:v.test(t.msg)?"user":"keyword"}).catch(p.noop);a.default.$emit("LivePlayer: ShieldItemAddSResult",{code:(0,p.toNumber)(t.code),msg:0===t.code?"请求成功":t.msg,data:null})}(r),"globalShield"===n&&function(t){0;a.default.$emit("LivePlayer: enableGlobalShieldResult",{code:(0,p.toNumber)(t.code),msg:0===t.code?"请求成功":t.msg,data:null})}(r);break;case"danmaku":"autoDensity"===n&&function(t){0;(0,d.bG)(t).catch(p.noop),y("liveroom_dmset_click",{position:1,result:t?"open":"close",tag_name:"自动调节密度"})}(r),"densityRate"===n&&function(t){0;(0,d.eW)((0,p.toNumber)(t)).catch(p.noop),y("liveroom_dmset_click",{position:1,result:"open",tag_name:"同屏密度"})}(r),"areaHeight"===n&&function(t){0;(0,d.Uy)(t).catch(p.noop)}(r),"opacity"===n&&function(t){0;(0,d.b9)(t).catch(p.noop),y("liveroom_dmset_click",{position:1,result:"open",tag_name:"透明度"})}(r),"scale"===n&&function(t){0;(0,d.JW)(t).catch(p.noop),y("liveroom_dmset_click",{position:1,result:"open",tag_name:"字号缩放"})}(r),"display"===n&&function(t){0;y("liveroom_dmswitch_click",{position:1,result:t?"open":"close"})}(r)}}))}catch(t){(0,l.U)("danmaku-ctrl",t)}}function y(t,e){h.default.report(t,e,(0,m.D)())}var k="live-player/on-events/danmaku-mask",_=((0,c.Yb)(k),(0,c.$S)(k));function I(t){try{t.on("danmakuMaskChange",(function(t){if(!t)return _("livePlayer.danmakuMaskChange 未获取到数据.");var e=t.isShowMask,n=t.isShowTip,r=t.isOpenMask;(function(t){0;s.h.dispatch("setShowDanmakuMaskSwitch",t)})(e),T({type:"tip",status:n}),T({type:"mask",status:r})}))}catch(t){(0,l.U)("danmakuMaskInit",t)}}function T(t){(0,d.fj)(t.type,t.status).catch(p.noop)}var x=n(63109),S=n.n(x),A=n(93476),C=n.n(A),R=n(78580),E=n.n(R),L=n(55826),P=n(29531),M=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function D(t){return M(this,void 0,void 0,S().mark((function e(){var n,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.default.post("//api.bilibili.com/x/feedback/add",t);case 2:if(n=e.sent,0!==(r=n.data).code){e.next=8;break}return e.abrupt("return",{error:!1,msg:"反馈成功",errorType:"success"});case 8:return e.abrupt("return",{error:!0,errorMsg:r.msg,errorType:"error"});case 9:case"end":return e.stop()}}),e)})))}var N=n(58932),B=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function O(){return B(this,void 0,void 0,S().mark((function t(){var e,r,i=this;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.e(2338).then(n.bind(n,52338)).then((function(t){return t.default}));case 3:e=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return");case 9:r={type:"",remark:""},(0,L.f)({title:"问题反馈",width:528,button:{confirm:"提交",cancel:"取消"},component:{name:"drap-box-popup",data:function(){return{formData:r}},components:{feedbackPopup:e},template:'<feedback-popup :form-data="formData"></feedback-popup>'}}).onConfirm((function(t){return B(i,void 0,void 0,S().mark((function e(){var n,i,o,a,s;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E()(n=r.type).call(n,"天选时刻")){e.next=18;break}if(e.prev=1,p.loginStatus.isLogin){e.next=5;break}if(p.loginStatus.isLogin){e.next=5;break}throw new Error("请先登陆");case 5:return i=(new Date).getTime(),o=F(i-2592e5),a=F(i),e.next=10,N.ZP.uploadLog({fromTime:o,toTime:a});case 10:(0,L._)(t.confirmBtn,"反馈成功","success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),(0,L._)(t.confirmBtn,e.t0,"error");case 16:e.next=26;break;case 18:return Oe.userFeedback({type:r.type,details:r.remark}),e.next=21,D({system:navigator.userAgent,version:"4.0.0",entrance:"live-room",buvid:Date.now()+"",content:r.type+": "+r.remark,tag_id:552,platform:"web"});case 21:if(!(s=e.sent).error){e.next=25;break}return(0,L._)(t.confirmBtn,s.errorMsg,s.errorType),e.abrupt("return");case 25:(0,L._)(t.confirmBtn,s.msg,s.errorType);case 26:setTimeout((function(){t.close().catch(p.noop)}),2e3);case 27:case"end":return e.stop()}}),e,null,[[1,13]])})))}));case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))}function F(t){var e=new Date(t),n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();return n+"-"+(r<10?"0"+r:r)+"-"+(i<10?"0"+i:i)}var G=n(34100),U=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var Z=n(55716),V=n(92689),H=0,W=null,j=6;function z(){var t=Math.floor(H);(0,V.z1)("onlineCountUpdate",t),s.h.dispatch("baseInfoRoom",{onlineCount:t}).catch(p.noop)}function Y(t){var e=!0,n="receiveOnlineCount";try{t.on(n,(function(t){if(e){if(!t)return;e=!1}!function(t){if(!isNaN(t)){if(!H)return H=t,z();var e=(0,Z.randomString)();W=e,j=6,function n(){var r=(t-H)/j;j>0&&setTimeout((function(){H+=r,z(),j--,e===W&&n()}),5e3)}()}}(t)}))}catch(t){(0,l.U)(n,t)}}var K=n(40498);var J=n(17167),Q=n(13809),X=n(33960),q=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},$=(0,c.Yb)("live-player/on.initialized"),tt=!1,et="";var nt=(0,c.Yb)("live-player/on.switch-line");var rt=n(82159),it=(0,c.$S)("live-player/on.user-operation");var ot=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},at="fullscreen-fix";function st(t,e){return ot(this,void 0,void 0,S().mark((function n(){var r,i;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=s.h.state.appStatus.playerType,h.default.report("player_fullscreen_click",{result:t?"open":"close",tag_id:e},(0,m.D)()),"html5"===r){n.next=4;break}return n.abrupt("return");case 4:if(i=window.document.body,!t||(0,rt.hasClass)(i,at)){n.next=11;break}return n.next=8,s.h.dispatch("setDisplayMode","windowFullScreen");case 8:return n.next=10,X.Z.dispatchs.appStatus.setDisplayMode("windowFullScreen");case 10:return n.abrupt("return",(0,rt.addClass)(i,at));case 11:if(t||!(0,rt.hasClass)(i,at)){n.next=17;break}return n.next=14,s.h.dispatch("setDisplayMode","normal");case 14:return n.next=16,X.Z.dispatchs.appStatus.setDisplayMode("normal");case 16:return n.abrupt("return",(0,rt.removeClass)(i,at));case 17:case"end":return n.stop()}}),n)})))}var ct=(0,c.Yb)("live-player/on.live-state-change");var ut=n(88576),lt=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ft=(0,c.Yb)("live-player/on.send-danmaku");var dt=n(20116),pt=n.n(dt),ht=["原画","蓝光","超清","高清","流畅"];function mt(t){var e="switchQuality";try{t.on(e,(function(t,e,n){!function(t){var e=t.newQuality,n=t.qnDesc,r=pt()(n).call(n,(function(t){return t.qn===e}))[0].desc;h.default.report("liveroom_playerquality_click",{tag_id:ht.indexOf(r)+1},(0,m.D)())}({newQuality:t,qnDesc:n}),Q.W.start()}))}catch(t){(0,l.U)(e,t)}}var vt=n(76209),gt=[],bt=1;function wt(t,e){var n=pt()(gt).call(gt,(function(t,n){return t.id===e.roomid}))[0];h.default.report(t,{position:n.position,index:n.position-1,card_type:"normal"===e.cardType?4:3,card_id:"normal"===e.cardType?"-99999":e.roomid,rec_session_id:"-99998",rec_room_id:e.roomid,rec_up_id:e.uid,rec_subarea_id:"-99998",rec_area_id:"-99998",rec_online:e.online,rec_pk_id:"-99998"},(0,m.D)())}var yt=(0,n(55660).oD)();var kt=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function _t(t){return kt(this,void 0,void 0,S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.h.dispatch("setPlayerCtrlVisibility",!!t);case 2:return e.next=4,X.Z.dispatchs.appStatus.setPlayerCtrlVisibility(!!t);case 4:case"end":return e.stop()}}),e)})))}function It(t){!function(t){var e="initialized";try{t.on(e,(function(e){return q(this,void 0,void 0,S().mark((function n(){return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return $("播放器触发 initialized 事件",e),window.__PlayerInitialized=!0,s.h.dispatch("setPlayerType",e.type).catch((function(){return null})),X.Z.dispatchs.appStatus.setPlayerType(e.type),n.next=6,(0,K.j)();case 6:try{(0,J.aS)(t)}catch(t){console.error(t)}tt?(et===e.type?h.default.report("player_refresh_click",{},(0,m.D)()):(r=e.type,h.default.report("liveroom_playertype_click",{tag_id:"html5"===r?1:2,position:1},(0,m.D)())),et=e.type):(tt=!0,et=e.type),Q.W.start();case 9:case"end":return n.stop()}var r}),n)})))}))}catch(t){(0,l.U)(e,t)}}(t),w(t),I(t),function(t){try{t.on("danmakuMaskStatusChange",(function(t){if(!t)return _("livePlayer.danmakuMaskStatusChange 未获取到数据.");T({type:t.type,status:t.status})}))}catch(t){(0,l.U)("danmakuMaskChange",t)}}(t),function(t){var e="addBlackList";try{t.on("set",(function(t){if(t&&"block"===t.component&&t.action===e){var n=t.data;f.hx.open(n.toString())}}))}catch(t){(0,l.U)("set/block/"+e,t)}}(t),function(t){var e="blockSettingClick";try{t.on(e,(function(){a.default.$emit("FlashControl: ToggleBlacklistPanel")}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="feedBackClick";try{t.on(e,(function(){O().catch(p.noop),h.default.report("player_complain_click",{},(0,m.D)())}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e=this;try{t.on("playing",(function(n){return U(e,void 0,void 0,S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.default.$emit("LivePlayer: OnPlaying"),(0,G.nB)(t);case 3:case"end":return e.stop()}}),e)})))})),t.on("paused",(function(t){return U(e,void 0,void 0,S().mark((function t(){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.default.$emit("LivePlayer: OnPaused"),(0,G.jf)();case 3:case"end":return t.stop()}}),t)})))}))}catch(t){(0,l.U)("playing/paused",t)}}(t),Y(t),function(t){var e="webFullscreen";try{t.on(e,(function(t,e){t?(0,K.Q)():(0,K.j)(),h.default.report("player_webfullscreen_click",{result:t?"open":"close",tag_id:e},(0,m.D)())}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="switchLine";try{t.on(e,(function(t){nt("播放器触发 switchLine 事件",t),s.h.dispatch("setPlayerLineType",t).catch((function(){return null})),X.Z.dispatchs.appStatus.setPlayerline(t),h.default.report("liveroom_playerroute_click",{tag_id:t+1,position:1},(0,m.D)()),Q.W.start()}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="userLogin";try{t.on(e,(function(){try{(0,rt.quickLogin)()}catch(t){it(t)}}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="fullscreenChange";try{t.on(e,st)}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="liveStateChange";try{t.on(e,(function(){var e=t.getPlayerInfo(),n=e.liveStatus;ct("播放器触发 liveStateChange 事件",n),1===n?((0,G.nB)(t),a.default.$emit("LivePlayer: StartLive",{currentQuality:e.quality,qualityList:e.qualityCandidates})):((0,G.jf)(),a.default.$emit("LivePlayer: ExitLive"))}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="operableElementsChange";try{t.on(e,J.A4)}catch(t){(0,l.U)(e,t)}}(t),function(t){var e=this,n="sendDanmaku";try{t.on(n,(function(t){return lt(e,void 0,void 0,S().mark((function e(){var n,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ft("播放器触发 sendDanmaku 事件",t),!t.response||199e4!==t.response.code){e.next=9;break}return n=(0,p.isFullscreen)()?"FullDanmaku: Verification":"Danmaku: Verification",a.default.$emit(n,{isNeedVerification:!0}),e.next=7,(0,ut.G)();case 7:r=e.sent,a.default.$emit(n,{isNeedVerification:!1,content:"",validateInfo:r});case 9:case"end":return e.stop()}}),e)})))}))}catch(t){(0,l.U)(n,t)}}(t),mt(t),function(t){var e="switchQualityNotLogin";try{t.on(e,(function(t){a.default.$emit("LivePlayer: SwitchQuality",{currentQn:t.oldQn.text||"",expectQn:t.newQn.text||""})}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="recommend";try{t.on(e,(function(t){if(t){var e=t.data||{};switch(t.type){case"move":h.default.report("player_recommend_show",{subarea:s.h.getters.baseInfoRoom.areaID,roomid:e.roomid});break;case"click":wt("player_recommend_click",e);break;case"nolive":h.default.report("player_nolive_show",{subarea:0});break;case"show":gt.push({id:e.roomid,position:bt++}),(0,vt.JR)().then((function(){setTimeout((function(){wt("player_recommendcard_show",e)}),1500)})).catch()}}}))}catch(t){(0,l.U)("recommend",t)}}(t),function(t){var e="reload";try{t.on(e,(function(t){h.default.report("player_refresh_click",{},(0,m.D)()),Q.W.start()}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="firstPlaying";try{t.on(e,(function(){var e=t.getPlayerInfo();1===e.liveStatus&&a.default.$emit("LivePlayer: StartLive",{currentQuality:e.quality,qualityList:e.qualityCandidates})}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="firstLoadStart";try{t.on(e,(function(){yt&&(0,V.z1)("playerFirstLoadStart")}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="startPlayRound";try{t.on(e,(function(t){s.h.dispatch("setAvId",t.bvid).catch((function(){return null}))}))}catch(t){(0,l.U)(e,t)}}(t),function(t){var e="ctrlVisibleChange";try{t.on(e,_t)}catch(t){(0,l.U)(e,t)}}(t)}var Tt=n(67624),xt=n(74338),St=(0,c.Yb)("live-player/static-data-provider");function At(t){t.init("emojiList",xt.e.EMOJI_LIST);var e=Ct();e.length?t.init("popularWords",e):function(t){s.h.watch((function(){return Ct()}),(function(e){e.length&&t.init("popularWords",Ct()),St("已将热词通过 watch 传递至播放器.")}))}(t)}function Ct(){return s.h.state.baseInfoRoom.hotWords}var Rt=n(70538),Et=n(26849),Lt=n(66570),Pt=n(34074),Mt=n.n(Pt),Dt=n(95334),Nt=n(6867),Bt=n(12683),Ot=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Mt()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ft=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).inPlaying=!1,e.isFirstPlay=!0,e}(0,Lt.Z)(e,t);var n=e.prototype;return n.pause=function(){(0,Bt.r)(),this.inPlaying=!1},n.resume=function(){(0,Bt.Kz)(),this.inPlaying=!0},n.reload=function(){(0,Bt.lZ)(),this.inPlaying=!0},n.registryEvents=function(){var t=this;a.default.$on("LivePlayer: OnPaused",(function(){t.inPlaying=!1,h.default.report("liveroom_playerpause_click",{result:"close",tag_id:1},(0,m.D)())})),a.default.$on("LivePlayer: OnPlaying",(function(){t.inPlaying=!0,t.isFirstPlay?t.isFirstPlay=!1:h.default.report("liveroom_playerpause_click",{result:"open",tag_id:1},(0,m.D)())}))},n.created=function(){this.registryEvents(),this.inPlaying=!0},(0,Et.Z)(e,[{key:"showing",get:function(){return"PREPARING"!==this.$store.getters.baseInfoRoom.liveStatus}}]),e}(Rt.default),Gt=Ft=Ot([(0,Dt.Component)({components:{VerticalMiddle:Nt.Z}})],Ft),Ut=n(51900),Zt=(0,Ut.Z)(Gt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showing,expression:"showing"}],staticClass:"minimal-control-panel dp-none w-100 h-100 p-absolute p-zero a-fade-in t-center"},[n("vertical-middle",{staticClass:"w-100 h-100"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.inPlaying,expression:"inPlaying"}],staticClass:"control-btn pause pointer",on:{click:t.pause}},[n("i",{staticClass:"btn-icon icon-font icon-pause"})]),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.inPlaying,expression:"!inPlaying"}],staticClass:"control-btn resume pointer",on:{click:t.resume}},[n("i",{staticClass:"btn-icon icon-font icon-play"})]),n("button",{staticClass:"control-btn reload pointer",on:{click:t.reload}},[n("i",{staticClass:"btn-icon icon-font icon-replace"})])])],1)}),[],!1,null,"63c63776",null).exports;var Vt=n(94473),Ht=n.n(Vt),Wt=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var jt,zt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Mt()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Yt=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Kt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isShowPanel=!1,e.currentQn="",e.expectQn="",e.sqEventId=null,e.stEventId=null,e.elEventId=null,e.showTimer=null,e.delayTime=18e4,e}(0,Lt.Z)(e,t);var n=e.prototype;return n.toLogin=function(){try{(0,rt.quickLogin)()}catch(t){console.log(t)}},n.closePanel=function(){this.isShowPanel=!1},n.registryEvents=function(){return Yt(this,void 0,void 0,S().mark((function t(){var e=this;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.sqEventId=a.default.$on("LivePlayer: SwitchQuality",(function(t){return Yt(e,void 0,void 0,S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentQn=t.currentQn,this.expectQn=t.expectQn,this.isShowPanel=!0,this.clearShowTimer(),this.destroyPlayurlParsedAndExitEvent();case 5:case"end":return e.stop()}}),e,this)})))})),this.stEventId=a.default.$on("LivePlayer: StartLive",(function(t){return Yt(e,void 0,void 0,S().mark((function e(){var n,r,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.showTimer){e.next=2;break}return e.abrupt("return");case 2:if(!((n=t.qualityList).length<=1)){e.next=5;break}return e.abrupt("return");case 5:r=t.currentQuality,i=Ht()(n).call(n,(function(t){return t.qn===r})).desc,this.currentQn=i,this.expectQn="蓝光级",this.deferShowLoginGuide();case 10:case"end":return e.stop()}}),e,this)})))})),this.elEventId=a.default.$on("LivePlayer: ExitLive",(function(){e.clearShowTimer()})),this.checkStartLiveEvent();case 4:case"end":return t.stop()}}),t,this)})))},n.clearShowTimer=function(){this.showTimer&&(clearTimeout(this.showTimer),this.showTimer=null)},n.deferShowLoginGuide=function(){var t=this;this.showTimer=setTimeout((function(){t.isShowPanel=!0,t.destroyPlayurlParsedAndExitEvent()}),this.delayTime)},n.destroyPlayurlParsedAndExitEvent=function(){this.stEventId&&a.default.$destroy(this.stEventId),this.elEventId&&a.default.$destroy(this.elEventId),delete this.stEventId,delete this.elEventId},n.checkStartLiveEvent=function(){var t=Oe.getPlayerInfo();1===t.liveStatus&&a.default.$emit("LivePlayer: StartLive",{currentQuality:t.quality,qualityList:t.qualityCandidates})},n.mounted=function(){this.registryEvents()},n.beforeDestroy=function(){a.default.$destroy(this.sqEventId),this.destroyPlayurlParsedAndExitEvent()},e}(Rt.default);zt([(jt=!1,function(t,e,n){var r=n.value;n.value=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Wt(this,void 0,void 0,S().mark((function t(){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.waitLogin)();case 2:p.loginStatus.isLogin===jt&&r.apply(this,e);case 3:case"end":return t.stop()}}),t,this)})))}})],Kt.prototype,"registryEvents",null);var Jt=Kt=zt([Dt.Component],Kt),Qt=(0,Ut.Z)(Jt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"guide-fade"}},[t.isShowPanel?n("div",{staticClass:"login-guide"},[n("div",{staticClass:"close-btn icon-font icon-group-dynamic",on:{click:t.closePanel}}),n("div",{staticClass:"guide-content"},[n("span",{staticClass:"guide-tip"},[t._v("当前观看的是"+t._s(t.currentQn)+"画质，"),n("span",{staticClass:"blue-highlight"},[t._v("登录")]),t._v("即可畅享"),n("span",{staticClass:"blue-highlight"},[t._v(t._s(t.expectQn)+"画质")])]),n("span",{staticClass:"login-btn first-btn",on:{click:t.toLogin}},[t._v("登录")]),n("span",{staticClass:"login-btn",on:{click:t.toLogin}},[t._v("注册")])])]):t._e()])}),[],!1,null,"585c61cf",null).exports;var Xt=n(51942),qt=n.n(Xt),$t=n(17388),te=n(46633),ee=n(73645),ne=n(67218),re=n(26663),ie=n(24251),oe=n(78556),ae=n(6547),se=n(63677),ce=n(95519),ue=n(76412),le=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Mt()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},fe=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},de=(0,c.$S)("fullscreen-danmaku"),pe=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).loginStatus=p.loginStatus,e.ControlSwitchService=te.m,e.AutoSetDanmakuService=ue.H,e.chatInput="",e.silentCountdown=0,e.isBlockPanelOpen=!1,e.isNeedVerification=!1,e.lastMsgContent="",e.placeholderText="请输入弹幕 DA☆ZE～",e.isChatInputFocus=!1,e.clientWid=document.documentElement.clientWidth,e.DanmakuTypeControlService=se.U,e}(0,Lt.Z)(e,t);var n=e.prototype;return n.mounted=function(){var t=ee.y9.getInfoFromParam("room_config_info").dm_text;t&&(this.placeholderText=t),this.registerInputUpdateEvent(),this.registerVerificationEvent(),this.registerRoomSilentEvents(),this.registerKeyupEvent(),this.registerLivePlayerEvent(),this.addResizeEvent()},n.beforeDestroy=function(){window.removeEventListener("resize",this.resetWidth)},n.registerInputUpdateEvent=function(){var t=this;a.default.$on("Danmaku: UpdateChatInput",(function(e){return t.updateChatInput(e)}))},n.registerVerificationEvent=function(){var t=this;a.default.$on("FullDanmaku: Verification",(function(e){var n=e.isNeedVerification,r=e.msgContent,i=e.validateInfo;t.isNeedVerification=n,n?(0,p.exitFullscreen)():t.sendDanmaku(null,r||t.lastMsgContent,qt()({isIgnore:!0},i)).then(p.noop).catch(p.noop)}))},n.registerRoomSilentEvents=function(){var t=this;a.default.$on("RoomSilentGuest: On",(function(){s.h.getters.baseInfoUser.isAnchor||(t.isBlockPanelOpen=!0)})),a.default.$on("RoomSilentGuest: OnCountdown",(function(e){t.silentCountdown=e})),a.default.$on("RoomSilentGuest: Off",(function(){t.isBlockPanelOpen=!1}))},n.registerKeyupEvent=function(){var t=this;document.onkeydown=function(e){if("windowFullScreen"===t.displayMode&&"Enter"===e.code)if(t.ctrlVisibility)if(!t.isLogin||t.isBlockPanelOpen||t.isChatInputFocus)t.chatInput||t.livePlayer.changeCtrlVisible(!1);else{var n=t.$refs.chatInput;n&&n.focus()}else t.livePlayer.changeCtrlVisible(!0),t.isLogin&&!t.isBlockPanelOpen&&h.default.report("full_screen_dm_input_show",{},(0,m.D)())}},n.registerLivePlayerEvent=function(){this.livePlayer.setFullscreenDanmaku({on:function(t,e){a.default.$on(t,e)}})},n.addResizeEvent=function(){window.addEventListener("resize",this.resetWidth)},n.resetWidth=function(){this.clientWid=document.documentElement.clientWidth},n.onWatchChatInput=function(t,e){t.length>this.inputLengthLimit&&(this.chatInput=e)},n.onWatchCtrlVisibility=function(t){t||(this.isChatInputFocus=!1)},n.onWathSpecialDanmakuInfo=function(t){t&&t.dmTag===ce.e.Pk?this.placeholderText=t.toast:this.placeholderText=ee.y9.getInfoFromParam("room_config_info").dm_text},n.onKeyDown=function(t){"Enter"===t.code&&(t.preventDefault(),this.chatInput&&t.stopPropagation(),this.sendDanmaku(t).then(p.noop).catch(p.noop))},n.clickToSendDanmaku=function(t){!this.isLogin||this.isBlockPanelOpen||this.chatInput||this.$refs.chatInput.focus(),this.sendDanmaku(t).then(p.noop).catch(p.noop)},n.sendDanmaku=function(t,e,n,r,i){return void 0===n&&(n=null),void 0===r&&(r=!1),void 0===i&&(i=function(){}),fe(this,void 0,void 0,S().mark((function t(){var r,o,a,c,u,l,f,d,p=this;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=s.h.getters.baseInfoUser,o=this.chatInput||e||this.customChatInput,a=!(!n||!n.isIgnore),c=null,this.isLogin&&o&&!this.isBlockPanelOpen&&this.allowSendingDanmaku){t.next=6;break}return t.abrupt("return",null);case 6:if(h.default.report("liveroom_dm_send_click",{},(0,m.D)()),this.lastMsgContent=o,!this.isNeedVerification){t.next=13;break}return t.next=11,(0,ut.G)();case 11:c=t.sent,this.isNeedVerification=!1;case 13:if(oe.$w.checkIsHasRights()){t.next=17;break}return this.toastMsg("非常抱歉，本场直播需要购票，即可参与互动"),this.clearInput(),t.abrupt("return");case 17:if(u=r.danmakuColor,l=r.danmakuMode,t.prev=19,(0,re.x)(this.mobileVerifyCode,s.h.getters.baseInfoUser.realNameIdentification),f=c||n?qt()({},n,c,{isIgnore:a}):null,d=qt()({bubble:ae.lh.userExtraInfo.bubbleType,msg:o,color:u,mode:l},f),(0,ie.Nn)(d).then((function(t){if(0!==t.code)throw new Error(t.message);var e=he({danmakuContent:o,activityInfo:{}});(0,ne.RJ)(e,!0),i&&i.call(p)})).catch((function(t){var e=t.message;p.toastMsg(e)})),!a){t.next=26;break}return t.abrupt("return");case 26:this.clearInput(),t.next=35;break;case 29:if(t.prev=29,t.t0=t.catch(19),t.t0&&t.t0.message){t.next=33;break}return t.abrupt("return");case 33:de(t.t0),"invalidData"===t.t0.message&&this.toastMsg("实名信息出错了 "+Z.randomEmoji.sad()+" 尝试刷新或重新登录一下吧～");case 35:case"end":return t.stop()}}),t,this,[[19,29]])})))},n.toastMsg=function(t){t&&this.livePlayer.toast&&this.livePlayer.toast(t)},n.clearInput=function(){this.chatInput="",this.$refs.chatInput.blur()},n.updateChatInput=function(t){this.chatInput+=t},n.quickLogin=function(){return fe(this,void 0,void 0,S().mark((function t(){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,p.exitFullscreen)();case 3:(0,rt.quickLogin)(),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))},n.focusInput=function(){this.customDanmaku.autofill&&!this.chatInput.length&&this.customChatInput.length&&(this.chatInput=this.customChatInput),this.isChatInputFocus=!0,a.default.$emit("danmuInputFocus"),h.default.report("liveroom_dminput_click",{},(0,m.D)())},n.blurInput=function(){a.default.$emit("danmuInputBlur"),this.isChatInputFocus=!1},(0,Et.Z)(e,[{key:"customDanmaku",get:function(){return this.AutoSetDanmakuService.getValues()}},{key:"customPlaceholderText",get:function(){return this.customDanmaku.placeholderText}},{key:"customChatInput",get:function(){return this.customDanmaku.chatInput}},{key:"allowSendingDanmaku",get:function(){return this.ControlSwitchService.switchInfo.isShowDanmakuEditor}},{key:"isLogin",get:function(){return this.loginStatus.isLogin}},{key:"mobileVerifyCode",get:function(){return s.h.getters.baseInfoUser.mobileVerifyCode}},{key:"baseInfoUser",get:function(){return s.h.getters.baseInfoUser}},{key:"inputLengthLimit",get:function(){return s.h.getters.baseInfoUser.danmakuLengthLimit}},{key:"displayMode",get:function(){return s.h.getters.appStatus.displayMode}},{key:"ctrlVisibility",get:function(){return s.h.getters.appStatus.playerCtrlVisibility}},{key:"fullscreenDanmakuVisibility",get:function(){return"windowFullScreen"===this.displayMode&&this.ctrlVisibility}},{key:"specialDanmakuInfo",get:function(){return this.DanmakuTypeControlService.danmakuTypeInfo}}]),e}(Dt.Vue);function he(t){var e=s.h.getters.appStatus.rnd,n=s.h.getters.baseInfoUser,r=n.medal;return{userInfo:{username:n.username,uid:n.uid,isAdmin:n.isAdmin,isVip:n.isVip,isSvip:n.isSvip,rank:n.userLevelRank,fansMedal:r,title:n.title,userLevel:n.level,guardLevel:n.privilege.privilegeType,chatBubbleType:ae.lh.userExtraInfo.bubbleType,chatBubbleColor:ae.lh.userExtraInfo.bubbleColor,lpl:n.lpl},content:t.danmakuContent,validation:{ts:0,ct:""},rnd:e,activityInfo:{usernameColor:ae.lh.userExtraInfo.unameColor}}}le([(0,Dt.Inject)("livePlayer")],pe.prototype,"livePlayer",void 0),le([(0,Dt.Watch)("chatInput")],pe.prototype,"onWatchChatInput",null),le([(0,Dt.Watch)("ctrlVisibility")],pe.prototype,"onWatchCtrlVisibility",null),le([(0,Dt.Watch)("specialDanmakuInfo")],pe.prototype,"onWathSpecialDanmakuInfo",null);var me=pe=le([(0,Dt.Component)({components:{LinkButton:$t.default}})],pe),ve=(0,Ut.Z)(me,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.allowSendingDanmaku&&t.clientWid>1e3?n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullscreenDanmakuVisibility,expression:"fullscreenDanmakuVisibility"}],staticClass:"fullscreen-danmaku"},[t.isLogin?[t.isBlockPanelOpen?n("div",{staticClass:"chat-input border-box block-panel"},[n("p",{staticClass:"block-hint"},[t._v("禁言中"),t.silentCountdown>0?n("span",{staticClass:"block-countdown"},[t._v(", "),n("span",{staticClass:"countdown-digit"},[t._v(t._s(t._f("secondFormatter")(t.silentCountdown)))]),t._v(" 后解禁")]):t._e()])]):n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.chatInput,expression:"chatInput"}],ref:"chatInput",staticClass:"chat-input border-box",attrs:{placeholder:t.customPlaceholderText||t.placeholderText},domProps:{value:t.chatInput},on:{keydown:t.onKeyDown,focus:t.focusInput,blur:t.blurInput,dblclick:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.chatInput=e.target.value)}}}),n("span",{ref:"toastMountPoint",staticClass:"input-limit-hint p-absolute"},[t._v(t._s(t.chatInput.length)+"/"+t._s(t.inputLengthLimit))])])]:[n("div",{staticClass:"chat-input border-box"},[n("p",{staticClass:"visitor-hint"},[t._v("游客状态无法输入弹幕，请先"),n("span",{staticClass:"bili-link pointer",on:{click:t.quickLogin}},[t._v("登录")])])])],n("div",{staticClass:"send-danmaku",class:{"send-danmaku-disabled":t.isBlockPanelOpen||!t.isLogin},on:{click:t.clickToSendDanmaku,dblclick:function(t){t.stopPropagation()}}},[t._v("发送")])],2):t._e()}),[],!1,null,"00462117",null).exports,ge=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Mt()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},be="LIVEPLAYER_FULL_DANMAKU_TOAST",we=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isShowToast=!1,e}return(0,Lt.Z)(e,t),e.prototype.mounted=function(){if(!localStorage.getItem(be))var t=this.$watch("ctrlVisibility",(function(e){var n=this;e&&(this.isShowToast=!0,setTimeout((function(){localStorage.setItem(be,"1"),n.isShowToast=!1}),5e3),t())}))},(0,Et.Z)(e,[{key:"ctrlVisibility",get:function(){return s.h.getters.appStatus.playerCtrlVisibility}}]),e}(Dt.Vue),ye=we=ge([Dt.Component],we),ke=(0,Ut.Z)(ye,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"a-scale-in-ease","leave-active-class":"a-scale-out-ease"}},[t.isShowToast?n("span",{staticClass:"fullscreen-danmaku-toast"},[t._v("全屏下回车可以发弹幕噢~")]):t._e()])}),[],!1,null,"21c240dc",null).exports;var _e=n(23493),Ie=n.n(_e),Te=" normal",xe=" minimal z-player",Se=!1,Ae=(0,c.a5)("live-player/after-init");function Ce(t){o.addEventListener("click",(function(){Re(),Se=!0}));var e=null,n=document.querySelector(".player-ctnr");window.addEventListener("scroll",Ie()((function(i){if("PREPARING"!==s.h.getters.baseInfoRoom.liveStatus||!Ee()){var o="normal"===s.h.getters.appStatus.displayMode;if(clearTimeout(e),n.getBoundingClientRect().bottom<0&&o){if(Se)return;!function(){if(r.className.indexOf("minimal")>-1)return;(0,J.hb)(!0),r.className=r.className.replace(new RegExp(Te,"g"),xe),p.moving.setDraggable(r)}()}else Re(),Se&&(Se=!1);e=setTimeout((function(){try{t.resize()}catch(t){Ae("播放器 resize 执行错误",t)}}),300)}}),200))}function Re(){Ee()||((0,J.hb)(!1),r.className=r.className.replace(new RegExp(xe,"g"),Te),p.moving.setUndraggable(r,{mode:"absolute"}))}function Ee(){return r.className.indexOf("normal")>-1}function Le(t){(0,Tt.S)(t),It(t),At(t),function(t){new Rt.default({el:"#switch-login-guide-vm",components:{LoginGuide:Qt},provide:{livePlayer:t}})}(t),function(t){new Rt.default({el:"#fullscreen-danmaku-vm",components:{FullscreenDanmaku:ve},provide:{livePlayer:t}})}(t),new Rt.default({el:"#fullscreen-danmaku-toast-vm",components:{FullscreenDanmakuToast:ke}}),(0,p.getLiteVersionStatus)()||(!function(t){new Rt.default({el:"#player-minimal-panel-vm",components:{MinimalPanel:Zt},provide:{livePlayer:t},store:s.h})}(t),Ce(t))}var Pe=n(65190),Me=n(48826),De=n(90801),Ne=function(t,e,n,r){return new(n||(n=C()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function Be(){return Ne(this,void 0,void 0,S().mark((function t(){var e;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,De.Z.get("chasing_frame_web_pc");case 3:if(!(e=t.sent)){t.next=8;break}return t.abrupt("return",JSON.parse(e));case 8:return t.abrupt("return",!1);case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))}var Oe=null,Fe=(0,c.$S)("module/live-player"),Ge=(0,c.Yb)("module/live-player");function Ue(t,e){if(!t)return Fe("播放器未获取到 roomID","roomID: "+t);try{if(window.__PLAYER_GLOBAL_INSTANCE__)Ge("播放器提前初始化成功",window.__PLAYER_GLOBAL_INSTANCE__),Oe=window.__PLAYER_GLOBAL_INSTANCE__,delete window.__PLAYER_GLOBAL_INSTANCE__,delete window.__PLAYER_GLOBAL_INIT_FLAG__,window.roomPlayerIsLoaded=void 0;else{Ge("播放器未提前初始化成功");var n={cid:t,initTime:performance.now(),roomInitDataV2:e,protover:2,fnPromiseMode:!0,mask:{shouldOpenMask:!0},ptype:16,rnd:s.h.getters.appStatus.rnd||window.BilibiliLive.RND,UI:{logo:te.m.switchInfo.isShowPlayerWatermark,feedback:te.m.switchInfo.isShowFeedback,recommend:te.m.switchInfo.isShowLiveRecommend,tipsText:"主播已关播"},backgroundFilter:!0,coreType:2,coreProtocol:0};if(!(!0!==window.roomPlayerIsLoaded||window.Player&&window.Player.isSupported()))return o=i,a=document.createElement("div"),c=document.createElement("p"),u=document.createElement("p"),a.style.cssText="\n    text-align: center;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100%;\n    font-weight: bold;\n    font-size: 19px;\n    color: #fff;\n  ",c.innerHTML="\n    您使用的浏览器版本偏低，为保障您的直播观看体验\n  ",u.innerHTML='\n    推荐使用新版\n    <a href="https://www.microsoft.com/zh-cn/edge" style="text-decoration: underline; color: #fff;" target="_blank">Edge</a>、\n    <a href="https://www.google.cn/chrome/" style="text-decoration: underline; color: #fff;" target="_blank">Chrome</a>、\n    <a href="https://support.apple.com/zh_CN/downloads/safari" style="text-decoration: underline; color: #fff;" target="_blank">Safari</a>\n    等浏览器\n  ',a.appendChild(c),a.appendChild(u),o.innerHTML="",o.style.cssText="background: rgb(75, 75, 75);",o.appendChild(a),void(window.roomPlayerIsLoaded=void 0);Oe=new window.Player(i,n),window.EmbedPlayer={instance:Oe},(0,Pe.c5)("misaka"),Oe.on("firstLoadedMetaData",(function(){return(0,Pe.c5)("mikoto")}))}r=function(t){Oe.changeUIStatus({logo:t.isShowPlayerWatermark,recommend:t.isShowLiveRecommend,feedback:t.isShowFeedback})},te.m.onChange((function(t){r(t)})),Le(Oe),function(){try{0,window.top&&(window.top.livePlayer=Oe),window.parent&&(window.parent.livePlayer=Oe)}catch(t){console.error(t)}}()}catch(t){Fe("播放器创建错误",t)}var r,o,a,c,u}function Ze(){if(!Oe)return null;!function(t){var e=s.h.getters.baseInfoUser.isAdmin,n={isAdmin:s.h.getters.baseInfoUser.isAnchor||e};t.init("config",n),u("Provide Business Configuration to player. Content: ",n)}(Oe),function(t){Ne(this,void 0,void 0,S().mark((function e(){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be();case 2:(n=e.sent)&&t.init("autoSync",n);case 4:case"end":return e.stop()}}),e)})))}(Oe)}a.default.$on("RoomTitle:Changed",(function(t){r.setAttribute("data-room-title",t)}))},34100:function(t,e,n){"use strict";n.d(e,{zi:function(){return W},nB:function(){return z},jf:function(){return j}});var r=n(3595),i=n(5985),o=n(23374),a=n(76855),s=n(63109),c=n.n(s),u=n(93476),l=n.n(u),f=n(59340),d=n.n(f),p=n(78735),h=n(26849),m=n(51942),v=n.n(m);var g={getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,i,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(t,e,n){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}},b=n(9669),w=n.n(b),y=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},k={reportEnterRoom:function(t){return y(this,void 0,void 0,c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://data.bilivideo.com/log/web/te9Kl",e.next=3,w().post("https://data.bilivideo.com/log/web/te9Kl",t);case 3:return n=e.sent,e.abrupt("return",v()({},n.data,{status:n.status}));case 5:case"end":return e.stop()}}),e)})))},reportHeartBeat:function(t){return y(this,void 0,void 0,c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://data.bilivideo.com/log/web/s82Tq",e.prev=1,e.next=4,w().post("https://data.bilivideo.com/log/web/s82Tq",t);case 4:return n=e.sent,e.abrupt("return",v()({},n.data,{status:n.status,error:!1}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{status:500,code:-1,data:null,error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))}},_=new(function(){function t(){this.seqId=0}var e=t.prototype;return e.add=function(){return this.seqId>=1e5&&(this.seqId=1),this.seqId++,this.seqId},e.get=function(){return this.seqId},t}()),I=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},T=function(){function t(){var t=this;this.heartBeatInfo={},this.callbacks={sign:function(e){return I(t,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})))}}}var e=t.prototype;return e.init=function(t){v()(this.heartBeatInfo,{buvid:g.getItem("LIVE_BUVID"),room_id:t.room_id,uid:t.uid,play_url:t.play_url})},e.setBodyParams=function(t){void 0===t&&(t={}),v()(this.heartBeatInfo,t)},e.getSign=function(t){return I(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.callbacks.sign(t));case 1:case"end":return e.stop()}}),e,this)})))},e.report=function(){return I(this,void 0,void 0,c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.reportData,t.next=3,this.getSign(e);case 3:return n=t.sent,t.abrupt("return",k.reportHeartBeat(v()({csn:n},e)));case 5:case"end":return t.stop()}}),t,this)})))},e.reportEnterRoom=function(){return I(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k.reportEnterRoom(this.reportData));case 1:case"end":return t.stop()}}),t,this)})))},e.reportCheckSign=function(){return I(this,void 0,void 0,c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.reportData,t.next=3,this.getSign(e);case 3:return n=t.sent,t.abrupt("return",k.reportEnterRoom(v()({csn:n},e)));case 5:case"end":return t.stop()}}),t,this)})))},e.injectCallbacks=function(t){this.callbacks=t},e.getRandom=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},(0,h.Z)(t,[{key:"reportData",get:function(){return{uid:this.heartBeatInfo.uid,buvid:g.getItem("LIVE_BUVID"),platform:"web",room_id:this.heartBeatInfo.room_id,play_url:this.heartBeatInfo.play_url,qid:_.get(),sid:this.heartBeatInfo.sessionId,cts:(new Date).getTime(),stky:this.heartBeatInfo.stky,screen_status:this.getRandom(1,100),click_status:this.getRandom(1,100)}}}]),t}(),x=n(66552),S=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},A=new(function(){function t(){this.heartbeatCheckTimer=null,this.roomInfo=null,this.heartBeatInterval=50,this.secretKey="",this.heartBeatEnabled=!1,this.callbacks=null,this.heartBeatTracker=null,this.retryHeatBeatNumber=0,this.heartBeatTracker=new T}var e=t.prototype;return e.init=function(){return S(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.heartBeatTracker.init(this.roomInfo);case 1:case"end":return t.stop()}}),t,this)})))},e.setSecretKey=function(t){this.secretKey=t,this.secretKey&&this.heartBeatTracker.setBodyParams({stky:this.secretKey})},e.reportEnter=function(){return S(this,void 0,void 0,c().mark((function t(){var e,n,r,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.heartBeatTracker.reportEnterRoom();case 3:if(e=t.sent,n=e.code,r=e.data,i=e.status,!r||200!==i||0!==n){t.next=14;break}return this.setParams(r),t.next=11,this.checkSignIsValid();case 11:return t.abrupt("return",!0);case 14:return t.abrupt("return",!1);case 15:t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(0),this.stopTimer(),t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t,this,[[0,17]])})))},e.checkSignIsValid=function(){return S(this,void 0,void 0,c().mark((function t(){var e,n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,_.add(),t.next=4,this.heartBeatTracker.reportCheckSign();case 4:e=t.sent,n=e.code,r=e.data,200===e.status&&0===n&&this.checkParamsIsValid(r)?(this.setParams(r),this.startTimer()):this.stopTimer(),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),this.stopTimer(),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,this,[[0,11]])})))},e.checkParamsIsValid=function(t){return!!t&&!(!(t.hbil&&t.sid&&t.stky)||isNaN(t.hbil))},e.setParams=function(t){t&&(t.hbil&&!isNaN(t.hbil)&&(this.heartBeatInterval=Number(t.hbil)),t.stky&&this.setSecretKey(t.stky),t.sid&&this.heartBeatTracker.setBodyParams({sessionId:t.sid}))},e.setCallbacks=function(t){var e=this;this.callbacks=t,this.heartBeatTracker.injectCallbacks({sign:function(n){return S(e,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sign){e.next=2;break}return e.abrupt("return",n);case 2:return e.abrupt("return",t.sign(n));case 3:case"end":return e.stop()}}),e)})))}})},e.stopTimer=function(){this.clearHeartbeatCheckTimer()},e.clearHeartbeatCheckTimer=function(){this.heartbeatCheckTimer&&(clearInterval(this.heartbeatCheckTimer),this.heartbeatCheckTimer=null)},e.startTimer=function(){this.startHeartbeatCheckTimer()},e.startHeartbeatCheckTimer=function(){var t=this;this.clearHeartbeatCheckTimer(),this.heartbeatCheckTimer=setInterval((function(){return t.checkHeartbeat()}),1e3*this.heartBeatInterval)},e.checkHeartbeat=function(){return S(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.reportHeartBeat();case 2:case"end":return t.stop()}}),t,this)})))},e.reportHeartBeat=function(){return S(this,void 0,void 0,c().mark((function t(){var e,n,r,i,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.heartBeatEnabled){t.next=2;break}return t.abrupt("return",!1);case 2:if(t.prev=2,this.roomInfoIsValid){t.next=5;break}throw new Error("心跳上报的房间信息不合法，"+d()(this.roomInfo));case 5:if((e=x.Rw&&x.Rw.getPlayerInfo().playurl)&&this.heartBeatTracker.setBodyParams({play_url:e}),!(this.retryHeatBeatNumber>=3)){t.next=10;break}return this.stopTimer(),t.abrupt("return");case 10:return t.next=12,this.heartBeatTracker.report();case 12:if(n=t.sent,r=n.code,i=n.data,o=n.status,n.error){t.next=31;break}if(200!==o||0!==r||!this.checkParamsIsValid(i)){t.next=27;break}return this.retryHeatBeatNumber=0,i&&i.stky&&this.setSecretKey(i.stky),i&&i.sid&&this.heartBeatTracker.setBodyParams({sessionId:i.sid}),i&&i.hbil&&this.heartBeatInterval!==Number(i.hbil)&&(this.heartBeatInterval=i.hbil,this.startTimer()),_.add(),t.abrupt("return",!0);case 27:return this.retryHeatBeatNumber++,t.abrupt("return",!1);case 29:t.next=33;break;case 31:return this.retryHeatBeatNumber++,t.abrupt("return",!1);case 33:t.next=40;break;case 35:return t.prev=35,t.t0=t.catch(2),this.retryHeatBeatNumber++,this.callbacks.onFail(11),t.abrupt("return",!1);case 40:case"end":return t.stop()}}),t,this,[[2,35]])})))},e.start=function(t){return S(this,void 0,void 0,c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:this.setCallbacks(t),3,n=3;case 5:if(e.t0=n>0,!e.t0){e.next=10;break}return e.next=9,this.reportEnter();case 9:e.t0=!e.sent;case 10:if(!e.t0){e.next=14;break}n--,e.next=5;break;case 14:return(r=n>0)?this.heartBeatEnabled=!0:(this.heartBeatEnabled=!1,t.onFail(10)),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})))},e.stop=function(){return S(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.stopTimer();case 1:case"end":return t.stop()}}),t,this)})))},e.update=function(t){t.room_id&&(this.roomInfo=t,this.heartBeatTracker.setBodyParams(t))},(0,h.Z)(t,[{key:"roomInfoIsValid",get:function(){return this.roomInfo&&this.roomInfo.room_id}}]),t}());function C(t){"undefined"!=typeof window&&window&&(window.__LIVE_WATCH_LOG__&&window.__LIVE_WATCH_LOG__.length||(window.__LIVE_WATCH_LOG__=[]),window.__LIVE_WATCH_LOG__.push("房间内日志："+t))}var R,E=n(23933),L=n(50346),P=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},M=!1,D=null;function N(){return P(this,void 0,void 0,c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D){t.next=17;break}e="",r=null,t.next=10;break;case 7:r=t.sent.default,t.next=14;break;case 10:return e="https://i0.hdslb.com/bfs/live/7f5cb21d64788510afdfe3e5b9800d86253d6752.wasm",t.next=13,n.e(9698).then(n.bind(n,39698));case 13:r=t.sent.default;case 14:return t.next=16,(0,p.l)(e,r);case 16:D=t.sent;case 17:return t.abrupt("return",D);case 18:case"end":return t.stop()}}),t)})))}function B(t){return P(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.Y)()){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",A.update(t));case 3:case"end":return e.stop()}}),e)})))}function O(t){C("在线人数上报失败：code: "+t)}!function(t){t[t.LOAD_WASM_FAIL=1]="LOAD_WASM_FAIL",t[t.NOT_SUPPORT_WASM=2]="NOT_SUPPORT_WASM",t[t.WATCH_TRACKER_ERROR=3]="WATCH_TRACKER_ERROR",t[t.ENTER_FAIL=10]="ENTER_FAIL",t[t.HEARTBEAT_FAIL=11]="HEARTBEAT_FAIL"}(R||(R={}));var F,G=!1,U=0,Z=0,V="";function H(t,e){var n=r.h.getters.baseInfoRoom.liveStatus;1!==t.getPlayerInfo().liveStatus&&"LIVE"!==n||window.__statisObserver&&window.__statisObserver.setSpecialInterval(15).startSpecialLoop((function(n){var i=function(t){var e=r.h.getters.baseInfoRoom,n=r.h.getters.baseInfoAnchor,i=null;try{i=t.getPlayerInfo()}catch(t){t&&(i={playurl:"",guid:""})}return F!==i.guid&&(F=i.guid,U=0),U+=15,{room_id:e.roomID||0,up_id:n.uid,up_level:n.masterLevel,area:e.areaID,parent_area:e.parentAreaID,jumpfrom:0,guid:i.guid,play_type:"hidden"in document&&document.hidden?3:document.querySelector("#live-player-ctnr").classList.contains("minimal")?2:1,pid:{flash:4,html5:5}[r.h.getters.appStatus.playerType],playurl:encodeURIComponent(i.playurl),delta_ts:U,c_time:(new Date).getTime(),s_time:(new Date).getTime(),trace_id:V,source_id:V?"system":"",version:"",up_session:r.h.getters.appStatus.upSession,visit_id:window.__statisObserver&&window.__statisObserver.__visitId,pk_id:o.bJ.getPKId(),throttle_status:e.playerThrottleInfo.status||0}}(t);if(e){if((!i.room_id||!i.up_id||!i.up_level)&&Z<6)return Z++,window.__statisObserver.stopSpecialLoop(),void setTimeout((function(){H(t,!0)}),500);e=!1,i.delta_ts=0,U=0}n({logId:"000916",param:i})}))}function W(t,e){void 0===e&&(e=!1);try{if(!window.__statisObserver)return;G||(G=!0,H(t,e),(0,a.O2)().catch((function(t){0}))),function(){return P(this,void 0,void 0,c().mark((function t(){var e,n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C("尝试开始上报..."),(0,p.Y)()){t.next=4;break}return O(R.NOT_SUPPORT_WASM),t.abrupt("return");case 4:return t.next=6,(0,L.SE)();case 6:if(e=t.sent,n=e&&e.isLogin,!M){t.next=11;break}return C("已开播状态，不重复上报"),t.abrupt("return");case 11:return M=!0,t.prev=12,r=function(t){return P(this,void 0,void 0,c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:return n=e.sent,e.abrupt("return",n.skynet(d()(t)));case 7:return e.prev=7,e.t0=e.catch(0),O(R.LOAD_WASM_FAIL),e.abrupt("return","error:"+e.t0.message||0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))},t.next=16,B({room_id:E.e.getRoomId(),uid:n?E.e.getUid():0,play_url:x.Rw.getPlayerInfo().playurl});case 16:return t.next=18,A.start({sign:r,onFail:function(t){O(t)}});case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(12),C("开播失败："+t.t0.message),O(R.WATCH_TRACKER_ERROR);case 25:case"end":return t.stop()}}),t,null,[[12,20]])})))}().catch((function(t){0}))}catch(t){console.error("播放器心跳打点爆炸啦：",t)}}function j(){G=!1,window.__statisObserver&&window.__statisObserver.stopSpecialLoop(),(0,a.cq)().catch((function(t){0}))}function z(t){G||(W(t),(0,a.O2)().catch((function(t){0})))}(0,i.V9)()&&(V=i.WY)},13809:function(t,e,n){"use strict";n.d(e,{W:function(){return m}});var r=n(26849),i=n(63109),o=n.n(i),a=n(93476),s=n.n(a),c=n(90801),u=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},l=null;function f(){return u(this,void 0,void 0,o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=2;break}return t.abrupt("return",l);case 2:return t.prev=2,t.next=5,c.Z.get("live_web_player_comm");case 5:e=t.sent,l=JSON.parse(e),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",null);case 12:return t.abrupt("return",l);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))}var d=n(66552),p=n(3595),h=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},m=new(function(){function t(){this.OBSERVE_INTERVAL=1e3,this.playerKVConfig=null,this.startTs=(new Date).getTime(),this.timer=null}var e=t.prototype;return e.getPlayerKVConfig=function(){return h(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:this.playerKVConfig=t.sent;case 3:case"end":return t.stop()}}),t,this)})))},e.skipFrame=function(){var t=this.playerKVConfig&&this.playerKVConfig.skip_frame_reserved?Number(this.playerKVConfig.skip_frame_reserved):2e3,e=this.remainedBufferLength-t;e&&d.Rw.discardFrame(e/1e3)},e.checkSkipFrame=function(){this.shouldSkipFrame&&(this.skipFrame(),this.clearTimer())},e.clearTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},e.startTimer=function(){var t=this;this.isEnabled&&this.playerKVConfig&&(this.timer=setInterval((function(){t.isExpired?t.clearTimer():t.checkSkipFrame()}),this.OBSERVE_INTERVAL))},e.start=function(){var t=this;this.isLiving&&(this.clearTimer(),this.startTs=(new Date).getTime(),this.getPlayerKVConfig().then((function(){return t.startTimer()})).catch((function(t){return console.error(t)})))},(0,r.Z)(t,[{key:"isEnabled",get:function(){return this.playerKVConfig&&1===Number(this.playerKVConfig.skip_frame_enable)}},{key:"isLiving",get:function(){return 1===d.Rw.getPlayerInfo().liveStatus||"LIVE"===p.h.getters.baseInfoRoom.liveStatus}},{key:"remainedBufferLength",get:function(){return parseInt((1e3*d.Rw.remainBufferLength()).toString())||0}},{key:"isExpired",get:function(){if(!this.playerKVConfig||!Number(this.playerKVConfig.skip_frame_validity))return!0;var t=(new Date).getTime();return Number(this.playerKVConfig.skip_frame_validity)<=t-this.startTs}},{key:"shouldSkipFrame",get:function(){return this.playerKVConfig&&!this.isExpired&&this.playerKVConfig.skip_frame_threshold<=this.remainedBufferLength}}]),t}())},48826:function(t,e,n){"use strict";n.d(e,{Bh:function(){return r},jc:function(){return i},B9:function(){return p},mx:function(){return h}});var r,i,o=n(63109),a=n.n(o),s=n(93476),c=n.n(s),u=n(32114),l=n(57072),f=n(23933),d=function(t,e,n,r){return new(n||(n=c()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function p(){return d(this,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(457).then(n.bind(n,83111));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}function h(t){return d(this,void 0,void 0,a().mark((function e(){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:n=e.sent,o=n.startSleepObserver,n.setSleepObserverDefaults,n.setScoreObserverDefaults,n.setPlayerPromptDefaults,o(t,f.e,{onAfterSleep:function(t){var e=t.livePlayer,n=t.sourceType,o=t.reportParams,a=t.thresholdStatus;u.Z.report("tab"===n?r.observe_tab_blur:r.observe_user_inactive,o),"pause"===a&&l.default.$emit(i.OnPromptOpen,{livePlayer:e,reportParams:o})},onAfterWakeup:function(t){var e=t.livePlayer,n=t.sourceType,o=t.reportParams,a=t.thresholdStatus;u.Z.report("tab"===n?r.observe_tab_focus:r.observe_user_active,o),"play"===a&&l.default.$emit(i.OnPromptClose,{livePlayer:e,reportParams:o})}});case 9:case"end":return e.stop()}}),e)})))}!function(t){t.observe_tab_blur="observe_tab_blur",t.observe_tab_focus="observe_tab_focus",t.observe_user_inactive="observe_user_inactive",t.observe_user_active="observe_user_active",t.observe_player_throttle="observe_player_throttle",t.auto_suspend_show="auto_suspend_show"}(r||(r={})),function(t){t.OnPromptOpen="LivePlayer: OnPromptOpen",t.OnPromptClose="LivePlayer: OnPromptClose",t.OnPromptCountdown="LivePlayer: OnPromptCountdown"}(i||(i={}))},87750:function(t,e,n){"use strict";n.d(e,{U:function(){return a}});var r=n(77766),i=n.n(r),o=(0,n(68913).$S)("live-player/on-events");function a(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];o.apply(void 0,i()(e=["事件 "+t+" 注册失败"]).call(e,r))}},76855:function(t,e,n){"use strict";n.d(e,{O2:function(){return x},cq:function(){return S},hu:function(){return A}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(59340),c=n.n(s),u=n(78735),l=n(74636),f=n(18980),d=n(32114),p=n(3595),h=n(66552);function m(t){"undefined"!=typeof window&&window&&(window.__LIVE_WATCH_LOG__&&window.__LIVE_WATCH_LOG__.length||(window.__LIVE_WATCH_LOG__=[]),window.__LIVE_WATCH_LOG__.push("房间内日志："+t))}var v,g=n(23933),b=n(50346),w=n(92689),y=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},k=!1,_=null,I=!1;function T(){return y(this,void 0,void 0,i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_){t.next=17;break}e="",r=null,t.next=10;break;case 7:r=t.sent.default,t.next=14;break;case 10:return e="https://i0.hdslb.com/bfs/live/e791556706f88d88b4846a61a583b31db007f83d.wasm",t.next=13,n.e(6741).then(n.bind(n,96741));case 13:r=t.sent.default;case 14:return t.next=16,(0,u.l)(e,r);case 16:_=t.sent;case 17:return t.abrupt("return",_);case 18:case"end":return t.stop()}}),t)})))}function x(){return y(this,void 0,void 0,i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m("尝试开始上报..."),e=p.h.getters.baseInfoRoom.liveStatus,1===h.Rw.getPlayerInfo().liveStatus||"LIVE"===e){t.next=6;break}return m("未开播，停止上报"),t.abrupt("return");case 6:if((0,u.Y)()){t.next=10;break}return f.default.report("live_w_reject",{reason:1}),C(v.NOT_SUPPORT_WASM),t.abrupt("return");case 10:return R(1,1e4),t.next=13,(0,b.SE)();case 13:if(n=t.sent,n&&n.isLogin){t.next=20;break}return f.default.report("live_w_reject",{reason:2}),m("未登录，停止上报"),I||(m("开始监视登录态变化"),I=!0,(0,b.E1)((function(t){m("检测到登录态变化"),t.isLogin&&(m("登录态变成已登录"),x().catch((function(t){m(t.message)})))}))),t.abrupt("return");case 20:if(!k){t.next=24;break}return m("已开播状态，不重复上报"),t.abrupt("return");case 24:return k=!0,t.prev=25,r=function(t,e){return y(this,void 0,void 0,i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,T();case 3:return r=n.sent,n.abrupt("return",r.spyder(c()(t),e));case 7:return n.prev=7,n.t0=n.catch(0),C(v.LOAD_WASM_FAIL),n.abrupt("return","error:"+n.t0.message||0);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))},t.next=29,A({room_id:g.e.getRoomId(),area_id:g.e.getAreaId(),parent_area_id:g.e.getParentAreaId()});case 29:return t.next=31,l.p.start({sign:r,onFail:function(t){C(t)},onSuccess:function(){R(1,10001)}});case 31:d.Z.report("supportLiveWatchTracker",{support:1}),t.next=40;break;case 34:t.prev=34,t.t0=t.catch(25),m("开播失败："+t.t0.message),C(v.WATCH_TRACKER_ERROR),d.Z.report("supportLiveWatchTracker",{support:0});case 40:case"end":return t.stop()}}),t,null,[[25,34]])})))}function S(){return y(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p.h.getters.baseInfoUser&&p.h.getters.baseInfoUser.uid,m("尝试停止上报"),(0,u.Y)()){t.next=6;break}return m("停止发送心跳：浏览器不支持wasm"),f.default.report("live_w_reject",{reason:1}),t.abrupt("return");case 6:if(e){t.next=10;break}return m("停止发送心跳：未登录"),f.default.report("live_w_reject",{reason:2}),t.abrupt("return");case 10:if(k){t.next=14;break}return m("停止发送心跳：已经是停止状态"),t.abrupt("return");case 14:return k=!1,t.prev=15,t.next=18,l.p.stop();case 18:m("触发了停止心跳"),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(15),m("心跳出错："+t.t0.message);case 24:case"end":return t.stop()}}),t,null,[[15,21]])})))}function A(t){return y(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,u.Y)()){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",l.p.update(t));case 3:case"end":return e.stop()}}),e)})))}function C(t){m("时长上报失败：code: "+t),window.postMessage({type:"liveWatchTrackerFail",reason:t},"*"),R(0,t)}function R(t,e){(0,w.z1)("supportWasmHeartBeat",{support:t,reason:e})}!function(t){t[t.LOAD_WASM_FAIL=1]="LOAD_WASM_FAIL",t[t.NOT_SUPPORT_WASM=2]="NOT_SUPPORT_WASM",t[t.WATCH_TRACKER_ERROR=3]="WATCH_TRACKER_ERROR",t[t.ENTER_FAIL=10]="ENTER_FAIL",t[t.HEARTBEAT_FAIL=11]="HEARTBEAT_FAIL"}(v||(v={}))},65190:function(t,e,n){"use strict";n.d(e,{c5:function(){return O},xk:function(){return F},pr:function(){return G}});var r,i=n(2991),o=n.n(i),a=n(77766),s=n.n(a),c=n(51942),u=n.n(c),l=["p0","p1","total"],f=["jquery","player","app","bilibili","vendors"],d=u()(u()(u()(((r={}).neptune="start",r.noire="headScript",r.blanc="headStyle",r.vert="playerDom",r.nepgear="mainDom",r.uni="ssrData",r.rom="playerScript",r.ram="businessScript",r.misaka="playerInit",r.mikoto="playerFirstLoadMeta",r.businessStart="businessStart",r.primaryVMInitialized="primaryVMInitialized",r.storeCoreDataInitialized="storeCoreDataInitialized",r.storeExtDataInitialized="storeExtDataInitialized",r.preloadStart="preloadStart",r.preLoadVMInitialized="preLoadVMInitialized",r.preLoadInitializationFinished="preLoadInitializationFinished",r.bgImgLoaded="bgImgLoaded",r.faceImgLoaded="faceImgLoaded",r.beforeUserInfoInit="beforeUserInfoInit",r.afterUserInfoInit="afterUserInfoInit",r.initializationFinished="initializationFinished",r.firstscreenfinish="firstscreenfinish",r),f.reduce((function(t,e){var n;return u()(u()({},t),((n={})[e]=e+"ScriptLoaded",n))}),{})),{maxScriptLoaded:"maxScriptLoaded"}),s()(l).call(l,["DCL","FP","L","FCP","LCP","TTFB"]).reduce((function(t,e){var n;return u()(u()({},t),((n={})[e]=e,n))}),{})),p=n(68913),h=n(20116),m=n.n(h),v=n(3649),g=n.n(v),b=n(94473),w=n.n(b),y=n(78580),k=n.n(y),_=n(2708);function I(){var t=performance.timing,e={entryType:"navigation",startTime:0,type:performance.navigation.type===performance.navigation.TYPE_BACK_FORWARD?"back_forward":performance.navigation.type===performance.navigation.TYPE_NAVIGATE?"navigate":performance.navigation.type===performance.navigation.TYPE_RELOAD?"reload":"prerender"};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}var T,x,S,A=n(3595),C=n(59340),R=n.n(C),E=n(23933);function L(){try{var t=(performance.getEntriesByType("navigation")[0]||I()).type;return"navigate"===t?x.navigate:"reload"===t?x.reload:"back_forward"===t?x.backForward:x.other}catch(t){return x.other}}function P(){try{return"h2"===performance.getEntriesByType("navigation")[0].nextHopProtocol?1:0}catch(t){return 0}}!function(t){t[t.other=0]="other",t[t["2g"]=2]="2g",t[t["3g"]=3]="3g",t[t["4g"]=4]="4g"}(T||(T={})),function(t){t[t.navigate=0]="navigate",t[t.reload=1]="reload",t[t.backForward=2]="backForward",t[t.other=255]="other"}(x||(x={})),function(t){t[t.Other=0]="Other",t[t.Mac=1]="Mac",t[t.Windows=2]="Windows",t[t.Unix=3]="Unix",t[t.Linux=4]="Linux"}(S||(S={}));var M=["startTime","navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],D=new(function(){function t(t){void 0===t&&(t="000967"),this.logId=t}var e=t.prototype;return e.setPerformLogId=function(t){return this.logId=t,this},e.spy=function(t){var e,n,r,i,o=t.customMetrics,a=t.eventContent,c=u()(u()({roomid:E.e.getRoomId()},{dimension:[(e="Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform,n="Win32"===navigator.platform||"Windows"===navigator.platform,r="X11"===navigator.platform&&!n&&!e,i=String(navigator.platform).indexOf("Linux")>-1,e?S.Mac:n?S.Windows:r?S.Unix:i?S.Linux:S.Other),"hidden"===document.visibilityState||document.hidden?0:1,L(),navigator.connection&&"4g"===navigator.connection.effectiveType?T["4g"]:navigator.connection&&"3g"===navigator.connection.effectiveType?T["3g"]:navigator.connection&&"2g"===navigator.connection.effectiveType?T["2g"]:T.other,navigator.serviceWorker&&navigator.serviceWorker.controller?1:0,P(),PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&["largest-contentful-paint","paint"].every((function(t){var e;return k()(e=PerformanceObserver.supportedEntryTypes).call(e,t)}))?1:0].join(",")}),function(t){try{var e=performance.getEntriesByType("navigation")[0]||I();return t.reduce((function(t,n){var r;return s()(r=[]).call(r,t,[{pointName:n,ts:"string"!=typeof e[n]?(0,_.toDecimal)(e[n]):e[n]}])}),[])}catch(t){return[]}}(M).reduce((function(t,e){var n;return u()(u()({},t),((n={})[e.pointName]=e.ts,n))}),{}));if(o)c.custom_type="custom_metrics",c.custom_mes=o;else if(a)for(var l in a)c[l]=a[l];var f={logId:this.logId,param:{business_name:"blfe-live-room",level:"log",event_name:"performanceTrack",event_content:R()(c)}};window.__statisObserver.sendSpecial(f)},e.sendPerform=function(t){return this.spy(t),this},e.sendCustomMetrics=function(t){var e;return this.spy({customMetrics:R()((e={},e[t.key]=t.duration,e))}),this},t}()),N=(0,p.Yb)("load-performance-track"),B="undefined"!=typeof window&&-1!==window.location.pathname.indexOf("blanc")?"444.60":"444.8";function O(t,e){try{return window.addWaifu&&window.addWaifu(t,e)}catch(t){}}function F(){try{!function(t){void 0===t&&(t={});window.__statisObserver&&window.__statisObserver.sendPerform&&window.__statisObserver.sendPerform(u()({spmId:B},t))}()}catch(t){}try{var t,e,n=function(t){if(window.performance&&window.performance.getEntriesByType){var e,n,r=m()(e=g()(n=window.performance.getEntriesByType("resource")).call(n,0,10)).call(e,(function(t){return"script"===t.initiatorType}));return t.reduce((function(t,e){var n,i=w()(r).call(r,(function(t){return new RegExp(e).test(function(t){var e=t.name.split("/");return e[e.length-1]}(t))})),o=i?Math.floor(i.duration):0;return s()(n=[]).call(n,t,[{pointName:e,ts:o}])}),[])}return[]}(f),r=Math.max.apply(null,o()(n).call(n,(function(t){return t.ts}))),i=s()(t=[]).call(t,s()(n).call(n,{pointName:"maxScriptLoaded",ts:r}),function(t){try{var e,n=performance.getEntriesByType("navigation")[0].serverTiming;return o()(e=m()(n).call(n,(function(e){return k()(t).call(t,e.name)}))).call(e,(function(t){return{pointName:t.name,ts:t.duration}}))}catch(t){return[]}}(l),o()(e=performance.getEntriesByType("mark")).call(e,(function(t){return{pointName:t.name,ts:t.startTime}})));if(!Array.isArray(i))return;var a=function(t){return t.reduce((function(t,e){var n,r=d[e.pointName];return r?u()({},t,((n={})[r]="string"!=typeof e.ts?(0,_.toDecimal)(e.ts):e.ts,n)):t}),{})}(i);N(a),function(t){if("LIVE"!==A.h.getters.baseInfoRoom.liveStatus)return;D.sendPerform({eventContent:t})}(a),performance.clearMarks&&performance.clearMarks()}catch(t){}}function G(t,e,n){!function t(e,n){void 0===n&&(n=0),window.__statisObserver&&window.__statisObserver.sendCustomMetrics?window.__statisObserver.sendCustomMetrics(e):n<30&&setTimeout((function(){t(e,n+1)}),1e3)}(u()({key:t,spmId:B,duration:e||Math.floor(performance.now())},n||{}))}},68913:function(t,e,n){"use strict";n.d(e,{Yd:function(){return h},$S:function(){return g},Yb:function(){return m},a5:function(){return v}});var r=n(88860),i=n(20116),o=n.n(i),a=n(77766),s=n.n(a),c=n(26849),u=!1;try{u=n(2708).isMsBrowsers}catch(t){}var l=function(){return null},f={info:{text:"Info",logger:u?l:console.log||l,color:"#23ade5"},warn:{text:"Warn",logger:u?l:console.warn||l,color:"#f98441"},error:{text:"Error",logger:u?l:console.error||l,color:"#e5382d"}},d=1,p=function(){function t(t,e){this.level="info",this.content=[],this.id=d++,this.level=t,this.moduleName=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.content=r}var e=t.prototype;return e.printInfo=function(){try{if(!window.BilibiliLive.COLORFUL_LOGGER)return;var t=f[this.level],e=t.color,n=["%c "+t.text+" %c %s","color: #fff; padding: 2px; 4px; background-color:"+e,"color:"+e,'from "'+this.moduleName+'", id: '+this.id];this.printFunc.apply(null,n)}catch(t){}},e.printDetail=function(){try{if(!window.BilibiliLive.COLORFUL_LOGGER)return;this.printFunc.apply(null,this.content)}catch(t){}},(0,c.Z)(t,[{key:"printFunc",get:function(){return f[this.level].logger}}]),t}(),h=function(){function t(){}return t.printAll=function(){"undefined"!=typeof window&&(window.BilibiliLive.COLORFUL_LOGGER=!0),t.historyLogs.forEach(w)},t.print=function(e){if("undefined"!=typeof window&&(window.BilibiliLive.COLORFUL_LOGGER=!0),"number"!=typeof e)t.printAll();else{var n,r=o()(n=t.historyLogs).call(n,(function(t){return t.id===e}))[0];r&&w(r)}},t.help=function(){"undefined"!=typeof window&&window.console&&window.console.log&&console.log("\n      Logger 使用帮助:\n      ===\n       - Logger.help(), 查看 Logger 帮助.\n       - Logger.print(id: number), 打印特定 ID 日志, 若不传入 ID 则打印所有.\n       - Logger.printAll(), 打印全部日志.\n    ")},t}();function m(t){return function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return b.apply(void 0,s()(e=["info",t]).call(e,r))}}function v(t){return function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return b.apply(void 0,s()(e=["warn",t]).call(e,r))}}function g(t){return function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return b.apply(void 0,s()(e=["error",t]).call(e,r))}}function b(t,e){for(var n,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var c=(0,r.Z)(p,s()(n=[t,e]).call(n,o));h.historyLogs.push(c),c.printInfo()}function w(t){t.printInfo(),t.printDetail()}h.historyLogs=[]},53466:function(t,e,n){"use strict";n.d(e,{O:function(){return a}});var r=n(20549),i=n(91236),o=n.n(i)()+"static/img/lottery-gift-images/";function a(t){return t=t.toString(),isNaN(parseInt(t))?o+"gift-"+t+".png":(0,r.KZ)(parseInt(t))}},53895:function(t,e,n){"use strict";n.d(e,{Xj:function(){return f},X_:function(){return l},cj:function(){return u}});var r=n(66570),i=n(20116),o=n.n(i),a=n(51942),s=n.n(a),c=function(){function t(t){this.filter=t}return t.prototype.filteData=function(t){return o()(this).filteData(t)},t}(),u=function(){function t(){}return t.prototype.filteData=function(t){var e=t.gift_name,n=void 0===e?"":e,r=t.gift_num,i=void 0===r?0:r,o=t.gift_content,a=void 0===o?"":o,s=t.gift_id,c=void 0===s?0:s,u=t.gift_type,l=void 0===u?0:u,f=t.gift_image;return{giftName:n,giftNum:i,giftContent:a,giftId:c,giftType:l,giftPicUrl:void 0===f?"":f}},t}(),l=function(t){function e(e){return t.call(this,e)||this}(0,r.Z)(e,t);var n=e.prototype;return n.filteData=function(t){var e=this.filteAssets(t),n=o()(this).filteData(t);return s()(n,e)},n.filteAssets=function(t){return{prizeUrl:t.gift_image}},e}(c),f=function(){function t(){}return t.filterResult=function(t){var e=t.award_type,n=t.award_id,r=t.award_text,i=t.award_image,o=t.award_num,a=void 0===o?0:o;return{giftName:t.award_name||r,giftNum:a,giftId:n,giftType:e||0,giftPicUrl:i}},t}()},25686:function(t,e,n){"use strict";var r,i;n.d(e,{J:function(){return r},e:function(){return i}}),function(t){t[t.notStart=0]="notStart",t[t.inProcess=1]="inProcess",t[t.end=2]="end"}(r||(r={})),function(t){t[t.like=1]="like",t[t.unlike=2]="unlike"}(i||(i={}))},23535:function(t,e,n){"use strict";n.d(e,{h:function(){return m},n:function(){return b}});var r,i=n(63109),o=n.n(i),a=n(93476),s=n.n(a),c=n(23933),u=n(27178),l=n(66552),f=n(68913),d=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},p=((0,f.Yb)("lpl-member"),function(){function t(){this.TIMEOUT_MAX=2147483647,this.cutOffPic="",this.remainPlayTime=-1,this.dialog_type=-1,this.tipType=null,this.bindUrl="",this.buyUrl="",this.timer=null}var e=t.prototype;return e.checkFlow=function(){return d(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkDialogStatus();case 2:case"end":return t.stop()}}),t,this)})))},e.checkDialogStatus=function(t){var e=this;try{return b.showNoDialog(),new(s())((function(n,r){if(6===e.dialog_type)b.showLoginDialog(),e.cutOffVideoFlow(!0);else if(0!==e.dialog_type&&(e.remainPlayTime>=0||t)){var i=t?0:e.remainPlayTime=1e3*e.remainPlayTime>e.TIMEOUT_MAX?e.TIMEOUT_MAX:1e3*e.remainPlayTime;e.timer=setTimeout((function(){switch(e.cutOffVideoFlow(!0),e.dialog_type){case 1:b.showFinishLookDialog();break;case 2:b.showBindOrLookDialog();break;case 3:b.showBindOrCancelDialog();break;case 4:b.showTryOutDialog();break;case 5:b.showMemberOutDialog()}u.Q.setWindowShowFlag(e.dialog_type).then().catch(),clearTimeout(e.timer)}),i)}else if(0===e.dialog_type)if(e.remainPlayTime){b.showNoDialog(),e.remainPlayTime=1e3*e.remainPlayTime>e.TIMEOUT_MAX?e.TIMEOUT_MAX:1e3*e.remainPlayTime;var o=setTimeout((function(){e.cutOffVideoFlow(!0),clearTimeout(o)}),e.remainPlayTime)}else e.cutOffVideoFlow(!0),b.showNoDialog()}))}catch(t){this.cutOffVideoFlow(),console.log(t)}},e.cutOffVideoFlow=function(t){var e=this;void 0===t&&(t=!1);try{l.Rw.on("initialized",(function(){l.Rw.stopPlayback({url:t?e.cutOffPic:""})}))}catch(t){0}},e.fetchLplRoomInfo=function(){return d(this,void 0,void 0,o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new(s())((function(t,n){var r=c.e.getRoomId();u.Q.getLplRoomInfo(r).then((function(n){if(n.error)e.cutOffVideoFlow(!0),b.showErrDialog();else{var r=n.data,i=r.default_img,o=r.play_time,a=r.window_type,s=r.bind_url,c=r.buy_url,u=r.listen_broadcast;e.cutOffPic=i,e.remainPlayTime=o,e.dialog_type=a,e.bindUrl=s,e.buyUrl=c,e.listen_broadcast=u,t()}})).catch((function(t){e.cutOffVideoFlow(!0)}))})));case 1:case"end":return t.stop()}}),t)})))},t}()),h=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},m=new(function(){function t(){this.member=null,this.isRoomChargeLpl=!1,this.member=new p}var e=t.prototype;return e.init=function(t){this.isRoomChargeLpl=t,this.isRoomChargeLpl&&this.checkFlow()},e.checkFlow=function(){return h(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.member.fetchLplRoomInfo();case 2:return t.next=4,this.member.checkFlow();case 4:case"end":return t.stop()}}),t,this)})))},t}()),v=n(96225);!function(t){t.errDialog="error",t.noDialog="",t.finishLookDialog="finishLook",t.bindOrLookDialog="bindOrLook",t.bindOrCancelDialog="bindOrCancel",t.tryOutDialog="tryOut",t.memberOutDialog="memberOut",t.showLogin="login"}(r||(r={}));var g=(0,v.Z)("LplMember"),b=function(){function t(){}return t.showErrDialog=function(){this.event.emit("LplMember: showDialog",{type:r.errDialog})},t.showNoDialog=function(){this.event.emit("LplMember: showDialog",{type:r.noDialog})},t.showFinishLookDialog=function(){this.event.emit("LplMember: showDialog",{type:r.finishLookDialog})},t.showBindOrLookDialog=function(){this.event.emit("LplMember: showDialog",{type:r.bindOrLookDialog})},t.showBindOrCancelDialog=function(){this.event.emit("LplMember: showDialog",{type:r.bindOrCancelDialog})},t.showTryOutDialog=function(){this.event.emit("LplMember: showDialog",{type:r.tryOutDialog})},t.showMemberOutDialog=function(){this.event.emit("LplMember: showDialog",{type:r.memberOutDialog})},t.showLoginDialog=function(){this.event.emit("LplMember: showDialog",{type:r.showLogin})},t.directShowWin=function(t){this.event.emit("LplMember: directShowWindow",{type:t})},t.onDialogDealMsg=function(t){this.event.on("LplMember: showDialog",t)},t.onDirectShowWin=function(t){this.event.on("LplMember: directShowWindow",t)},t}();b.event=g},27178:function(t,e,n){"use strict";n.d(e,{Q:function(){return f}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=n(74338),l=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},f=function(){function t(){}return t.getLplRoomInfo=function(t){return l(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.info,r={room_id:t,_t:(new Date).valueOf()},e.next=5,c().get(n,{params:r});case 5:if(o=e.sent,a=o.data,s=a.code,l=a.data,0!==parseInt(s)){e.next=12;break}return e.abrupt("return",{data:l,error:null});case 12:return e.abrupt("return",{error:new Error(a.msg||n+" "+u.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:a.msg,code:a.code,data:a.data});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:u.D.SERVER_ERROR_MSG,data:null});case 18:case"end":return e.stop()}}),e,this,[[0,15]])})))},t.getLplBindToken=function(){return l(this,void 0,void 0,i().mark((function t(){var e,n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.urls.token,t.next=4,c().get(e);case 4:if(n=t.sent,r=n.data,o=r.code,a=r.data,0!==parseInt(o)){t.next=11;break}return t.abrupt("return",{data:a,error:null});case 11:return t.abrupt("return",{error:new Error(r.msg||e+" "+u.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:r.msg,code:r.code,data:r.data});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",{error:t.t0,errorType:"error",errorMsg:u.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return t.stop()}}),t,this,[[0,14]])})))},t.setWindowShowFlag=function(t){return l(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.show,r={window_type:t},e.next=5,c().get(n,{params:r});case 5:if(o=e.sent,a=o.data,s=a.code,l=a.data,0!==parseInt(s)){e.next=12;break}return e.abrupt("return",{data:l,error:null});case 12:return e.abrupt("return",{error:new Error(a.msg||n+" "+u.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:a.msg,code:a.code,data:a.data});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:u.D.SERVER_ERROR_MSG,data:null});case 18:case"end":return e.stop()}}),e,this,[[0,15]])})))},t}();f.urls={info:"/xlive/general-interface/v1/LplActivity/getLplRoomPlayInfo",token:"/xlive/app-ucenter/v1/lpl/LplGetToken",show:"/xlive/general-interface/v1/LplActivity/setAlertWindowShow"}},46119:function(t,e,n){"use strict";var r,i;n.d(e,{w:function(){return i}}),function(t){t[t.normal=1]="normal",t[t.giftLottery=2]="giftLottery",t[t.guardLottery=3]="guardLottery",t[t.guardWelcome=4]="guardWelcome",t[t.giftLotteryResult=5]="giftLotteryResult",t[t.highEnergy=6]="highEnergy"}(r||(r={})),function(t){t.player="player",t.chatArea="chatarea"}(i||(i={}))},76209:function(t,e,n){"use strict";n.d(e,{Lm:function(){return y},JR:function(){return w},IA:function(){return k}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=n(18980),l=n(32114),f=(n(74338),n(3595)),d=n(2708),p=n(68913),h=n(65190),m=n(41125),v=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},g=(0,p.Yb)("misc-stuff/report"),b=null;function w(){if(b)return b;var t=(0,d.getLiteVersionStatus)()?(0,d.getQueryWindowTopString)("live_from"):(0,d.getQueryString)("live_from"),e={up_id:f.h.getters.baseInfoAnchor.uid,room_id:f.h.getters.baseInfoRoom.roomID,area_id:f.h.getters.baseInfoRoom.parentAreaID,subarea_id:f.h.getters.baseInfoRoom.areaID,jumpfrom:t,online:f.h.getters.baseInfoRoom.onlineCount,status:f.h.getters.baseInfoRoom.liveStatus,pk_id:f.h.getters.baseInfoRoom.pkId},n={spmId:"444.8",loadSpecial:!0,loadPerform:-1===window.location.pathname.indexOf("blanc"),srcBaseUrl:"//s1.hdslb.com/bfs/seed/blive/blfe-link-shortassets/dist/component.statistics/",pvConfig:{logId:"000358",isDoubleWrite:!0,selfDefMsg:e},clickConfig:{logId:"000527",isDoubleWrite:!0},selfConfig:{logId:"000527",isDoubleWrite:!0,isSelfDefWrite:!0,isDefaultWrite:!1},performConfig:{isWrite:!1}};return(b=u.default.init(n)).then((function(){setTimeout(h.xk,1e4),(0,m.hb)()})).catch((function(t){console.error("统计脚本加载失败：",t)})),g("上报配置：",n),b}function y(t){return v(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().post("/xlive/web-room/v1/index/roomEntryAction",{room_id:t,platform:"pc"});case 2:n=e.sent,(r=n.serverResponse).error&&(0,p.$S)("module/misc-stuff")("房间进入操作请求失败",r.error);case 5:case"end":return e.stop()}}),e)})))}function k(){var t=function(){try{var t=window.WebAssembly;if("object"==typeof t&&"function"==typeof t.instantiate){var e=new t.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof t.Module)return new t.Instance(e)instanceof t.Instance}}catch(t){}return!1}();l.Z.report("supportWASM",{support_wasm:t?1:0})}},96225:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});function r(t,e,n,r){void 0===e&&(e="info"),void 0===n&&(n=""),void 0===r&&(r="")}var i=new(n(70538).default);function o(t,e,n){e?(i.$emit(t+"/"+e,n),function(t,e){u(t,"\b\b触发事件 type: "+e)}(t,e)):c(t,e)}function a(t,e,n){if(e)return function(t,e){u(t,"监听事件 type: "+e)}(t,e),i.$on(t+"/"+e,n);c(t,e)}function s(t,e,n){e?(i.$off(t+"/"+e,n),function(t,e){u(t,"取消事件 type: "+e)}(t,e)):c(t,e)}function c(t,e){r(0,"error",e+" 事件未注册")}function u(t,e){r(0,"info",e)}var l=function(){function t(t,e){this.moduleName=t,this.eventsType=e}var e=t.prototype;return e.on=function(t,e){return a(this.moduleName,t,e)},e.off=function(t,e){s(this.moduleName,t,e)},e.emit=function(t,e){o(this.moduleName,t,e)},e.print=function(t,e,n){void 0===n&&(n=""),r(this.moduleName,t,e,n)},t}();var f=function(t,e){return void 0===e&&(e=null),new l(t,e)}},23374:function(t,e,n){"use strict";n.d(e,{KU:function(){return P},of:function(){return I},GN:function(){return T},bJ:function(){return R}});var r,i,o=n(63109),a=n.n(o),s=n(93476),c=n.n(s),u=n(51942),l=n.n(u),f=n(35494);!function(t){t[t.normal=0]="normal",t[t.month=1]="month",t[t.year=2]="year"}(r||(r={})),function(t){t[t.normal=0]="normal",t[t.month=1]="month",t[t.year=2]="year"}(i||(i={}));var d=n(23933),p=function(){function t(){}return t.checkInfo=function(t){var e=t.init_info,n=t.match_info,r=this.basicInfo(t),i=null,o=null,a=e.init_id,s=n.match_id;return e.init_id===d.e.getRoomId()?(i=this.initPlayerInfo(e),o=this.matchPlayerInfo(n)):(o=this.initPlayerInfo(e),i=this.matchPlayerInfo(n)),{basicInfo:r,initPlayerInfo:i,matchPlayerInfo:o,initId:a,matchId:s}},t.basicInfo=function(t){var e=t.pk_id,n=void 0===e?0:e,r=t.status,i=void 0===r?0:r,o=t.pk_topic,a=void 0===o?"":o,s=t.punish_topic,c=void 0===s?"":s,u=t.pk_pre_time,l=void 0===u?0:u,f=t.pk_start_time,d=void 0===f?0:f,p=t.pk_end_time,h=void 0===p?0:p,m=t.end_time,v=void 0===m?0:m,g=t.timestamp,b=void 0===g?0:g;return{id:n,status:i,pkTopic:a,punishmentTopic:c,preTime:d-Math.max(l,b),pkTime:h-Math.max(d,b),punishTime:v-Math.max(h,b),isOut:b>=v,preTimestamp:l,startTimestamp:d,punishTimestamp:h,micEndTimestamp:v}},t.playerInfo=function(t){var e=t.uid,n=void 0===e?0:e,r=t.uname,i=void 0===r?"":r,o=t.face;return{uid:n,uname:i,face:void 0===o?"":o,score:t.votes}},t.initPlayerInfo=function(t){return l()(this.playerInfo(t),{roomId:t.init_id?t.init_id:t.match_id})},t.matchPlayerInfo=function(t){return l()(this.playerInfo(t),{roomId:t.init_id?t.init_id:t.match_id})},t.settleInfo=function(t){var e=(t||{}).user_votes,n=void 0===e?0:e;return l()(h.settleInfo(t),{currentUserScore:n})},t.timeInfo=function(t){var e=(t||{}).timestamp;return{currentTime:void 0===e?null:e}},t}(),h=function(){function t(){}return t.matchInfo=function(t){var e=t.data,n=e.uid,r=void 0===n?0:n,i=e.uname,o=void 0===i?"":i,a=e.face,s=void 0===a?"":a,c=e.init_id;return{uid:r,uname:o,face:s,matchId:e.match_id,initId:c}},t.preInfo=function(t){return l()(p.basicInfo(t.data),{status:t.pk_status,id:t.pk_id})},t.startInfo=function(t){var e=t.data.pk_topic;return{pkTopic:void 0===e?"":e}},t.punishinfo=function(t){var e=t.data.punish_topic;return{punishmentTopic:void 0===e?"":e}},t.processInfo=function(t){var e=t.data,n=e.init_votes,r=void 0===n?0:n,i=e.match_votes,o=void 0===i?0:i,a=e.uid,s=void 0===a?0:a,c=e.user_votes,u=void 0===c?0:c,l=e.gift_id,f=void 0===l?0:l,d=e.gift_num;return{initPlayerScore:r,matchPlayerScore:o,uid:s,userScore:u,giftId:f,giftNum:void 0===d?0:d}},t.settleUserInfo=function(t){var e=t||{},n=e.face,r=void 0===n?"":n,i=e.uname,o=void 0===i?"":i,a=e.face_frame,s=void 0===a?"":a,c=e.badge,u=(c=void 0===c?{}:c).url,l=void 0===u?"":u,f=e.vip_type,d=void 0===f?0:f,p=e.votes,h=void 0===p?0:p,m=e.uid;return{uid:void 0===m?0:m,face:r,uname:o,avatar:s,corner:l,vipLevel:d,score:h}},t.settleMasterInfo=function(t){var e=t||{},n=e.exp,r=(n=void 0===n?{}:n).master_level,i=(r=void 0===r?{}:r).level,o=void 0===i?0:i,a=e.is_winner,s=void 0!==a&&a;return l()(this.settleUserInfo(t),{upLevel:o,isWinner:s})},t.settleBestUserInfo=function(t){var e=t||{},n=e.exp,i=(n=void 0===n?{}:n).user_level,o=void 0===i?0:i,a=e.vip,s=(a=void 0===a?{}:a).vip,c=void 0===s?0:s,u=a.svip,f=void 0===u?0:u,d=e.privilege_type,p=void 0===d?0:d,h=e.is_winner,m=void 0!==h&&h;return l()(this.settleUserInfo(t),{guardLevel:p,userLevel:o,liveVipLevlel:1===f?r.year:1===c?r.month:r.normal,isWinner:m})},t.settleInfo=function(t){var e=t.init_info,n=t.match_info,r=t.best_user;return{initMasterInfo:this.settleMasterInfo(d.e.getRoomId()===e.init_id?e:n),matchMasterInfo:this.settleMasterInfo(d.e.getRoomId()===n.match_id?e:n),bestUserInfo:this.settleBestUserInfo(r)}},t.againInfo=function(t){return{newPKId:t.data.new_pk_id}},t}(),m=n(9669),v=n.n(m),g=n(74338),b=function(t,e,n,r){return new(n||(n=c()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},w=function(){function t(){}return t.check=function(t){return b(this,void 0,void 0,a().mark((function e(){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.check,r={platform:g.D.PLATFORM,pk_id:t},e.next=5,v().get(n,{params:r});case 5:if(i=e.sent,o=i.data,0===parseInt(o.code)){e.next=11;break}return e.abrupt("return",{error:new Error(o.msg||n+" "+g.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 11:return e.abrupt("return",{data:o.data,error:null});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:g.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))},t.getCurrentTime=function(){return b(this,void 0,void 0,a().mark((function t(){var e,n,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.urls.currentTime,n={platform:g.D.PLATFORM},t.next=5,v().post(e,n);case 5:if(r=t.sent,i=r.data,0===parseInt(i.code)){t.next=11;break}return t.abrupt("return",{error:new Error(i.msg||e+" "+g.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:i.msg,code:i.code,data:null});case 11:return t.abrupt("return",{data:i.data,error:null});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",{error:t.t0,errorType:"error",errorMsg:g.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return t.stop()}}),t,this,[[0,14]])})))},t.getSettleInfo=function(t,e){return b(this,void 0,void 0,a().mark((function n(){var r,i,o,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=this.urls.getSettleInfo,i={platform:g.D.PLATFORM,pk_id:t,need_info:1,room_id:e},n.next=5,v().get(r,{params:i});case 5:if(o=n.sent,s=o.data,0===parseInt(s.code)){n.next=11;break}return n.abrupt("return",{error:new Error(s.msg||r+" "+g.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:s.msg,code:s.code,data:null});case 11:return n.abrupt("return",{data:s.data,error:null});case 12:n.next=17;break;case 14:return n.prev=14,n.t0=n.catch(0),n.abrupt("return",{error:n.t0,errorType:"error",errorMsg:g.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return n.stop()}}),n,this,[[0,14]])})))},t}();w.urls={check:"/av/v1/Pk/getInfoById",currentTime:"/av/v1/Time/getTimestamp",getSettleInfo:"/av/v1/Pk/result"};var y,k=n(96225);!function(t){t.match="match",t.pre="pre",t.start="start",t.update="update",t.settle="settle",t.punish="punish",t.end="end",t.oneAgain="oneAgain",t.again="again",t.micEnd="micEnd",t.newPK="newPK",t.lostSettle="lostSettle",t.confirmAgain="confirmAgain",t.realEnd="realEnd",t.confirmMatch="confirmMatch",t.checkTime="checkTime",t.selfEnd="selfEnd"}(y||(y={}));var _=(0,k.Z)("PK"),I=function(){function t(){}return t.newPK=function(t){this.event.emit(y.newPK,t)},t.onNewPK=function(t){this.event.on(y.newPK,t)},t.lostSettleSocket=function(t){this.event.emit(y.lostSettle,t)},t.onLostSettleSocket=function(t){this.event.on(y.lostSettle,t)},t.confirmAgain=function(t){this.event.emit(y.confirmAgain,t)},t.onConfirmAgain=function(t){this.event.on(y.confirmAgain,t)},t.realEnd=function(t){this.event.emit(y.realEnd,t)},t.onRealEnd=function(t){this.event.on(y.realEnd,t)},t.match=function(t){this.event.emit(y.confirmMatch,t)},t.onMatch=function(t){this.event.on(y.confirmMatch,t)},t.checkTime=function(t){this.event.emit(y.checkTime,t)},t.onCheckTime=function(t){this.event.on(y.checkTime,t)},t.selfEnd=function(t){this.event.emit(y.selfEnd,t)},t.onSelfEnd=function(t){this.event.on(y.selfEnd,t)},t}();I.event=_;var T=function(){function t(){}return t.match=function(t){this.event.emit(y.match,t)},t.onMatch=function(t){this.event.on(y.match,t)},t.pre=function(t){this.event.emit(y.pre,t)},t.onPre=function(t){this.event.on(y.pre,t)},t.start=function(t){this.event.emit(y.start,t)},t.onStart=function(t){this.event.on(y.start,t)},t.update=function(t){this.event.emit(y.update,t)},t.onUpdate=function(t){this.event.on(y.update,t)},t.punish=function(t){this.event.emit(y.punish,t)},t.onPunish=function(t){this.event.on(y.punish,t)},t.settle=function(t){this.event.emit(y.settle,t)},t.onSettle=function(t){this.event.on(y.settle,t)},t.again=function(t){this.event.emit(y.again,t)},t.onAgain=function(t){this.event.on(y.again,t)},t.micEnd=function(t){this.event.emit(y.micEnd,t)},t.onMicEnd=function(t){this.event.on(y.micEnd,t)},t}();T.event=_;var x=n(50097),S=n(20567),A=function(t,e,n,r){return new(n||(n=c()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},C=null,R=function(){function t(){}return t.getPKId=function(){return C&&C.id||0},t}(),E=function(){function t(t){this.isBlock=!1,this.reyTryTid=null,this.setPK(null),this.onMsg(),this.init(t).then().catch()}var e=t.prototype;return e.setPK=function(t){this.pk=t,I.newPK(t),C=t,this.pk&&(this.pk.matchPlayer.giftHistory.setBlockStatus(this.isBlock),this.isBlock&&this.pk.matchPlayer.giftHistory.clear())},e.init=function(t){return A(this,void 0,void 0,a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=8;break}return e.next=3,this.check(t);case 3:if((n=e.sent)&&!n.basicInfo.isOut){e.next=6;break}return e.abrupt("return");case 6:r=this.createPK(n),this.setPK(r);case 8:case"end":return e.stop()}}),e,this)})))},e.check=function(t){return void 0===t&&(t=0),A(this,void 0,void 0,a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.check(t);case 2:if((n=e.sent).error){e.next=7;break}return e.abrupt("return",p.checkInfo(n.data));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))},e.getSettle=function(t){return A(this,void 0,void 0,a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getSettleInfo(t,d.e.getRoomId());case 2:(n=e.sent).error||(r=p.settleInfo(n.data),this.pk.currentUserScore=r.currentUserScore,r&&this.settle(r));case 4:case"end":return e.stop()}}),e,this)})))},e.onMsg=function(){var t=this;x.$.onBlockEffect((function(e){var n=e.type,r=e.isBlock;return A(t,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.indexOf(S.m.GiftAnimation)<0)){t.next=2;break}return t.abrupt("return");case 2:if(this.isBlock=r,this.pk&&this.pk.matchPlayer.giftHistory.setBlockStatus(r),!r){t.next=10;break}return t.next=7,this.pk;case 7:if(t.t0=t.sent,!t.t0){t.next=10;break}this.pk.matchPlayer.giftHistory.clear();case 10:case"end":return t.stop()}}),t,this)})))})),T.onMatch((function(e){var n=h.matchInfo(e),r=n.initId,i=n.matchId;t.match(e.pk_id,l()(n,{roomId:d.e.getRoomId()===r?i:r,score:0}),r,i)})),T.onPre((function(e){var n=h.preInfo(e);t.pre(e.pk_id,n)})),T.onStart((function(e){var n=h.startInfo(e);t.start(n,e.pk_id)})),T.onUpdate((function(e){var n=h.processInfo(e);t.update(n)})),T.onPunish((function(e){var n=h.punishinfo(e);t.punish(n)})),T.onSettle((function(e){try{var n=h.settleInfo(e.data);t.settle(n)}catch(t){0}})),T.onAgain((function(e){var n=h.againInfo(e);t.again(n)})),T.onMicEnd((function(e){0===e.data.type?t.end(e):(t.pk.initPlayer.clear(),t.pk.matchPlayer.clear())})),I.onLostSettleSocket((function(e){return A(t,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSettle(this.pk.id);case 2:case"end":return t.stop()}}),t,this)})))})),I.onCheckTime((function(){return A(t,void 0,void 0,a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkTime();case 2:case"end":return t.stop()}}),t,this)})))}))},e.checkTime=function(){return A(this,void 0,void 0,a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getCurrentTime();case 2:e=t.sent,(n=p.timeInfo(e.data)).currentTime&&this.pk&&this.pk.changeTime(n.currentTime);case 5:case"end":return t.stop()}}),t,this)})))},e.createPK=function(t){var e=t.basicInfo,n=t.initPlayerInfo,r=t.matchPlayerInfo,i=t.initId,o=t.matchId,a=new f.PK(e);return a.initId=i,a.matchId=o,a.setInitPlayer(new f.J5(n)),a.setMatchPlayer(new f.J5(r)),a.status===f.ck.punishing&&this.getSettle(a.id).then().catch(),a},e.createInitPlayerInfo=function(){return{uid:d.e.getAnchorUid(),uname:d.e.getAnchorUserName(),face:d.e.getAnchorFace(),score:0,roomId:d.e.getRoomId()}},e.createPKBySocket=function(t,e,n){var r={id:t,preTime:n.preTime,pkTime:n.pkTime,pkTopic:n.pkTopic,punishTime:n.punishTime,punishmentTopic:"",preTimestamp:n.preTimestamp,startTimestamp:n.startTimestamp,punishTimestamp:n.punishTimestamp,micEndTimestamp:n.micEndTimestamp},i=new f.PK(r);return i.setInitPlayer(new f.J5(this.createInitPlayerInfo())),i.setMatchPlayer(new f.J5(e)),i},e.match=function(t,e,n,r){this.tempMatchInfo={pkid:t,matchPlayer:e,initId:n,matchId:r},I.match(null)},e.pre=function(t,e){if(this.pk)this.pk.result=null,this.pk.setBasicInfo(e);else if(this.tempMatchInfo){var n=this.tempMatchInfo,r=n.pkid,i=n.matchPlayer,o=n.initId,a=n.matchId;if(t!==r)return;var s=this.createPKBySocket(t,i,e);s.status=f.ck.preparing,s.initId=o,s.matchId=a,this.setPK(s)}this.pk&&this.pk.changeStatus(200)},e.lazyRetry=function(t){var e=this,n=1e3*Math.ceil(6*Math.random());clearTimeout(this.reyTryTid),this.reyTryTid=setTimeout((function(){e.init(t).then().catch()}),n)},e.start=function(t,e){this.pk?this.pk.start(t):this.lazyRetry(e)},e.update=function(t){this.pk.update(t)},e.punish=function(t){this.pk.punish(t)},e.settle=function(t){this.pk.settle(t)},e.end=function(t){this.pk=null,C=null,I.realEnd(t)},e.again=function(t){this.pk.initPlayer.clear(),this.pk.matchPlayer.clear(),this.pk.clear(),this.pk.result=null,I.confirmAgain(null)},t}(),L=n(3595),P=function(){function t(){this.init()}return t.prototype.init=function(){var t=L.h.state.baseInfoRoom.pkId;new E(t)},t}()},35494:function(t,e,n){"use strict";n.d(e,{RT:function(){return h},PK:function(){return L},ck:function(){return _},J5:function(){return x}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(25399),c=n(23933),u=n(9669),l=n.n(u),f=n(74338),d=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},p=function(){function t(){}return t.checkIsFollow=function(t){return d(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.checkFollow,r={follow:t},e.next=5,l().get(n,{params:r});case 5:if(o=e.sent,a=o.data,0===parseInt(a.code)){e.next=11;break}return e.abrupt("return",{error:new Error(a.msg||n+" "+f.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:a.msg,code:a.code,data:null});case 11:return e.abrupt("return",{data:a.data,error:null});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:f.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))},t}();p.urls={checkFollow:"/relation/v1/feed/IsUserFollow",changeFollow:""};var h,m=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},v=function(){function t(){}return t.checkFollow=function(t){return m(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.checkIsFollow(t);case 2:return n=e.sent,r={isFollow:!1},n.error||(r.isFollow=1===n.data.follow),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))},t}(),g=n(92762),b=n.n(g),w=n(38060),y=function(){function t(){this.isBlock=!1,this.giftQueue=[],this.playTime=1500,this.maxLength=100,this.playTid=null}var e=t.prototype;return e.play=function(){var t=this;0!==this.giftQueue.length&&(clearTimeout(this.playTid),this.playTid=setTimeout((function(){var e;b()(e=t.giftQueue).call(e,0,1),t.play()}),this.playTime))},e.checkIsTopGift=function(t){return w.PJ.getAssetsById(t).type===w.tu.top},e.checkIsQueueMax=function(){return this.giftQueue.length>=this.maxLength-1},e.setBlockStatus=function(t){this.isBlock=t},e.add=function(t){if(!this.isBlock){var e,n=this.giftQueue.length;if(this.checkIsTopGift(t))b()(e=this.giftQueue).call(e,1,n,t);else if(this.checkIsQueueMax()){var r;b()(r=this.giftQueue).call(r,1,n)}else this.giftQueue.push(t);0===n&&this.play()}},e.clear=function(){var t;b()(t=this.giftQueue).call(t,0,this.giftQueue.length),clearTimeout(this.playTid),this.playTid=null},t}(),k=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};!function(t){t[t.process=0]="process",t[t.draw=1]="draw",t[t.win=2]="win",t[t.fail=3]="fail"}(h||(h={}));var _,I,T,x=function(){function t(t){this.uid=t.uid,this.score=t.score||0,this.roomId=t.roomId,this.uname=t.uname,this.status=h.process,this.giftHistory=new y}var e=t.prototype;return e.updateScore=function(t){this.score=Math.max(t,this.score)},e.getScore=function(){return this.score},e.setStatus=function(t){this.status=t},e.checkIsFollow=function(){return k(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.checkFollow(this.uid);case 2:return e=t.sent,t.abrupt("return",e.isFollow);case 4:case"end":return t.stop()}}),t,this)})))},e.follow=function(){return(0,s.c)(this.uid,c.e.getUid(),1)},e.unFollow=function(){return(0,s.c)(this.uid,c.e.getUid(),0)},e.addGiftHistory=function(t){this.giftHistory.add(t)},e.clear=function(){this.score=0,this.status=h.process,this.giftHistory.clear()},t}(),S=n(66570),A=function(t){var e=t.face,n=t.uname,r=t.avatar,i=t.corner,o=t.vipLevel,a=t.uid;this.face=e,this.uname=n,this.avatar=r,this.corner=i,this.vipLevel=o,this.uid=a},C=function(t){function e(e){var n;return(n=t.call(this,e)||this).upLevel=e.upLevel,n.isWinner=e.isWinner,n}return(0,S.Z)(e,t),e}(A),R=function(t){function e(e){var n;n=t.call(this,e)||this;var r=e.guardLevel,i=e.userLevel,o=e.liveVipLevlel;return n.guardLevel=r,n.userLevel=i,n.liveVipLevel=o,n}return(0,S.Z)(e,t),e}(A),E=function(){function t(t,e,n){this.winner=new C(t),this.mvp=new R(e),this.currentUserScore=n}return t.prototype.updateScore=function(t){this.currentUserScore=Math.max(t,this.currentUserScore)},t}();!function(t){t[t.successfulMatch=100]="successfulMatch",t[t.preparing=200]="preparing",t[t.processing=300]="processing",t[t.punishing=400]="punishing",t[t.again=400]="again",t[t.normalEnd=1e3]="normalEnd",t[t.breakOffEnd=1100]="breakOffEnd",t[t.escapeEnd=1200]="escapeEnd",t[t.errorEnd=1300]="errorEnd"}(_||(_={})),function(t){t[t.random=1]="random",t[t.again=2]="again",t[t.force=3]="force"}(I||(I={})),function(t){t[t.PK_PRE=200]="PK_PRE",t[t.PK_START=300]="PK_START",t[t.PK_END=400]="PK_END",t[t.PK_AGAIN=400]="PK_AGAIN",t[t.PK_SETTLE=400]="PK_SETTLE",t[t.PK_PROCESS=300]="PK_PROCESS",t[t.PK_MATCH=100]="PK_MATCH",t[t.PK_MIC_END=2044]="PK_MIC_END",t[t.PK_CLICK_AGAIN=400]="PK_CLICK_AGAIN"}(T||(T={}));var L=function(){function t(t){this.setBasicInfo(t),this.result=null,this.currentUserScore=0,this.initPlayer=null,this.matchPlayer=null,this.initId=0,this.matchId=0}var e=t.prototype;return e.setInitPlayer=function(t){this.initPlayer=t},e.setMatchPlayer=function(t){this.matchPlayer=t},e.setBasicInfo=function(t){var e=t.id,n=t.preTime,r=t.pkTime,i=t.punishTime,o=t.status,a=t.pkTopic,s=t.punishmentTopic,c=t.preTimestamp,u=t.startTimestamp,l=t.punishTimestamp,f=t.micEndTimestamp;this.pkTime=r,this.id=e,this.preTime=n,this.punishTime=i,this.status=o,this.pkTopic=a,this.punishmentTopic=s,this.preTimestamp=c,this.startTimestamp=u,this.punishTimestamp=l,this.micEndTimestamp=f},e.setPKTopic=function(t){this.pkTopic=t},e.setPunishmentTopic=function(t){this.punishmentTopic=t},e.setResult=function(t,e){var n=new E(t,e,this.currentUserScore);this.result=n},e.changeStatus=function(t){this.status=t},e.changeTime=function(t){this.preTime=this.startTimestamp-Math.max(this.preTimestamp,t),this.pkTime=this.punishTimestamp-Math.max(this.startTimestamp,t),this.punishTime=this.micEndTimestamp-Math.max(this.punishTimestamp,t)},e.verifyStatus=function(t){var e=!0;return t<this.status&&(e=!1),e},e.match=function(t){this.setMatchPlayer(t)},e.pre=function(t){this.setBasicInfo(t)},e.start=function(t){this.setPKTopic(t.pkTopic),this.changeStatus(_.processing)},e.clear=function(){this.currentUserScore=0},e.update=function(t){var e=t.initPlayerScore,n=t.matchPlayerScore,r=t.userScore,i=t.uid,o=t.giftId,a=c.e.getRoomId()===this.initId?e:n,s=c.e.getRoomId()===this.initId?n:e;i===c.e.getUid()&&(this.currentUserScore=Math.max(r,this.currentUserScore),this.result&&this.result.updateScore(this.currentUserScore)),this.initPlayer.updateScore(a),this.matchPlayer.updateScore(s),o&&this.matchPlayer.addGiftHistory(o)},e.settle=function(t){var e=t.initMasterInfo,n=t.matchMasterInfo,r=t.bestUserInfo,i=e.score,o=n.score,a=null;this.initPlayer.updateScore(i),this.matchPlayer.updateScore(o),i>o?(a=e,this.initPlayer.setStatus(h.win),this.matchPlayer.setStatus(h.fail)):i<o?(a=n,this.initPlayer.setStatus(h.fail),this.matchPlayer.setStatus(h.win)):(this.initPlayer.setStatus(h.draw),this.matchPlayer.setStatus(h.draw)),this.changeStatus(400),a&&this.setResult(a,r)},e.punish=function(t){var e=t.punishmentTopic;this.setPunishmentTopic(e),this.changeStatus(400)},t}()},17167:function(t,e,n){"use strict";n.d(e,{Se:function(){return r},dB:function(){return v},aS:function(){return g},A4:function(){return b},uk:function(){return _},hb:function(){return I},R6:function(){return T}});var r,i=n(78580),o=n.n(i),a=n(57072),s=n(12683),c=n(46377),u=n(91174),l=n(3595),f=null,d=!1,p=null,h=0,m=!1;function v(){return f||((f=document.createElement("div")).style.position="absolute",f.style.top="0",f.style.left="0",f.style.width="100%",f.style.height="100%",f.style.overflow="hidden"),f}function g(t){if(!d){var e=t.getOperableElements();if(!e||!e.mainElement)throw new Error("Inject business layer failed. No operable elements.");var n=e.mainElement;(0,c.VL)({onAnnouncementElementHide:function(){w(!1),(0,s.X9)(!1)},onAnnouncementElementShow:function(){w(!0),(0,s.X9)(!0)},parentElement:v()}),n.appendChild(v()),(0,u.Rd)({onAnnouncementElementHide:function(){w(!1),(0,s.X9)(!1)},onAnnouncementElementShow:function(){w(!0),(0,s.X9)(!0)},parentElement:v()});v();n.appendChild(v()),p=n,d=!0}}function b(t){p.removeChild(v()),(p=t.mainElement).appendChild(v()),a.default.$emit("livePlayer:operableElementChange"),I(!1)}function w(t){(t||0!==h)&&(h+=t?1:-1,!m&&(0,s.kQ)(!!h))}function y(t,e){var n;void 0===e&&(e="100%");if(o()(n=[r.ChaosPk,r.MasterAward]).call(n,t))if(null!==e){var i=v().parentElement;i&&100===i.offsetHeight&&(i.style.height=e)}else k()}function k(){var t=v().parentElement;t&&setTimeout((function(){h||(t.style.height=null,t.style.backgroundColor=null)}),300)}function _(t){w(!0),y(t);var e=!1,n=l.h.watch((function(){return l.h.getters.baseInfoRoom.liveStatus}),(function(e){"LIVE"!==e?y(t):y(t,null)}));return function(){e||(e=!0,w(!1),h||(k(),n&&n()))}}function I(t){(m=t)?(0,s.kQ)(!1):(0,s.kQ)(!!h)}function T(t){v().appendChild(t)}!function(t){t.PlayerPrompt="player-prompt",t.MasterAward="master-award",t.ChaosPk="chaos-pk",t.Pk="pk",t.PlayerNotice="player-notice",t.LinkMic="link-mic",t.LinkVideo="link-video",t.LeadUp="lead-up",t.PlayerAnimation="player-animation"}(r||(r={}))},24633:function(t,e,n){"use strict";n.d(e,{b:function(){return l}});var r=n(51942),i=n.n(r),o=n(50630);n(39969);var a=n(86902),s=n.n(a),c=n(70538),u=function(){function t(t,e){this.vueInstance=null,this.options=null,this.options=e,this.vueInstance=new c.default({name:"popup-factory",components:{vueOptions:t},template:"<vue-options :option-data='optionTransData'></vue-options>",data:function(){return{optionTransData:(null==e?void 0:e.optionTransData)||{}}}}).$mount(),this.vueInstance.$el.style.cssText=this.transformCssText(e&&e.styles),document.body.appendChild(this.vueInstance.$el)}var e=t.prototype;return e.transformCssText=function(t){return t?s()(t).reduce((function(e,n){return""+e+n+":"+t[n]+";"}),""):""},e.destroy=function(){var t=this;this.options&&this.options.resetBodyScroll&&this.options.resetBodyScroll(),this.vueInstance.$destroy(),this.vueInstance.$nextTick((function(){document.body.removeChild(t.vueInstance.$el)}))},t}(),l=function(){function t(){}return t.getCenterCss=function(t,e,n,r){return"center"!==n||r?{}:{left:"50%",top:"50%","margin-left":t&&"-"+Number(t.replace(/(px)/,""))/2+"px"||"0","margin-top":e&&"-"+Number(e.replace(/(px)/,""))/2+"px"||"0"}},t.getNailPositionCss=function(t,e,n,r){if(e){var i=e.getBoundingClientRect();return{left:i.left+n+"px",top:i.top+i.height+r+"px","margin-left":t&&"-"+Number(t.replace(/(px)/,""))/2+"px"||"0"}}return{}},t.createFrameGearPopup=function(t,e){var n=t,r=e&&e.attrs&&e.attrs.width||0,a=e&&e.attrs&&e.attrs.height||0,s=e&&e.styles||{},c=e&&e.nail||null,u=e&&e.nailDistX||0,l=e&&e.nailDistY||0,p=!e||void 0===e.isBodyScroll||e.isBodyScroll,h=e&&e.initialEvents||{},m=this.getCenterCss(r,a,e&&e.align,c),v=this.getNailPositionCss(r,c,u,l),g=e;return r&&a&&(g=i()({},e,{styles:i()(i()(i()({width:r,height:a,"z-index":1e4},m),v),s)})),p||(f(),g=i()({},g,{initialEvents:i()({resetBodyScroll:function(){d()}},h)})),o.o.createFullscreenChildFrame(n,g)},t.createSectionPopup=function(t,e){var n=e&&e.width||0,r=e&&e.height||0,o=e&&e.styles||{},a=e&&e.nail||null,s=e&&e.nailDistX||0,c=e&&e.nailDistY||0,l=!e||void 0===e.isBodyScroll||e.isBodyScroll,p=this.getCenterCss(n,r,e&&e.align,a),h=this.getNailPositionCss(n,a,s,c),m=e;return n&&r&&(m=i()({},e,{styles:i()(i()(i()({width:n,height:r,"z-index":1e4,position:"fixed"},p),h),o)})),l||(f(),m=i()({},m,{resetBodyScroll:function(){d()}})),new u(t,m)},t}();function f(){document.body.style.overflow="hidden"}function d(){document.body.style.overflow=""}},75278:function(t,e,n){"use strict";n.d(e,{U:function(){return r}});var r={openGuardStore:"query action:openGuardStore",openGuardDiary:"query action:openGuardDiary"}},43964:function(t,e,n){"use strict";n.d(e,{d:function(){return f}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=n(8605),l=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},f=function(){function t(){}return t.join=function(t,e,n){return l(this,void 0,void 0,i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c().post("/xlive/lottery-interface/v1/red_pocket/join",{roomId:t,id:e,uid:n,spm_id:"444.8.tab.envelopes_follow",jump_from:"",session_id:"",room_id:+t});case 2:return o=r.sent,r.abrupt("return",o);case 4:case"end":return r.stop()}}),r)})))},t.getResult=function(t,e){return l(this,void 0,void 0,i().mark((function n(){var r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("/xlive/lottery-interface/v1/red_pocket/get_result",{params:{id:t,serverHash:e}});case 2:return r=n.sent,o=r.data,n.abrupt("return",new u.K(o));case 5:case"end":return n.stop()}}),n)})))},t.getAwardList=function(t){return l(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/xlive/lottery-interface/v1/red_pocket/get_award_list",{params:{id:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))},t}()},36985:function(t,e,n){"use strict";n.d(e,{M:function(){return u},Z:function(){return l}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(43964),c=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function u(t,e,n){return void 0===e&&(e=2),void 0===n&&(n=5),c(this,void 0,void 0,i().mark((function r(){var o,c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=Math.floor(Math.random()*(n<=5?10*n:50)),r.next=3,new(a())((function(t){setTimeout((function(){t(1)}),100*o)}));case 3:return r.next=5,s.d.getResult(t,e);case 5:return c=r.sent,r.abrupt("return",{redEnvelopeAmount:c.data?c.data.num:-1});case 7:case"end":return r.stop()}}),r)})))}function l(t){return c(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.d.getAwardList(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))}},75225:function(t,e,n){"use strict";n.d(e,{D:function(){return s}});var r=n(3595),i=n(66552),o=n(2708);function a(t){switch(t){case 0:return"prepare";case 1:return"live";case 2:return"round"}return"prepare"}function s(){return{launch_id:"-99998",session_id:(0,o.getQueryString)("session_id")?(0,o.getQueryString)("session_id"):"-99998",source:"-99998",query_id:"-99998",room_id:r.h.state.baseInfoRoom.roomID,up_id:r.h.state.baseInfoAnchor.uid,area_id:r.h.state.baseInfoRoom.parentAreaID,subarea_id:r.h.state.baseInfoRoom.areaID,online:r.h.state.baseInfoRoom.onlineCount,av_id:i.Rw.getPlayerInfo()&&2===i.Rw.getPlayerInfo().liveStatus?r.h.state.baseInfoRoom.avId:"-99998",pk_id:0===r.h.state.baseInfoRoom.pkId?"-99998":r.h.state.baseInfoRoom.pkId,screen_status:i.Rw.getPlayerInfo()&&i.Rw.getPlayerInfo().playerStatus+1,live_status:i.Rw.getPlayerInfo()&&a(i.Rw.getPlayerInfo().liveStatus)}}},47166:function(t,e,n){"use strict";n.d(e,{B:function(){return D}});var r={};n.r(r),n.d(r,{closeMySelf:function(){return b},openGuardPanel:function(){return g},openPayPanel:function(){return v},openSharePanel:function(){return w}});var i={};n.r(i),n.d(i,{weekGuardOpenGuardPanel:function(){return R},weekGuardOpenPayPanel:function(){return C}});var o=n(20116),a=n.n(o),s=n(4002),c=function(){function t(){}return t.filterLegoInfo=function(t){var e=t||{},n=e.config,r=void 0===n?[]:n,i=e.timestamp,o=void 0===i?null:i;return{config:Array.isArray(r)?r:[],nowTime:o}},t}(),u=n(62557),l=n(26426),f=n(51942),d=n.n(f),p=n(65643),h=n(69681),m=n(57072);function v(t){}function g(t){void 0===t&&(t=3),(0,p.tG)({level:t})}function b(){h.P.closePopup()}function w(){m.default.$emit("RoomHeader:OpenSharePanel")}var y=n(63109),k=n.n(y),_=n(93476),I=n.n(_),T=n(23933),x=n(72325),S=n(82159),A=function(t,e,n,r){return new(n||(n=I()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function C(){return A(this,void 0,void 0,k().mark((function t(){var e,n=this;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.quickLogin)();case 2:h.P.closePopup(),4,4,1,e={reserved1:T.e.getAnchorUid()},v.call(this,{goodsId:4,payType:4,goodsNum:1,extParam:e,successCallback:function(){return A(n,void 0,void 0,k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=0===T.e.getGuardLevel(),!t.t0){t.next=4;break}return t.next=4,(0,x.Kw)(x.H.setGuardSubLevel,1);case 4:return t.next=6,(0,x.Kw)(x.H.setGuardLevel,3);case 6:return t.next=8,E.call(this);case 8:case"end":return t.stop()}}),t,this)})))},failCallback:function(t){var e=document.querySelectorAll(".pay-methods-cntr li")[0]||document.querySelector(".side-bar-btn"),r=t&&t.errorMsg||"购买发生异常/(ㄒoㄒ)/~~";n.linkMsg(e,r,"caution")}});case 8:case"end":return t.stop()}}),t,this)})))}function R(){return A(this,void 0,void 0,k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.quickLogin)();case 2:h.P.closePopup(),g();case 4:case"end":return t.stop()}}),t)})))}function E(){var t=this;return new(I())((function(e,n){t.linkPopup({title:"开通成功",width:300,html:'\n        <p style="text-align:center; margin: 22px 0 32px 0;">支付成功，你已成功开通周舰长</p>\n      ',button:{confirm:"我知道了",cancel:!1}}).onConfirm((function(n){return A(t,void 0,void 0,k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.close();case 2:e();case 3:case"end":return t.stop()}}),t)})))})).onCancel((function(n){return A(t,void 0,void 0,k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.close();case 2:e();case 3:case"end":return t.stop()}}),t)})))}))}))}var L=d()({},i),P=d()(d()({},r),L),M=["shareSuccessful"],D=new(function(){function t(){this.allComponents={sidebar:[],giftBar:[]},this.inject=P,this.publicRoomEvents=M,this.iframe=null}var e=t.prototype;return e.init=function(e){var n=this,r=c.filterLegoInfo(e),i=r.config,o=r.nowTime,f="";a()(i).call(i,(function(e){return t.checkIsShow(e,o)})).forEach((function(t){if("frame-mng"===t.type&&(f=l.O.replaceParam(t.url)),t.target){var e=s.Gg.createComponent(t);n.allComponents[t.target].push(e)}})),f&&(this.iframe=new u.G,this.iframe.init(f))},e.onSocket=function(t){this.iframe&&this.iframe.onSocket(t)},e.open=function(t,e,n,r){return this.iframe.open(t,e,n,r)},t.checkIsShow=function(t,e){var n=T.e.getAreaId(),r=T.e.getParentAreaId(),i=!t.areaId||!n||n===Number(t.areaId),o=!t.parentAreaId||!r||r===Number(t.parentAreaId);return t.endTime>e&&t.startTime<e&&i&&o},t}())},67736:function(t,e,n){"use strict";n.d(e,{z:function(){return o}});var r,i=(0,n(96225).Z)("iframe");!function(t){t.addEntrance="addEntrance",t.updateEntrance="updateEntrance",t.removeEntrance="removeEntrance"}(r||(r={}));var o=function(){function t(){}return t.addEntrance=function(e){t.event.emit(r.addEntrance,e)},t.onAddEntrance=function(e){t.event.on(r.addEntrance,e)},t.updateEntrance=function(e){t.event.emit(r.updateEntrance,e)},t.onUpdateEntrance=function(e){t.event.on(r.updateEntrance,e)},t.removeEntrance=function(e){t.event.emit(r.removeEntrance,e)},t.onRemoveEntrance=function(e){t.event.on(r.removeEntrance,e)},t}();o.event=i},62557:function(t,e,n){"use strict";n.d(e,{G:function(){return w}});var r=n(51942),i=n.n(r),o=n(78580),a=n.n(o),s=n(2991),c=n.n(s),u=n(86902),l=n.n(u),f=n(93476),d=n.n(f),p=n(50630),h=n(53488),m=n(26426),v=n(41609),g=n.n(v),b=n(67736),w=function(){function t(){this._frameMng=null,this.toasts={},this.openCount=0}t.createMask=function(){if(!document.getElementById("iframe-popup-area-mask")){document.body.style.overflow="hidden";var t=document.getElementById("iframe-popup-area"),e=document.createElement("div");e.id="iframe-popup-area-mask";e.setAttribute("style","\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(0,0,0,0.3);\n    "),t.insertBefore(e,t.firstChild)}},t.removeMask=function(){var t=document.getElementById("iframe-popup-area-mask");t&&(document.body.style.overflow="",t.remove())},t.setFrameStyles=function(e){e.noMask?t.removeMask():t.createMask();var n=m.O.getConfig(e.url),r=n.width,o=n.height,a={width:r+"px",height:o+"px"};return r||(a.width="100%"),o||(a.height="100%"),i()(i()(i()({},{position:"fixed",top:"50%",left:"50%","-webkit-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)",border:"none"}),a),e.styles)};var e=t.prototype;return e.init=function(e){var n,r=this;this._frameMng=p.o.createChildFrame(e,{parentElement:document.getElementById("iframe-popup-area"),styles:{border:"none",width:"0",height:"0",opacity:"0"},initialEvents:(n={},n[t.events.open]=function(e){var n=t.setFrameStyles(e);if(r.toasts.hasOwnProperty(e.url)){var o=r.toasts[e.url];o.setStyle(n),o.eventPort.emit(t.events.refresh,e)}else{var a;r.openCount++;var s=m.O.replaceParam(e.url);r.toasts[e.url]=p.o.createChildFrame(s,{parentElement:document.getElementById("iframe-popup-area"),styles:n,attrs:i()({},e.attrs),initialEvents:(a={},a[t.events.close]=function(n){var i=n&&n.url||e.url;r.toasts[i]&&(r.toasts[i].dispose(),delete r.toasts[i],r.openCount--,r.openCount||t.removeMask())},a)})}},n[t.events.changeEntrance]=function(t){var e,n=t.data.target,r=t.data.name;if(n&&r&&a()(e=[h.B.giftBar,h.B.sidebar]).call(e,n))switch(t.action){case"add":b.z.addEntrance(t.data);break;case"remove":b.z.removeEntrance(t.data);break;case"update":b.z.updateEntrance(t.data)}},n)})},e.onSocket=function(e){var n,r=this;this._frameMng&&(this._frameMng.eventPort.emit(t.events.socket,e),g()(this.toasts)||c()(n=l()(this.toasts)).call(n,(function(n){r.toasts[n].eventPort.emit(t.events.socket,e)})))},e.addToast=function(t,e){this.toasts[t]=e},e.removeToast=function(t){this.toasts[t].dispose(),delete this.toasts[t]},e.open=function(t,e,n,r){return void 0===n&&(n=null),void 0===r&&(r=null),new(d())((function(i){var o=p.o.createFilledParentChildFrame(e,{parentElement:t,styles:r,initialEvents:{close:function(){o.dispose(),i()}}});o.eventPort.emit("init",n)}))},t}();w.events={socket:"IFRAME:SOCKET",open:"IFRAME:OPEN",changeEntrance:"IFRAME:CHANGE_ENTRANCE",close:"IFRAME:CLOSE",refresh:"IFRAME:REFRESH"}},4002:function(t,e,n){"use strict";n.d(e,{Gg:function(){return m},zU:function(){return w},YE:function(){return p}});var r=n(66570),i=n(51942),o=n.n(i),a=function(t){var e=t.name,n=t.startTime,r=t.endTime,i=t.target;this.name=e,this.startTime=n,this.endTime=r,this.target=i},s=function(){function t(t,e,n,r,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1),this.isShow=!1,this.frameAllowNoBg=!1,this.frameAllowDrag=!1,this.width=t,this.height=e,this.url=n,this.position=r,this.frameAllowDrag=i,this.frameAllowNoBg=o}var e=t.prototype;return e.setPosition=function(){return{}},e.closePopup=function(){this.isShow=!1,this.clear()},e.showPopup=function(){this.isShow=!0},t}(),c=function(t){function e(){return t.apply(this,arguments)||this}return(0,r.Z)(e,t),e.prototype.clear=function(){},e}(s),u=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).childFrame=null,e}(0,r.Z)(e,t);var n=e.prototype;return n.setChildFrame=function(t){this.childFrame=t},n.clear=function(){this.childFrame.dispose(),this.childFrame=null},e}(s),l=n(26426),f=n(3160),d=n(69681),p=function(t){function e(e){var n;(n=t.call(this,e)||this).banner=null,n.popup=null;var r=l.O.replaceParam(e.url),i=l.O.getConfig(r),a=i.width,s=i.height;return n.banner=d.P.addConfig(o()({},e,{type:f.j.lego})),a&&s?n.popup=new c(a,s,r,e.target,1==e.frameAllowDrag,1==e.frameAllowNoBg):n.banner.url=r,n}return(0,r.Z)(e,t),e}(a),h=n(53488),m=function(){function t(){}return t.createComponent=function(t){var e=t.target,n=null;if(e)switch(e){case h.B.sidebar:n=new p(t);break;case h.B.giftBar:n=new w(t)}return n},t}(),v=function(t){var e=t.url,n=t.name,r=t.text,i=t.color,o=t.icon,a=t.isForceOpen;this.url=e,this.name=n,this.text=r,this.icon=o,this.isForceOpen=a,this.color=i},g=(n(53674).X,function(t){function e(e){var n,r=e.clickOtherAreaToClose,i=void 0!==r&&r,o=e.borderColor,a=void 0===o?"#e9eaec":o,s=e.bgColor,c=void 0===s?"#e9eaec":s;return(n=t.call(this,e)||this).borderColor=a,n.clickOtherAreaToClose=i,n.bgColor=c,n}return(0,r.Z)(e,t),e.prototype.update=function(t){var e=t.icon,n=t.text,r=t.color;e&&(this.icon=e),n&&(this.text=n),r&&(this.color=r)},e}(v)),b=n(50630),w=function(t){function e(e){var n;(n=t.call(this,e)||this).banner=null,n.popup=null;var r=l.O.replaceParam(e.url),i=l.O.getConfig(r),o=i.width,a=i.height;return n.banner=new g(e),o&&a?n.popup=new u(o,a,r,e.target):n.banner.url=r,n}(0,r.Z)(e,t);var n=e.prototype;return n.updateBanner=function(t){this.banner.update(t)},n.createPopupFrame=function(t){var e=b.o.createChildFrame(this.popup.url,{parentElement:t,styles:{border:"none",width:"100%",height:"100%"}});return this.popup.setChildFrame(e),e},n.clearPopup=function(){this.popup.clear()},e}(a)},26426:function(t,e,n){"use strict";n.d(e,{O:function(){return i}});var r=n(23933),i=function(){function t(){}return t.getConfig=function(t){var e=t.match(/width=(\d+)/),n=t.match(/height=(\d+)/),r={width:0,height:0};return e&&e[1]&&(r.width=parseInt(e[1],10)),n&&n[1]&&(r.height=parseInt(n[1],10)),r},t.replaceParam=function(t){var e={"#roomid#":r.e.getRoomId().toString()||0,"#area_id#":r.e.getAreaId()||0,"#parent_area_id#":r.e.getParentAreaId()||0,"#ruid#":r.e.getAnchorUid()};return t.replace(/#roomid#|#area_id#|#parent_area_id#|#ruid#/g,(function(t){return e[t]}))},t.getConfigByQuery=function(t){return{}},t}()},53488:function(t,e,n){"use strict";var r,i;n.d(e,{B:function(){return r}}),function(t){t.sidebar="sidebar",t.giftBar="giftBar"}(r||(r={})),function(t){t.center="center"}(i||(i={}))},88066:function(t,e,n){"use strict";n.d(e,{Z:function(){return o},c:function(){return i}});var r=n(96225),i={anchorLotteryStart:"anchorLotteryStart",anchorLotteryEnd:"anchorLotteryEnd",anchorLotteryGuestAward:"anchorLotteryGuestAward",anchorLotteryAward:"anchorLotteryAward",anchorLotteryStatus:"anchorLotteryStatus",anchorLotteryCheckStatus:"anchorLotteryCheckStatus"},o=(0,r.Z)("LotteryService")},72807:function(t,e,n){"use strict";n.d(e,{lY:function(){return x},yu:function(){return b},JY:function(){return S}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=n(74338),l=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},f=u.D.FALLBACK_ERROR_MSG,d=function(){function t(){}return t.join=function(t){return l(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.join,e.next=4,c().post(n,{id:t});case 4:if(r=e.sent,o=r.data,0===parseInt(o.code)){e.next=8;break}return e.abrupt("return",{error:new Error(o.msg||n+" "+f),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 8:return e.abrupt("return",{data:o.data,error:null});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 14:case"end":return e.stop()}}),e,this,[[0,11]])})))},t}();d.urls={join:"/xlive/lottery-interface/v1/Danmu/Join"};var p=n(53895),h=function(){function t(){}return t.filterDanmakuLottery=function(t){var e=t||{},n=e.asset_icon,r=void 0===n?"":n,i=e.time,o=void 0===i?0:i,a=e.max_time,s=void 0===a?0:a,c=e.award_num,u=void 0===c?0:c,l=e.award_name,f=void 0===l?"":l,d=e.danmu,p=void 0===d?"":d,h=e.award_image,m=void 0===h?"":h,v=e.status,g=void 0===v?0:v,b=e.id,w=void 0===b?0:b,y=e.join_type,k=void 0===y?0:y,_=e.require_type,I=void 0===_?0:_,T=e.require_value,x=void 0===T?0:T,S=e.gift_id,A=void 0===S?0:S,C=e.gift_name,R=void 0===C?"":C,E=e.price,L=void 0===E?0:E,P=e.cur_gift_num,M=void 0===P?0:P,D=e.require_text,N=void 0===D?"":D,B=e.show_panel,O=void 0===B?0:B,F=e.title;return{icon:r,time:o,maxTime:s,awardNum:u,awardName:f,danmaku:p,awardPic:m,isJoined:2===g,lotteryId:w,joinType:k,requireType:I,requireValue:x,giftId:A,giftName:R,price:L,currentGiftNum:M,requireText:N||"无",showPanel:O,title:void 0===F?"":F}},t.filterAward=function(t){return p.Xj.filterResult(t.data)},t.filterAwardNew=function(t){var e=t.data,n=e.award_name,r=void 0===n?"":n,i=e.award_image,o=void 0===i?"":i,a=e.award_users;return{awardName:r,awardImage:o,awardUsers:void 0===a?[]:a}},t}(),m=n(82377),v=n(73645),g=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},b=new(function(){function t(){this.lottery=null,this.countdownTid=null}var e=t.prototype;return e.init=function(){this.check()},e.join=function(){return g(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.join(this.lottery.lotteryId);case 2:if(!(e=t.sent).error){t.next=7;break}return t.abrupt("return",{errorMsg:e.errorMsg,errorType:e.errorType,code:e.code});case 7:this.lottery.isJoined=!0;case 8:case"end":return t.stop()}}),t,this)})))},e.check=function(){return g(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.CP.asyncGetInfoFromParam("danmu");case 2:(e=t.sent)&&(n=h.filterDanmakuLottery(e)).lotteryId&&this.start(n);case 4:case"end":return t.stop()}}),t,this)})))},e.start=function(t){this.close(),this.lottery=t,this.setCountdown()},e.setCountdown=function(){var t=this;this.countdownTid=setInterval((function(){t.lottery.time--,t.lottery.time<=0&&t.close()}),1e3)},e.showLotteryResult=function(t){m.uB.emit(m.co.showLotteryResult,t)},e.onSocket=function(t,e){switch(t){case"add":this.start(h.filterDanmakuLottery(e.data));break;case"end":this.close();break;case"award":this.showLotteryResult(h.filterAwardNew(e))}},e.close=function(){this.lottery=null,clearInterval(this.countdownTid),this.countdownTid=null},t}()),w=n(51942),y=n.n(w),k=function(){function t(){}return t.filterAnchorLottery=function(t){var e=t.id,n=void 0===e?0:e,r=t.status,i=void 0===r?0:r,o=t.lot_status,a=void 0===o?-1:o,s=t.award_name,c=void 0===s?"":s,u=t.award_num,l=void 0===u?0:u,f=t.asset_icon,d=void 0===f?"":f,p=t.danmu,h=void 0===p?"":p,m=t.time,v=void 0===m?0:m,g=t.goaway_time,b=void 0===g?300:g,w=t.join_type,y=void 0===w?0:w,k=t.require_type,_=void 0===k?0:k,I=t.require_value,T=void 0===I?0:I,x=t.require_text,S=void 0===x?"":x,A=t.gift_id,C=void 0===A?0:A,R=t.gift_name,E=void 0===R?"":R,L=t.gift_price,P=void 0===L?0:L,M=t.gift_num,D=void 0===M?0:M,N=t.cur_gift_num,B=void 0===N?0:N,O=t.award_users,F=void 0===O?[]:O,G=t.show_panel,U=void 0===G?0:G,Z=t.url,V=void 0===Z?"":Z,H=t.web_url;return{lotteryId:n,status:i,time:v,goawayTime:b,lotStatus:a,awardNum:l,awardName:c,awardUsers:F,assetIcon:d,danmu:h,joinType:y,requireType:_,requireValue:T,requireText:S,giftId:C,giftName:E,giftNum:D,giftPrice:P,curGiftNum:B,showPanel:U,url:V,webUrl:void 0===H?"":H}},t.filterAward=function(t){var e=t.data,n=e.id,r=void 0===n?0:n,i=e.award_name,o=void 0===i?"":i,a=e.award_num,s=void 0===a?0:a,c=e.award_users;return{lotteryId:r,awardName:o,awardNum:s,awardUsers:void 0===c?[]:c}},t}(),_=n(88066),I=n(58932),T=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},x=new(function(){function t(){this.lottery=null,this.countdownTid=null,this.awardCountdownTid=null,this.CACHE_KEY="__LIVE_LOTTERY__"}var e=t.prototype;return e.init=function(){this.check()},e.check=function(){return T(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.CP.asyncGetInfoFromParam("anchor");case 2:if(!(e=t.sent)){t.next=13;break}if(this.setCacheData("LOTTERY_INFO",y()(e,{current_timestamp:(new Date).getTime()/1e3})),0!==(n=k.filterAnchorLottery(e)).lotStatus){t.next=10;break}return this.start(n),(0,I.cM)(I.hi.NETWORK,y()({eventId:"live.lottery.entry.detect-info"},n)),t.abrupt("return");case 10:this.lottery=n,2===n.lotStatus&&this.setAwardCountDown(),(0,I.cM)(I.hi.NETWORK,y()({eventId:"live.lottery.entry.detect-info"},n));case 13:case"end":return t.stop()}}),t,this)})))},e.start=function(t,e){this.close(),this.lottery=t,this.setCountdown(),_.Z.emit(_.c.anchorLotteryStart,y()(t,{startNow:e}))},e.setCountdown=function(){var t=this;this.countdownTid=setInterval((function(){t.lottery.time--,t.lottery.time<=0&&(t.lottery.lotStatus=1,t.setAwardCountDown(),t.close())}),1e3)},e.setAwardCountDown=function(){var t=this;this.awardCountdownTid&&clearInterval(this.awardCountdownTid),this.lottery.goawayTime&&(this.awardCountdownTid=setInterval((function(){t.lottery.goawayTime--,t.lottery.goawayTime<=0&&clearInterval(t.awardCountdownTid)}),1e3))},e.showLotteryResult=function(t){this.lottery=y()(y()({},this.lottery),{lotStatus:2}),this.setAwardCountDown(),_.Z.emit(_.c.anchorLotteryGuestAward,t)},e.onSocket=function(t,e){switch(this.setCacheData("LOTTERY_INFO",y()(e.data,{current_timestamp:(new Date).getTime()/1e3})),(0,I.cM)(I.hi.SOCKET,y()({eventId:"live.lottery.socket.draw-status-change"},e)),t){case"start":var n=k.filterAnchorLottery(e.data);-1===n.lotStatus&&(n.lotStatus=0),this.start(n,!0);break;case"end":this.lottery&&(this.lottery.lotStatus=1),_.Z.emit(_.c.anchorLotteryEnd,{}),this.close();break;case"award":this.showLotteryResult(e.data)}},e.setCacheData=function(t,e){window[this.CACHE_KEY]||(window[this.CACHE_KEY]={}),window[this.CACHE_KEY][t]=e},e.clearCacheData=function(){window[this.CACHE_KEY]&&(window[this.CACHE_KEY]=null)},e.close=function(){clearInterval(this.countdownTid),this.countdownTid=null},t}());function S(){b.init()}},30582:function(t,e,n){"use strict";n.d(e,{ge:function(){return l},jP:function(){return h},RT:function(){return m}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},l=!0,f=!1,d=1,p=!1;function h(){return u(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f){t.next=2;break}return t.abrupt("return",l);case 2:f=!0,l=!0;case 4:case"end":return t.stop()}}),t)})))}function m(){return u(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p){t.next=2;break}return t.abrupt("return",d);case 2:return p=!0,t.next=5,c().get("/lottery/v1/Ema/emaStage");case 5:return e=t.sent,(n=e.data).data&&n.data.stage&&(d=n.data.stage),t.abrupt("return",d);case 9:case"end":return t.stop()}}),t)})))}},46633:function(t,e,n){"use strict";n.d(e,{m:function(){return d},c:function(){return p}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(2991),c=n.n(s),u=function(){function t(){}return t.filterSwitchInfo=function(t){var e=t||{},n=e.record_switch_info,r=(n=void 0===n?{}:n).record_tab,i=void 0!==r&&r,o=e.new_switch_info,a=void 0===o?{}:o,s=function(t){return!a||0!==Number(a[t])};return{isShowGuard:s("room-sailing"),isShowSendingGift:s("room-prop-send"),isShowPopularity:s("room-info-popularity"),isShowDanmakuEditor:s("room-danmaku-editor"),isShowRecordTab:!!i,isOpenSocket:s("room-socket"),isShowRoomEffect:s("room-effect"),isShowFansMedal:s("room-fans_medal"),isShowReport:s("room-report"),isShowFeedback:s("room-feedback"),isShowPlayerWatermark:s("room-player-watermark"),isShowLiveRecommend:s("room-recommend-live_off"),isShowRoomActivity:s("room-activity"),isShowWebBanner:s("room-web_banner"),isShowHaruna:s("room-board"),isShowEmaWishing:s("room-supplication"),isShowHourRank:s("room-hour_rank"),isShowWeekRank:s("room-week_rank"),isShowAnchorRank:s("room-anchor_rank"),isShowIntegral:s("room-info-integral"),isShowAsideTabs:s("room-tab"),isShowHotRank:s("room-hot-rank"),isShowFansMedalProgress:s("fans-medal-progress")}},t.filterInfoByRoomInfo=function(t){var e=t||{},n=e.status,r=void 0===n?0:n,i=e.icon,o=void 0===i?"":i,a=e.ranked_mark,s=void 0===a?0:a,u=e.message_list,l=void 0===u?[]:u;return{isOpenSuperChat:!!r,icon:o,rankedMark:s,messageList:l?c()(l).call(l,(function(t){return{id:t.id,uid:t.uid,price:t.price,rate:t.rate,time:t.time,startTime:t.start_time,endTime:t.end_time,backgroundImage:t.background_image,backgroundColor:t.background_color,backgroundIcon:t.background_icon,backgroundBottomColor:t.background_bottom_color,backgroundPriceColor:t.background_price_color,message:t.message,token:t.token,ts:t.ts,show:!0,userInfo:{uname:t.user_info.uname,face:t.user_info.face,faceFrame:t.user_info.face_frame,isVip:t.user_info.is_vip,isMainVip:t.user_info.is_main_vip},messageTrans:t.message_trans,transMark:t.trans_mark}})):[]}},t}(),l=n(73645),f=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},d=new(function(){function t(){this.callbacks=[],this.switchInfo={isOpenSocket:!0,isShowSendingGift:!0,isShowGuard:!0,isShowPopularity:!0,isShowDanmakuEditor:!0,isShowRoomEffect:!0,isShowFansMedal:!0,isShowReport:!0,isShowFeedback:!0,isShowPlayerWatermark:!0,isShowLiveRecommend:!0,isShowRoomActivity:!0,isShowWebBanner:!0,isShowHaruna:!0,isShowEmaWishing:!0,isShowHourRank:!0,isShowWeekRank:!0,isShowAnchorRank:!0,isShowIntegral:!0,isShowAsideTabs:!0,isShowRecordTab:!1,isShowHotRank:!1,isShowFansMedalProgress:!0}}var e=t.prototype;return e.init=function(){this.getSwitchInfo()},e.asyncInit=function(){return f(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSwitchInfo();case 2:case"end":return t.stop()}}),t,this)})))},e.getSwitchInfo=function(){return f(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=l.y9.getSwitchInfo(),this.switchInfo=u.filterSwitchInfo(e),this.emitChangeCallbacks();case 3:case"end":return t.stop()}}),t,this)})))},e.getSuperChatEnableData=function(){var t=l.y9.getInfoFromParam("super_chat_info",!1);if(t)return u.filterInfoByRoomInfo(t)},e.onChange=function(t){-1===this.callbacks.indexOf(t)&&this.callbacks.push(t)},e.emitChangeCallbacks=function(){var t=this;this.callbacks.forEach((function(e){e(t.switchInfo)}))},t}());function p(){d.init()}},53338:function(t,e,n){"use strict";n.d(e,{J:function(){return x},i:function(){return S}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(66570),c=n(2991),u=n.n(c),l=n(92762),f=n.n(l),d=n(62462),p=n.n(d),h=n(23933),m=function(){function t(){}return t.prototype.checkIsCurrentUser=function(t){return h.e.checkIsCurrentUser(t)},t}(),v=n(39984),g=n(70538),b=function(t){function e(){var e;return(e=t.apply(this,arguments)||this)._animationQueue=[],e._expensiveGiftNum=0,e._lowPriceGiftNum=0,e._selfSendGiftNum=0,e._otherAnimationNum=0,e.animationConfig={},e.isBlock=!1,e}(0,s.Z)(e,t);var n=e.prototype;return n.getAnimationQueue=function(){return this._animationQueue},n.isTypeRegister=function(t){return!!this.animationConfig[t]},n.registerAnimationConfig=function(t){g.default.set(this.animationConfig,t.id,t)},n.setBlockStatus=function(t){this.isBlock=t},n.add=function(t){var e=this;if(this.isBlock&&!this.checkIsCurrentUser(t.uid)||!this.isTypeRegister(t.id)&&t.type===v.m.GIFT)t=null;else{var n=-1,r=this._animationQueue;if(this.checkIsCurrentUser(t.uid)&&this._selfSendGiftNum<100)r.some((function(t,r){if(!e.checkIsCurrentUser(t.uid))return n=r,!0;n=r+1})),t.setPriority(4),this._selfSendGiftNum++;else if(5===t.demarcation&&this._otherAnimationNum<100)r.some((function(t,r){if(e.checkIsCurrentUser(t.uid)||5===t.demarcation)n=r+1;else if(3===t.demarcation||2===t.demarcation||1===t.demarcation)return n=r,!0})),t.setPriority(5),this._otherAnimationNum++;else if(3===t.demarcation&&this._expensiveGiftNum<20)r.some((function(t,r){if(e.checkIsCurrentUser(t.uid)||3===t.demarcation)n=r+1;else if(2===t.demarcation||1===t.demarcation)return n=r,!0})),t.setPriority(3),this._expensiveGiftNum++;else{if(1!==t.demarcation&&2!==t.demarcation||!(this._lowPriceGiftNum<10))return void(t=null);n=-1,t.setPriority(2),this._lowPriceGiftNum++}this.addAnimation({index:n,data:t}),console.log("mp4-- queue add - _animationQueue: "+u()(r).call(r,(function(t){return t.id}))),console.log("mp4-- queue add - _animationQueue: "+u()(r).call(r,(function(t){return t.priority})))}},n.addAnimation=function(t){var e=this._animationQueue,n=t.index,r=t.data;if(-1===n){if(e&&e.length>200)return;e.push(r)}else f()(e).call(e,n,0,r)},n.delete=function(){this._selfSendGiftNum>0?this._selfSendGiftNum--:this._animationQueue[0]&&5===this._animationQueue[0].demarcation?this._otherAnimationNum--:this._animationQueue[0]&&3===this._animationQueue[0].demarcation?this._expensiveGiftNum--:this._lowPriceGiftNum--;this._animationQueue.shift()},n.deleteAnimation=function(t){var e,n,r=t.demarcation,i=p()(e=this._animationQueue).call(e,(function(e){return e.aniId===t.aniId}));i>-1&&f()(n=this._animationQueue).call(n,i,1);5===r?this._otherAnimationNum--:4===r?this._selfSendGiftNum--:3===r?this._expensiveGiftNum--:2!==r&&1!==r||this._lowPriceGiftNum--},n.deleteSpecifyGift=function(t){this.deleteAnimation(t)},n.clear=function(t){var e=this._animationQueue,n=-1;e.some((function(e,r){if(e.uid!==t)return n=r,!0})),n>=0&&f()(e).call(e,n,e.length-n)},n.next=function(){this.delete()},e}(m),w=n(41402),y=n(20567),k=0,_=function(){function t(t,e,n,r,i,o,a){this.type=n,this.uid=t,this.id=e,this.demarcation=r||0,this.priority=1,this.batchFlag=i,this.giftNum=o,this.attachData=a,this.aniId=++k}return t.prototype.setPriority=function(t){this.priority=t},t}(),I=n(38060),T=(new I.vD({id:25,bagGift:0,bindRoomId:0,frameAnimation:"http://uat-i0.hdslb.com/bfs/live/cb5314149f54893c7188af58ada62e4c1641f5fc.png",gif:"http://uat-i0.hdslb.com/bfs/live/5de1a937dea7e92725b2bb1f5320fd0395bf3dea.gif",startPic:"",endPic:"",frameAnimationTotalCount:12,basic:"http://s1.hdslb.com/bfs/live/1a3acb48c59eb10010ad53b59623e14dc1339968.png",fullScreenAnimationJsonUrl:"http://i0.hdslb.com/bfs/live/3b37838ab7cf06c16e1727ee8a90a1e32450d16c.svga",type:0,giftType:0,name:"",description:"",rule:"",rights:"",price:0,coinType:"",effect:0,comboStayTime:3,comboResourcesId:1,maxSendLimit:2,countMap:[{num:1,web_svga:"http://i0.hdslb.com/bfs/live/3b37838ab7cf06c16e1727ee8a90a1e32450d16c.svga",effectId:25}],diyCountMap:1,effectId:25}),new I.vD({id:0,bagGift:0,bindRoomId:0,frameAnimation:"",gif:"",startPic:"",endPic:"",frameAnimationTotalCount:0,basic:"",fullScreenAnimationJsonUrl:"",type:0,giftType:0,name:"",description:"",rule:"",rights:"",price:0,coinType:"",effect:0,comboStayTime:3,comboResourcesId:1,maxSendLimit:2,countMap:[{num:1,web_svga:"http://i0.hdslb.com/bfs/live/3b37838ab7cf06c16e1727ee8a90a1e32450d16c.svga",effectId:25}],diyCountMap:1,effectId:25}),function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}),x=new(function(){function t(){this.queue=null,this.queue=new b,this.onMsg()}var e=t.prototype;return e.init=function(){},e.clear=function(){this.queue.clear(h.e.getUid())},e.onBlockEffect=function(){},e.registerConfig=function(t){this.queue.registerAnimationConfig(t)},e.addAnimation=function(t,e,n,r,i,o,a){var s=new _(t,e,n,r,i,o,a);this.queue.add(s)},e.onMsg=function(){var t=this;w.$.onBlockEffect((function(e){var n=e.type,r=e.isBlock;return T(t,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.indexOf(y.m.GiftAnimation)<0)){t.next=2;break}return t.abrupt("return");case 2:this.queue.setBlockStatus(r),r&&this.clear();case 4:case"end":return t.stop()}}),t,this)})))}))},t}());var S=new(function(){function t(){this.queue=null,this.queue=new b}var e=t.prototype;return e.init=function(){},e.clear=function(){this.queue.clear(h.e.getUid())},e.onBlockEffect=function(){},e.registerConfig=function(t){this.queue.registerAnimationConfig(t)},e.addAnimation=function(t,e,n,r,i,o,a){var s=new _(t,e,n,r,i,o,a);this.queue.add(s)},t}())},39984:function(t,e,n){"use strict";var r;n.d(e,{m:function(){return r}}),function(t){t.GIFT="gift",t.GUARD="guard",t.MEDAL="medal",t.SPECIAL_EFFECT="special_effect",t.PLAYER_EFFECT="player_effect"}(r||(r={}))},94686:function(t,e,n){"use strict";var r;n.d(e,{bH:function(){return o},mc:function(){return i}});var i={giftRank:"giftRank",guard:"guard",club:"loveClub",fight:"fight",medal:"medal",admin:"admin",activity:"activity",game:"game"},o={"seven-rank":i.giftRank,guard:i.guard,"love-club":i.club,"fight-rank":i.fight,"fans-rank":i.medal,"room-admin":i.admin,activity:i.activity,match:i.game};(r={})[i.giftRank]={desc:"七日榜是近七日投喂金银瓜子的排名哦~"}},77233:function(t,e,n){"use strict";n.d(e,{hM:function(){return ot},pr:function(){return rt},PG:function(){return ht},ZS:function(){return mt},$l:function(){return ft},lo:function(){return lt},Aw:function(){return dt},Hm:function(){return pt},OO:function(){return ut},S1:function(){return gt},Bf:function(){return Y},mn:function(){return vt}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(2991),c=n.n(s),u=n(9669),l=n.n(u),f=n(95503),d=n(74338),p=n(23933),h=n(78580),m=n.n(h),v=n(3649),g=n.n(v),b=n(66419),w=n.n(b),y=n(65420),k=n.n(y),_=n(19996),I=n.n(_);function T(t,e){var n=void 0!==k()&&I()(t)||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return x(t,e);var r=g()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return w()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t){for(var e,n={},r=T(t);!(e=r()).done;){var i,o=e.value;m()(i=[0,100,1e3,1e4]).call(i,o.anchor_guard_achieve_level)&&(n[o.anchor_guard_achieve_level]=o)}return n}var A=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},C=d.D.FALLBACK_ERROR_MSG,R="/live/rankTab",E="/xlive/app-room/v2/guardTab/topList",L="/xlive/web-room/v1/banner/getBanner",P="/rankdb/v1/RoomRank/webMedalRank",M="/roomRank",D="/activity/v1/UnionFans/roomFansRank",N="/activity/v1/UnionFans/fightRank",B="/xlive/web-room/v1/roomAdmin/get_by_room",O=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A(void 0,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.shift(),t.prev=1,t.next=4,n.apply(this,e);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",{error:t.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 10:case"end":return t.stop()}}),t,this,[[1,7]])})))};function F(t){return A(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get(""+E,{params:t});case 3:if(o=e.sent,a=o.data,0===parseInt(a.code)){e.next=7;break}return e.abrupt("return",{error:new Error(a.msg||E+" "+C),errorType:"caution",errorMsg:a.msg,code:a.code,data:null});case 7:return(s=a.data).top3=c()(n=s.top3).call(n,(function(t){return f.PI.guard(t)})),s.list=c()(r=s.list).call(r,(function(t){return f.PI.guard(t)})),u=a.data.my_follow_info,s.myFollowInfo={accompanyDays:u&&u.accompany_days,expiredTime:u&&u.expired_time,guardLevel:u&&u.guard_level,autoRenew:u&&u.auto_renew,renewRemind:u&&u.renew_remind,face:u&&u.face,medalInfo:u&&u.medal_info,rank:u&&u.rank},e.abrupt("return",{data:s,error:null});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))}function G(t){return A(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get(""+L,{params:t});case 3:if(n=e.sent,r=n.data,0===parseInt(r.code)){e.next=7;break}return e.abrupt("return",{error:new Error(r.msg||L+" "+C),errorType:"caution",errorMsg:r.msg,code:r.code,data:null});case 7:return o=r.data.list||[],e.abrupt("return",{data:o,error:null});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))}function U(t){return A(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get(""+P,{params:t});case 3:if(r=e.sent,o=r.data,0===parseInt(o.code)){e.next=7;break}return e.abrupt("return",{error:new Error(o.msg||P+" "+C),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 7:return a=o.data,(s={list:null,own:null,isHasMedal:!1}).list=c()(n=a.list).call(n,f.PI.medal.medalInfoFilter),s.own=f.PI.medal.medalOwnFilter(a.own),s.isHasMedal=a.medal.status>0,e.abrupt("return",{data:s,error:null});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))}function Z(t,e){return A(this,void 0,void 0,i().mark((function n(){var r,o,a,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l().get(t,{params:e});case 3:if(r=n.sent,o=r.data,0===parseInt(o.code)){n.next=7;break}return n.abrupt("return",{error:new Error(o.msg||M+" "+C),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 7:return a=o.data,s=c()(a).call(a,f.PI.activity),n.abrupt("return",{data:s,error:null});case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",{error:n.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))}function V(t){return A(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get(""+D,{params:t});case 3:if(r=e.sent,o=r.data,0===parseInt(o.code)){e.next=7;break}return e.abrupt("return",{error:new Error(o.msg||D+" "+C),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 7:return a=c()(n=o.data).call(n,(function(t){return f.PI.loveClub(t)})),e.abrupt("return",{data:a,error:null});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))}function H(t){return A(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get(""+N,{params:t});case 3:if(n=e.sent,r=n.data,0===parseInt(r.code)){e.next=7;break}return e.abrupt("return",{error:new Error(r.msg||N+" "+C),errorType:"caution",errorMsg:r.msg,code:r.code,data:null});case 7:return o=f.PI.loveClubFight(r.data),e.abrupt("return",{data:o,error:null});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))}function W(t){return A(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get(""+B,{params:t});case 3:if(r=e.sent,o=r.data,0===parseInt(o.code)){e.next=7;break}return e.abrupt("return",{error:new Error(o.msg||B+" "+C),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 7:return a=c()(n=o.data.data).call(n,(function(t){return f.PI.admin(t)})),e.abrupt("return",{data:a,error:null});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))}var j=function(){function t(){}return t.getGuardResource=function(t){return A(this,void 0,void 0,i().mark((function e(){var n,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={module:t},e.abrupt("return",O((function(t){return A(r,void 0,void 0,i().mark((function e(){var n,r,o,a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.urls.guardResource,e.next=3,l().get(n,{params:t});case 3:if(r=e.sent,0==+(o=r.data).code){e.next=9;break}return e.abrupt("return",{error:new Error(o.msg||n+" "+d.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:o.msg,code:o.code,data:o.data});case 9:return a=o.data,s=a.guard_resource_new,c=a.medal_level_up_animation,e.abrupt("return",{data:S(s.data),medalAnimData:c&&c.data.animation,error:null});case 11:case"end":return e.stop()}}),e,this)})))}),n));case 2:case"end":return e.stop()}}),e)})))},t.getGameInfo=function(){return A(this,void 0,void 0,i().mark((function t(){var e,n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.urls.gameInfo,n={room_id:p.e.getRoomId()},t.next=5,l().get(e,{params:n});case 5:if(r=t.sent,o=r.data,0===parseInt(o.code)){t.next=11;break}return t.abrupt("return",{error:new Error(o.msg||e+" "+d.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:o.msg,code:o.code,data:o.data});case 11:return t.abrupt("return",{data:o.data,error:null});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",{error:t.t0,errorType:"error",errorMsg:d.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return t.stop()}}),t,this,[[0,14]])})))},t.getTeamList=function(){return A(this,void 0,void 0,i().mark((function t(){var e,n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.urls.gameTeamList,n={room_id:p.e.getRoomId()},t.next=5,l().get(e,{params:n});case 5:if(r=t.sent,o=r.data,0===parseInt(o.code)){t.next=11;break}return t.abrupt("return",{error:new Error(o.msg||e+" "+d.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:o.msg,code:o.code,data:o.data});case 11:return t.abrupt("return",{data:o.data,error:null});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",{error:t.t0,errorType:"error",errorMsg:d.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return t.stop()}}),t,this,[[0,14]])})))},t.getRankList=function(t){return A(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.gameRankList,r={room_id:p.e.getRoomId(),match_id:t},e.next=5,l().get(n,{params:r});case 5:if(o=e.sent,a=o.data,0===parseInt(a.code)){e.next=11;break}return e.abrupt("return",{error:new Error(a.msg||n+" "+d.D.FALLBACK_ERROR_MSG),errorType:"caution",errorMsg:a.msg,code:a.code,data:a.data});case 11:return e.abrupt("return",{data:a.data,error:null});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:d.D.SERVER_ERROR_MSG,data:null});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})))},t.getWebMatchRankList=function(){return A(this,void 0,void 0,i().mark((function t(){var e,n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.webMatchTeamRank){t.next=3;break}return t.abrupt("return",window.webMatchTeamRank);case 3:return e=this.urls.webMatchTeamRank,n={room_id:p.e.getRoomId()},t.next=7,l().get(e,{params:n});case 7:if(r=t.sent,o=r.data,0!==parseInt(o.code)){t.next=14;break}return window.webMatchTeamRank=o.data,t.abrupt("return",o.data);case 14:return t.abrupt("return",{list:[],teams:[]});case 15:t.next=20;break;case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return",{list:[],teams:[]});case 20:case"end":return t.stop()}}),t,this,[[0,17]])})))},t.getRankTabs=function(t){return A(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}return e.next=4,c()(r=p.e.getRoomTabs()).call(r,f.PI.tab);case 4:return e.abrupt("return",e.sent);case 5:return o=this.urls.tabs,a={roomid:p.e.getRoomId()},e.next=9,l().get(o,{params:a});case 9:if(s=e.sent,u=s.data,0===parseInt(u.code)){e.next=13;break}return e.abrupt("return",{error:new Error(u.msg||R+" "+C),errorType:"caution",errorMsg:u.msg,code:u.code,data:null});case 13:return d=c()(n=u.data).call(n,f.PI.tab),e.abrupt("return",{data:d,error:null});case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})))},t.updateTipStatus=function(t,e,n){return A(this,void 0,void 0,i().mark((function r(){var o,a,s,c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=this.urls.tipStatus,a={type:t,content:e,target_id:n},r.next=5,l().post(o,a);case 5:if(s=r.sent,c=s.data,0===parseInt(c.code)){r.next=9;break}return r.abrupt("return",{error:new Error(c.msg||R+" "+C),errorType:"caution",errorMsg:c.msg,code:c.code,data:null});case 9:return r.abrupt("return",c.data);case 12:return r.prev=12,r.t0=r.catch(0),r.abrupt("return",{error:r.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 15:case"end":return r.stop()}}),r,this,[[0,12]])})))},t}();j.urls={tabs:"/room/v1/Room/rankTab",gift:"/rankdb/v1/RoomRank/webSevenRank",guard:"/guard/topList",guardResource:"/xlive/open-interface/v1/query_resource",medal:"/rankdb/v1/RoomRank/webMedalRank",activity:"/roomRank",club:"/activity/v1/UnionFans/roomFansRank",fight:"/activity/v1/UnionFans/fightRank",admin:"/xlive/web-room/v1/roomAdmin/get_by_room",gameInfo:"/activity/v1/Match/getMatchDetail",gameTeamList:"/activity_php/v1/Match/index",gameRankList:"/activity/v1/Match/giftRank",webMatchTeamRank:"/activity_php/v1/TeamRank/webMatchTeamRank",tipStatus:"/xlive/app-ucenter/v1/conf/SetConf"};var z=n(3595),Y=n(94686),K=((0,n(96225).Z)("RankList"),function(){function t(){}return t.filterGameInfo=function(t,e){var n=t||{},r=n.status,i=void 0===r?0:r,o=n.detail,a=(o=void 0===o?{}:o).match_id,s=void 0===a?0:a,c=o.home,u=void 0===c?null:c,l=o.visit,f=void 0===l?null:l,d=function(t){var n=t||{},r=n.team_id,i=void 0===r?0:r,o=n.ratio,a=void 0===o?null:o;return{name:e[i]&&e[i].name||"",icon:e[i]&&e[i].logo||"",ratio:a}};return{status:i,id:s,ourInfo:d(u),opponentInfo:d(f)}},t.filterTeamList=function(t){var e=t.teams,n={};return e.forEach((function(t){n[t.id]=t})),n},t.filterRankList=function(t){var e=t.status,n=t.list,r={},i={};return Array.isArray(n)&&n.forEach((function(t){var e,n=[];Array.isArray(t.gift_info)&&(n=c()(e=t.gift_info).call(e,(function(t){return{giftId:t.gift_id||0,giftName:t.gift_name||""}})));i[t.team_name]=n;var o=t.assist.length;if(r[t.team_name]=t.assist,o<3)for(var a=0;a<3-o;a++)r[t.team_name].push(null)})),{status:e,gift:i,list:r}},t}()),J=n(87546),Q=n(59340),X=n.n(Q),q=n(50308),$=n.n(q);function tt(t,e){var n=void 0!==k()&&I()(t)||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return et(t,e);var r=g()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return w()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nt=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},rt=new(function(){function t(){this.tabs=[],this.isError=!1,this.currentTab="",this.guardResource=null}var e=t.prototype;return e.init=function(){return nt(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTabData(!0);case 2:return t.next=4,this.getKvData();case 4:case"end":return t.stop()}}),t,this)})))},e.refresh=function(){return nt(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentTab="",t.next=3,this.getTabData();case 3:case"end":return t.stop()}}),t,this)})))},e.getKvData=function(){return nt(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getGuardResource("guard_resource,medal_level_up_animation");case 2:e=t.sent,z.h.dispatch("setGuardResource",e.data).then($()).catch($()),z.h.dispatch("setMediaAnimaResource",e.medalAnimData||[]).then($()).catch($()),this.guardResource=e;case 6:case"end":return t.stop()}}),t,this)})))},e.getTabData=function(t){return void 0===t&&(t=!1),nt(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getRankTabs(t);case 2:n=e.sent,t?this.tabs=n:n.error?this.isError=!0:(this.isError=!1,this.tabs=n.data),this.setDefaultTab();case 5:case"end":return e.stop()}}),e,this)})))},e.setDefaultTab=function(){var t="";this.tabs.some((function(e){if(1===e.isFirst)return t=e.type,!0})),!this.currentTab&&this.tabs.length&&(t=this.tabs[0].type),this.changeTab(t)},e.manualSetTab=function(t){if(t&&t.type){for(var e,n=tt(this.tabs);!(e=n()).done;){if(e.value.type===t.type)return}var r=JSON.parse(X()(this.tabs));r.unshift(t),this.tabs=g()(r).call(r,0,Math.min(r.length,5)),this.changeTab(t.type)}},e.changeTab=function(t){this.currentTab=t},t}()),it=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ot=new(function(){function t(){this.gameInfo={status:J.B.noGame,id:0,ourInfo:{name:"",icon:"",ratio:"0"},opponentInfo:{name:"",icon:"",ratio:"0"}},this.allTeamList={},this.teamList=[],this.teamListShow=[],this.isError=!1,this.rankList={ourInfo:[],opponentInfo:[]},this.rankGiftDesc=""}var e=t.prototype;return e.getGameInfo=function(){return it(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getGameInfo();case 2:(e=t.sent).error?this.isError=!0:(n=K.filterGameInfo(e.data,this.allTeamList),this.gameInfo=n,this.isError=!1);case 4:case"end":return t.stop()}}),t,this)})))},e.getTeamList=function(){return it(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getTeamList();case 2:(e=t.sent).error||(n=K.filterTeamList(e.data),this.allTeamList=n);case 4:case"end":return t.stop()}}),t,this)})))},e.getRankList=function(){return it(this,void 0,void 0,i().mark((function t(){var e,n,r,o,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getRankList(this.gameInfo.id);case 2:(e=t.sent).error||(n=K.filterRankList(e.data),r=n.list,o=n.gift,a=this.gameInfo.ourInfo.name,s=this.gameInfo.opponentInfo.name,this.rankGiftDesc="赠送"+this.getGiftNameStr(o[a])+"为"+a+"应援，赠送"+this.getGiftNameStr(o[s])+"为"+s+"应援。",this.rankList={ourInfo:r[a]||null,opponentInfo:r[s]||null});case 4:case"end":return t.stop()}}),t,this)})))},e.getGiftNameStr=function(t){return void 0===t&&(t=[]),c()(t).call(t,(function(t){return t.giftName})).join("、")||"--"},e.getWebMatchTeamRank=function(){return it(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getWebMatchRankList();case 2:e=t.sent,this.teamList=e.teams,this.teamListShow=e.list;case 5:case"end":return t.stop()}}),t,this)})))},e.updateGameInfoOnSocket=function(t){if(z.h.getters.isGameRoom){var e=K.filterGameInfo(t.data,this.allTeamList);e.status!==J.B.noGame&&(this.gameInfo=e,rt.manualSetTab(t.data.match_tab))}},e.updateTeamListShowOnSocket=function(t){return it(this,void 0,void 0,i().mark((function e(){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z.h.getters.isGameRoom){e.next=3;break}return e.abrupt("return");case 3:this.teamListShow=[],t.data.forEach((function(t){var e=n.allTeamList[t.id];e&&n.teamListShow.push({id:t.id,name:e.name,rank:t.rank,score:t.score,logo:e.logo})}));case 6:case"end":return e.stop()}}),e,this)})))},e.clear=function(){this.gameInfo={status:J.B.noGame,id:0,ourInfo:{name:"",icon:"",ratio:"0"},opponentInfo:{name:"",icon:"",ratio:"0"}},this.rankList={ourInfo:[],opponentInfo:[]},this.isError=!1,rt.refresh().then().catch()},t}()),at=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},st=0,ct=0;function ut(){return at(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U({roomid:st,ruid:ct});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}function lt(t,e){return void 0===e&&(e=10),at(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F({roomid:st,page:t,ruid:ct,page_size:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))}function ft(){return at(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G({platform:"web",build:1,type:"bn:grd:shiplist"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}function dt(){return at(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V({roomid:st,ruid:ct});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}function pt(){return at(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H({roomid:st,ruid:ct});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}function ht(t,e){return at(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z(t,{roomid:st,rank_name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))}function mt(t){return at(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({roomid:st,page_size:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}function vt(t,e,n){return at(this,void 0,void 0,i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.updateTipStatus(t,e,n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))}function gt(){return at(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return st=z.h.state.baseInfoRoom.roomID,ct=z.h.getters.baseInfoAnchor.uid,t.next=4,rt.init();case 4:case"end":return t.stop()}}),t)})))}},87546:function(t,e,n){"use strict";var r;n.d(e,{B:function(){return r}}),function(t){t[t.noGame=0]="noGame",t[t.inProgress=1]="inProgress",t[t.end=2]="end"}(r||(r={}))},69681:function(t,e,n){"use strict";n.d(e,{c:function(){return f},P:function(){return d}});var r,i=n(92762),o=n.n(i),a=n(53674),s=n(3160),c=[{text:"调查问卷",type:s.j.survey,name:s.j.survey,iconClass:"icon-feedback",isHide:!0,color:"#0080c6"},{text:"实验室",type:s.j.lab,name:s.j.lab,iconClass:"icon-lab",isHide:!0,color:"#0080c6"},{text:"推荐",type:s.j.follow,name:s.j.follow,iconClass:"concerned",color:"#0080c6"},{text:"",type:s.j.top,name:s.j.top,iconClass:"top",isHide:!0,color:"#0080c6"}],u=n(18980),l=n(32114);!function(t){t.clickUnion="sidebar_friendly",t.clickCapsule="sidebar_capsule",t.clickLiveSetting="sidebar_live",t.clickMyRoom="sidebar_room",t.clickFollow="sidebar_follow_click",t.clickLaboratory="sidebar_laboratoryw_click",t.openFollow="sidebar_follow_open",t.closeFollow="sidebar_follow_close"}(r||(r={}));var f=function(){function t(){}return t.report=function(t,e){void 0===e&&(e={}),u.default.report(t,e)},t.clickBtn=function(t){var e=r["click"+t];e&&(r.clickLaboratory===e?l.Z.reportAll(e):this.report(e))},t.openFollow=function(){this.report(r.openFollow)},t.closeFollow=function(){this.report(r.closeFollow)},t}(),d=new(function(){function t(){this.currentPopupName=null,this.sidebarBtns={},this.sidebarConfig=c,this.initBtns()}var e=t.prototype;return e.openPopup=function(t){this.currentPopupName=t},e.closePopup=function(){this.clear()},e.initBtns=function(){var t=this;this.sidebarConfig.forEach((function(e){var n=new a.X(e);t.sidebarBtns[n.name]=n}))},e.addConfig=function(t){var e;o()(e=this.sidebarConfig).call(e,0,0,t);var n=new a.X(t);return this.sidebarBtns[n.name]=n,n},e.findBtn=function(t){return this.sidebarBtns[t]},e.clear=function(){this.currentPopupName=null},t}())},53674:function(t,e,n){"use strict";n.d(e,{X:function(){return r}});var r=function(){function t(t){this.isHasNew=!1,this.isHide=!1,this.isJumping=!1,this.url="",this.jumpingIntervalTime=0;var e=t.type,n=t.name,r=t.text,i=t.color,o=t.icon,a=void 0===o?"":o,s=t.iconClass,c=t.isHide,u=void 0!==c&&c,l=t.isForceOpen,f=void 0!==l&&l,d=t.jumpingIntervalTime;this.type=e,this.name=n,this.text=r,this.color=i,this.icon=a,this.isForceOpen=f,this.iconClass=s,this.type=e,this.isHide=u,this.jumpingIntervalTime=d}var e=t.prototype;return e.setHasNew=function(t){void 0===t&&(t=!1),this.isHasNew=t},e.setIsJumping=function(t){void 0===t&&(t=!1),this.isJumping=t},t}()},3160:function(t,e,n){"use strict";var r;n.d(e,{j:function(){return r}}),function(t){t.lego="Lego",t.union="Union",t.capsule="Capsule",t.liveSetting="LiveSetting",t.myRoom="MyRoom",t.follow="Follow",t.top="Top",t.lab="Laboratory",t.survey="Survey"}(r||(r={}))},74523:function(t,e,n){"use strict";n.d(e,{c:function(){return p}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=n(23933),l=n(74338),f=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},d=l.D.FALLBACK_ERROR_MSG,p=function(){function t(){}return t.getPKInfo=function(t){return f(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.pkInfo,r=3===u.e.getPkStatus()?6:u.e.getPkStatus(),o={pk_id:t,room_id:u.e.getRoomId(),pk_version:r},e.next=6,c().get(n,{params:o});case 6:if(a=e.sent,s=a.data,0===parseInt(s.code)){e.next=10;break}return e.abrupt("return",{error:new Error(s.msg||n+" "+d),errorType:"caution",errorMsg:s.msg,code:s.code,data:null});case 10:return e.abrupt("return",{data:s.data,error:null});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 16:case"end":return e.stop()}}),e,this,[[0,13]])})))},t.getFoStatus=function(t){return f(this,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.urls.foStatus,r={mid:u.e.getUid(),fid:t},e.next=5,c().get(n,{params:r});case 5:if(o=e.sent,a=o.data,0===parseInt(a.code)){e.next=9;break}return e.abrupt("return",{error:new Error(a.msg||n+" "+d),errorType:"caution",errorMsg:a.msg,code:a.code,data:null});case 9:return e.abrupt("return",{data:a.data,error:null});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{error:e.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})))},t}();p.urls={pkInfo:"/av/v1/Battle/getInfoById",foStatus:"//api.bilibili.com/x/relation"}},70144:function(t,e,n){"use strict";n.d(e,{y:function(){return o},f:function(){return a}});var r=n(30381),i=n(55716);function o(t){return{img:t.first_rank_img_url||"",desc:t.rank_name||"尚无段位",show:!!t.show_status}}function a(t){var e={master:{roomid:t.anchor_pk_info.room_id||0,uid:t.anchor_pk_info.uid||0,uname:t.anchor_pk_info.uname||"",uface:t.anchor_pk_info.uface?(0,i.bfsImgLink)(t.anchor_pk_info.uface,100,100):"//static.hdslb.com/images/member/noface.gif",level:t.anchor_pk_info.exp&&t.anchor_pk_info.exp.master_level&&t.anchor_pk_info.exp.master_level.level||0,pendants:{avatar:{name:"--",position:0,imageUrl:t.anchor_pk_info.face_frame,desc:"",type:"avatar"},corner:{name:"--",position:t.anchor_pk_info.badge&&parseInt(t.anchor_pk_info.badge.position)||3,imageUrl:t.anchor_pk_info.badge&&t.anchor_pk_info.badge.url||"",desc:"",type:"corner"}}},rankInfo:{firstRankName:t.anchor_pk_info.pk_rank_name||"",firstRankImg:t.anchor_pk_info.first_rank_img_url||"",secondRankIcon:t.anchor_pk_info.second_rank_icon||"",secondRankNum:t.anchor_pk_info.pk_rank_star||0,nextRankName:t.anchor_pk_info.next_pk_rank_name||"",nextRankNum:t.anchor_pk_info.next_pk_rank_star||0,nextRankNeedScore:t.anchor_pk_info.next_rank_need_score||0},ruleLink:t.pk_url_info&&t.pk_url_info.pk_rule_url||"",rankLink:t.pk_url_info&&t.pk_url_info.pk_rank_url||"https://live.bilibili.com/blackboard/activity-DLD-DW_w8.html#MNjb-w86y-f"};return t.season_mvp_info&&(e.bestUser={uid:t.season_mvp_info.uid||0,uname:t.season_mvp_info.uname||"",uface:t.season_mvp_info.uface?(0,i.bfsImgLink)(t.season_mvp_info.uface,48,48):"//static.hdslb.com/images/member/noface.gif",pkVotes:t.season_mvp_info.pk_season_mvp_score||0,pkVotesName:t.season_mvp_info.pk_score_name}),t.score_info&&(e.winningInfo={total:t.score_info.total_num||0,victory:t.score_info.total_win_num||0,draw:t.score_info.total_tie_count||0,defeat:t.score_info.total_lose_count||0,maxStreak:t.score_info.max_win_num||0,curStreak:t.score_info.win_count||0,lastMinute:t.score_info.hasOwnProperty("reverse_win_num")?t.score_info.reverse_win_num||0:-1,rate:t.score_info.win_rate||0}),t.award_info&&(e.streakReward={num:t.award_info.award_condition_num,detail:t.award_info.award_info}),t.season_info&&(e.currentSeason={name:t.season_info.current_season_name||"",startTime:r.unix(t.season_info.current_season_start_time).format("YYYY.M.DD HH:mm")||"",endTime:r.unix(t.season_info.current_season_end_time).format("YYYY.M.DD HH:mm")||""}),e}},75164:function(t,e,n){"use strict";n.d(e,{n:function(){return s}});var r=n(69171),i=n(74523),o=n(23933),a=n(50683),s=new(function(){function t(){this.pk=null,this.banner=null,this.pk=new r.PK(i.c),this.banner=new a.Z}var e=t.prototype;return e.getAnchorBasicInfo=function(){return{uid:o.e.getAnchorUid(),roomId:o.e.getRoomId(),face:o.e.getAnchorFace(),uname:o.e.getAnchorUserName()}},e.init=function(t){this.pk.init(t,this.getAnchorBasicInfo())},e.onSocketPK=function(t,e){this.pk.onSocket(t,e)},e.onSocketPKMicroPhone=function(t){this.pk.onSocketMicorPhone(t)},e.onSocketBanner=function(t){this.banner.onSocket(t)},e.getGiftToast=function(t){return this.pk.getPkGiftToast(t)},t}())},50683:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(51942),i=n.n(r),o=n(70144),a=n(23933),s=function(){function t(){this.img="",this.desc="",this.show=!1}var e=t.prototype;return e.getBanner=function(){var t=(0,o.y)(a.e.getRoomBattleRankEntry());t&&(this.img=t.img,this.desc=t.desc,this.show=t.show)},e.onSocket=function(t){var e=(0,o.y)(i()({show_status:1},t.data));this.img=e.img,this.desc=e.desc},t}()},69171:function(t,e,n){"use strict";n.d(e,{PK:function(){return Y},uj:function(){return et}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(14310),c=n.n(s),u=n(51942),l=n.n(u),f=n(50109),d=function(){function t(){this.giftMsg=[]}var e=t.prototype;return e.add=function(t){var e=this;this.giftMsg.push(t),setTimeout((function(){e.remove()}),3e3)},e.remove=function(){this.giftMsg.shift()},t}(),p=function(){function t(t){this.uid=0,this.votes=0,this.roomId=0,this.face="",this.status=null,this.result=null,this.winner_result=null,this.isLead=!1,this.uname="",this.mvp="",this.giftHistory=null,this.critStatus=0,this.critPercent="",this.critNum=0,this.critTimer=0,this.bestUname="",this.assistInfo=[];var e=t.uid,n=void 0===e?0:e,r=t.votes,i=void 0===r?0:r,o=t.roomId,a=void 0===o?0:o,s=t.uname,c=void 0===s?"":s,u=t.face,l=void 0===u?"":u,p=t.mvp,h=void 0===p?"":p,m=t.isLead,v=void 0!==m&&m,g=t.status,b=void 0===g?f.GZ.normal:g,w=t.critStatus,y=t.critNum,k=t.result,_=void 0===k?f.RT.none:k,I=t.assistInfo,T=void 0===I?[]:I,x=t.winner_result,S=void 0===x?0:x,A=t.vision_desc,C=void 0===A?0:A,R=t.date_streak,E=void 0===R?0:R;this.uid=n,this.votes=i,this.roomId=a,this.uname=c,this.face=l,this.status=b,this.critStatus=w,this.critPercent=y,this.result=_,this.giftHistory=new d,this.mvp=h,this.isLead=v,this.assistInfo=T,this.winner_result=S,this.visionDesc=C,this.date_streak=E}var e=t.prototype;return e.update=function(t){var e=t.mvp,n=t.votes,r=t.isLead,i=t.result,o=t.bestUname,a=t.assistInfo,s=t.vision_desc;this.mvp=e||this.mvp,this.votes=n,this.isLead=r,this.setResult(i||this.result),this.bestUname=o||"",this.assistInfo=a||[],this.visionDesc=s||0},e.setPlayerStatus=function(t){this.status!==f.GZ.immune&&(this.status=t)},e.setCritStatus=function(t){this.critStatus=t},e.setPlayerCrit=function(t){this.critPercent=t},e.setCritNum=function(t){var e=this;clearTimeout(this.critTimer),this.critNum=t,this.critTimer=setTimeout((function(){e.critNum=0}),1e3)},e.getVotes=function(){return this.votes},e.setVotes=function(t){this.votes=t},e.setStreak=function(t){this.date_streak=t.date_streak},e.setResult=function(t){this.result=t},e.checkIsCanBeKill=function(){return this.status!==f.GZ.immune&&!this.isLead},e.clear=function(){this.votes=0,this.status=null,this.result=f.RT.none},t}(),h=n(34074),m=n.n(h),v=n(9669),g=n.n(v),b=n(8605),w=n(32841),y=n(23933),k=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=m()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},_=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},I=function(){function t(){}return t.fetchChaosResult=function(t){return _(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.urls.pkResult,e.next=3,g().get(n,{params:{pk_id:t,room_id:y.e.getRoomId(),platform:"pc",t:(new Date).getTime()}});case 3:return r=e.sent,o=r.data,e.abrupt("return",new b.K(o));case 6:case"end":return e.stop()}}),e,this)})))},t.fetchNewVideoResult=function(t){return _(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.urls.newVideoPkResult,e.next=3,g().get(n,{params:{pk_id:t,room_id:y.e.getRoomId(),platform:"pc",t:(new Date).getTime()}});case 3:return r=e.sent,o=r.data,e.abrupt("return",new b.K(o));case 6:case"end":return e.stop()}}),e,this)})))},t.fetchPkRankList=function(t,e){return _(this,void 0,void 0,i().mark((function n(){var r,o,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.urls.pkRank,n.next=3,g().get(r,{params:{room_id:y.e.getRoomId(),pk_id:t,next_offset:e||0}});case 3:return o=n.sent,a=o.data,n.abrupt("return",new b.K(a));case 6:case"end":return n.stop()}}),n,this)})))},t}();I.urls={pkResult:"/av/v1/Battle/getPkResultInfo",newVideoPkResult:"/av/v1/Battle/getNewPkResultInfo",pkRank:"/av/v1/Battle/assistRank"},k([(0,w.Z)()],I,"fetchChaosResult",null),k([(0,w.Z)()],I,"fetchNewVideoResult",null);var T,x=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},S=function(){function t(){this.pk_id=null,this.season_id=null,this.result_type=null}var e=t.prototype;return e.showResult=function(t){this.clearResult(),this.pk_id=t.pk_id,this.season_id=t.season_id,this.result_type=t.result_type,this.level_info=t.level_info,this.assist_list=t.assist_list,this.result_info=t.result_info},e.showVideoPkResult=function(t){this.clearResult()},e.getNewVideoFromAPI=function(t){return x(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.fetchNewVideoResult(t);case 2:if(0!==(n=e.sent).code){e.next=5;break}return e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))},e.getFromAPI=function(t){return x(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.fetchChaosResult(t);case 2:0===(n=e.sent).code&&this.showResult(n.data);case 4:case"end":return e.stop()}}),e,this)})))},e.clearResult=function(){this.pk_id=null,this.season_id=0,this.result_type=null,this.level_info=null,this.assist_list=[],this.result_info=null},t}(),A=function(){function t(){this.battleType=0}var e=t.prototype;return e.showVideoResult=function(t){this.clearVideoResult(),this.battleType=t.battle_type,this.init_info=t.init_info,this.match_info=t.init_info,this.dm_conf=t.dm_conf},e.clearVideoResult=function(){this.battleType=0,this.init_info=null,this.match_info=null,this.dm_conf=null},t}(),C=((T={})[f.oJ.pre]=f.u1.pre,T[f.oJ.process]=f.u1.process,T[f.oJ.lastMinute]=f.u1.lastMinute,T[f.oJ.normalFreeze]=f.u1.freeze,T[f.oJ.lastMinuteFreeze]=f.u1.freeze,T[f.oJ.combineStreamFreeze]=f.u1.freeze,T[f.oJ.end]=f.u1.end,T[f.oJ.lastMinuteEnd]=f.u1.end,T[f.oJ.combineStreamFailed]=f.u1.end,T[f.oJ.punish]=f.u1.punish,T[f.oJ.punishError]=f.u1.punish,T[f.oJ.videoPunishWithNormal]=f.u1.videoPunish,T[f.oJ.videoPunishWithFinalHit]=f.u1.videoPunish,T),R={0:f.GZ.normal,1:f.GZ.beKill,2:f.GZ.immune},E=function(){function t(){}return t.filterPKInfo=function(t,e){var n=t.pk_id,r=t.status,i=t.pk_start_time,o=t.pk_frozen_time,a=t.pk_end_time,s=t.timestamp,c=t.pk_votes_name,u=t.init_info,f=t.match_info,d=t.pk_votes_add,p=t.pk_votes_type,h=t.final_hit_votes,m=t.battle_type,v=t.cdn_id,g=t.match_type,b=t.punish_end_time,w=t.pk_countdown,y=t.final_conf,k=void 0===y?{start_time:0,end_time:0,switch:0}:y,_=t.video_punish,I=void 0===_?{duration:0}:_,T=t.microphone,x=void 0!==T&&T,S=t.msg,A=void 0===S?"":S,R=null,E=null;e===u.room_id?(R=u,E=f):(R=f,E=u);var L=R.votes,P=E.votes,M=L>P,D=P>L,N=k?k.end_time-k.start_time:0,B=k?k.end_time-s:0,O=B<N?B:N;return{id:n,status:C[r],preTime:Math.max(0,i-s),pkTime:Math.max(0,o-s),freezeTime:a-o,ourPlayer:l()(this.filterPlayerInfo(R),{isLead:M}),opponentPlayer:l()(this.filterPlayerInfo(E),{isLead:D}),buffer:{isOpen:p>0,value:d},votesName:c,startTimestamp:i,freezeTimestamp:o,endTimestamp:a,lastMinuetNeedLeadVotes:h,battleType:m,cdnId:v,matchType:g,punishTime:b,timeStamp:s,isFollowed:E.is_followed,pkCountDown:w,finalConf:k,distanceToFinalHit:k?Math.max(0,k.start_time-s):0,finalHitCountDown:Math.max(0,O),duration:I?I.duration:0,microphone:x,msg:A}},t.filterPlayerInfo=function(t){var e=t.uid,n=t.room_id,r=t.uname,i=t.face,o=t.votes,a=t.final_hit_status,s=t.resist_crit_status,c=t.resist_crit_num,u=void 0===c?"":c,l=t.best_uname,f=t.assist_info,d=t.winner_type,p=t.vision_desc,h=t.date_streak;return{uid:e,roomId:n,status:R[a],critStatus:s,critNum:u,uname:r,face:i,votes:o,mvp:l||"",isLead:!1,bsetUname:l,assistInfo:f,winner_result:d,vision_desc:p,date_streak:h}},t.filterSocketProcess=function(t,e){var n=t.data,r=n.init_info,i=n.match_info,o=n.battle_type,a=null,s=null;e===r.room_id?(a=r,s=i):(a=i,s=r);var c=a.votes>s.votes,u=s.votes>a.votes;return{ourPlayer:l()({},this.filterPlayerInfo(a),{isLead:c}),opponentPlayer:l()({},this.filterPlayerInfo(s),{isLead:u}),battleType:o}},t.filterSocketPre=function(t){var e=this.filterPlayerInfo(t.data),n=t.data,r=n.end_win_task,i=n.pre_timer,o=n.match_type,a=n.battle_type,s=n.is_followed,c=r?{winCount:r.win_count||0,anchorAward:r.anchor_award||[],mvpAward:r.mvp_award||[]}:null;return l()({},e,{preTime:i,endWinTask:c,matchType:o,battleType:a,isFollowed:s})},t.filterSocketStart=function(t){var e=t.pk_id,n=t.timestamp,r=t.data,i=r.pk_start_time,o=r.pk_frozen_time,a=r.pk_end_time,s=r.pk_votes_name,c=r.pk_votes_add,u=r.final_hit_votes,l=r.battle_type,d=r.pk_countdown,p=r.final_conf,h=r.init_info,m=r.match_info;return{status:f.u1.process,id:e,preTime:Math.max(0,i-n),pkTime:Math.max(0,o-n),freezeTime:a-o,buffer:{isOpen:c>0,value:c},votesName:s,startTimestamp:i,freezeTimestamp:o,endTimestamp:a,lastMinuetNeedLeadVotes:u,battleType:l,pkCountDown:d,finalConf:p,init_info:h,match_info:m}},t.filterSocketChangeType=function(t){var e=t.data,n=e.timer,r=e.final_hit_room_id,i=e.be_final_hit_room_id;return{type:C[t.pk_status],timer:n,beKillRoomId:i,killRoomId:r}},t.filterSocketEnd=function(t,e){var n=t.data,r=n.timer,i=n.init_info,o=n.match_info,a=null,s=null;return e===i.room_id?(a=i,s=o):(a=o,s=i),{ourVotes:a.votes,ourMvp:a.best_uname,opponentVotes:s.votes,timer:r,match_info:o,init_info:i,ourPlayer:a,opponentPlayer:s}},t.filterSocketPunishBegin=function(t,e){var n=t.data,r=n.init_info,i=n.match_info,o=n.video_punish,a=null,s=null;return e===r.room_id?(a=r,s=i):(a=i,s=r),{ourVotes:a.votes,ourMvp:a.best_uname,opponentVotes:s.votes,match_info:i,init_info:r,ourPlayer:a,opponentPlayer:s,video_punish:o}},t}(),L=n(78580),P=n.n(L),M=n(82159),D=n(45220),N=n.n(D),B=n(7466),O=function(){function t(){this.freezeTime=0,this.COOKIE_KEY="PK_GIFT_TOAST",this.FREEZE_TIME_TIP="本场大乱斗已结束～赠送不计分啦"}var e=t.prototype;return e.setFreezeTime=function(t){this.freezeTime=t},e.getToast=function(e,n,r,i){switch(e){case B.X.chaosPKScore:return this.getPkGiftToast(n);case B.X.chaosPKImmune:return t.getChaosGiftToast(n,r,"immune");case B.X.chaosPKBoom:return t.getChaosGiftToast(n,i,"boom");default:return""}},e.clearCookie=function(){M.cookie.hasItem(this.COOKIE_KEY)&&M.cookie.removeItem(this.COOKIE_KEY)},t.getChaosGiftToast=function(t,e,n){var r=[f.u1.pre,f.u1.end,f.u1.freeze],i={immune:{out:"大乱斗中赠送可免疫本场绝杀哦～",own:"主播已免疫绝杀，可以留着下次用哦～",normal:"赠送后主播可免本场被绝杀"},boom:{out:"大乱斗中投喂可使主播拥有抗暴属性哦～",own:"主播已抗暴，留着下次用吧～",normal:"投喂使主播拥有抗暴属性，减少对手暴击收益哦～"}}[n];return N()(t)||N()(e)||P()(r).call(r,t)?i.out:e===("immune"===n?f.GZ.immune:f.wp.antiBoom)?i.own:i.normal},e.getPkGiftToast=function(t){return!t||t!==f.u1.freeze||this.freezeTime<=0||M.cookie.hasItem(this.COOKIE_KEY)?"":(M.cookie.setItem(this.COOKIE_KEY,"1",new Date((new Date).getTime()+1e3*this.freezeTime)),this.FREEZE_TIME_TIP)},t}(),F=n(74338),G=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},U=F.D.FALLBACK_ERROR_MSG,Z=function(){function t(){}return t.checkTime=function(){return G(this,void 0,void 0,i().mark((function t(){var e,n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.urls.checkTime,n={platform:"pc",timestamp:+(new Date).getTime()},t.next=5,g().get(e,{params:n,headers:{"Cache-Control":"no-cache"}});case 5:if(r=t.sent,o=r.data,0===parseInt(o.code)){t.next=9;break}return t.abrupt("return",{error:new Error(o.msg||e+" "+U),errorType:"caution",errorMsg:o.msg,code:o.code,data:null});case 9:return t.abrupt("return",{data:o.data,error:null});case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{error:t.t0,errorType:"error",errorMsg:"网络错误或服务器宕机",data:null});case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))},t}();Z.urls={checkTime:"/av/v1/Battle/getTimestamp"};var V={normal:20,lastMinute:10},H=5e3,W=n(67218),j=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},z=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof c()){var i=0;for(r=c()(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Y=function(){function t(t){this.battleType=0,this.cndId=0,this.matchType=0,this.isFollowed=0,this.videoResult=new A,this.punishIng=!1,this.punishErrMsg="",this.id=0,this.roomId=0,this.ourPlayer=null,this.opponentPlayer=null,this.endWinTask=null,this.isShowEndWin=!1,this.isShowVideoEndWin=!1,this.critRoomId=0,this.critNum=0,this.startTimestamp=0,this.freezeTimestamp=0,this.endTimestamp=0,this.preTime=0,this.pkTime=0,this.punishTime=0,this.timeStamp=0,this.pkCountDown=0,this.freezeTime=0,this.status=null,this.result=new S,this.pkGift=new O,this.buffer={isOpen:!1,value:0},this.votesName="",this.lastMinuetNeedLeadVotes=0,this.countdownTimer=null,this.checkTimeTimer=null,this.laterCheckTimer=null,this.checkProcessStatusTimer=null,this.freezeCloseTimer=null,this.punishTimer=null,this.videoResultTimer=null,this.errorMsgTimer=null,this.isBoardCastPunish=!1,this.isShowResult=!1,this.isShowResultTimer=null,this.isSetLaterCheck=!1,this.maxLoopTime=V.normal,this.finalConf=null,this.finalHitCountDown=0,this.totalFinalHitTime=0,this.finalHitCountDownTimer=null,this.distanceToFinalHit=0,this.distanceToFinalHitTimer=null,this.finalSwitchStatus=0,this.finalHitStatus=0,this.finalHitCloserTimer=null,this.ourFinalResult=null,this.opponentFinalResult=null,this.isFinalHitEnd=!1,this.chaosVideoPkStatus=!1,this.chaosVideoPkTimer=null,this.chaosVideoPkTime=0,this.microphone=!1,this.microphoneToast="",this.microphoneToastTimer=null,this.isPlayVideoEntryAnimate=!1,this.isPlayPunishedVictoryAnimate=!1,this.lastTimestamp=0,this.api=t}var e=t.prototype;return e.init=function(t,e){this.ourBasicInfo=e,this.roomId=e.roomId,t&&this.getPKInfo(t)},e.getNextStatus=function(t){var e=0;switch(t){case f.u1.process:e=f.u1.freeze;break;case f.u1.pre:e=f.u1.process}return e},e.laterCheck=function(t,e){var n=this;clearTimeout(this.laterCheckTimer),this.isSetLaterCheck=!0,this.laterCheckTimer=setTimeout((function(){n.isSetLaterCheck=!1,n.status!==e&&(e===f.u1.freeze?n.battleType!==f.hJ.videoPK&&n.result.getFromAPI(n.id):n.refresh())}),H)},e.getVideoPKResult=function(t){if(t){var e=t.init_info.result_type||t.init_info.winner_result,n=t.match_info.result_type||t.match_info.winner_result,r={mvp:"",votes:t.init_info.votes||t.init_info.pk_votes,isLead:!1,result:e,bestUname:t.init_info.best_uname,assistInfo:t.init_info.assist_info||t.init_info.assistInfo},i={mvp:"",votes:t.match_info.votes||t.match_info.pk_votes,isLead:!1,result:n,bestUname:t.match_info.best_uname,assistInfo:t.match_info.assist_info||t.match_info.assistInfo},o=null,a=null,s=t.init_info.room_id?t.init_info.room_id:t.init_info.roomId;this.roomId===s?(o=r,a=i):(o=i,a=r),this.ourPlayer.setVotes(o.votes),this.ourPlayer.setResult(e),this.opponentPlayer.setVotes(a.votes),this.ourPlayer.setResult(n),this.ourPlayer.update(o),this.opponentPlayer.update(a)}},e.closeWinTask=function(){this.isShowEndWin=!1},e.randomGetVideoPkResult=function(){var t=this;clearTimeout(this.videoResultTimer),this.videoResultTimer=setTimeout((function(){return t.result.getNewVideoFromAPI(t.id).then((function(e){t.getVideoPKResult(e),clearTimeout(t.videoResultTimer)}))}),1e3*Math.ceil(5*Math.random()))},e.pre=function(t){var e=this;if(this.status=f.u1.pre,this.punishIng=!1,clearInterval(this.countdownTimer),t){this.ourPlayer=new p(this.ourBasicInfo),this.matchType=t.matchType,this.battleType=t.battleType,this.cndId=t.cdnId,this.isFollowed=t.isFollowed;var n=t.endWinTask,r=z(t,["endWinTask"]);this.opponentPlayer=new p(r),n&&(this.endWinTask=n,this.isShowEndWin=!0)}this.countdownTimer=setInterval((function(){e.preTime=e.preTime-1,e.preTime<=0&&(e.closeWinTask(),clearInterval(e.countdownTimer),e.laterCheck(f.u1.pre,e.getNextStatus(f.u1.pre)))}),1e3)},e.start=function(t){var e=this;if(void 0===t&&(t=null),this.status=f.u1.process,this.closeWinTask(),this.pkTime<=0){var n=E.filterSocketStart(t);this.initSimpleInfo(n);var r=n.init_info,i=n.match_info;if(6!==this.battleType&&(r.date_streak>=0||i.date_streak>=0)){var o=null,a=null;this.roomId===r.room_id?(o=r,a=i):(o=i,a=r),this.ourPlayer.setStreak(o),this.opponentPlayer.setStreak(a)}}this.stopLoopCheckTime(),this.loopCheckTime(),clearInterval(this.countdownTimer),this.countdownTimer=setInterval((function(){e.pkTime=e.pkTime-1,e.pkTime<=0&&(clearInterval(e.countdownTimer),e.stopLoopCheckTime(),e.laterCheck(f.u1.process,e.getNextStatus(f.u1.process)),e.battleType===f.hJ.videoPK?e.randomGetVideoPkResult():e.battleType===f.hJ.chaosPK&&e.setFreezeEnd()),e.pkTime<60?e.maxLoopTime=V.lastMinute:e.maxLoopTime=V.normal}),1e3)},e.process=function(t){var e=t.ourPlayer,n=t.opponentPlayer,r=t.battleType;this.battleType=r,this.ourPlayer&&this.opponentPlayer&&(this.ourPlayer.update(e),this.opponentPlayer.update(n),r!==f.hJ.videoPK&&this.checkProcessStatus())},e.changeMode=function(t){var e=t.timer,n=t.type,r=t.beKillRoomId;if(t.type===f.u1.lastMinute){var i=r===this.ourPlayer.roomId?this.ourPlayer:this.opponentPlayer;(r===this.opponentPlayer.roomId?this.ourPlayer:this.opponentPlayer).setPlayerStatus(f.GZ.kill),i.setPlayerStatus(f.GZ.beKill)}else this.ourPlayer.setPlayerStatus(f.GZ.normal),this.opponentPlayer.setPlayerStatus(f.GZ.normal);this.status=n,this.pkTime=e},e.end=function(t,e){var n=t.ourVotes,r=t.ourMvp,i=t.opponentVotes,o=t.timer,a=t.init_info,s=t.match_info,c=t.ourPlayer,u=t.opponentPlayer;e===f.oJ.lastMinuteFreeze&&(this.ourFinalResult=c,this.opponentFinalResult=u);var l=f.RT.draw,d=f.RT.draw;n!==i?a.winner_type===f.RT.passive||s.winner_type===f.RT.passive?(l=f.RT.passive,d=f.RT.passive):n>i?(l=f.RT.win,d=f.RT.fail):(l=f.RT.fail,d=f.RT.win):a.winner_type!==f.RT.passive&&s.winner_type!==f.RT.passive||(l=f.RT.passive,d=f.RT.passive),this.ourPlayer.update({votes:n,isLead:n>i,mvp:r,result:l,vision_desc:this.ourPlayer.visionDesc}),this.opponentPlayer.update({votes:i,isLead:i>n,result:d,vision_desc:this.opponentPlayer.visionDesc}),this.freezeTime=o,this.pkGift.setFreezeTime(o)},e.settle=function(t){this.result.showResult(t.data)},e.settleNew=function(t){var e=this;void 0===t&&(t=null);var n=t.data;this.getVideoPKResult(n),this.punishTime=n.punish_end_time-this.endTimestamp,this.freezeTime=n.punish_end_time-this.endTimestamp,this.isBoardCastPunish=!0,this.isShowResult=!0,clearTimeout(this.isShowResultTimer),this.isShowResultTimer=setTimeout((function(){e.isShowResult=!1,clearTimeout(e.isShowResultTimer)}),3e3),this.pkTime=0,this.punishIng=!0,this.status=f.u1.punish,this.setFreezeEnd(),clearInterval(this.punishTimer),this.punishTime<=0&&(this.punishIng=!1,this.isShowVideoEndWin=!0,this.isBoardCastPunish=!1),this.punishTimer=setInterval((function(){e.isShowVideoEndWin=!1,e.punishTime=e.punishTime-1,e.punishTime<=0&&(e.freezeTime=0,e.isShowVideoEndWin=!0,e.punishIng=!1,clearInterval(e.punishTimer),e.punishTimer=null)}),1e3)},e.finalHit=function(){var t=this.timeStamp,e=this.finalConf,n=e.start_time,r=e.end_time,i=e.switch;if(this.finalHitStatus=f.u1.lastMinute,this.finalSwitchStatus=i,this.distanceToFinalHit=Math.max(0,n-t),this.finalHitCountDown=Math.max(0,r-t),this.totalFinalHitTime=Math.max(0,r-n),1===i&&(1===this.battleType||2===this.battleType)){if(clearInterval(this.finalHitCountDownTimer),clearInterval(this.distanceToFinalHitTimer),this.distanceToFinalHit>0)return void this.distanceToFinalHitFunc();this.finalHitStatus===f.u1.lastMinute&&this.finalHitCountDownFunc()}},e.checkProcessStatus=function(){var t=this;clearTimeout(this.checkProcessStatusTimer),this.checkProcessStatusTimer=setTimeout((function(){var e=t.checkStatusShouldBe();t.status!==e&&!t.isSetLaterCheck&&t.laterCheck(t.status,e)}),500)},e.checkStatusShouldBe=function(){var t=this.ourPlayer.votes,e=this.opponentPlayer.votes;if(!this.lastMinuetNeedLeadVotes||this.status===f.u1.process&&this.pkTime<=60)return this.status;var n=Math.abs(t-e)>this.lastMinuetNeedLeadVotes,r=this.ourPlayer.checkIsCanBeKill(),i=this.opponentPlayer.checkIsCanBeKill(),o=r&&!this.ourPlayer.isLead||i&&!this.opponentPlayer.isLead;return n&&o?f.u1.lastMinute:f.u1.process},e.setFreezeEnd=function(){var t=this;clearTimeout(this.freezeCloseTimer),this.freezeCloseTimer=setTimeout((function(){t.clear()}),1e3*this.freezeTime)},e.checkStatus=function(){switch(this.status){case f.u1.pre:this.pre();break;case f.u1.process:this.start();break;case f.u1.lastMinute:this.start(),this.finalHit();break;case f.u1.freeze:this.setFreezeEnd(),this.checkFreeze();break;case f.u1.punish:this.punishSettle();break;case f.u1.videoPunish:this.chaosVideoCheck()}},e.checkFreeze=function(){this.ourPlayer.setResult(this.ourPlayer.winner_result),this.opponentPlayer.setResult(this.opponentPlayer.winner_result)},e.chaosVideoCheck=function(){var t=this;this.checkFreeze(),clearInterval(this.chaosVideoPkTimer),this.chaosVideoPkStatus=!0,this.chaosVideoPkTimer=setInterval((function(){t.chaosVideoPkTime=t.chaosVideoPkTime-1,t.chaosVideoPkTime<=0&&(t.chaosVideoPkStatus=!1,t.clear(),clearInterval(t.chaosVideoPkTimer))}),1e3)},e.punishSettle=function(){var t=this;this.isBoardCastPunish=!1;var e={init_info:l()(l()({},this.ourPlayer),{votes:this.ourPlayer.getVotes()}),match_info:l()(l()({},this.opponentPlayer),{votes:this.opponentPlayer.getVotes()})};this.getVideoPKResult(e),this.punishIng=!0,this.status=f.u1.punish,this.freezeTime=this.punishTime-this.timeStamp,this.punishTime=this.punishTime-this.timeStamp,this.setFreezeEnd(),clearInterval(this.punishTimer),this.punishTime<=0&&(this.punishIng=!1,this.isShowVideoEndWin=!0),this.punishTimer=setInterval((function(){t.isShowVideoEndWin=!1,t.punishTime=t.punishTime-1,t.punishTime<=0&&(t.isShowVideoEndWin=!0,t.punishIng=!1,clearInterval(t.punishTimer),t.punishTimer=null)}),1e3)},e.checkIsPre=function(){return this.status===f.u1.pre},e.setPlayVideoEntryAnimate=function(){this.isPlayVideoEntryAnimate=!1},e.setPlayVideoVictoryAnimate=function(){this.isPlayPunishedVictoryAnimate=!1},e.getPKInfo=function(t){return j(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s,c,u,l,d,h,m,v,g,b,w,y,k,_,I,T,x,S,A,C,R,L,P,M,D,N,B=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.getPKInfo(t);case 2:if(!(n=e.sent).error){e.next=6;break}e.next=49;break;case 6:if(r=E.filterPKInfo(n.data,this.roomId),this.initSimpleInfo(r),o=r.id,a=r.status,s=r.preTime,c=r.pkTime,u=r.freezeTime,l=r.buffer,d=r.votesName,h=r.ourPlayer,m=r.punishTime,v=r.isFollowed,g=r.opponentPlayer,b=r.startTimestamp,w=r.freezeTimestamp,y=r.endTimestamp,k=r.lastMinuetNeedLeadVotes,_=r.battleType,I=r.cdnId,T=r.matchType,x=r.timeStamp,S=r.finalConf,A=r.finalHitCountDown,C=r.distanceToFinalHit,R=r.microphone,L=r.msg,P=r.duration,this.status=a,this.preTime=s,this.pkTime=c,this.freezeTime=u,this.buffer=l,this.votesName=d,this.startTimestamp=b,this.freezeTimestamp=w,this.endTimestamp=y,this.lastMinuetNeedLeadVotes=k,this.ourPlayer=new p(h),this.opponentPlayer=new p(g),this.id=o,this.pkGift.setFreezeTime(this.freezeTime),this.battleType=_,this.cndId=I,this.matchType=T,this.punishTime=m,this.timeStamp=x,this.isFollowed=v,this.finalConf=S,this.chaosVideoPkTime=P,this.checkStatus(),M=S.switch,D=S.start_time,N=S.end_time,this.finalSwitchStatus=M,this.distanceToFinalHit=C,this.finalHitCountDown=A,this.totalFinalHitTime=N-D,this.status===f.u1.process&&6===this.battleType&&(this.isPlayVideoEntryAnimate=!0),this.status===f.u1.punish&&6===this.battleType&&(this.isPlayPunishedVictoryAnimate=!0,this.isShowResult=!0,clearTimeout(this.isShowResultTimer),this.isShowResultTimer=setTimeout((function(){B.isShowResult=!1,clearTimeout(B.isShowResultTimer)}),3e3)),this.microphone=R,this.microphoneToast=L,this.microphone&&(clearTimeout(this.microphoneToastTimer),this.microphoneToastTimer=setTimeout((function(){B.microphone=!1,clearTimeout(B.microphoneToastTimer)}),3e3)),1!==M||1!==this.battleType&&2!==this.battleType){e.next=49;break}if(clearInterval(this.finalHitCountDownTimer),clearInterval(this.distanceToFinalHitTimer),!(this.distanceToFinalHit>0)){e.next=48;break}return this.distanceToFinalHitFunc(),e.abrupt("return");case 48:this.finalHitStatus===f.u1.lastMinute&&this.finalHitCountDownFunc();case 49:case"end":return e.stop()}}),e,this)})))},e.distanceToFinalHitFunc=function(){var t=this;clearInterval(this.distanceToFinalHitTimer),this.distanceToFinalHitTimer=setInterval((function(){t.distanceToFinalHit-=1,t.distanceToFinalHit<=0&&(t.finalHitStatus=f.u1.lastMinute,t.finalHitCountDownFunc(),clearInterval(t.distanceToFinalHitTimer))}),1e3)},e.finalHitCountDownFunc=function(){var t=this;clearInterval(this.finalHitCountDownTimer),this.finalHitCountDownTimer=setInterval((function(){t.finalHitCountDown-=1,t.finalHitCountDown<=0&&clearInterval(t.finalHitCountDownTimer)}),1e3)},e.getCurrentTime=function(){return j(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.checkTime();case 2:if((e=t.sent).error){t.next=5;break}return t.abrupt("return",e.data.timestamp);case 5:case"end":return t.stop()}}),t)})))},e.checkTime=function(){return j(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCurrentTime();case 2:(e=t.sent)&&this.correctTime(e);case 4:case"end":return t.stop()}}),t,this)})))},e.loopCheckTime=function(){return j(this,void 0,void 0,i().mark((function t(){var e,n=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Math.ceil(Math.random()*this.maxLoopTime),clearTimeout(this.checkTimeTimer),this.checkTimeTimer=setTimeout((function(){return j(n,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkTime();case 2:if(this.status===f.u1.process){t.next=4;break}return t.abrupt("return");case 4:this.loopCheckTime();case 5:case"end":return t.stop()}}),t,this)})))}),1e3*e);case 3:case"end":return t.stop()}}),t,this)})))},e.stopLoopCheckTime=function(){clearTimeout(this.checkTimeTimer)},e.correctTime=function(t){this.freezeTimestamp-t<=0?this.stopLoopCheckTime():(this.preTime=Math.max(0,this.startTimestamp-t),this.pkTime=Math.max(0,this.freezeTimestamp-t),this.freezeTime=this.endTimestamp-this.freezeTimestamp)},e.refresh=function(){this.getPKInfo(this.id)},e.initSimpleInfo=function(t){var e=t.status,n=t.preTime,r=t.pkTime,i=t.freezeTime,o=t.buffer,a=t.votesName,s=t.startTimestamp,c=t.freezeTimestamp,u=t.endTimestamp,l=t.lastMinuetNeedLeadVotes,f=t.battleType,d=t.pkCountDown,p=t.finalConf,h=t.finalHitCountDown,m=t.distanceToFinalHit;t.duration;this.status=e,this.preTime=n,this.pkTime=r,this.freezeTime=i,this.buffer=o,this.votesName=a,this.startTimestamp=s,this.freezeTimestamp=c,this.endTimestamp=u,this.lastMinuetNeedLeadVotes=l,this.battleType=f,this.pkCountDown=d,this.finalConf=p,this.finalHitStatus=e,this.distanceToFinalHit=m,this.finalHitCountDown=h,this.pkGift.setFreezeTime(this.freezeTime)},e.sendGift=function(t){var e=null,n=t.data;n.room_id===this.ourPlayer.roomId?(e=this.ourPlayer,this.ourPlayer.giftHistory.add(n.gift_msg)):e=this.opponentPlayer,1===n.type&&e.setPlayerStatus(f.GZ.immune),2===n.type&&(e.setCritStatus(f.wp.antiBoom),e.setPlayerCrit(n.resist_crit_num||""))},e.setBuffer=function(t){var e=t.data;this.buffer={isOpen:1===e.type,value:e.pk_votes_add}},e.triggerBoom=function(t){var e=t.data;if(this.critRoomId=e.accept_crit_room_id,this.critNum=e.crit_num,e.accept_crit_room_id===this.opponentPlayer.roomId){var n={uid:e.send_uid,username:e.send_uname,pkName:e.pk_votes_name,pkVotes:e.crit_num};(0,W.OM)(n),this.ourPlayer.setCritNum(e.crit_num)}else e.accept_crit_room_id===this.ourPlayer.roomId&&this.opponentPlayer.setCritNum(e.crit_num)},e.punish=function(t){var e=this;void 0===t&&(t=null);var n=t,r=n.status_msg;n.pk_status;f.oJ.punishError,this.punishErrMsg=r,this.freezeTime=0,this.errorMsgTimer=setTimeout((function(){e.setFreezeEnd(),e.clear(),e.isBoardCastPunish=!0}),1e3)},e.chaosVideoPunish=function(t){var e=this;void 0===t&&(t=null),clearInterval(this.chaosVideoPkTimer);var n=t,r=n.video_punish,i=n.init_info,o=n.match_info,a=n.ourVotes,s=n.opponentVotes,c=n.ourPlayer,u=n.opponentPlayer;this.ourFinalResult=c,this.opponentFinalResult=u;var l=i.result,d=o.result;a!==s?i.winner_type===f.RT.passive||o.winner_type===f.RT.passive?(l=f.RT.passive,d=f.RT.passive):a>s?(l=f.RT.win,d=f.RT.fail):(l=f.RT.fail,d=f.RT.win):i.winner_type!==f.RT.passive&&o.winner_type!==f.RT.passive||(l=f.RT.passive,d=f.RT.passive),this.ourPlayer.update({votes:a,result:l,vision_desc:this.ourPlayer.visionDesc||0}),this.opponentPlayer.update({votes:s,result:d,vision_desc:this.opponentPlayer.visionDesc||0});var p=r.duration;this.freezeTime=p,this.setFreezeEnd(),this.chaosVideoPkTime=p,this.chaosVideoPkStatus=!0,this.chaosVideoPkTimer=setInterval((function(){e.chaosVideoPkTime=e.chaosVideoPkTime-1,e.chaosVideoPkTime<=0&&e.clear()}),1e3)},e.clearCritRoomId=function(){this.critRoomId=0,this.critNum=0},e.onSocketMicorPhone=function(t){var e=this,n=t.data.toast;this.microphone=!0,this.microphoneToast=n,clearTimeout(this.microphoneToastTimer),this.microphoneToastTimer=setTimeout((function(){e.microphone=!1,clearTimeout(e.microphoneToastTimer)}),3e3)},e.onSocket=function(t,e){var n=t.timestamp;if(this.id=t.pk_id||this.id,!(n<this.lastTimestamp))switch(this.lastTimestamp=n,e){case f.YB.pre:var r=E.filterSocketPre(t);this.freezeTime=0,clearTimeout(this.freezeCloseTimer),this.battleType=t.data.battle_type,this.preTime=r.preTime,this.pre(r);break;case f.YB.start:this.status=f.u1.process,this.battleType=t.data.battle_type,this.start(t);var i=this.finalConf,o=i.start_time,a=i.end_time,s=i.switch;if(this.finalSwitchStatus=s,this.finalHitCountDown=a-o,this.distanceToFinalHit=o-n,this.totalFinalHitTime=a-o,1===s&&(1===this.battleType||2===this.battleType)){if(this.distanceToFinalHit>0)return void this.distanceToFinalHitFunc();this.finalHitStatus===f.u1.lastMinute&&this.finalHitCountDownFunc()}break;case f.YB.buffer:this.setBuffer(t);break;case f.YB.process:this.battleType=t.data.battle_type,this.process(E.filterSocketProcess(t,this.roomId));break;case f.YB.finalHit:var c=t.pk_status,u=t.data.battle_type;if(1===u||2===u)if(c===f.oJ.lastMinute){this.finalHitStatus=f.u1.lastMinute;var l=this.finalConf,d=l.start_time,p=l.end_time,h=l.switch;if(this.finalSwitchStatus=h,this.distanceToFinalHit=Math.max(0,d-this.lastTimestamp),this.finalHitCountDown=Math.max(0,p-d),this.totalFinalHitTime=Math.max(0,p-d),1===h&&(1===this.battleType||2===this.battleType)){if(clearInterval(this.finalHitCountDownTimer),clearInterval(this.distanceToFinalHitTimer),this.distanceToFinalHit>0)return void this.distanceToFinalHitFunc();this.finalHitCountDown>0&&this.finalHitStatus===f.u1.lastMinute&&this.finalHitCountDownFunc()}}else this.finalHitStatus=f.u1.process;break;case f.YB.changeType:var m=E.filterSocketChangeType(t);this.freezeTimestamp=t.timestamp+m.timer,this.endTimestamp=this.freezeTimestamp+this.freezeTime,this.changeMode(m);break;case f.YB.sendGift:this.sendGift(t);break;case f.YB.end:this.battleType=t.data.battle_type;var v=t.pk_status;this.end(E.filterSocketEnd(t,this.roomId),v),1!==(this.finalConf&&this.finalConf).switch||1!==this.battleType&&2!==this.battleType||(this.finalHitStatus=f.u1.end,v===f.oJ.lastMinuteFreeze?(this.isFinalHitEnd=!0,this.setFreezeEnd()):v===f.oJ.normalFreeze&&(this.isFinalHitEnd=!1));break;case f.YB.settle:this.status=f.u1.freeze,this.battleType=f.hJ.chaosPK,this.settle(t);break;case f.YB.settleNew:this.status=f.u1.freeze,this.isPlayPunishedVictoryAnimate=!1,this.battleType=t.data.battle_type,this.settleNew(t);break;case f.YB.triggerBoom:this.triggerBoom(t);break;case f.YB.punish:this.status=f.u1.punish,this.battleType=t.data.battle_type,this.punish(t);break;case f.YB.videoPunishBegin:clearTimeout(this.freezeCloseTimer),this.status=f.u1.videoPunish,this.battleType=f.hJ.videoChasoPK;var g=E.filterSocketPunishBegin(t,this.roomId);this.chaosVideoPunish(g);break;case f.YB.videoPunishEnd:this.clear()}},e.clear=function(){this.id=0,this.ourPlayer=null,this.opponentPlayer=null,this.status=null,this.punishTime=0,this.pkTime=0,this.freezeTime=0,this.finalHitCountDown=0,this.distanceToFinalHit=0,this.finalSwitchStatus=0,this.finalHitStatus=0,this.isFinalHitEnd=!1,this.chaosVideoPkStatus=!1,clearTimeout(this.checkTimeTimer),clearTimeout(this.laterCheckTimer),clearInterval(this.countdownTimer),clearTimeout(this.freezeCloseTimer),clearTimeout(this.checkProcessStatusTimer),clearInterval(this.punishTimer),clearTimeout(this.videoResultTimer),clearTimeout(this.errorMsgTimer),clearTimeout(this.isShowResultTimer),clearInterval(this.distanceToFinalHitTimer),clearInterval(this.finalHitCountDownTimer),clearTimeout(this.microphoneToastTimer),clearInterval(this.chaosVideoPkTimer)},e.getPkGiftToast=function(t){var e=this.status,n=this.ourPlayer&&this.ourPlayer.status,r=this.ourPlayer&&this.ourPlayer.critStatus;return this.pkGift.getToast(t,e,n,r)},t}(),K=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=m()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},J=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Q=function(){function t(){}return t.fetchInfoCard=function(t,e){return J(this,void 0,void 0,i().mark((function n(){var r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/av/v1/Battle/anchorBattleRank",n.next=3,g().get("/av/v1/Battle/anchorBattleRank",{params:{uid:t,room_id:e,platform:"pc",t:(new Date).getTime()}});case 3:return r=n.sent,o=r.data,n.abrupt("return",new b.K(o));case 6:case"end":return n.stop()}}),n)})))},t}();K([(0,w.Z)()],Q,"fetchInfoCard",null);var X=n(70144),q=n(68913),$=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},tt=(0,q.$S)("chaos-pk/info-card");function et(t){return $(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.e.getRoomId(),e.next=3,Q.fetchInfoCard(t,n);case 3:if(0!==(r=e.sent).code){e.next=8;break}return e.abrupt("return",(0,X.f)(r.data));case 8:return tt("信息卡请求失败",r.errorMsg),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))}n(50683)},50109:function(t,e,n){"use strict";var r,i,o,a,s,c,u,l,f;n.d(e,{oJ:function(){return r},u1:function(){return i},YB:function(){return o},GZ:function(){return a},wp:function(){return s},G9:function(){return c},RT:function(){return u},hJ:function(){return f}}),function(t){t[t.pre=101]="pre",t[t.process=201]="process",t[t.lastMinute=301]="lastMinute",t[t.normalFreeze=401]="normalFreeze",t[t.combineStreamFreeze=402]="combineStreamFreeze",t[t.lastMinuteFreeze=501]="lastMinuteFreeze",t[t.punish=601]="punish",t[t.punishError=610]="punishError",t[t.end=1001]="end",t[t.lastMinuteEnd=1101]="lastMinuteEnd",t[t.matchOverTime=1201]="matchOverTime",t[t.cancelMatch=1301]="cancelMatch",t[t.combineStreamFailed=1401]="combineStreamFailed",t[t.videoPunishWithNormal=701]="videoPunishWithNormal",t[t.videoPunishWithFinalHit=702]="videoPunishWithFinalHit"}(r||(r={})),function(t){t[t.pre=0]="pre",t[t.process=1]="process",t[t.lastMinute=2]="lastMinute",t[t.end=3]="end",t[t.freeze=4]="freeze",t[t.punish=5]="punish",t[t.lastMinuteFreeze=6]="lastMinuteFreeze",t[t.lastMinuteEnd=7]="lastMinuteEnd",t[t.videoPunish=8]="videoPunish"}(i||(i={})),function(t){t[t.pre=0]="pre",t[t.start=1]="start",t[t.process=2]="process",t[t.changeType=3]="changeType",t[t.end=4]="end",t[t.settle=5]="settle",t[t.sendGift=6]="sendGift",t[t.buffer=7]="buffer",t[t.triggerBoom=8]="triggerBoom",t[t.punish=9]="punish",t[t.settleNew=10]="settleNew",t[t.finalHit=11]="finalHit",t[t.videoPunishBegin=12]="videoPunishBegin",t[t.videoPunishEnd=13]="videoPunishEnd",t[t.microphone=14]="microphone"}(o||(o={})),function(t){t[t.normal=0]="normal",t[t.immune=1]="immune",t[t.kill=2]="kill",t[t.beKill=3]="beKill"}(a||(a={})),function(t){t[t.normal=0]="normal",t[t.antiBoom=1]="antiBoom"}(s||(s={})),function(t){t[t.draw=1]="draw",t[t.normalWin=2]="normalWin",t[t.lastMinuteWin=3]="lastMinuteWin",t[t.fail=-1]="fail"}(c||(c={})),function(t){t[t.none=0]="none",t[t.draw=1]="draw",t[t.win=2]="win",t[t.fail=3]="fail",t[t.passive=-10]="passive"}(u||(u={})),function(t){t[t.none=0]="none",t[t.draw=1]="draw",t[t.win=2]="win",t[t.fail=-1]="fail",t[t.passive=-10]="passive"}(l||(l={})),function(t){t[t.chaosPK=1]="chaosPK",t[t.videoChasoPK=2]="videoChasoPK",t[t.videoPK=6]="videoPK"}(f||(f={}))},15453:function(t,e,n){"use strict";n.d(e,{e:function(){return f}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(23933),c=function(){function t(){}return t.filterStatus=function(t){return t&&t.status&&t.icons?{status:{open:1===t.status.open,anchorOpen:1===t.status.anchor_open,status:1===t.status.status,uid:t.status.uid||0,uname:t.status.user_name||"",face:t.status.head_pic||"",guard:t.status.guard||0,startAt:t.status.start_at||0,currentTime:t.status.current_time||0},icons:{start:t.icons.icon_starting||"",close:t.icons.icon_close||"",open:t.icons.icon_open||"",wait:t.icons.icon_wait||""},shareUrl:t.web_share_link||""}:null},t.filterStatusFromSocket=function(t){return t?{roomId:t.room_id||0,anchorOpen:!0,status:1===t.status,channel:t.channel||"",channelType:t.channel_type||"voice",uid:t.uid||0,uname:t.user_name||"",face:t.head_pic||"",guard:t.guard||0,startAt:t.start_at||0,currentTime:t.current_time||0,shareUrl:t.web_share_link||""}:null},t}(),u=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},l=function(){function t(){this.status=null,this.icons=null,this.shareUrl=""}var e=t.prototype;return e.getStatus=function(){return u(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=c.filterStatus(s.e.getRoomVoiceJoin()),this.status=e.status,this.icons=e.icons,this.shareUrl=e.shareUrl;case 4:case"end":return t.stop()}}),t,this)})))},e.onSocketStatus=function(t){var e=c.filterStatusFromSocket(t);this.status&&this.status.open&&(this.status.currentTime>e.currentTime||(this.shareUrl=e.shareUrl,this.status.anchorOpen=e.anchorOpen,this.status.status=e.status,this.status.uid=e.uid,this.status.uname=e.uname,this.status.face=e.face,this.status.guard=e.guard,this.status.startAt=e.startAt,this.status.currentTime=e.currentTime))},t}(),f=new(function(){function t(){this.entrance=new l}var e=t.prototype;return e.init=function(){this.entrance.getStatus()},e.onSocketStatus=function(t){this.entrance.onSocketStatus(t.data)},t}())},8569:function(t,e,n){"use strict";n.d(e,{Z:function(){return S}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(51942),c=n.n(s),u=n(23933),l=n(34074),f=n.n(l),d=n(32841),p=n(9669),h=n.n(p),m=n(8605),v=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=f()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},g=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},b=function(){function t(){}return t.getLinkVideoInfo=function(t,e){return g(this,void 0,void 0,i().mark((function n(){var r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/av/v1/VideoConnection/getInfo",n.next=3,h().get("/av/v1/VideoConnection/getInfo",{params:{room_id:t,uid:e}});case 3:if(r=n.sent,0!==(o=r.data).code){n.next=7;break}return n.abrupt("return",new m.K(o));case 7:case"end":return n.stop()}}),n)})))},t.getCurrentTime=function(t,e){return g(this,void 0,void 0,i().mark((function n(){var r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/xlive/web-room/v1/videoConnection/getConnectionRoomInfo",n.next=3,h().get("/xlive/web-room/v1/videoConnection/getConnectionRoomInfo",{params:{room_id:t,uid:e}});case 3:return r=n.sent,o=r.data,n.abrupt("return",new m.K(o));case 6:case"end":return n.stop()}}),n)})))},t}();v([(0,d.Z)()],b,"getLinkVideoInfo",null),v([(0,d.Z)()],b,"getCurrentTime",null);var w=n(55716),y=function(){function t(){}return t.filterDataFromServer=function(t){return t&&t.status?{roomId:t.invited_room_id,status:t.status,uid:t.invited_uid||0,uname:t.invited_uname||"",face:t.invited_face?(0,w.bfsImgLink)(t.invited_face,100,100):"//static.hdslb.com/images/member/noface.gif",startAt:t.start_at||0,currentTime:t.current_time||0}:null},t.filterStartFromSocket=function(t){return t?{roomId:t.invited_room_id||0,status:t.status,channelId:t.channel_id||"",uid:t.invited_uid||0,uname:t.invited_uname||"",face:t.invited_face?(0,w.bfsImgLink)(t.invited_face,100,100):"//static.hdslb.com/images/member/noface.gif",startAt:t.start_at||0,currentTime:t.current_time||0}:null},t.filterEndFromSocket=function(t){return t?{channelId:t.channel_id||"",startAt:t.start_at||0,currentTime:t.current_time||0}:null},t}(),k=n(50744),_=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},I=function(){function t(){this.linkVideoInfo=null,this.status=""}var e=t.prototype;return e.getLinkVideoInfo=function(){return _(this,void 0,void 0,i().mark((function t(){var e,n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.e.getRoomId(),n=u.e.getAnchorUid(),t.next=4,b.getLinkVideoInfo(e,n);case 4:if((r=t.sent)&&r.data){t.next=7;break}return t.abrupt("return");case 7:if(o=y.filterDataFromServer(r.data)){t.next=10;break}return t.abrupt("return");case 10:1===o.status&&this.changeStatus(k.f.processing),this.linkVideoInfo=o;case 12:case"end":return t.stop()}}),t,this)})))},e.onLinkVideoStart=function(t){var e=y.filterStartFromSocket(t);e&&(this.linkVideoInfo=e,this.changeStatus(k.f.start))},e.checkTime=function(){return _(this,void 0,void 0,i().mark((function t(){var e,n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.e.getRoomId(),n=u.e.getAnchorUid(),t.next=4,b.getCurrentTime(e,n);case 4:r=t.sent,(o=r.data)&&o.current_time&&(this.linkVideoInfo=c()({},this.linkVideoInfo,{currentTime:o.current_time}));case 7:case"end":return t.stop()}}),t,this)})))},e.onLinkVideoEnd=function(){this.changeStatus(k.f.end)},e.changeStatus=function(t){this.status=t},t}(),T=n(67218),x=n(3595),S=new(function(){function t(){this.channelIdStart="",this.channelIdEnd="",this.entrance=new I}var e=t.prototype;return e.init=function(){var t=x.h.state.baseInfoRoom.videoChannleId;t&&(this.entrance.getLinkVideoInfo(),this.channelIdStart=t)},e.onLinkVideoStart=function(t){var e=t.data;e.channel_id&&e.channel_id===this.channelIdStart||(this.entrance.onLinkVideoStart(t.data),this.channelIdStart=e.channel_id)},e.onLinkVideoEnd=function(t){var e=t.data;e.channel_id&&e.channel_id===this.channelIdEnd||(this.channelIdEnd=e.channel_id,this.channelIdStart===this.channelIdEnd&&this.entrance.onLinkVideoEnd())},e.onLinkVideoConnectionMsg=function(t){var e=t.data;(0,T.tQ)({content:e.toast})},e.onCheckTime=function(){this.channelIdStart&&this.entrance.checkTime()},t}())},50744:function(t,e,n){"use strict";var r;n.d(e,{f:function(){return r}}),function(t){t.start="start",t.end="end",t.processing="processing"}(r||(r={}))},67624:function(t,e,n){"use strict";n.d(e,{S:function(){return Ue},X:function(){return Ze}});var r=n(46784);var i=n(63109),o=n.n(i),a=n(93476),s=n.n(a),c=n(3595),u=n(55716),l=n(55826);var f=n(2708);function d(){p("PREPARING")}function p(t){c.h.dispatch("baseInfoRoom",{liveStatus:t}).catch(f.noop)}var h=n(76855),m=n(72800),v=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var g=n(66570),b=n(34074),w=n.n(b),y=n(70538),k=n(95334),_=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=w()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},I=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isShow=!0,e}return(0,g.Z)(e,t),e.prototype.mounted=function(){var t=this;setTimeout((function(){t.isShow=!1}),1e3*this.delay)},e}(y.default);_([(0,k.Prop)({type:String})],I.prototype,"msg",void 0),_([(0,k.Prop)({type:Number,default:8})],I.prototype,"delay",void 0);var T=I=_([k.Component],I),x=(0,n(51900).Z)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"a-fade-in z-player-toast",attrs:{id:"player-toast"}},[n("transition",{attrs:{"leave-active-class":"a-fade-out"}},[t.isShow?n("div",{staticClass:"info"},[n("p",{staticClass:"content"},[n("i",{staticClass:"icon-font icon-info"}),n("span",{staticClass:"text"},[t._v(t._s(t.msg))])])]):t._e()])],1)}),[],!1,null,"e4ed569e",null).exports,S=n(17167),A=null;function C(t,e){void 0===t&&(t=""),void 0===e&&(e=8);var n=new x({propsData:{msg:t,delay:e}});A||((A=document.createElement("div")).id="player-toast",(0,S.R6)(A)),n.$mount("#player-toast");var r=(0,S.uk)(S.Se.PlayerNotice);setTimeout((function(){r()}),1e3*(e+2))}var R=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var E=n(67218),L=n(95503),P=n(50097),M=n(20567),D=n(12683),N=n(31444),B=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},O=!1,F=!1,G=[1,2],U=[1];P.$.onBlockEffect((function(t){var e=t.type,n=t.isBlock;return B(void 0,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:-1!==e.indexOf(M.m.LotteryDanmaku)?((0,D.Ek)(n?G:[]),O=n):-1!==e.indexOf(M.m.EmojiDanmaku)&&((0,D.Hy)(n?U:[]),F=n);case 1:case"end":return t.stop()}}),t)})))}));var Z=n(57072),V=n(53338),H=n(39984);var W=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var j=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)};function z(t){t.round&&1===t.round?p("ROUND"):(d(),m.dd.stop(!0),m.IF.stop(!0))}function Y(t){c.h.getters.baseInfoUser.uid===("number"==typeof t.uid?t.uid:parseInt(t.uid))&&(0,l.f)({title:"你被踢出房间 "+u.randomEmoji.shock(),content:"很不幸的是您被管理员踢出了房间…… 是不是做了什么不礼貌的事情呢？摸摸~ "+u.randomEmoji.sad(),width:500,button:{confirm:"呜~~~~",cancel:!1}}).onConfirm((function(){window.location.href="/"}))}function K(t){var e;e={title:"系统通知",content:"",width:0,button:{confirm:"确定",cancel:!1}},c.h.getters.baseInfoUser.isAnchor?(e.html='<p style="margin: 10px 0; line-height: 1.5; font-size: 12px">您的房间已被<span style="color: #FF0000">锁定</span>。如有疑问请查看bilibili主播直播规范或联系客服。</p><p><a style="color: #23ade5" href="//link.bilibili.com/p/eden/news#/newsdetail?id=135", target="_blank">查看规范</a></p>',e.width=350):(e.content="当前直播间被直播管理员关闭。",e.width=300),(0,l.f)(e).onConfirm((function(t){t.close()}))}var J=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function Q(t){console.error("[Error] 禁言模块加载失败: ",t)}n(59340);var X=n(81835),q=n(55391),$=n(3649),tt=n.n($),et=[];var nt=n(91036);function rt(t){var e=c.h.getters.baseInfoUser.uid,n=t.data;n.tid="gold"===n.coin_type?n.tid:n.rnd;var r=(0,L.rB)(n),i=r.userInfo.uid===e;if((n.batch_combo_send&&function(t){var e=-1;if(et.some((function(n,r){if(n.batchId===t.batchId)return e=r,!0})),-1===e){et.length<=100||(et=tt()(et).call(et,-99));var n=t.batchId,r=t.giftInfo;return et.push({batchId:n,num:r.comboCount}),!0}return et[e].num<t.giftInfo.comboCount&&(et[e].num=t.giftInfo.comboCount,!0)}(r)||n.effect_block&&!i)&&(0,E.Fu)(r),n.super_gift_num&&!r.effectBlock){if(!nt.p.dealWithDuplicateQueue(n,"socket").showFlag)return;q.Ab.add({type:q.ZJ.socket,data:n})}X.Eq.emit("sendGift",t),(!n.svga_block||n.svga_block&&r.userInfo.uid===e)&&q.rX.onSocket(t.data)}var it=n(2991),ot=n.n(it),at=n(86902),st=n.n(at);var ct=n(18980),ut=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},lt=!1;P.$.onBlockEffect((function(t){var e=t.type,n=t.isBlock;return ut(void 0,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.indexOf(M.m.EntryInfo)<0)){t.next=2;break}return t.abrupt("return");case 2:lt=n,ct.default.report("set_entershield_click",{shield_switch:n?1:0});case 4:case"end":return t.stop()}}),t)})))}));var ft=n(46633),dt=n(38257),pt=n(55901),ht=!1;function mt(t,e){void 0===e&&(e=!1);var n=t.data,r=n.target_id===c.h.state.baseInfoAnchor.uid;if(!lt&&ft.m.switchInfo.isShowRoomEffect&&r){if(e){if(n.max_delay_time){if(Date.now()-pt.l.welcomeStartTime>=1e3*n.max_delay_time||ht)return;ht=!0}}else if(n.uid===c.h.state.baseInfoUser.uid){if(ht)return;ht=!0}Z.default.$emit("welcomeBySocket",dt.m.filterWelcomeAnimationConfig(n))}}var vt=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var gt=n(23374),bt=(n(35494),function(){function t(){}return t.match=function(t){gt.GN.match(t)},t.pre=function(t){gt.GN.pre(t)},t.start=function(t){gt.GN.start(t)},t.update=function(t){gt.GN.update(t)},t.end=function(t){gt.GN.punish(t)},t.settle=function(t){gt.GN.settle(t)},t.again=function(t){gt.GN.again(t)},t.micEnd=function(t){gt.GN.micEnd(t)},t}()),wt=n(78943),yt=function(){function t(){}return t.send=function(t){wt.P.socketComboSend(t)},t}();var kt=n(46377),_t=n(63046),It=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Tt=[_t.s.giftLottery,_t.s.guardLottery,_t.s.normal,_t.s.chaosPk],xt=!1;P.$.onBlockEffect((function(t){var e=t.type,n=t.isBlock;return It(void 0,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.indexOf(M.m.Notice)<0)){t.next=2;break}return t.abrupt("return");case 2:xt=n;case 3:case"end":return t.stop()}}),t)})))}));var St=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},At=n(78580),Ct=n.n(At),Rt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=w()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Et=[],Lt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isShow=!1,e.popupStyle={position:"absolute",top:"50%",left:"50%",width:e.popupData.width+"px",height:e.popupData.height+"px",marginTop:"-"+e.popupData.width/2+"px",marginLeft:"-"+e.popupData.height/2+"px"},e}(0,g.Z)(e,t);var n=e.prototype;return n.closePopup=function(){this.isShow=!1,Et.shift(),this.hideBusinessContainerLayer(),Et.length&&Pt()},n.mounted=function(){var t=this;this.isShow=!0,this.popupData.delay&&setTimeout((function(){t.closePopup()}),1e3*this.popupData.delay)},e}(y.default);function Pt(t){if(t)!function(t){Et.push(t),1===Et.length&&Pt()}(t);else{var e=(0,S.uk)(S.Se.MasterAward),r=new Lt({propsData:{popupData:Et[0],hideBusinessContainerLayer:e},components:{PopupBody:function(){return n(75114)("./"+Et[0].name+"/index.vue").then((function(t){return t.default}))}}});(0,S.R6)(r.$mount().$el)}}Rt([(0,k.Prop)({type:Object,default:{}})],Lt.prototype,"popupData",void 0),Rt([(0,k.Prop)({type:Function})],Lt.prototype,"hideBusinessContainerLayer",void 0),Lt=Rt([(0,k.Component)({template:'\n    <transition enter-active-class="a-scale-in" leave-active-class="a-scale-out">\n      <popup-body v-if="isShow" :style="popupStyle" :server-data="popupData.data" @close="closePopup"></popup-body>\n    </transition>\n  '})],Lt);var Mt=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function Dt(t){var e;1===(e=t).status?window.roomBuffService.mount(e):window.roomBuffService.unmount({id:e.skin_id})}var Nt=n(20116),Bt=n.n(Nt),Ot=n(77766),Ft=n.n(Ot),Gt=n(44880),Ut=n(70238),Zt=n(54532),Vt=n(27858),Ht=n(69390);var Wt=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var jt=n(97225),zt=n(84706);var Yt={onTop3Change:function(t){c.h.dispatch("baseInfoRoom",{onlineGoldRank:t.data.list}).catch(f.noop)},onTop3Notice:function(t){var e=t.data.list,n=document.createDocumentFragment();e.length&&ot()(e).call(e,(function(t){var e=/(\S+)[\s]*<%(\S+)%>[\s]*(\S+)/gi.exec(t.msg),r=e[2],i=e[1],o=e[3],a=(0,zt.az)("span","top3-notice-uname",r),s=(0,zt.az)("span","",i),c=(0,zt.az)("span","",o),u=(0,zt.az)("div","top3-notice chat-item");u.appendChild(s),u.appendChild(a),u.appendChild(c),u.appendChild((0,jt.U)(t.rank)),n.appendChild(u)})),E.GL.appendEl(n)}};var Kt=n(92689),Jt=n(68913),Qt=n(77233);var Xt=n(47166),qt=n(75164),$t=n(50109),te=function(){function t(){}return t.update=function(t,e){qt.n.onSocketPK(t,e)},t.microphoneStatue=function(t){qt.n.onSocketPKMicroPhone(t)},t.updateBanner=function(t){qt.n.onSocketBanner(t)},t}(),ee=n(72807),ne=function(){function t(){}return t.guestStart=function(t){ee.lY.onSocket("start",t)},t.guestEnd=function(t){ee.lY.onSocket("end",t)},t.guestAward=function(t){ee.lY.onSocket("award",t)},t}(),re=function(){function t(){}return t.lotteryStart=function(t){ee.yu.onSocket("add",t)},t.lotteryEnd=function(t){ee.yu.onSocket("end",t)},t.award=function(t){ee.yu.onSocket("award",t)},t}(),ie=n(15453),oe=n(51942),ae=n.n(oe),se=n(94806);function ce(t,e){var n=[];if("pk"===e)n=(0,se.Uf)([t.data]);else if("gift"===e)n=(0,se.kq)([t.data]);else if("guard"===e){var r=ae()({},t.data.lottery);r.keyword=t.data.type,n=(0,se.Vw)([r])}Z.default.$emit("ChatDrawArea: newItem",n[0])}var ue=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var le=n(60662);var fe=n(67889);var de=n(88066),pe=n(58932);var he=n(66552),me=(0,Jt.$S)("chasing-frame-broadcast");var ve=n(23535);var ge=n(8569);var be=n(47302),we=n.n(be),ye=n(2183),ke=n(80207);var _e=n(23933),Ie=function(){function t(){}return t.filterHotRankChangeDataFromScoket=function(t){return{rank:t.rank,trend:t.trend,countdown:t.countdown,timestamp:t.timestamp,url:t.web_url,icon:t.icon,areaName:t.area_name}},t}(),Te=function(){function t(){this.hotRankInfo=null,this.status="",this.lasttimestamp=0}var e=t.prototype;return e.getInfo=function(){var t=_e.e.getHotRankInfo();this.hotRankInfo=void 0===t.rank?null:ae()({},t,{areaName:t.area_name}),this.status=t&&t.rank>0?"change":"end",this.lasttimestamp=t&&t.timestamp},e.hotRankChange=function(t){if(!(t&&t.timestamp<=this.lasttimestamp)){var e=Ie.filterHotRankChangeDataFromScoket(t);e&&(this.status="change",this.hotRankInfo=e,this.lasttimestamp=t.timestamp)}},e.onSettlement=function(){this.status="end"},t}(),xe=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Se=new(function(){function t(){this.entrance=new Te,this.init()}var e=t.prototype;return e.init=function(){this.entrance.getInfo()},e.onHotRankChange=function(t){var e=t.data;this.entrance.hotRankChange(e)},e.defer=function(t){return void 0===t&&(t=3),new(s())((function(e,n){var r=10*Math.random()%t*1e3;setTimeout((function(){e(r)}),r)}))},e.onHotRankSettlement=function(t){return xe(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))},t}());var Ae=n(91174),Ce=n(15046),Re=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ee=!1;P.$.onBlockEffect((function(t){var e=t.type,n=t.isBlock;return Re(void 0,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.indexOf(M.m.Notice)<0)){t.next=2;break}return t.abrupt("return");case 2:Ee=n;case 3:case"end":return t.stop()}}),t)})))}));var Le=n(39392),Pe=n.n(Le);var Me=n(32114),De=n(6423),Ne=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};var Be=function(){function t(){}return t.start=function(t){m.dd.onSocket("start",t)},t.restart=function(t){m.dd.onSocket("restart",t)},t.stop=function(t){m.dd.onSocket("stop",t)},t}(),Oe=function(){function t(){}return t.run=function(t){var e=t.data,n=e.current_progress,r=e.progress_bar;0===n&&m.IF.onSocket("start",t),n>0&&n<r&&m.IF.onSocket("restart",t),n===r&&m.IF.onSocket("stop",t)},t}(),Fe=n(63677),Ge=(0,Jt.$S)("modules/socket");function Ue(t){try{t.on("receiveMessage",Ze)}catch(t){return Ge("socket 事件注册失败",t)}}function Ze(t){if("function"==typeof window.__GREAT_TOILET__)try{window.__GREAT_TOILET__.call(null,t)}catch(t){}switch(t.cmd){case"MATCH_TEAM_GIFT_RANK":Qt.hM.updateTeamListShowOnSocket(t);break;case"ACTIVITY_MATCH_GIFT":!function(t){Qt.hM.updateGameInfoOnSocket(t)}(t);break;case"CHANGE_ROOM_INFO":!function(t){(0,r.yR)(t.background)}(t);break;case"COMBO_SEND":yt.send(t);break;case"CUT_OFF":(function(t){return v(this,void 0,void 0,o().mark((function t(){var e,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.h.getters.baseInfoUser.isAnchor,t.next=4,(0,h.cq)();case 4:if(d(),m.dd.stop(!0),m.IF.stop(!0),!e){t.next=16;break}return t.next=10,n.e(1482).then(n.bind(n,91482));case 10:return r=t.sent,i=r.loadCutOffMsg,t.next=14,i();case 14:t.next=17;break;case 16:(0,l.f)({title:"系统通知",content:"当前直播间被直播管理员切断直播。",width:300,button:{confirm:"悲痛欲绝 "+u.randomEmoji.sad(),cancel:!1}});case 17:case"end":return t.stop()}}),t)})))})().catch(f.noop);break;case"DANMU_GIFT_LOTTERY_START":re.lotteryStart(t);break;case"DANMU_GIFT_LOTTERY_END":re.lotteryEnd(t);break;case"DANMU_GIFT_LOTTERY_AWARD":re.award(t);break;case"WARNING":(function(t){return R(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.h.getters.baseInfoUser.isAnchor?(n=t.msg,(0,l.f)({title:"友情提示",width:300,button:{confirm:"知道了",cancel:!1},content:n,hideMask:!0})):C(t.msg);case 2:case"end":return e.stop()}var n}),e)})))})(t).catch(f.noop);break;case"DANMU_MSG":!function(t){var e=t.info[0][5],n=t.info[2][0],r=t.info[0][9],i=t.info[0][12];if(!(O&&G.indexOf(r)>-1||F&&U.indexOf(i)>-1||window.BilibiliLive.UID===n&&window.BilibiliLive.RND===e)){var o=(0,L.RP)(t.info);(0,E.RJ)(o),(0,N.t)(o,0)}}(t);break;case"USER_TOAST_MSG":!function(t){var e=t.data,n=e.user_show,r=Number(e.target_guard_count),i=e.color,o=e.toast_msg,a=c.h.getters.baseInfoUser.uid;(0,E.Zo)({userShow:n,color:i,msg:o}),(!e.svga_block||e.svga_block&&e.uid===a)&&(1===e.guard_level?V.J.addAnimation(e.uid,"guard-level-"+e.guard_level,H.m.GUARD,5,0,1):V.J.addAnimation(e.uid,"guard-level-"+e.guard_level,H.m.GUARD,3,0,1)),r&&Z.default.$emit("update:guardTitle",r)}(t);break;case"GUARD_ACHIEVEMENT_ROOM":!function(t){le.Z.emit(le.c.guardAchievementRoom,t)}(t);break;case"LIVE":(function(t){return W(this,void 0,void 0,o().mark((function e(){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p("LIVE"),t.scatter&&(n=t.scatter,r=n.max,i=n.min,a=Math.max(Math.ceil(Math.random()*r),i),setTimeout((function(){location.reload()}),1e3*a));case 3:case"end":return e.stop()}}),e)})))})(t).catch(f.noop);break;case"REENTER_LIVE_ROOM":!function(t){var e=t.data||{},n=e.request_random_sec_range,r=void 0===n?1:n,i=e.reason,o=void 0===i?-1:i;if(1===o||2===o)var a=j(0,r),s=setTimeout((function(){window.location.reload(),clearTimeout(s)}),1e3*a)}(t);break;case"MESSAGEBOX_USER_GAIN_MEDAL":!function(t){var e=c.h.getters.baseInfoAnchor.uid,n=(c.h.getters.baseInfoAnchor.username,c.h.getters.baseInfoUser.medal),r=c.h.getters.baseInfoUser.uid;if(e===t.data.up_uid&&e!==r){(0,Zt.i)(t.data.toast,"info"),(0,Ht.b5)();var i=(0,Vt.H)(t.data);c.h.dispatch("baseInfoUser",{isInFansClub:!0,medalCount:1}).catch(null),c.h.dispatch("baseInfoAnchor",{fansClubPersonCount:c.h.state.baseInfoAnchor.fansClubPersonCount+1}).catch(null),n.anchorId===i.anchorId&&c.h.dispatch("baseInfoUser",{medal:i}).catch(null),n||(0,Ut.hi)().catch((function(){return null}))}Gt.r.gainMedalBySocket(t)}(t);break;case"MESSAGEBOX_USER_MEDAL_CHANGE":!function(t){var e=c.h.getters.baseInfoUser.medal,n=c.h.getters.baseInfoAnchor.uid,r=(0,Vt.H)(t.data),i=c.h.getters.baseInfoRoom.medalAnimResource,o=Bt()(i).call(i,(function(t){return t.level===r.level})),a=c.h.getters.baseInfoUser.uid;if(e||(0,Ut.hi)().catch((function(){return null})),n===t.data.up_uid){switch(r.type){case 1:var s;(0,Ht.JA)(r.level),r.uid===a&&V.J.addAnimation.apply(V.J,Ft()(s=[a,"fans-medal-update",H.m.MEDAL,5,0,1]).call(s,o));break;case 2:(0,Ht.aK)();break;case 3:var u;(0,Ht.JA)(r.level),(0,Ht.aK)(),r.uid===a&&V.J.addAnimation.apply(V.J,Ft()(u=[a,"fans-medal-update",H.m.MEDAL,5,0,1]).call(u,o))}t.data.unlock&&(t.data.multi_unlock_level?t.data.multi_unlock_level.split(",").forEach((function(t){(0,Ht.o4)(t)})):(0,Ht.o4)(t.data.unlock_level))}n===t.data.up_uid&&t.data.upper_bound_content&&(0,Zt.i)(t.data.upper_bound_content,"info"),e&&e.anchorId===t.data.up_uid&&c.h.dispatch("baseInfoUser",{medal:r}).catch(null)}(t);break;case"MESSAGEBOX_USER_MEDAL_COMPENSATION":!function(t){var e=t.data,n=e.up_uid,r=e.add_score;c.h.getters.baseInfoAnchor.uid===n&&le.Z.emit(le.c.showPackage,{score:r})}(t);break;case"LITTLE_TIPS":!function(t){Gt.r.limitFanMedal(t)}(t);break;case"LITTLE_MESSAGE_BOX":!function(t){var e=t,n=e.data||null;n&&n.platform&&n.platform.web&&n.msg&&(0===n.type||1===n.type&&n.room_id===c.h.getters.baseInfoRoom.roomID)&&(0,Zt.i)(e.data.msg,"info")}(t);break;case"NOTICE_MSG":var e=t;if(e&&"5:2"===e.child_msg_type)return;(function(t){return It(this,void 0,void 0,o().mark((function e(){var n,r,i,a,s,u,l,f,d=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.h.getters.baseInfoUser.uid,r=t.shield_uid===n,!xt||4===t.msg_type){e.next=6;break}return e.abrupt("return");case 6:if(!lt||4!==t.msg_type||r){e.next=9;break}return e.abrupt("return");case 9:if(i=(0,kt.F9)(t),a=null,!t.scatter){e.next=16;break}s=St(t.scatter.min,t.scatter.max),a=setTimeout((function(){return It(d,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,kt.ag)(i);case 2:clearTimeout(a);case 3:case"end":return t.stop()}}),t)})))}),1e3*s),e.next=18;break;case 16:return e.next=18,(0,kt.ag)(i);case 18:(u=t.side)&&st()(u).length&&u.head_icon&&u.background&&u.color&&u.highlight&&u.border&&(l=c.h.getters.baseInfoRoom.roomID,f=(0,kt.Tg)(t),l===t.real_roomid?Tt.indexOf(i.msgType)>-1&&(0,E.jN)(f):i.msgType===_t.s.giftLottery&&(0,E.jN)(f));case 20:case"end":return e.stop()}}),e)})))})(e).then().catch();break;case"PK_MATCH":bt.match(t);break;case"PK_PRE":bt.pre(t);break;case"PK_START":bt.start(t);break;case"PK_PROCESS":bt.update(t);break;case"PK_END":bt.end(t);break;case"PK_SETTLE":bt.settle(t);break;case"PK_AGAIN":bt.again(t);break;case"PK_MIC_END":bt.micEnd(t);break;case"PK_BATTLE_PRE_NEW":te.update(t,$t.YB.pre);break;case"PK_BATTLE_START_NEW":te.update(t,$t.YB.start);break;case"PK_BATTLE_PROCESS_NEW":te.update(t,$t.YB.process);break;case"PK_BATTLE_FINAL_PROCESS":te.update(t,$t.YB.finalHit);break;case"PK_BATTLE_PRO_TYPE":te.update(t,$t.YB.changeType);break;case"PK_BATTLE_GIFT":case"PK_BATTLE_SPECIAL_GIFT":te.update(t,$t.YB.sendGift);break;case"PK_BATTLE_CRIT":te.update(t,$t.YB.triggerBoom);break;case"PK_BATTLE_VOTES_ADD":te.update(t,$t.YB.buffer);break;case"PK_BATTLE_END":te.update(t,$t.YB.end);break;case"PK_BATTLE_SETTLE_V2":te.update(t,$t.YB.settle);break;case"PK_BATTLE_SETTLE_NEW":!function(t){var e,n=t.data,r={dmConf:ae()({},n.dm_conf),matchInfo:ae()({},n.match_info),initInfo:ae()({},n.init_info)};e=2===r.matchInfo.result_type?r.matchInfo.room_id:2===r.initInfo.result_type?r.initInfo.room_id:0,c.h.getters.baseInfoRoom.roomID===e&&(0,E.a7)(r)}(t),te.update(t,$t.YB.settleNew);break;case"PK_BATTLE_PUNISH_END":te.update(t,$t.YB.punish);break;case"NEW_PK_MICROPHONE_MSG":te.microphoneStatue(t);case"PK_BATTLE_VIDEO_PUNISH_BEGIN":te.update(t,$t.YB.videoPunishBegin);break;case"PK_BATTLE_VIDEO_PUNISH_END":te.update(t,$t.YB.videoPunishEnd);break;case"PK_BATTLE_RANK_CHANGE":te.updateBanner(t);break;case"PREPARING":z(t);break;case"ROOM_REFRESH":!function(t){var e=t.time,n=Math.ceil(Math.random()*e);setTimeout((function(){location.reload()}),1e3*n)}(t);break;case"ROOM_SKIN_MSG":Dt(t);break;case"TV_START":case"RAFFLE_START":ce(t,"gift");break;case"TV_END":case"RAFFLE_END":(a=t).data.win.award_show&&Z.default.$emit("ChatDrawArea: drawEnd",a.data.win);break;case"PK_LOTTERY_START":ce(t,"pk");break;case"GUARD_LOTTERY_START":ce(t,"guard");break;case"ROOM_BLOCK_INTO":Y(t);break;case"ROOM_BLOCK_MSG":!function(t){var e=t.uname||"--";(0,E.j2)(e)}(t);break;case"ROOM_KICKOUT":!function(t){var e=t.uname;(0,E.U2)(e)}(t);break;case"ROOM_LOCK":K();break;case"ROOM_LIMIT":!function(t){var e=t.type,n=t.delay_range;"copyright_area"===e&&setTimeout((function(){location.reload()}),1e3*Math.floor(Math.random()*n))}(t);break;case"ROOM_SILENT_ON":(function(t){return J(this,void 0,void 0,o().mark((function e(){var r,i,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window.BilibiliLive.ANCHOR_UID,i=window.BilibiliLive.UID,r!==i){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,n.e(7219).then(n.bind(n,97219));case 7:a=e.sent,s=a.silentOn,c=a.socketRoomSilentOnToFeRoomSilentOn,s(c(t.data)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),Q(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))})(t).catch(f.noop);break;case"ROOM_SILENT_OFF":(function(t){return J(this,void 0,void 0,o().mark((function t(){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=window.BilibiliLive.ANCHOR_UID,r=window.BilibiliLive.UID,e!==r){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,n.e(7219).then(n.bind(n,97219));case 7:(0,t.sent.silentOff)(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),Q(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))})().catch(f.noop);break;case"SEND_GIFT":(0,Kt.z1)("broadcastSendGift",t),rt(t);break;case"SEND_TOP":break;case"SPECIAL_GIFT":!function(t){var e,n=ot()(e=st()(t.data)).call(e,(function(t){return parseInt(t)}));switch(n.length?n[0]:null){case 39:Z.default.$emit("RhythmStorm:show",t.data[39])}}(t);break;case"INTERACT_WORD":!function(t){var e=t.data;if(!lt||e.msg_type!==ye.Sv.Entry){var n=e.uname||"--",r=e.uid,i=c.h.getters.baseInfoUser.uid,o=e.identities||[];r!==i&&(0,E.kf)({uid:e.uid,identities:o,highestIdentity:we()(o).call(o).reverse()[0]||1,userName:n,nameColor:e.uname_color||"",msgType:e.msg_type,fansMedal:(0,ke.us)(e.fans_medal),timestamp:e.timestamp,score:e.score,rank:e.contribution&&e.contribution.grade,tailIcon:e.tail_icon})}}(t);break;case"ENTRY_EFFECT":mt(t,!1);break;case"ENTRY_EFFECT_MUST_RECEIVE":mt(t,!0);break;case"BOX_ACTIVITY_START":!function(t){vt(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,c.h.dispatch("baseInfoActivity",{activityID:t.data.activity_id,activityPic:t.data.activity_pic||""});case 3:Z.default.$emit("DrawBox:ActivityStart",t);case 4:case"end":return e.stop()}}),e)})))}(t);break;case"WIN_ACTIVITY":!function(t){if(t.data){var e=t.data,n=e.delay_time_max,r=e.delay_time_min,i=Math.floor(Math.random()*n+r);setTimeout((function(){Z.default.$emit("DrawBox:ShowWinnerList",{roundNum:t.number,from:"socket"})}),1e3*i)}}(t);break;case"WIN_ACTIVITY_USER":!function(t){Z.default.$emit("DrawBox:ShowBingoPop",t.data)}(t);break;case"ROOM_RANK":!function(t){Z.default.$emit("RoomHourRank: UpdateRoomHourRank",t)}(t);break;case"HOUR_RANK_AWARDS":(function(t){return Mt(this,void 0,void 0,o().mark((function e(){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.h.getters.baseInfoUser.isAnchor,Ct()(n=["area_top1","anchor_reward"]).call(n,t.action)&&i&&Pt({name:"area-top",width:312,height:284,delay:80,data:t}),Ct()(r=t.action).call(r,"all_top")&&Pt({name:"all-top",width:346,height:346,delay:t.data.life_cycle||3,data:t});case 3:case"end":return e.stop()}}),e)})))})(t).catch(f.noop);break;case"LOL_ACTIVITY":Promise.all([n.e(7695),n.e(8825)]).then(n.bind(n,87695)).then((function(e){return(0,e.handleLPLBroadcast)(t)})).catch((function(t){return console.error("LPLBErr",t)}));break;case"ROOM_REAL_TIME_MESSAGE_UPDATE":(function(t){return Wt(this,void 0,void 0,o().mark((function e(){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.h.getters.baseInfoRoom.roomID===t.data.roomid){e.next=3;break}return e.abrupt("return");case 3:if(n=t.data,r=n.fans,i=n.fans_club,!(r&&r>=0)){e.next=7;break}return e.next=7,c.h.dispatch("baseInfoAnchor",{fansCount:r});case 7:if(!(i&&i>=0)){e.next=10;break}return e.next=10,c.h.dispatch("baseInfoAnchor",{fansClubPersonCount:i});case 10:case"end":return e.stop()}}),e)})))})(t).catch(f.noop);break;case"VOICE_JOIN_STATUS":ie.e.onSocketStatus(t);break;case"ROOM_CHANGE":(function(t){return ue(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.hu)({room_id:c.h.getters.baseInfoRoom.roomID,parent_area_id:t.data.parentAreaId,area_id:t.data.area_id}));case 2:case"end":return e.stop()}}),e)})))})(t).catch(f.noop);break;case"SUPER_CHAT_MESSAGE":!function(t){fe.Z.emit(fe.c.superChatMessage,t)}(t);break;case"SUPER_CHAT_MESSAGE_DELETE":!function(t){fe.Z.emit(fe.c.superChatMessageDelete,t)}(t);break;case"SUPER_CHAT_ENTRANCE":!function(t){fe.Z.emit(fe.c.superChatEntrance,t)}(t);break;case"SUPER_CHAT_AUDIT":!function(t){(0,Zt.i)(t.data.msg,"info")}(t);break;case"ANCHOR_LOT_CHECKSTATUS":!function(t){de.Z.emit(de.c.anchorLotteryCheckStatus,t),(0,pe.cM)(pe.hi.SOCKET,ae()({eventId:"live.lottery.audit.status-change"},t))}(t);break;case"ANCHOR_LOT_START":ne.guestStart(t);break;case"ANCHOR_LOT_END":ne.guestEnd(t);break;case"ANCHOR_LOT_AWARD":ne.guestAward(t),function(t){de.Z.emit(de.c.anchorLotteryAward,t)}(t);break;case"CHASE_FRAME_SWITCH":!function(t){if(1&t.data.platform&&"off"===t.data.switch)try{he.Rw.setChasingFrameThreshold(0)}catch(t){me(t)}}(t);break;case"WATCH_LPL_EXPIRED":i=t,ve.n.directShowWin(i.type);break;case"VIDEO_CONNECTION_JOIN_START":ge.Z.onLinkVideoStart(t);break;case"VIDEO_CONNECTION_JOIN_END":ge.Z.onLinkVideoEnd(t);break;case"VIDEO_CONNECTION_MSG":ge.Z.onLinkVideoConnectionMsg(t);break;case"ROOM_BANNER":n.e(3825).then(n.bind(n,79956)).then((function(e){return(0,e.ActSocket)(t)})).catch((function(t){return console.error("ActSocketErr--ROOM_BANNER",t)}));break;case"WIDGET_BANNER":n.e(3825).then(n.bind(n,79956)).then((function(e){return(0,e.ActSocket)(t)})).catch((function(t){return console.error("ActSocketErr--WIDGET_BANNER",t)}));break;case"ONLINE_RANK_V2":Yt.onTop3Change(t);break;case"ONLINE_RANK_TOP3":Yt.onTop3Notice(t);break;case"HOT_RANK_CHANGED":Z.default.$emit("HOT_RANK_CHANGED",t),Se.onHotRankChange(t);break;case"HOT_RANK_SETTLEMENT":Z.default.$emit("HOT_RANK_SETTLEMENT",t),Se.onHotRankSettlement(t).catch(f.noop);break;case"VTR_GIFT_LOTTERY":!function(t){(0,E.oF)(t&&t.data)}(t);break;case"COMMON_NOTICE_DANMAKU":!function(t){(0,E.Gc)(t&&t.data)}(t);break;case"RED_POCKET_START":(function(t){return Re(this,void 0,void 0,o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.h.getters["redEnvelope/getIsShowPopupPanel"]){e.next=6;break}return e.next=5,c.h.dispatch("redEnvelope/setRedEnvelopePanel",!1);case 5:Ce.I.closePanel();case 6:return t={cmd:t.cmd,data:ae()(ae()({},t.data),{require_message:t.data.new_message,content:t.data.new_content})},e.next=9,c.h.dispatch("redEnvelope/setRedEnvelopeInfo",{remainTime:t.data.remain_time,redEnvelopeId:t.data.id,redEnvelopeNum:t.data.num,senderUid:t.data.sender_uid,senderName:t.data.sender_name,senderAvatar:t.data.sender_face,requireMessage:t.data.require_message,redEnvelopeResultStatus:1,fetchRedEnvelopeResultState:{isLoading:!1,isSuccess:!1},isPlayEntryAnimation:!1,redEnvelopeAmount:-1});case 9:if(!Ee){e.next=12;break}return e.abrupt("return");case 12:return n=(0,Ae.F9)(t),e.next=15,(0,Ae.ag)(n);case 15:case"end":return e.stop()}}),e)})))})(t).then().catch();break;case"FULL_SCREEN_SPECIAL_EFFECT":!function(t){var e,n,r,i=t.data;i&&i.platform_in&&Ct()(e=i.platform_in).call(e,2)&&Ct()(n=[2,4]).call(n,i.type)&&Ct()(r=[1,2]).call(r,i.queue)&&i.ids&&i.ids.forEach((function(t){var e=new(Pe())([[1,3],[2,2]]);V.J.addAnimation(0,"full-screen-special-effect"+t,H.m.SPECIAL_EFFECT,e.get(i.queue),0,1,{effectId:t})}))}(t);break;case"POPULARITY_RED_POCKET_START":(function(t){return Ne(this,void 0,void 0,o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,c.h.dispatch("popularityRedEnvelope/receiveRedEnvelope",t.data);case 3:if(n=e.sent,e.t0=n,!e.t0){e.next=8;break}return e.next=8,(0,De.m)(1);case 8:(0,pe.cM)(pe.hi.SOCKET,{eventId:"live.red_envelope.detectedEnvelopeBroadcast",redEnvelopeId:t.data.id,redEnvelopeNum:t.data.num,senderUid:t.data.sender_uid,senderName:t.data.sender_name});case 9:case"end":return e.stop()}}),e)})))})(t).catch(f.noop);break;case"POPULARITY_RED_POCKET_WINNER_LIST":(function(t){return Ne(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,c.h.dispatch("popularityRedEnvelope/setWinnerInfo",t.data);case 3:if(c.h.state.popularityRedEnvelope.lotteryId===t.data.lot_id&&c.h.commit("popularityRedEnvelope/SET_POPULARITY_RED_ENVELOPE_INFO",{lotteryStatus:2}),1!==c.h.state.popularityRedEnvelope.userStatus){e.next=7;break}return e.next=7,(0,De.m)(1);case 7:(0,pe.cM)(pe.hi.SOCKET,ae()({eventId:"live.red_envelope.DrawResultFromBroadcast"},t.data));case 8:case"end":return e.stop()}}),e)})))})(t).catch(f.noop);break;case"THERMAL_STORM_DANMU_BEGIN":Be.start(t);break;case"THERMAL_STORM_DANMU_UPDATE":Be.restart(t);break;case"THERMAL_STORM_DANMU_CANCEL":case"THERMAL_STORM_DANMU_OVER":Be.stop(t);case"MILESTONE_UPDATE_EVENT":Oe.run(t);break;case"WEB_REPORT_CONTROL":Me.Z.setOptions(t);break;case"DANMU_TAG_CHANGE":Fe.U.onDanmakuTypeChange(t)}var i,a;Xt.B.onSocket(t)}},25399:function(t,e,n){"use strict";n.d(e,{c:function(){return f},p:function(){return d}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(9669),c=n.n(s),u=n(29531),l=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function f(t,e,n){return l(this,void 0,void 0,i().mark((function e(){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"//api.bilibili.com/x/relation/modify",r={act:{0:2,1:1}[n],fid:t,re_src:0,spmid:"live.live-room-detail.interaction.chat-draw-auto"},e.next=5,u.default.post("//api.bilibili.com/x/relation/modify",r);case 5:return o=e.sent,a=o.data,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))}function d(t){return l(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"//api.live.bilibili.com/xlive/app-ucenter/v1/conf/SetConf",e.next=3,c().post("//api.live.bilibili.com/xlive/app-ucenter/v1/conf/SetConf",{type:1104,content:1,target_id:t});case 3:case"end":return e.stop()}}),e)})))}},51497:function(t,e,n){"use strict";n.d(e,{ry:function(){return y},RZ:function(){return _}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(70538),c=n(57072),u=n(95159),l=n(55716),f=n(3595),d=n(25399),p=n(33214),h=n(2183),m=n(23933),v=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},g=null,b=!1,w=!1;function y(t,e){return v(this,void 0,void 0,i().mark((function n(){var r,o,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!f.h.state.baseInfoUser.isAnchor){n.next=2;break}return n.abrupt("return",{error:new Error("主播自己不能关注自己哦"),data:null,errorMsg:"主播自己不能关注自己哦",errorType:"caution"});case 2:return n.next=4,(0,d.c)(f.h.state.baseInfoAnchor.uid,f.h.state.baseInfoUser.uid,t);case 4:if(0===(r=n.sent).code){n.next=7;break}return n.abrupt("return",{error:new Error(""+r.message),data:null,errorMsg:""+r.message,errorType:"caution"});case 7:return clearTimeout(g),w=!1,t&&k(),t&&I(f.h.state.baseInfoAnchor.uid,f.h.state.baseInfoAnchor.username,e),o=t?1:-1,a=f.h.getters.baseInfoAnchor.fansCount+o,n.next=15,f.h.dispatch("baseInfoAnchor",{isAttention:!!t,fansCount:a});case 15:return n.abrupt("return",r);case 16:case"end":return n.stop()}}),n)})))}function k(){return v(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.Ce)(h._1.Follow);case 2:t.sent&&(e=m.e.getStore().getters.baseInfoAnchor,n=h.Sv.Attention,w?n=h.Sv.SpecialAttention:e.isFollowing&&(n=h.Sv.MutualAttention),(0,p.kf)({uid:m.e.getUid(),msgType:n}));case 4:case"end":return t.stop()}}),t)})))}function _(){var t=f.h.getters.baseInfoAnchor;return f.h.dispatch("baseInfoUser",{guideFollow:0}).catch(null),(0,d.p)(t.uid)}function I(t,e,n){var r=function(t){s.default.prototype.linkPopup({title:"出错了",titleCenter:!0,width:350,html:'\n        <p class="t-center"\n        style="\n        font-size: 14px;\n        margin: 50px 0;\n        color: #666;">'+t+"</p>\n      ",button:{cancel:!1,confirm:"好的"}})},i={onSubmitSuccess:function(t){t.indexOf("-10")>-1&&(w=!0,k()),n&&s.default.prototype.linkMsg(n,"分组保存成功 "+l.randomEmoji.happy(),"success")},title:"请选择分组～",showErrMsgInDialog:!1,onAddTagError:r,onLoadRelationError:r,onLoadTagsError:r,onSubmitError:r,onClosePopup:function(){return c.default.$emit("SubscriptionService: GuideShow")}};b?s.default.prototype.initGroupFollow(t,e,i):(b=!0,s.default.use(u.Z,{}),s.default.nextTick((function(){document.getElementById("follow-iframe").addEventListener("load",(function(){return s.default.prototype.initGroupFollow(t,e,i)}))})))}},72800:function(t,e,n){"use strict";n.d(e,{IF:function(){return P},dd:function(){return R}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(89400),c=n.n(s),u=(n(78580),n(20116)),l=n.n(u),f=n(51942),d=n.n(f),p=n(19356),h=[5,10],m=function(){function t(t,e,n,r,i){void 0===r&&(r=h),this.countdownTid=null,this.delayTid=null,this.isOpen=!1,this.startTime=null,this.updateTime=null,this.complete=null,this.filter=null,this.delay=h,this.listener={onStart:p.Z,onStop:p.Z},void 0!==typeof t&&(this.defaultValues=t,this.values=t),this.complete=e,this.filter=n,this.delay=r,this.listener=i}var e=t.prototype;return e.setValues=function(t){this.values=t||this.defaultValues},e.getValues=function(){return c()(this)||this.defaultValues},e.getStatus=function(){return this.isOpen},e.onSocket=function(t,e){this[t]&&this[t](l()(this).call(this,e))},e.start=function(t){this.isOpen||this.restart(t)},e.restart=function(t){this.isValid(t)&&(this.isOpen||(this.isOpen=!0),null===this.startTime&&(this.startTime=t.updateTime),t=this.fixValues(t),this.setValues(d()(d()({},t),{isOpen:!0})),this.clearTimer(),this.setCountdown(),this.listener&&this.listener.onStart&&this.listener.onStart.call(this,c()(this)))},e.stop=function(t){var e=c()(this);if("boolean"!=typeof t){if(e=t,!this.isValid(e))return}else if(!1===t)return;this.isOpen&&(this.isOpen&&(this.isOpen=!1),null!==this.startTime&&(this.startTime=null),this.setValues(d()(d()({},e),{isOpen:!1})),this.clearTimer(),this.listener&&this.listener.onStop&&this.listener.onStop.call(this,c()(this)))},e.isValid=function(t){if(t.countdown<0||t.time<0)return!1;var e=!1;return(e=null===this.updateTime||t.updateTime>this.updateTime)&&(this.updateTime=t.updateTime),e},e.preCloseCallback=function(){var t=this;if(this.complete){var e=this.complete.call(this,c()(this)),n=function(e){return e&&t.stop(!0)};e&&"function"==typeof e.then?e.then(n):!1!==e&&n(!0)}},e.setCountdown=function(){var t=this;c()(this).countdown&&c()(this).time&&(this.clearTimer(),this.countdownTid=setInterval((function(){if(c()(t).time--,c()(t).time<=0&&(t.clearTimer(),void 0!==t.delay&&void 0!==t.complete)){var e=Array.isArray(t.delay)?t.getRandom.apply(null,t.delay):t.delay;t.delayTid=setTimeout((function(){return t.preCloseCallback()}),1e3*e)}}),1e3))},e.clearTimer=function(){this.countdownTid&&(clearInterval(this.countdownTid),this.countdownTid=null),this.delayTid&&(clearTimeout(this.delayTid),this.delayTid=null)},e.getRandom=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},e.fixValues=function(t){if(!t.countdown)return t;var e=t.countdown-Math.floor(Date.now()/1e3-t.updateTime);return t.countdown=Math.max(0,e),t.time=Math.max(0,e),t},t}(),v=n(34074),g=n.n(v),b=n(9669),w=n.n(b),y=n(32841),k=n(8605),_=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=g()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},I=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},T=function(){function t(){}return t.getVirtualThermalStormInfo=function(t){return I(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w().get("/xlive/web-room/v1/index/getVirtualThermalStormInfo",{params:{room_id:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",new k.K(r));case 5:case"end":return e.stop()}}),e)})))},t}();_([(0,y.Z)()],T,"getVirtualThermalStormInfo",null);var x=T,S=n(23933);function A(t){var e=t.data;return{index:e.current_index||0,roomid:e.room_id||0,startVal:e.current_progress||0,endVal:e.progress_bar||0,danmaku:e.danmu_word||"",guide:e.guide_word||"",countdown:e.countdown||0,time:e.countdown||0,updateTime:e.time||0}}var C=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},R=new m({isOpen:!1,roomid:0,startVal:0,endVal:0,danmaku:"",countdown:0,time:0},(function(){return C(void 0,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.getVirtualThermalStormInfo(S.e.getRoomId());case 3:if(e=t.sent,!(n=e.data)||n.is_open){t.next=7;break}return t.abrupt("return",!0);case 7:return t.abrupt("return",!1);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))}),A),E=n(55391),L=n(3595),P=new m({isOpen:!1,index:0,roomid:0,startVal:0,endVal:0,danmaku:"",guide:"",countdown:0,time:0},(function(){return a().resolve(!0)}),A,3,{onStop:function(t){if("PREPARING"!==L.h.getters.baseInfoRoom.liveStatus){var e=t.index,n=t.startVal,r=t.endVal,i=E.MQ.getEffectId(e,E.IU.S11_THERMAL_EFFECT);n&&r&&n===r&&E.MQ.addAnimation(i)}}})},54532:function(t,e,n){"use strict";function r(t,e){"success"!==(e=e||"info")&&"caution"!==e&&"error"!==e&&"info"!==e&&(e="info");var n=document.createDocumentFragment(),r=document.createElement("div");r.innerHTML='<span class="toast-text">'+t+"</span>",r.className="link-toast "+e+" center-animation",r.style.position="fixed",r.style.left="50%",r.style.top="50%",r.style.transform="translate(-50%, -50%)",setTimeout((function(){r.className+=" out",setTimeout((function(){r.parentNode.removeChild(r)}),350)}),4e3),n.appendChild(r),document.body.appendChild(n)}n.d(e,{i:function(){return r}})},32114:function(t,e,n){"use strict";var r=n(9499),i=function(){function t(){this.TECHNOLOGY_LOG_ID="011778",this.full=100,this.defaultSample=10,this.tracker=new r.f(this.TECHNOLOGY_LOG_ID,{spmId:"444.8.selfDef",sample:this.defaultSample,debug:!1})}var e=t.prototype;return e.report=function(t,e){this.tracker.event(t,e)},e.reportAll=function(t,e){this.tracker.event(t,e,{sample:this.full})},e.setOptions=function(t){var e;null!==t.data&&this.TECHNOLOGY_LOG_ID===t.data.log_id&&(this.full=null!==(e=t.data.sampling_rate)&&void 0!==e?e:100,this.tracker.set({sample:t.data.sampling_rate}))},t}();e.Z=new i},44880:function(t,e,n){"use strict";n.d(e,{r:function(){return A}});var r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"hint-text p-relative"},[n("span",{staticClass:"text p-relative"},[t._v("你将获得以下福利")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item"},[r("div",[t._v("每日礼包")]),r("div",{staticClass:"cont"},[r("img",{attrs:{src:n(78165)}}),r("div",{staticClass:"tips"},[t._v("每日0点发放，等级越高,"),r("br"),t._v("辣条越多哦")])])])}],i=n(66570),o=n(63109),a=n.n(o),s=n(34074),c=n.n(s),u=n(93476),l=n.n(u),f=n(70538),d=n(95334),p=n(9669),h=n.n(p),m=n(17388),v=n(36893),g=n.n(v),b=n(47204),w=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=c()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},y=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},k=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isWearTitle=!1,e}(0,i.Z)(e,t);var n=e.prototype;return n.onClickWear=function(t){return y(this,void 0,void 0,a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.$refs.submitBtn.$el,e.prev=1,e.next=4,h().post("/i/ajaxWearFansMedal",{medal_id:t});case 4:if(r=e.sent,0!==r.data.code){e.next=11;break}return this.isWearTitle=!0,(0,b.h)().catch((function(){return null})),this.linkMsg(n,"佩戴成功","success"),e.abrupt("return");case 11:this.linkMsg(n,"佩戴失败，请重试","caution"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),this.linkMsg(n,"佩戴失败，请重试","caution");case 18:case"end":return e.stop()}}),e,this,[[1,14]])})))},n.onClickCancelWear=function(){return y(this,void 0,void 0,a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$refs.submitBtn.$el,t.prev=1,t.next=4,h().post("/i/ajaxCancelWear",{});case 4:if(n=t.sent,0!==n.data.code){t.next=11;break}return this.isWearTitle=!1,(0,b.h)().catch((function(){return null})),this.linkMsg(e,"取消佩戴成功","success"),t.abrupt("return");case 11:this.linkMsg(e,"取消佩戴失败","caution"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0),this.linkMsg(e,"取消佩戴失败","caution");case 18:case"end":return t.stop()}}),t,this,[[1,14]])})))},e}(f.default);w([(0,d.Prop)({type:Object,required:!0})],k.prototype,"medal",void 0);var _=k=w([(0,d.Component)({components:{LinkButton:m.default,medal:g()}})],k),I=((0,n(51900).Z)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bkela-popup-content"},[t._m(0),n("div",{staticClass:"medal-ctnr"},[n("div",{staticClass:"item"},[n("div",[t._v(t._s("【"+t.medal.medalName+"】勋章 "))]),n("div",{staticClass:"cont"},[n("medal",{staticClass:"v-middle",attrs:{level:t.medal.level,label:t.medal.medalName,type:t.medal.type}}),t.isWearTitle?n("link-button",{ref:"submitBtn",staticClass:"btn",attrs:{type:"ghost"},on:{click:t.onClickCancelWear}},[t._v("取消佩戴")]):n("link-button",{ref:"submitBtn",staticClass:"btn",attrs:{type:"ghost"},on:{click:function(e){return t.onClickWear(t.medal.medalId)}}},[t._v("立即佩戴")])],1)]),t._m(1)])])}),r,!1,null,"5e16805a",null).exports,n(55826),n(2708),n(54532));var T=n(23933),x=function(){function t(){}return t.filterSocketGainMedal=function(t){var e=t.data,n=e.uid,r=e.up_uid;return{label:e.medal_name,medalId:e.medal_id,level:e.medal_level,uid:n,anchorUid:r,gainType:e.type}},t}(),S=n(55391),A=new(function(){function t(){}var e=t.prototype;return e.gainMedalBySocket=function(t){var e=x.filterSocketGainMedal(t),n=e.anchorUid;e.label,e.medalId,e.level,e.gainType,n===T.e.getAnchorUid()||S.jG.sendMaster&&S.jG.sendMaster.uid},e.limitFanMedal=function(t){var e,n=t.data;e=n.msg,(0,I.i)(e,"info")},t}())},6547:function(t,e,n){"use strict";n.d(e,{yD:function(){return C},lh:function(){return x}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=function(){function t(){}return t.filterUserExtraInfo=function(t){var e=t||{},n=e.uname_color,r=void 0===n?"":n,i=e.bubble_color,o=void 0===i?"":i,a=e.bubble;return{unameColor:r,bubbleColor:o,bubbleType:void 0===a?0:a}},t}(),c=n(73645),u=n(34074),l=n.n(u),f=n(9669),d=n.n(f),p=n(32841),h=n(8605),m=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=l()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},v=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},g=function(){function t(){}return t.fetchExtraInfo=function(t){return v(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/xlive/app-room/v1/index/GetUserExtraInfo",e.next=3,d().get("/xlive/app-room/v1/index/GetUserExtraInfo",{params:{room_id:t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",new h.K(r));case 6:case"end":return e.stop()}}),e)})))},t}();m([(0,p.Z)()],g,"fetchExtraInfo",null);var b=n(23933),w=n(68913),y=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},k=(0,w.$S)("extra-info"),_=function(){function t(){this.unameColor="",this.bubbleColor="",this.bubbleType=0}var e=t.prototype;return e.getExtraInfo=function(){var t=s.filterUserExtraInfo(c.vb.getInfoFromParam("property"));this.setExtraConfig(t)},e.requestExtraInfo=function(){return y(this,void 0,void 0,i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=b.e.getRoomId(),t.next=3,g.fetchExtraInfo(e);case 3:0===(n=t.sent).code?(r=s.filterUserExtraInfo(n.data),this.setExtraConfig(r)):k("弹幕相关配置获取失败",n.errorMsg);case 5:case"end":return t.stop()}}),t,this)})))},e.setExtraConfig=function(t){this.unameColor=t.unameColor,this.bubbleColor=t.bubbleColor,this.bubbleType=t.bubbleType},t}(),I=n(2708),T=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},x=new(function(){function t(){this.userExtraInfo=null,this.userExtraInfo=new _}var e=t.prototype;return e.init=function(){return T(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,I.waitLogin)();case 2:this.userExtraInfo.getExtraInfo();case 3:case"end":return t.stop()}}),t,this)})))},e.initUserProperty=function(){this.userExtraInfo.getExtraInfo()},e.refreshExtraInfo=function(){return T(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userExtraInfo.requestExtraInfo();case 2:case"end":return t.stop()}}),t,this)})))},t}()),S=(n(44880),n(62550)),A=n(3595),C=new(function(){function t(){}var e=t.prototype;return e.init=function(){S.titleConfig.init().then().catch(),this.wathUserTitle()},e.wathUserTitle=function(){S.titleConfig.watchUserTitle((function(t){var e="";t&&(e="title-"+t.id+"-"+t.level),A.h.dispatch("baseInfoUser",{title:e}).then().catch()}))},t}())},57254:function(t,e,n){"use strict";n.d(e,{o:function(){return u},S:function(){return l}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(50346),c=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},u={uid:null,isLogin:!1};function l(){return c(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.SE)();case 2:(e=t.sent)&&(u={uid:e.uid,isLogin:e.isLogin});case 4:case"end":return t.stop()}}),t)})))}},27681:function(t,e,n){"use strict";n.d(e,{gU:function(){return s.wallet},S1:function(){return l},Y7:function(){return f}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(26737),c=n(2708),u=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function l(t){(0,c.waitLogin)().then((function(){f({goldSeed:t.goldSeed,silverSeed:t.silverSeed}).catch(c.noop)})).catch(c.noop)}function f(t){return u(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.wallet.setBalance(t);case 2:case"end":return e.stop()}}),e)})))}},23933:function(t,e,n){"use strict";n.d(e,{b:function(){return c},e:function(){return r.e}});var r=n(59145),i=n(86902),o=n.n(i),a=n(59340),s=n.n(a),c=function(){function t(){}return t.checkAllTime=function(t){var e=this,n=this.getDate(t);o()(n).forEach((function(t){var r=n[t];e.checkIsExpire(r)&&delete n[t]})),this.update(t,n)},t.deleteSingleTime=function(t,e){var n=this.getDate(t);delete n[e],this.update(t,n)},t.checkSingleTime=function(t,e){var n=this.getDate(t)[e]||0;return!this.checkIsExpire(n)||(this.deleteSingleTime(t,e),!1)},t.checkIsExpire=function(t){var e=(new Date).getTime();return!t||!isNaN(t)&&e>t},t.update=function(t,e){"{}"===s()(e)?"undefined"!=typeof window&&window.localStorage.removeItem(t):"undefined"!=typeof window&&window.localStorage.setItem(t,s()(e))},t.getDate=function(t){var e="undefined"!=typeof window&&window.localStorage.getItem(t);return e&&JSON.parse(e)||{}},t}()},59145:function(t,e,n){"use strict";n.d(e,{e:function(){return i}});var r=n(3595),i=function(){function t(){}return t.getPkStatus=function(){return r.h.getters.baseInfoRoom.pkStatus},t.getUid=function(){return r.h.getters.baseInfoUser.uid},t.getGuardLevel=function(){return r.h.getters.baseInfoUser.privilege.privilegeType},t.getRoomId=function(){return r.h.getters.baseInfoRoom.roomID},t.getRoomTabs=function(){return r.h.getters.baseInfoRoom.tabInfo},t.getRoomSkin=function(){return r.h.getters.baseInfoRoom.skinInfo},t.getRoomBattleRankEntry=function(){return r.h.getters.baseInfoRoom.battleRankEntryInfo},t.getRoomVoiceJoin=function(){return r.h.getters.baseInfoRoom.voiceJoinInfo},t.getRoomNews=function(){return r.h.getters.baseInfoRoom.newsInfo},t.getRoomAdBanner=function(){return r.h.getters.baseInfoRoom.adBannerInfo},t.getPlayerThrottle=function(){return r.h.getters.baseInfoRoom.playerThrottleInfo},t.getParentAreaId=function(){return r.h.getters.baseInfoRoom.parentAreaID},t.getAllSpecialTypes=function(){return r.h.getters.baseInfoRoom.allSpecialTypes},t.getAreaId=function(){return r.h.getters.baseInfoRoom.areaID},t.getAnchorFacePendants=function(){return r.h.getters.baseInfoAnchor.facePendants},t.getAnchorUid=function(){return r.h.getters.baseInfoAnchor.uid},t.getAnchorUserName=function(){return r.h.getters.baseInfoAnchor.username},t.getAnchorFace=function(){return r.h.getters.baseInfoAnchor.face},t.getGiftAssetsById=function(t){return r.h.getters["gift/getGiftAssetsById"](t)},t.getDisplayMode=function(){return r.h.getters.appStatus.displayMode},t.getGiftById=function(t){return r.h.getters["gift/getGiftById"](t)},t.getTitle=function(){return r.h.getters.baseInfoUser.title},t.checkIsCurrentUser=function(t){return this.getUid()===t},t.getHotRankInfo=function(){return r.h.getters.baseInfoRoom.hotRankInfo},t.getDanmakuTypeInfo=function(){return r.h.getters.baseInfoRoom.danmakuTypeInfo},t.getStore=function(){return r.h},t.getEffectItemById=function(t){return r.h.getters["gift/getEffectItemById"](t)},t.getEffectFloatById=function(t){return r.h.getters["gift/getEffectFloatById"](t)},t}()},88576:function(t,e,n){"use strict";n.d(e,{G:function(){return c}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function c(){return s(this,void 0,void 0,i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(6880).then(n.t.bind(n,66880,23));case 2:return e=t.sent,r=e.showVerificationCode,t.abrupt("return",new(a())((function(t){r({type:1,successCallback:function(e){return s(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(e);case 1:case"end":return n.stop()}}),n)})))}})})));case 5:case"end":return t.stop()}}),t)})))}},40498:function(t,e,n){"use strict";n.d(e,{Q:function(){return g},j:function(){return b}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(66552),c=n(2708),u=n(3595),l=n(57072),f=n(33960),d=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},p=(0,c.getLiteVersionStatus)(),h=document.body,m=" player-full-win over-hidden",v=" hide-aside-area";function g(){return d(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!w(h,m)){t.next=2;break}return t.abrupt("return");case 2:return h.className+=m,h.className=h.className.replace("fullscreen-fix",""),p&&window.postMessage("webviewFullscreenStatus:activate","*"),t.next=7,u.h.dispatch("setDisplayMode","webFullScreen");case 7:return t.next=9,f.Z.dispatchs.appStatus.setDisplayMode("webFullScreen");case 9:case"end":return t.stop()}}),t)})))}function b(){return d(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(h,m)){t.next=2;break}return t.abrupt("return");case 2:return h.className=h.className.replace(m,""),p&&window.postMessage("webviewFullscreenStatus:deactivate","*"),t.next=6,u.h.dispatch("setDisplayMode","normal");case 6:return t.next=8,f.Z.dispatchs.appStatus.setDisplayMode("normal");case 8:case"end":return t.stop()}}),t)})))}function w(t,e){return t.className.indexOf(e)>-1}document.getElementById("aside-area-toggle-btn").addEventListener("click",(function(t){h.className.indexOf(v)>-1?(h.className=h.className.replace(v,""),l.default.$emit("WebFullScreen: HideAsideArea",0)):(h.className+=v,l.default.$emit("WebFullScreen: HideAsideArea",1)),(0,c.nextJob)((function(){try{s.Rw.resize()}catch(t){console.warn("[Warn] Player resize calling error:",t)}}))}))},38257:function(t,e,n){"use strict";n.d(e,{m:function(){return r}});var r=function(){function t(){}return t.filterWelcomeAnimationConfig=function(t){var e=t.id,n=t.web_effect_close,r=t.priority,i=(t.copy_writing,t.icon_list),o=t.web_effective_time,a=t.web_close_time,s=t.basemap_url,c=t.web_basemap_url,u=t.highlight_color,l=t.copy_color,f=t.copy_writing_v2,d=t.business,p=t.face,h=t.privilege_type;return{name:e.toString(),isClose:1===n,welcomeShowTime:1e3*o||5e3,closeCD:1e3*a,pic:1===d?s:c,privilegeType:h,welcomeMsg:f,msgColor:l,highlightMsgColor:u,business:d,face:p,priority:r,topIconList:i}},t}()},55901:function(t,e,n){"use strict";n.d(e,{l:function(){return y}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(20116),c=n.n(s),u=n(92762),l=n.n(u),f="ACTIVITY_WELCOME_CD",d=500,p=n(23933),h=n(2708),m=n(38257),v=n(41402),g=n(20567),b=n(3595),w=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},y=new(function(){function t(){this.WelcomePopupConfigs={},this.WelcomeGuardPopupConfigs={},this.cdName=f,this.currentUserType=null,this.welcomePopupData=[],this.welcomeGuardPopupData=[],this.animationIntervalTime=d,this.welcomeStartTime=null,this.onBlockEffect()}var e=t.prototype;return e.init=function(){this.checkAllActivityWelcomeIgnore()},e.checkAllActivityWelcomeIgnore=function(){p.b.checkAllTime(this.cdName)},e.sleep=function(t){return new(a())((function(e){setTimeout((function(){e()}),t)}))},e.setSelfWelcome=function(t){return w(this,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.user_reward)&&n.entry_effect){e.next=3;break}return e.abrupt("return");case 3:if(r=n.entry_effect,!((o=m.m.filterWelcomeAnimationConfig(r))&&o.name&&o.pic)){e.next=17;break}return this.currentUserType=o.name,e.next=9,this.sleep(1e3);case 9:if(1!==o.business){e.next=14;break}return e.next=12,this.addGuardConfig(o);case 12:e.next=16;break;case 14:return e.next=16,this.addConfig(o);case 16:this.addWelcome({uid:p.e.getUid(),welcomeMsg:o.welcomeMsg,name:o.name,business:o.business,face:o.face,privilegeType:o.privilegeType});case 17:case"end":return e.stop()}}),e,this)})))},e.preloadPic=function(t){var e=new Image;return new(a())((function(n,r){setTimeout((function(){n()}),1e3),e.onload=function(){n()},e.src=t}))},e.addConfig=function(t){return w(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.WelcomePopupConfigs[n]){e.next=5;break}return this.WelcomePopupConfigs[n]=t,e.next=5,this.preloadPic(t.pic);case 5:case"end":return e.stop()}}),e,this)})))},e.addGuardConfig=function(t){return w(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.WelcomeGuardPopupConfigs[n]){e.next=5;break}return this.WelcomeGuardPopupConfigs[n]=t,e.next=5,this.preloadPic(t.pic);case 5:case"end":return e.stop()}}),e,this)})))},e.getOneWelcomeConfig=function(t){return this.WelcomePopupConfigs[t]},e.getOneWelcomeGuardConfig=function(t){return this.WelcomeGuardPopupConfigs[t]},e.addWelcome=function(t){var e=t.uid,n=t.name,r=t.business;(this.currentUserType===n&&e===p.e.getUid()||!this.checkActivityWelcomeIsIgnore(n))&&(1===r?this.welcomeGuardPopupData.push(t):this.welcomePopupData.push(t))},e.removeAnimation=function(t){var e,n=this;t?this.welcomePopupData=c()(e=this.welcomePopupData).call(e,(function(e){return e.name!==t})):(this.welcomePopupData[0]=null,setTimeout((function(){var t;l()(t=n.welcomePopupData).call(t,0,1)}),this.animationIntervalTime))},e.removeGuardAnimation=function(t){var e,n=this;t?this.welcomeGuardPopupData=c()(e=this.welcomeGuardPopupData).call(e,(function(e){return e.name!==t})):(this.welcomeGuardPopupData[0]=null,setTimeout((function(){var t;l()(t=n.welcomeGuardPopupData).call(t,0,1)}),this.animationIntervalTime))},e.checkActivityWelcomeIsIgnore=function(t){return p.b.checkSingleTime(this.cdName,t)},e.getAllIgnoreDate=function(){return p.b.getDate(this.cdName)},e.welcomeBySocket=function(t){return w(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.m.filterWelcomeAnimationConfig(t.data),r=n.name,o=n.welcomeMsg,a=n.pic,s=n.business,c=n.face,u=n.privilegeType,!r||!a){e.next=7;break}if(1!==s){e.next=7;break}return e.next=6,this.addGuardConfig(n);case 6:this.addWelcome({uid:t.data.uid,welcomeMsg:o,name:r,business:s,face:c,privilegeType:u});case 7:case"end":return e.stop()}}),e,this)})))},e.renderMsg=function(t,e){return(0,h.renderMsg)(t,{textColor:e.msgColor,highlightColor:e.highlightMsgColor})},e.setIgnore=function(t,e){void 0===e&&(e=432e5);var n=this.getAllIgnoreDate(),r=(new Date).getTime()+e;n[t]=r,p.b.update(this.cdName,n)},e.onBlockEffect=function(){var t=this;v.$.onBlockEffect((function(e){var n=e.type,r=e.isBlock;return w(t,void 0,void 0,i().mark((function t(){var e,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.indexOf(g.m.EntryInfo)>=0&&r&&(e=this.welcomePopupData[0],e&&e.uid===b.h.getters.baseInfoUser.uid?l()(o=this.welcomePopupData).call(o,1,this.welcomePopupData.length-1):(l()(a=this.welcomePopupData).call(a,0,this.welcomePopupData.length),this.removeAnimation()));case 1:case"end":return t.stop()}}),t,this)})))}))},t}())},5730:function(t,e,n){"use strict";var r=n(63109),i=n.n(r),o=n(34074),a=n.n(o),s=n(93476),c=n.n(s),u=n(9669),l=n.n(u),f=n(32841),d=n(8605),p=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},h=function(t,e,n,r){return new(n||(n=c()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},m=function(){function t(){}return t.getFansMedalRankList=function(t){return h(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/xlive/app-ucenter/v1/fansMedal/fans_medal_info",{params:{target_id:t.target_id,room_id:t.room_id,room_area_id:t.room_area_id,area_parent_id:t.area_parent_id,platform:"pc"}});case 2:return n=e.sent,r=n.data,e.abrupt("return",new d.K(r));case 5:case"end":return e.stop()}}),e)})))},t}();p([(0,f.Z)()],m,"getFansMedalRankList",null),e.Z=m},45651:function(t,e,n){"use strict";n.d(e,{ac:function(){return Yt},Uk:function(){return b},lE:function(){return u},OM:function(){return At},BZ:function(){return N},fY:function(){return l},NB:function(){return B},nl:function(){return Ht},b$:function(){return Y},Sy:function(){return Ft},DQ:function(){return Lt}});var r,i,o=n(51942),a=n.n(o),s=n(2060),c=n(33960),u=function(){var t=(0,s.Fl)((function(){var t={};return c.Z.state.baseInfo.anchor.areaPendant&&(t.avatar={type:"avatar",name:"weekRank"}),"union"===c.Z.state.baseInfo.anchor.pendant&&null==c.Z.state.baseInfo.anchor.facePendants.corner&&(t.corner={type:"corner",name:"union",position:3}),a()(a()({},c.Z.state.baseInfo.anchor.facePendants),t)}));return{faceFrame:(0,s.Fl)((function(){return t.value.avatar})),corner:(0,s.Fl)((function(){var e=t.value.corner;return!e.imageUrl&&e.name&&"--"!==e.name&&(e.imageUrl=n(60021)("./"+(e.name.replace(/[A-Z]|_/g,(function(t,e){if("_"===t)return"-";var n=t.toLowerCase();return 0===e?n:"-"+n}))+".png"))),e}))}};!function(t){t.LIVE="直播",t.ROUND="轮播",t.PREPARING="闲置"}(r||(r={})),function(t){t.LIVE="#23ade5",t.ROUND="#ff8e29",t.PREPARING="#999"}(i||(i={}));var l=function(){return{displayText:(0,s.Fl)((function(){return r[c.Z.state.baseInfo.room.liveStatus]})),color:(0,s.Fl)((function(){return i[c.Z.state.baseInfo.room.liveStatus]}))}},f=n(63109),d=n.n(f),p=n(93476),h=n.n(p),m=n(95738),v=n(96891),g=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},b=function(t){var e=(0,s.iH)(20),n=(0,s.iH)(t);return{editableTitleText:n,maxLength:e,setEditableTitleText:function(t){return n.value=t},updateTitle:function(){return g(void 0,void 0,void 0,d().mark((function t(){var e;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.modifyRoomInfo)({room_id:c.Z.state.baseInfo.room.roomID,title:n.value});case 2:return e=t.sent,c.Z.dispatchs.baseInfo.room.setRoomInfo({roomTitle:n.value}),"LIVE"===c.Z.state.baseInfo.room.liveStatus&&(0,m.Z)({type_status:12,platform:"web"}).then().catch(),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))}}},w=n(59340),y=n.n(w),k=n(57072),_=n(55716),I=n(50630);n(39969);var T=n(86902),x=n.n(T),S=n(70538),A=function(){function t(t,e){this.vueInstance=null,this.options=null,this.options=e,this.vueInstance=new S.default(t).$mount(),this.vueInstance.$el.style.cssText=this.transformCssText(e&&e.styles),document.body.appendChild(this.vueInstance.$el)}var e=t.prototype;return e.transformCssText=function(t){return t?x()(t).reduce((function(e,n){return""+e+n+":"+t[n]+";"}),""):""},e.destroy=function(){var t=this;this.options&&this.options.resetBodyScroll&&this.options.resetBodyScroll(),this.vueInstance.$destroy(),this.vueInstance.$nextTick((function(){document.body.removeChild(t.vueInstance.$el)}))},t}(),C=function(){function t(){}return t.getCenterCss=function(t,e,n,r){return"center"!==n||r?{}:{left:"50%",top:"50%","margin-left":t&&"-"+Number(t.replace(/(px)/,""))/2+"px"||"0","margin-top":e&&"-"+Number(e.replace(/(px)/,""))/2+"px"||"0"}},t.getNailPositionCss=function(t,e,n,r){if(e){var i=e.getBoundingClientRect();return{left:i.left+n+"px",top:i.top+i.height+r+"px","margin-left":t&&"-"+Number(t.replace(/(px)/,""))/2+"px"||"0"}}return{}},t.createFrameGearPopup=function(t,e){var n=t,r=e&&e.attrs&&e.attrs.width||0,i=e&&e.attrs&&e.attrs.height||0,o=e&&e.styles||{},s=e&&e.nail||null,c=e&&e.nailDistX||0,u=e&&e.nailDistY||0,l=!e||void 0===e.isBodyScroll||e.isBodyScroll,f=e&&e.initialEvents||{},d=this.getCenterCss(r,i,e&&e.align,s),p=this.getNailPositionCss(r,s,c,u),h=e;return r&&i&&(h=a()({},e,{styles:a()(a()(a()({width:r,height:i,"z-index":1e4},d),p),o)})),l||(R(),h=a()({},h,{initialEvents:a()({resetBodyScroll:function(){E()}},f)})),I.o.createFullscreenChildFrame(n,h)},t.createSectionPopup=function(t,e){var n=e&&e.width||0,r=e&&e.height||0,i=e&&e.styles||{},o=e&&e.nail||null,s=e&&e.nailDistX||0,c=e&&e.nailDistY||0,u=!e||void 0===e.isBodyScroll||e.isBodyScroll,l=this.getCenterCss(n,r,e&&e.align,o),f=this.getNailPositionCss(n,o,s,c),d=e;return n&&r&&(d=a()({},e,{styles:a()(a()(a()({width:n,height:r,"z-index":1e4,position:"fixed"},l),f),i)})),u||(R(),d=a()({},d,{resetBodyScroll:function(){E()}})),new A(t,d)},t}();function R(){document.body.style.overflow="hidden"}function E(){document.body.style.overflow=""}var L=n(67218),P=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function M(t){return{rank:t.rank,trend:t.trend,countdown:t.countdown,timestamp:t.timestamp,url:t.web_url,icon:t.icon,areaName:t.area_name}}var D=n(48442),N=function(){var t,e=0,n=(0,s.iH)(!1),r=(0,s.iH)(!1),i=(0,s.iH)(null),o=(0,s.Fl)((function(){var t=c.Z.state.baseInfo.room.hotRankInfo;return"{}"===y()(t)?null:t})),a=(0,s.Fl)((function(){return null!=o.value})),u=(0,s.Fl)((function(){var t,e=(null===(t=o.value)||void 0===t?void 0:t.icon)||D;return(0,_.bfsImgLink)(e,76,40)})),l=(0,s.Fl)((function(){return null!=o.value&&o.value.rank>0})),f=(0,s.Fl)((function(){var t,e=(null===(t=o.value)||void 0===t?void 0:t.rank)||0;return e<10?"0"+e:e})),p=(0,s.Fl)((function(){var t;return(null===(t=o.value)||void 0===t?void 0:t.trend)||0})),m=(0,s.iH)((null===(t=o.value)||void 0===t?void 0:t.countdown)||0),v=null,g=function t(){v=setTimeout((function(){if(m.value--,m.value>0)return t();n.value=!0,clearTimeout(v)}),1e3)};return(0,s.YP)(o,(function(t){t.countdown!==m.value&&(m.value=t.countdown),t.countdown>0&&!v&&g()})),(0,s.bv)((function(){m.value>0&&g(),k.default.$on("HOT_RANK_CHANGED",(function(t){var r=t.data;n.value=!1,null==r||r.timestamp<=e||(c.Z.dispatchs.baseInfo.room.setRoomInfo({hotRankInfo:M(r)}),e=r.timestamp)})),k.default.$on("HOT_RANK_SETTLEMENT",(function(t){var e=t.data;return P(void 0,void 0,void 0,d().mark((function t(){var r,i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=function(t){return void 0===t&&(t=3),new(h())((function(e){var n=10*Math.random()%t*1e3;setTimeout(e,n)}))},n.value=!0,(0,L.Vh)(e.dm_msg),!navigator.userAgent.toLowerCase().match(/rv:([\d.]+)\) like gecko/)){t.next=5;break}return t.abrupt("return");case 5:return r=e.url||"https://live.bilibili.com/p/html/live-app-hotrank/result.html?a=1",t.next=8,i();case 8:(o=C.createFrameGearPopup(r+"&roomId="+c.Z.state.baseInfo.room.roomID+"&anchorId="+c.Z.state.baseInfo.anchor.uid+"&clientType=2",{attrs:{width:"250px",height:"210px",frameBorder:"0"},align:"center",isBodyScroll:!1,initialEvents:{closeView:function(){o.dispose()}}})).eventPort.emit("HOTRANK_RESULT",e);case 10:case"end":return t.stop()}}),t)})))}))})),(0,s.Ah)((function(){v&&clearTimeout(v)})),{showHotRank:a,hotRankRefs:i,hotIcon:u,openHotRankDetailIFrame:function(){if(!r.value){r.value=!0;var t=o.value&&o.value.url||"https://live.bilibili.com/p/html/live-app-hotrank/index.html?clientType=2",e=C.createFrameGearPopup(t+"&roomId="+c.Z.state.baseInfo.room.roomID+"&anchorId="+c.Z.state.baseInfo.anchor.uid+"&parentAreaId="+c.Z.state.baseInfo.room.parentAreaID+"&areaId="+c.Z.state.baseInfo.room.areaID,{attrs:{width:"375px",height:"521px",frameBorder:"0"},nail:i.value,nailDistY:4,nailDistX:32,styles:{"border-radius":"6px","box-shadow":"0 3px 14px 0 rgba(255,105,211,0.30)"},isBodyScroll:!1,initialEvents:{closeView:function(){e.dispose(),r.value=!1}}});void 0===Proxy&&setTimeout((function(){e.dispose(),r.value=!1}),3e3)}},currentRoomHasRank:l,currentRoomRankTrend:p,currentRoomRankNumber:f,settlementCountdown:m,isSettlement:n}},B=function(){return{onlineCount:(0,s.Fl)((function(){if("LIVE"!==c.Z.state.baseInfo.room.liveStatus)return"--";var t=c.Z.state.baseInfo.room.onlineCount;return isNaN(t)||t<=0?"--":t<1e4?t:(t/1e4).toFixed(1)+"万"})),isShowOnlineCount:(0,s.Fl)((function(){return c.Z.state.controlSwitch.isShowPopularity}))}},O=n(9669),F=n.n(O),G=n(3595),U=n(2708),Z=n(73645),V=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function H(t){return void 0===t&&(t=!1),V(this,void 0,void 0,d().mark((function e(){var n,r,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=G.h.state.baseInfoAnchor.uid,r=G.h.state.baseInfoRoom,i=r.oldAreaId,o=r.roomID,!t){e.next=4;break}return e.abrupt("return",{data:j(Z.y9.getInfoFromParam("area_rank_info"))});case 4:return e.next=6,(0,U.responseHandler)(W.bind(null,n,i,o),j);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))}function W(t,e,n){return V(this,void 0,void 0,d().mark((function r(){var i,o,a;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i="/rankdb/v1/Common/roomInfo?ruid="+t+"&roomid="+n+"&areaId="+e,r.next=3,F().get(i);case 3:return o=r.sent,a=o.data,r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})))}function j(t){var e=t.areaRank||{index:0,rank:0};return{index:(0,U.toNumber)(e.index),rank:e.rank}}var z=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Y=function(){var t=(0,s.iH)(0),e=(0,s.iH)(0),n=function(n){return void 0===n&&(n=!1),z(void 0,void 0,void 0,d().mark((function r(){var i,o;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,H(n);case 2:i=r.sent,o=i.data,t.value=o.rank,e.value=o.index;case 6:case"end":return r.stop()}}),r)})))};return(0,s.YP)((function(){return c.Z.state.baseInfo.room.areaName}),(function(){return n()})),(0,s.bv)((function(){return z(void 0,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(!0);case 1:case"end":return t.stop()}}),t)})))})),{rank:t,index:e}},K=n(39392),J=n.n(K),Q=n(58209),X=n(72379),q=n(66570),$=n(34074),tt=n.n($),et=n(95334),nt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=tt()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},rt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).verticalOffsetTop=18,e.duration=6e3,e.notificationIsShow=!0,e.showTimer=null,e}(0,q.Z)(e,t);var n=e.prototype;return n.handleBtnClick=function(){this.btnCallback(),this.close()},n.close=function(){this.onClose(),clearTimeout(this.showTimer),this.notificationIsShow=!1,this.$el.addEventListener("transitionend",this.destroyElement)},n.destroyElement=function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$el.parentNode.removeChild(this.$el)},n.mounted=function(){var t=this;this.showTimer=setTimeout((function(){t.close()}),this.duration)},e}(et.Vue),it=rt=nt([et.Component],rt),ot=(0,n(51900).Z)(it,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"notification",appear:""}},[t.notificationIsShow?n("div",{staticClass:"guide-join-fansclub",style:{top:t.verticalOffsetTop+"px"}},[n("div",{staticClass:"guide-left"},[n("div",{staticClass:"guide-title"},[t._v(t._s(t.title))]),n("div",{staticClass:"guide-title-explain"},[t._v(t._s(t.message))])]),n("div",{staticClass:"guide-right"},[n("div",{staticClass:"guide-join-button",attrs:{role:"button"},on:{click:t.handleBtnClick}},[t._v(t._s(t.btnText))])])]):t._e()])}),[],!1,null,"0144c956",null).exports,at=S.default.extend(ot),st=[],ct=document.querySelector("#live-player"),ut=1,lt=0,ft=function t(e){var n="notification_"+ut++;e.onClose=function(){t.close(n,e.onClose)};var r=new at({data:e}),i=18;st.forEach((function(){i+=70})),r.$mount(),r.id=n,r.verticalOffsetTop=i,ct.appendChild(r.$el),st.push(r),lt++};ft.close=function(t,e){0===--lt&&(st=[])};var dt,pt=ft,ht=n(18980),mt=n(90392),vt=n(82159),gt=n(97683),bt=n(95159),wt=n(51497),yt=n(75225),kt=n(65643),_t=n(33214),It=n(2183),Tt=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};!function(t){t.follow="follow",t.unFollow="unFollow",t.joinFansClub="joinFansClub",t.unJoinFansClub="unJoinFansClub"}(dt||(dt={}));var xt=null,St=function(t){var e=!1;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Tt(void 0,void 0,void 0,d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return");case 2:return e=!0,n.next=5,t.apply(void 0,r);case 5:e=!1;case 6:case"end":return n.stop()}}),n)})))}},At=function(){var t=(0,s.Fl)((function(){return c.Z.state.baseInfo.anchor.isAttention})),e=(0,s.Fl)((function(){var e=!!c.Z.state.baseInfo.anchor.medalName,n=c.Z.state.baseInfo.user.isInFansClub,r=new(J())([[{anchorHasFansMedal:!0,isJoinFansClub:!0,isFollow:!0},dt.joinFansClub],[{anchorHasFansMedal:!0,isJoinFansClub:!0,isFollow:!1},dt.joinFansClub],[{anchorHasFansMedal:!0,isJoinFansClub:!1,isFollow:!0},dt.unJoinFansClub],[{anchorHasFansMedal:!0,isJoinFansClub:!1,isFollow:!1},dt.unFollow],[{anchorHasFansMedal:!1,isJoinFansClub:!1,isFollow:!0},dt.follow],[{anchorHasFansMedal:!1,isJoinFansClub:!1,isFollow:!1},dt.unFollow],[{anchorHasFansMedal:!1,isJoinFansClub:!0,isFollow:!0},dt.joinFansClub],[{anchorHasFansMedal:!1,isJoinFansClub:!0,isFollow:!1},dt.joinFansClub]]),i=dt.unFollow;return r.forEach((function(r,o){o.anchorHasFansMedal===e&&o.isJoinFansClub===n&&o.isFollow===t.value&&(i=r)})),i})),n=St((function(t){return Tt(void 0,void 0,void 0,d().mark((function e(){var n,r,i,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.Z.state.baseInfo.user.isAnchor){e.next=2;break}return e.abrupt("return",(0,Q.Z)(t.target,"自己不能关注自己喔 "+_.randomEmoji.helpless(),"info"));case 2:return n=(0,yt.D)(),ht.default.report("liveroom_follow_click",{tag_name:"播放器上方",follow_status:1},n),e.next=6,gt.ZP.follow.followOrUnFollow({anchorUid:c.Z.state.baseInfo.anchor.uid,type:1,sessionId:n.session_id,roomId:n.room_id});case 6:if(0===(r=e.sent).code){e.next=9;break}return e.abrupt("return",(0,Q.Z)(t.target,r.msg,null==r.code?"error":"caution"));case 9:return e.next=11,(0,_t.Ce)(It._1.Follow);case 11:if(e.t0=e.sent,1===e.t0&&(0,_t.kf)({uid:c.Z.state.baseInfo.user.uid,msgType:c.Z.state.baseInfo.anchor.isFollowing?It.Sv.MutualAttention:It.Sv.Attention}),i=function(){var t=document.getElementById("follow-iframe");return new(h())((function(e){t.addEventListener("load",e)}))},void 0!==S.default.prototype.initGroupFollow){e.next=21;break}return S.default.use(bt.Z,{}),e.next=19,(0,s.Y3)();case 19:return e.next=21,i();case 21:o=function(e){return Tt(void 0,void 0,void 0,d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((0,Q.Z)(t.target,"分组保存成功 "+_.randomEmoji.happy(),"success"),-1!==e.indexOf("-10")){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,(0,_t.Ce)(It._1.Follow);case 5:n.t0=n.sent,1===n.t0&&(0,_t.kf)({uid:c.Z.state.baseInfo.user.uid,msgType:It.Sv.SpecialAttention});case 8:case"end":return n.stop()}}),n)})))},a=function(t){(0,X.Z)({title:"出错了",titleCenter:!0,width:350,html:'\n      <p class="t-center"\n      style="\n      font-size: 14px;\n      margin: 50px 0;\n      color: #666;">'+t+"</p>\n    ",button:{cancel:!1,confirm:"好的"}})},S.default.prototype.initGroupFollow(c.Z.state.baseInfo.anchor.uid,c.Z.state.baseInfo.anchor.username,{title:"请选择分组～",showErrMsgInDialog:!1,onSubmitSuccess:o,onAddTagError:a,onLoadRelationError:a,onLoadTagsError:a,onSubmitError:a,onClosePopup:function(){return k.default.$emit("SubscriptionService: GuideShow")}}),(0,Q.Z)(t.target,"表白主播并暗中观察 "+_.randomEmoji.happy(),"success"),c.Z.dispatchs.baseInfo.anchor.setAnchorInfo({isAttention:!0,fansCount:c.Z.state.baseInfo.anchor.fansCount+1});case 26:case"end":return e.stop()}}),e)})))})),r=function(t){ht.default.report("liveroom_follow_click",{tag_name:"播放器上方",follow_status:2},(0,yt.D)()),(0,X.Z)({title:"取消关注",html:'\n        <p style="margin:27p0 32p0; font-size:14px; color:#666">确定要弃你的主播而去吗？'+_.randomEmoji.sad()+"</p>\n      ",width:336,button:{confirm:"残忍取关",cancel:"再考虑一下"}}).onConfirm(St((function(e){return Tt(void 0,void 0,void 0,d().mark((function n(){var r,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,yt.D)(),n.next=3,gt.ZP.follow.followOrUnFollow({anchorUid:c.Z.state.baseInfo.anchor.uid,type:2,sessionId:r.session_id,roomId:r.room_id});case 3:if(i=n.sent,e.close().catch((function(){return null})),0===i.code){n.next=7;break}return n.abrupt("return",(0,Q.Z)(t.target,i.msg,null==i.code?"error":"caution"));case 7:(0,Q.Z)(t.target,"好感度 -1 "+_.randomEmoji.shock(),"info"),c.Z.dispatchs.baseInfo.anchor.setAnchorInfo({isAttention:!1,fansCount:c.Z.state.baseInfo.anchor.fansCount-1});case 9:case"end":return n.stop()}}),n)})))})))},i=function(){c.Z.state.controlSwitch.isShowFansMedal&&k.default.$emit(mt.Z.OPEN_JION_FANS_POPUP,!0)},o=function(){c.Z.state.controlSwitch.isShowFansMedal&&k.default.$emit(mt.Z.OPEN_FANS_MEDAL_LEVEL_UP_PANEL,!0)},a=(0,s.Fl)((function(){var t;return((t={})[dt.unFollow]={attrs:{text:"关注",aria:"点击关注主播",title:"喜欢 TA 就关注 TA 吧，时刻跟上主播步伐 _(:3 」∠)_"},action:c.Z.state.baseInfo.user.uid?n:vt.quickLogin},t[dt.follow]={attrs:{text:"已关注",aria:"点击取消关注主播",title:"点击取消关注主播"},action:r},t[dt.unJoinFansClub]={attrs:{text:"+ 粉丝团",aria:"点击加入粉丝团",title:"点击加入粉丝团"},action:i},t[dt.joinFansClub]={attrs:{text:"粉丝团 ",aria:"点击查看粉丝勋章面板",title:"点击查看粉丝勋章面板"},action:o},t)[dt[e.value]]})),u=(0,s.Fl)((function(){var t=c.Z.state.baseInfo.anchor,n=t.fansCount,r=t.fansClubPersonCount,i=new(J())([[dt.follow,n],[dt.unFollow,n],[dt.joinFansClub,r],[dt.unJoinFansClub,r]]);return _.numberFormat.autoParse(i.get(e.value))})),l=(0,s.iH)(!1),f=function(){l.value=!0,setTimeout(p,8e3)},p=function(){l.value=!1},m=function(){c.Z.state.baseInfo.anchor.medalName&&!c.Z.state.baseInfo.user.isInFansClub&&c.Z.state.baseInfo.user.guideFollow&&(pt({title:"主播邀请您加入粉丝团",message:"升级解锁弹幕新颜色",btnText:"即刻入团",btnCallback:function(){return i()}}),(0,wt.RZ)().catch(null))};return(0,s.YP)((function(){return c.Z.state.baseInfo.user.guideFreeMedalCost}),(function(t){t&&setTimeout((function(){pt({title:"勋章升级太慢？",message:"购买大航海突破20级",btnText:"即刻上船",btnCallback:function(){return(0,kt.tG)()}})}),500)})),(0,s.bv)((function(){xt=setTimeout(f,6e4),(0,s.YP)((function(){return c.Z.state.baseInfo.anchor.isAttention}),(function(t){t&&clearTimeout(xt)})),(0,s.YP)((function(){return c.Z.state.baseInfo.user.isAnchor}),(function(t){t&&clearTimeout(xt)})),(0,s.YP)((function(){return c.Z.state.baseInfo.room.liveStatus}),(function(t){"PREPARING"===t&&clearTimeout(xt)})),k.default.$on("SubscriptionService: GuideShow",m),setTimeout((function(){m()}),3e5)})),{isFollow:t,curButtonType:e,curButtonStrategy:a,diplayCount:u,isShowisNotification:l,hideNotification:p}},Ct=function(t){void 0===t&&(t={});var e,n=t.size,r=void 0===n?2097152:n,i=null,o=function(t){var e=t.target.files[0];null==e||function(t){return t.size>r&&(k.default.$emit("FILE_LOAD_FAILED","文件大小超过最大限制："+r+"kb"),i.remove(),!0)}(e)||(k.default.$emit("FILE_LOAD_SUCCESS",e),i.remove())};return null==i&&((e=document.createElement("input")).type="file",e.accept="image/jpg, image/png, image/gif, image/jpeg",e.style.display="none",document.body.appendChild(e),i=e),i.removeEventListener("change",o),setTimeout((function(){i.addEventListener("change",o),i.click()}),10),new(h())((function(t,e){k.default.$on("FILE_LOAD_SUCCESS",t),k.default.$on("FILE_LOAD_FAILED",e)}))};var Rt=n(12598),Et=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Lt=function(t){var e=null,r=null,i=new FileReader,o=(0,s.iH)(!1),a=(0,s.iH)(null),u=(0,s.iH)(null),l=(0,s.iH)([]),f=(0,s.iH)(!1),p=(0,s.Fl)((function(){var t=c.Z.state.baseInfo.anchor.masterLevel;return t>=30?4:~~(t/10+1)})),h=function(){return Et(void 0,void 0,void 0,d().mark((function t(){var e;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt.ZP.roomCover.getRoomCoverList(c.Z.state.baseInfo.room.roomID);case 2:if(0===(e=t.sent).code){t.next=5;break}return t.abrupt("return",(0,Q.Z)(a.value,e.msg,null==e.code?"error":"caution"));case 5:l.value=e.data;case 6:case"end":return t.stop()}}),t)})))},m=function(){return Et(void 0,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.value=!0,i.result){e.next=3;break}return e.abrupt("return");case 3:if(u.value.setAttribute("src",i.result),r&&r.destroy(),window.Cropper){e.next=9;break}return e.next=8,n.e(3129).then(n.t.bind(n,33129,23));case 8:window.Cropper=e.sent.default;case 9:r=new window.Cropper(u.value,{aspectRatio:1.77777,minCropBoxHeight:50,preview:t.cropPreviewId,viewMode:1,movable:!1,zoomable:!1});case 10:case"end":return e.stop()}}),e)})))},v=function(){return f.value=!1},g=function(){Date.now()<c.Z.state.baseInfo.room.allowUploadCoverTime&&(0,Q.Z)(a.value,"冷却中。请在 "+new Date(c.Z.state.baseInfo.room.allowUploadCoverTime).toLocaleString()+" 后再次尝试 "+_.randomEmoji.shock(),"info"),Ct({size:o.value?102400:2097152}).then((function(t){o.value?w(t).catch():(i.removeEventListener("load",m),setTimeout((function(){i.addEventListener("load",m),i.readAsDataURL(t)}),10))}),(function(t){return(0,Q.Z)(a.value,t+" "+_.randomEmoji.shock(),"info")}))},b=function(t){return Et(void 0,void 0,void 0,d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==e){n.next=6;break}return n.next=3,gt.ZP.roomCover.replaceRoomCover({room_id:c.Z.state.baseInfo.room.roomID,pic_id:e.toString(),url:t});case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,gt.ZP.roomCover.addRoomCover({room_id:c.Z.state.baseInfo.room.roomID,url:t});case 8:n.t0=n.sent;case 9:return r=n.t0,n.abrupt("return",r);case 11:case"end":return n.stop()}}),n)})))},w=function(t){return Et(void 0,void 0,void 0,d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(0,Q.Z)(a.value,"开始上传... "+_.randomEmoji.happy(),"success"),n.prev=1,n.next=4,Rt.ZP.uploadImage("new_room_cover",t);case 4:return r=n.sent,n.next=7,b(r);case 7:return(0,Q.Z)(a.value,"上传成功"+_.randomEmoji.happy(),"success"),e=null,v(),n.next=12,h();case 12:"LIVE"===c.Z.state.baseInfo.room.liveStatus&&Rt.ZP.dataReport({type_status:12,platform:"web",cover:r}).then().catch(),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),(0,Q.Z)(a.value,n.t0.message||n.t0.msg,"success");case 18:case"end":return n.stop()}}),n,null,[[1,15]])})))};return(0,s.bv)((function(){h()})),{isLiteMode:o,setLiteMode:function(){return o.value=!0},setCropMode:function(){return o.value=!1},tipToastRefs:a,cropRefs:u,chooseCover:g,replaceCover:function(t){e=t,g()},myCoverList:l,coverQuantityLimit:p,isCropping:f,cancelCorp:v,exportCropCoverUpdateInServer:function(){var t=r.getCroppedCanvas({fillColor:"#FFF",height:264,width:470,imageSmoothingEnabled:!1});if(t.toBlob)t.toBlob(w.bind(undefined),"image/jpeg",.8);else if(t.toDataURL&&atob&&ArrayBuffer&&Uint8Array&&Blob){var e=t.toDataURL("image/jpeg",.8);w(function(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),i=new Uint8Array(r),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return new Blob([r],{type:n})}(e)).catch((function(t){return console.log(t)}))}else(0,Q.Z)(a.value,"非常抱歉，你的浏览器不支持切图。请使用普通模式 "+_.randomEmoji.shock(),"info")},setCover:function(t,e){return Et(void 0,void 0,void 0,d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,gt.ZP.roomCover.updateRoomCover({room_id:c.Z.state.baseInfo.room.roomID,pic_id:t.toString()});case 2:return(0,Q.Z)(e.target,"更新成功 "+_.randomEmoji.happy(),"success"),n.abrupt("return",!0);case 4:case"end":return n.stop()}}),n)})))}}},Pt=n(94473),Mt=n.n(Pt),Dt=n(93415),Nt=n(45445),Bt=n(67801);var Ot=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ft=function(){var t=window.location.href.match(/(\w+):\/\/([^/:]+)(:\d*)?/)[1],e=[],n=(0,s.Fl)((function(){return t+"://live.bilibili.com/"+(c.Z.state.baseInfo.room.shortRoomID||c.Z.state.baseInfo.room.roomID)})),r=(0,s.Fl)((function(){return t+"://s1.hdslb.com/bfs/static/blive/live-assets/player/flash/pageplayer-latest.swf?room_id="+c.Z.state.baseInfo.room.shortRoomID+"&cid="+c.Z.state.baseInfo.room.roomID+"&state=LIVE"})),i=function(t){var r=c.Z.state.baseInfo.room,i=r.roomTitle,o=r.roomID,a=r.coverUrl,s=Mt()(e).call(e,(function(e){return e.target_platform===t}));if(void 0===s){var u={pic:a,title:"bilibili直播-"+i,summary:"房间号"+o+"-"+c.Z.state.baseInfo.anchor.username,url:n.value,desc:"bilibili直播-"+i};return 3===t&&(u.summary=n.value+"-房间号"+o+"-"+c.Z.state.baseInfo.anchor.username),5===t&&(u.summary="#bilibili直播#-房间号"+o+"-"+c.Z.state.baseInfo.anchor.username+"-"+i+"-"+n.value),{type:0,option:u}}return{type:1,option:{pic:s.img_url,title:s.share_title,summary:4===t?"房间号"+o+"-"+c.Z.state.baseInfo.anchor.username:s.share_subtitle,url:n.value,desc:4===t?"bilibili直播-"+i:s.share_title}}},o=function(){return Ot(void 0,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.Z.state.baseInfo.user.uid){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,gt.ZP.share.addShareCount({roomId:c.Z.state.baseInfo.room.roomID,upId:c.Z.state.baseInfo.anchor.uid,areaId:c.Z.state.baseInfo.room.areaID,parentAreaId:c.Z.state.baseInfo.room.parentAreaID});case 4:0===t.sent.code&&u();case 6:case"end":return t.stop()}}),t)})))},a=function(t,e){var n;!function(t){t[t.QQzone=3]="QQzone",t[t.QQ=4]="QQ",t[t.weibo=5]="weibo"}(n||(n={})),ht.default.report("liveroom_sharechannel_click",{status:e,room_id:c.Z.state.baseInfo.room.roomID,channel:n[t]})},u=function(){k.default.$emit("shareSuccessful"),function(t,e,n){if(void 0===n&&(n="__FIRE_EVENT__"),window.top!==window){var r={source:"BILI_LIVE_EMBEDED_ROOM_MSG",callbackName:t||"defaultEvent",data:e};"function"==typeof window[n]&&window[n](y()(r))}}("shareSuccessful")};return(0,s.bv)((function(){Ot(void 0,void 0,void 0,d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt.ZP.share.getShareConfig({room_id:c.Z.state.baseInfo.room.roomID,platform:"web"});case 2:n=t.sent,e=n;case 4:case"end":return t.stop()}}),t)})))})),{roomAddress:n,flashAddress:r,shareToQZone:function(t){var e=i(3),n=e.option,r=e.type;Dt.Z(n),o(),a(3,r),null==t||t()},shareToQQ:function(t){var e=i(5),n=e.option,r=e.type;Nt.Z(n),o(),a(4,r),null==t||t()},shareToWeibo:function(t){var e=i(5),n=e.option,r=e.type;Bt.Z(n),o(),a(5,r),null==t||t()}}},Gt=n(38599),Ut=n.n(Gt),Zt=n(66552),Vt=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ht=function(){var t=(0,s.iH)("free"),e=(0,s.iH)(null),n=(0,s.iH)(""),r=(0,s.iH)([]),i=function e(){if(t.value="candidateImageLoading","html5"!==c.Z.state.appStatus.playerType||"LIVE"!==c.Z.state.baseInfo.room.liveStatus||/IE|Edge/.test(Ut()()))return[];try{var n=Zt.Rw.capturePic("image/jpeg",.8);if(null==n)return;if(r.value.push(n),r.value.length<3)return setTimeout(e,1e3);t.value="free"}catch(t){}};return(0,s.bv)((function(){i()})),{status:t,reportReason:n,candidateImages:r,getCandidateImageBlob:function(t){return Vt(void 0,void 0,void 0,d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))},uploadImage:function(n){return Vt(void 0,void 0,void 0,d().mark((function r(){var i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==n){r.next=10;break}return r.prev=1,r.next=4,Ct({size:1048576});case 4:n=r.sent,r.next=10;break;case 7:return r.prev=7,r.t0=r.catch(1),r.abrupt("return",h().reject({code:1,error:r.t0}));case 10:return r.prev=10,t.value="uploading",r.next=14,Rt.ZP.uploadImage("web_room_report",n);case 14:if(i=r.sent){r.next=17;break}return r.abrupt("return",h().reject({code:-1,msg:"图片上传失败，请稍后再试"}));case 17:return e.value=i,r.abrupt("return",h().resolve({code:0,msg:"图片上传成功"}));case 21:return r.prev=21,r.t1=r.catch(10),r.abrupt("return",h().reject({code:-1,msg:r.t1.msg||"图片上传失败，请您再次尝试，如果频繁出现此问题，请直接联系客服反馈."}));case 24:return r.prev=24,t.value="free",r.finish(24);case 27:case"end":return r.stop()}}),r,null,[[1,7],[10,21,24,27]])})))},submitReport:function(){return Vt(void 0,void 0,void 0,d().mark((function r(){var i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.value="reportting",n.value&&null!=e){r.next=4;break}return t.value="free",r.abrupt("return",h().reject({code:1,msg:"请提供举报理由与举报截图后再上传"}));case 4:return r.next=6,gt.ZP.roomReport.submitReport({roomId:c.Z.state.baseInfo.room.roomID.toString(),reason:n.value,picUrl:e.value});case 6:if(i=r.sent,t.value="free",0===i.code){r.next=10;break}return r.abrupt("return",h().reject({code:-1,msg:i.msg}));case 10:return r.abrupt("return",h().resolve({code:0,msg:"举报成功"}));case 11:case"end":return r.stop()}}),r)})))}}},Wt=n(20116),jt=n.n(Wt),zt=function(t,e,n,r){return new(n||(n=h()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Yt=function(){var t=(0,s.iH)([]),e=(0,s.iH)([]),n=(0,s.iH)(0),r=(0,s.Fl)((function(){return e.value[n.value]})),i=(0,s.iH)([]);return(0,s.m0)((function(){var t;void 0!==r.value&&(t=r.value.id,zt(void 0,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.ZP.liveArea.getSubAreaList(t);case 2:i.value=e.sent;case 3:case"end":return e.stop()}}),e)}))))})),(0,s.bv)((function(){return zt(void 0,void 0,void 0,d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return zt(void 0,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.ZP.liveArea.getRecentChooseAreaList(c.Z.state.baseInfo.room.roomID);case 2:t.value=e.sent;case 3:case"end":return e.stop()}}),e)}))),n.next=3,zt(void 0,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt.ZP.liveArea.getParentAreaList();case 2:e.value=t.sent;case 3:case"end":return t.stop()}}),t)})));case 3:case"end":return n.stop()}}),n)})))})),{recentChooseList:t,parentAreaList:e,curSubAreaList:i,searchCurrentSubArea:function(t){var e;return t?jt()(e=i.value).call(e,(function(e){var n=e.pinyin+e.name,r=new RegExp(t.toLowerCase().split("").join(".*")).test(n.toLowerCase()),i=-1!==n.indexOf("其他");return r||i})):i.value},curSelectParentAreaIdx:n,selectedParentArea:function(t){return n.value=t},submitModify:function(t){return zt(void 0,void 0,void 0,d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.ZP.liveArea.modifyLiveArea({room_id:c.Z.state.baseInfo.room.roomID,area_id:t.id,activity_id:t.actId});case 2:if(0===(n=e.sent).code){e.next=5;break}return e.abrupt("return",h().reject(n));case 5:return"LIVE"===c.Z.state.baseInfo.room.liveStatus&&(0,m.Z)({type_status:3,platform:"web"}).then().catch(),c.Z.dispatchs.baseInfo.room.setRoomInfo({parentAreaName:t.parentName,parentAreaID:t.parentId,areaName:t.name,oldAreaId:t.oldAreaId||0}),e.abrupt("return",h().resolve(n));case 8:case"end":return e.stop()}}),e)})))}}}},97683:function(t,e,n){"use strict";n.d(e,{ZP:function(){return N}});var r={};n.r(r),n.d(r,{followOrUnFollow:function(){return u}});var i={};n.r(i),n.d(i,{getParentAreaList:function(){return I},getRecentChooseAreaList:function(){return k},getSubAreaList:function(){return T},modifyLiveArea:function(){return x}});var o={};n.r(o),n.d(o,{addRoomCover:function(){return A},getRoomCoverList:function(){return S},replaceRoomCover:function(){return C},updateRoomCover:function(){return R}});var a={};n.r(a),n.d(a,{submitReport:function(){return L}});var s={};n.r(s),n.d(s,{addShareCount:function(){return D},getShareConfig:function(){return M}});var c=n(13073),u=function(t){return c.Z.POST({url:"//api.bilibili.com/x/relation/modify",data:{act:t.type,fid:t.anchorUid,re_src:0,spmid:"444.8.selfDef.liveroom_follow_click",from_scmid:t.sessionId,extend_content:{entity:"live",entity_id:t.roomId}}})},l=n(63109),f=n.n(l),d=n(93476),p=n.n(d),h=n(2991),m=n.n(h),v=n(94473),g=n.n(v),b=n(65903),w=n(96891),y=function(t,e,n,r){return new(n||(n=p()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},k=function(t){return y(void 0,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.GET({url:"//api.live.bilibili.com/room/v1/Area/getMyChooseArea",data:{roomid:t},translate:b.Z});case 2:if(0===(n=e.sent).code){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})))},_=function(){return c.Z.GET({url:"//api.live.bilibili.com/room/v1/Area/getList?show_pinyin=1",cache:!0,translate:b.Z})},I=function(){return y(void 0,void 0,void 0,f().mark((function t(){var e,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:if(0===(n=t.sent).code){t.next=5;break}return t.abrupt("return",[]);case 5:return t.abrupt("return",m()(e=n.data).call(e,(function(t){return{id:t.id,name:t.name}})));case 6:case"end":return t.stop()}}),t)})))},T=function(t){return y(void 0,void 0,void 0,f().mark((function e(){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(0===(r=e.sent).code){e.next=5;break}return e.abrupt("return",[]);case 5:if(!(i=g()(n=r.data).call(n,(function(e){return e.id===t})))){e.next=8;break}return e.abrupt("return",i.list);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})))},x=function(t){return(0,w.modifyRoomInfo)(t)},S=function(t){return c.Z.GET({url:"//api.live.bilibili.com/room/v1/Cover/get_list",data:{room_id:t}})},A=function(t){return c.Z.POST({url:"//api.live.bilibili.com/room/v1/Cover/add",data:t})},C=function(t){return c.Z.POST({url:"//api.live.bilibili.com/room/v1/Cover/replace",data:t})},R=function(t){return c.Z.POST({url:"//api.live.bilibili.com/room/v1/Cover/update",data:t})},E=n(18305),L=function(t){return c.Z.POST({url:"//api.live.bilibili.com/liveact/report_room",data:{room_id:t.roomId,picUrl:t.picUrl,reason:t.reason}})},P=function(t,e,n,r){return new(n||(n=p()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function M(t){return P(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.GET({url:"//api.live.bilibili.com/xlive/web-room/v1/index/shareConf",data:t});case 2:return n=e.sent,e.abrupt("return",0===n.code?n.data.share_conf_list:[]);case 4:case"end":return e.stop()}}),e)})))}function D(t){return P(this,void 0,void 0,f().mark((function e(){var n,r,i,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.areaId,r=t.parentAreaId,i=t.roomId,o=t.upId,e.next=3,c.Z.POST({url:"//api.bilibili.com/x/web-interface/share/add",data:{area_id:n,parent_area_id:r,room_id:i,up_id:o}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))}var N={follow:r,liveArea:i,roomCover:o,roomHot:E,roomReport:a,share:s}},18305:function(t,e,n){"use strict";n.r(e),n.d(e,{getHotModules:function(){return l},getAnchorTodayUseInfo:function(){return f}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(13073),c=n(65903),u=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},l=function(t){return u(void 0,void 0,void 0,i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.GET({url:"//api.live.bilibili.com/xlive/web-room/v1/index/getAnchorPendantCfg",data:{uid:t},translate:c.Z});case 2:return n=e.sent,r=n.code,o=n.data,a=n.msg,e.abrupt("return",{code:r,data:o.modules,msg:a});case 7:case"end":return e.stop()}}),e)})))},f=function(t){return s.Z.GET({url:"//api.live.bilibili.com/xlive/web-room/v1/index/getAnchorPendantInfo",data:{uid:t},translate:c.Z})}},90392:function(t,e){"use strict";var n;!function(t){t.OPEN_JION_FANS_POPUP="JoinFansDialog: ChangeStatus",t.OPEN_FANS_MEDAL_LEVEL_UP_PANEL="MedalInfoContent: ChangeStatus"}(n||(n={})),e.Z=n},33960:function(t,e,n){"use strict";n.d(e,{Z:function(){return I}});var r,i=n(70538),o=n(20629),a=n(25163),s=n(86902),c=n.n(s),u=n(94473),l=n.n(u),f=n(41609),d=n.n(f),p=n(14293),h=n.n(p),m=n(50361),v=n.n(m);!function(t){t.game="3-16"}(r||(r={}));var g={state:{medalAnimResource:[],areaID:0,parentAreaID:0,areaName:"--",parentAreaName:"--",oldAreaId:0,hotWords:[],background:"//i0.hdslb.com/bfs/live/2836bb7b84c792e2c6aadfd4d1cce13484775fa3.jpg",blockTime:0,blockType:0,coverUrl:"",freeSilverTimes:0,guard:0,guardInfo:{heartStatus:!1,heartTime:0,noticeStatus:0},harunaName:"22",liveStatus:"LIVE",liveTime:0,onlineCount:0,roomID:0,roomSilentLevel:0,roomSilentDuration:0,roomSilentType:!1,roomTitle:"--",roomType:{},feedAlertOpen:!1,allowUploadCoverTime:0,verify:"",shortRoomID:0,avId:"-99998",pkStatus:0,pkId:0,battleId:0,isBML:!1,isHistoryDanmakuReady:!1,studioInfo:{isStudio:!1,masterList:[]},isBNJ:!1,isPlayerBlockConfig:!1,tabInfo:[],skinInfo:{},battleRankEntryInfo:{},voiceJoinInfo:{},newsInfo:{},adBannerInfo:[],playerThrottleInfo:{},videoChannleId:"",onlineGoldRank:[],allSpecialTypes:[],guardResource:{},hotRankInfo:{},areaList:[]},getters:{isGameRoom:function(t){return e=t.roomType,n=r.game,i=1,"[object Object]"===Object.prototype.toString.call(e)&&c()(e).indexOf(n)>-1&&e[n]===i;var e,n,i},curGuardSource:function(t){var e,n=l()(e=t.tabInfo).call(e,(function(t){return!!t.num}));return!n||h()(t.guardResource)||d()(t.guardResource)?null:n.num>1e4?t.guardResource[1e4]:n.num>1e3?t.guardResource[1e3]:n.num>100?t.guardResource[100]:t.guardResource[0]}},actions:{setRoomInfo:function(t,e){var n=t.state;e=v()(e),c()(e).forEach((function(t){void 0!==n[t]&&(n[t]=e[t])}))},setFeedAlert:function(t,e){var n=t.state;e=v()(e),n.feedAlertOpen=!!e},setRoomSilent:function(t,e){var n=t.state;e=(e=v()(e))||{},n.roomSilentDuration=e.duration||0,n.roomSilentType=e.type||!1,n.roomSilentLevel=e.level||0},setIsBNJ:function(t,e){var n=t.state;e=v()(e),n.isBNJ=e},setIsPlayerBlockConfig:function(t,e){var n=t.state;e=v()(e),n.isPlayerBlockConfig=e},setGuardResource:function(t,e){var n=t.state;e=v()(e),n.guardResource=e},setMedalAnimResource:function(t,e){var n=t.state;e=v()(e),n.medalAnimResource=e},setAvId:function(t,e){var n=t.state;e=v()(e),n.avId=e||"-99998"}}},b=n(3649),w=n.n(b),y={modules:{room:g,user:{state:{goldSeed:0,isAdmin:!1,isAnchor:!1,isNewBie:!1,isPhoneVerified:!1,mobileVerifyCode:-1,realNameIdentification:!1,biliVip:0,isSvip:!1,isVip:!1,level:0,lpl:0,rank:0,userLevelRank:"--",title:"",showVipTips:!1,silverSeed:0,username:"--",uid:0,userAvatar:"",coin:0,bb:0,medal:!1,medalCount:0,isShowGiftPackage:1,danmakuColor:"#ffffff",danmakuMode:1,privilege:{id:0,privilegeType:0,currentTopGuardLevel:0,privilegeColor:"",noticeStatus:0,heartTime:0,isHeart:!0,broadcastConfig:null,subLevel:0,autoRenew:!1,renewRemind:{content:"",hint:"",type:0}},property:{unameColor:"",bubble:0,danmu:{mode:0,color:0,length:0},bubbleColor:""},userSilentLevel:0,userSilentRank:0,userSilentVerify:0,shieldListApplyToRoom:!1,shieldList:[],danmakuLengthLimit:20,giftPackage:{bagStatus:1,bagExpireStatus:0},mailbox:{switch:0,red_notice:0},guideFreeMedalCost:0,guideLightMedal:0,guideFollow:0,guardCompensate:0,isInFansClub:!1,allowWelcomeMock:-1,interactToasts:[]},actions:{setUserInfo:function(t,e){var n=t.state;e=v()(e),c()(e).forEach((function(t){void 0!==n[t]&&(n[t]=e[t])}))},setUserSilentData:function(t,e){var n=t.state;e=v()(e),c()(e).forEach((function(t){void 0!==n[t]&&"userSilent"===w()(t).call(t,0,10)&&(n[t]=e[t])}))},setDanmakuColor:function(t,e){var n=t.state;e=v()(e),n.danmakuColor=e},setDanmakuMode:function(t,e){var n=t.state;e=v()(e),n.danmakuMode=e},setShieldData:function(t,e){var n=t.state;e=v()(e),Array.isArray(e.shieldList)&&(n.shieldList=e.shieldList),n.shieldListApplyToRoom=e.shieldListApplyToRoom||!1},setShieldListSelect:function(t,e){var n=t.state;e=v()(e);var r=n.shieldList[e.index];r&&(r.selected=e.status)},addShieldItem:function(t,e){var n=t.state;(e=v()(e))&&n.shieldList.push({value:e.value,selected:!1,type:e.type})},setShieldListApplyToRoom:function(t,e){var n=t.state;e=v()(e),n.shieldListApplyToRoom=!!e},removeShieldItems:function(t,e){var n=t.state;e=v()(e),Array.isArray(e)&&e.forEach((function(t){n.shieldList[t]&&(n.shieldList[t].value=null)}))},setGuardLevel:function(t,e){var n=t.state;e=v()(e),n.privilege.privilegeType=e||0},setTopGuardLevel:function(t,e){var n=t.state;e=v()(e),n.privilege.currentTopGuardLevel=e||0},setGuardSubLevel:function(t,e){var n=t.state;e=v()(e),n.privilege.subLevel=e||0},setMailboxRedNotice:function(t,e){var n=t.state;e=v()(e),n.mailbox.red_notice=e}}},anchor:{state:{facePendants:null,areaPendant:"",fansCount:0,giftReceived:0,isAttention:!1,isFollowing:!1,username:"--",pendant:"",san:12,uid:0,masterLevel:0,next:[333,666],current:[0,333],sort:999999,upgradeScore:999999,allowChangeAreaTime:0,face:"//static.hdslb.com/images/member/noface.gif",description:"",tags:[],isOpenFansMedal:!1,medalId:0,medalName:"",fansClubPersonCount:0},actions:{setAnchorInfo:function(t,e){var n=t.state;e=v()(e),c()(e).forEach((function(t){void 0!==n[t]&&(n[t]=e[t])}))}}}}},k={state:{isOpenSocket:!0,isShowSendingGift:!0,isShowGuard:!0,isShowPopularity:!0,isShowDanmakuEditor:!0,isShowRoomEffect:!0,isShowFansMedal:!0,isShowReport:!0,isShowFeedback:!0,isShowPlayerWatermark:!0,isShowLiveRecommend:!0,isShowRoomActivity:!0,isShowWebBanner:!0,isShowHaruna:!0,isShowEmaWishing:!0,isShowHourRank:!0,isShowWeekRank:!0,isShowAnchorRank:!0,isShowIntegral:!0,isShowAsideTabs:!0,isShowRecordTab:!1,isShowHotRank:!1,isShowFansMedalProgress:!0},actions:{updateState:function(t,e){var n=t.state;e=v()(e),c()(e).forEach((function(t){return n[t]=e[t]}))}}},_={state:{appName:"Bilibili-live-room",blockingTime:0,hiddenTime:0,enterFailed:!1,initFailureHint:!1,rnd:"undefined"!=typeof window&&window.BilibiliLive.RND||Math.floor(Date.now()/1e3),playerType:"flash",lineType:0,displayMode:"normal",playerCtrlVisibility:!1,upgradeIntroStep:0,upSession:"",errorMsg:""},getters:{appStatus:function(t){return t}},actions:{setAppStatus:function(t,e){var n=t.state;e=v()(e),c()(e).forEach((function(t){void 0!==n[t]&&(n[t]=e[t])}))},setPlayerline:function(t,e){var n=t.state;"number"==typeof(e=v()(e))&&(n.lineType=e)},setPlayerType:function(t,e){var n=t.state;e=v()(e),-1!==["html5","flash"].indexOf(e)&&(n.playerType=e)},setDisplayMode:function(t,e){var n=t.state;e=v()(e),-1!==["normal","webFullScreen","windowFullScreen"].indexOf(e)&&(n.displayMode=e)},setPlayerCtrlVisibility:function(t,e){var n=t.state;e=v()(e),n.playerCtrlVisibility=e}}};i.default.use(o.default);var I=(0,a.Z)(o.default.Store)({modules:{baseInfo:y,controlSwitch:k,appStatus:_}})},58209:function(t,e,n){"use strict";var r=n(70538),i=n(32391);r.default.use((0,i.default)());var o=r.default.prototype.linkMsg;e.Z=o},72379:function(t,e,n){"use strict";var r=n(70538),i=n(70586);r.default.use(i.default);var o=r.default.prototype.linkPopup;e.Z=o},60048:function(t,e,n){"use strict";n.d(e,{ZP:function(){return c},hx:function(){return s}});var r=n(347),i=n(72379),o=n(18706),a=null,s={open:function(t){(0,i.Z)({button:!1,title:"房间管理",width:504,component:{data:function(){return{blockUidOrUname:t}},components:{RoomManager:function(){return{component:Promise.resolve().then(n.bind(n,347)).then((function(t){return t.default})),loading:o.default}}},name:"room-manager-popup",template:'<room-manager :blockUidOrUname="blockUidOrUname"></room-manager>'}}).onInited((function(t){a=t})).onCancel},close:function(){null==a||a.close(),a=null}},c=function(t){t.component("room-manager",r.default),t.prototype.$roomManagerPopup=s}},96891:function(t,e,n){"use strict";n.r(e),n.d(e,{getRoomInfo:function(){return d},modifyRoomInfo:function(){return p}});var r=n(93476),i=n.n(r),o=n(51942),a=n.n(o),s=n(13073),c=n(83587),u=n(50361),l=n.n(u),f=n(73645),d=function(t){var e=function(t){var e,n,r,i,o,a,s,c,u=(e={switch_info:t.switch_info||{},new_switch_info:t.new_switch_info||{},record_switch_info:t.record_switch_info||{}},r=(n=e||{}).record_switch_info,i=(r=void 0===r?{}:r).record_tab,o=void 0!==i&&i,a=n.new_switch_info,s=void 0===a?{}:a,{isShowGuard:(c=function(t){return!s||0!==Number(s[t])})("room-sailing"),isShowSendingGift:c("room-prop-send"),isShowPopularity:c("room-info-popularity"),isShowDanmakuEditor:c("room-danmaku-editor"),isShowRecordTab:!!o,isOpenSocket:c("room-socket"),isShowRoomEffect:c("room-effect"),isShowFansMedal:c("room-fans_medal"),isShowReport:c("room-report"),isShowFeedback:c("room-feedback"),isShowPlayerWatermark:c("room-player-watermark"),isShowLiveRecommend:c("room-recommend-live_off"),isShowRoomActivity:c("room-activity"),isShowWebBanner:c("room-web_banner"),isShowHaruna:c("room-board"),isShowEmaWishing:c("room-supplication"),isShowHourRank:c("room-hour_rank"),isShowWeekRank:c("room-week_rank"),isShowAnchorRank:c("room-anchor_rank"),isShowIntegral:c("room-info-integral"),isShowAsideTabs:c("room-tab"),isShowHotRank:c("room-hot-rank"),isShowFansMedalProgress:c("fans-medal-progress")});return delete t.switch_info,delete t.new_switch_info,delete t.record_switch_info,t.controlSwitchInfo=u,t},n=f.y9.getRoomInfoData();if(n)return i().resolve({code:n.code,data:e(l()(n.data)),msg:n.msg});var r=(0,c.tU)("roomInfoRes");return r?i().resolve({code:r.code,data:e(r.data),msg:r.errorMsg?r.errorMsg:"success"}):s.Z.GET({url:"/xlive/web-room/v1/index/getInfoByRoom",data:{room_id:t},cache:!0,translate:e})},p=function(t){return s.Z.POST({url:"//api.live.bilibili.com/room/v1/Room/update",data:a()(a()({},t),{platform:"pc"})})}},95738:function(t,e,n){"use strict";var r=n(13073);e.Z=function(t){return r.Z.POST({url:"/xlive/app-blink/v1/report/ReportData",data:t})}},12598:function(t,e,n){"use strict";n.d(e,{ZP:function(){return D}});var r={};n.r(r),n.d(r,{addBlackUser:function(){return g},addBlockWord:function(){return _},addRoomAdmin:function(){return p},deleteBlockWord:function(){return I},getBlackList:function(){return m},getBlockList:function(){return b},getBlockWords:function(){return k},getGlobalBlockStatus:function(){return x},getRoomAdminList:function(){return d},openOrCloseGlobalBlock:function(){return T},removeBlackUser:function(){return v},removeBlockUser:function(){return w},removeRoomAdmin:function(){return h},searchUser:function(){return y}});var i=n(96891),o=n(13073),a=n(2991),s=n.n(a),c=n(65903),u=function(t){var e;return(t=(0,c.Z)(t)).list=t.data||[],delete t.data,t.list=s()(e=t.list).call(e,(function(t){var e=t.uid,n=void 0===e?0:e,r=t.uname,i=void 0===r?"--":r,o=t.ctime;return{uid:n,uname:i,ctime:void 0===o?"":o}})),t},l=function(t){return(0,c.Z)(t.data)},f=function(t){var e=(t||{}).items,n=void 0===e?[]:e;return Array.isArray(n)?s()(n).call(n,(function(t){var e=t.uid,n=void 0===e?0:e,r=t.uname,i=void 0===r?"":r,o=t.face;return{uid:n,uname:i,face:void 0===o?"":o}})):[]},d=function(t){return o.Z.GET({url:"//api.live.bilibili.com/xlive/app-ucenter/v1/roomAdmin/get_by_anchor",data:{page:t},translate:u})},p=function(t){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/roomAdmin/appoint",data:{admin:t}})},h=function(t){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/roomAdmin/dismiss",data:{uid:t}})},m=function(t,e){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/banned/GetSilentUserList",data:{room_id:t,ps:e},translate:l})},v=function(t,e){return o.Z.POST({url:"//api.live.bilibili.com/banned_service/v1/Silent/del_room_block_user",data:{roomid:t,id:e}})},g=function(t,e){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/banned/AddSilentUser",data:{room_id:t,tuid:e,mobile_app:"web"}})},b=function(t,e){return o.Z.GET({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/banned/GetBlackList",data:{pn:t,ps:e}})},w=function(t,e){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/banned/DelBlack",data:{tuid:t,spmid:e}})},y=function(t){return o.Z.GET({url:"//api.live.bilibili.com/banned_service/v2/Silent/search_user",data:{search:t},translate:f})},k=function(t){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/banned/GetShieldKeywordList",data:{room_id:t},translate:c.Z})},_=function(t,e){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/banned/AddShieldKeyword",data:{room_id:t,keyword:e}})},I=function(t,e){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/banned/DelShieldKeyword",data:{room_id:t,keyword:e}})},T=function(t){return o.Z.POST({url:"//api.live.bilibili.com/xlive/web-room/v1/banned/RoomSilent",data:t})},x=function(t){return o.Z.GET({url:"//api.live.bilibili.com/xlive/web-room/v1/banned/GetRoomSilent",data:{room_id:t}})},S=n(95738),A=n(63109),C=n.n(A),R=n(93476),E=n.n(R),L=n(84322),P=function(t,e,n,r){return new(n||(n=E()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},M=function(t,e){return P(void 0,void 0,void 0,C().mark((function n(){var r,i;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.j.handleUploadBlob({bucket:"live",dir:t,fileData:e});case 3:return i=n.sent,n.abrupt("return",E().resolve(null!==(r=null==i?void 0:i.location)&&void 0!==r?r:null));case 7:return n.prev=7,n.t0=n.catch(0),console.error("[Upload Image Error]",n.t0),n.abrupt("return",E().reject(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))},D={baseInfo:i,roomManager:r,dataReport:S.Z,uploadImage:M}},75443:function(t,e,n){"use strict";var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(2060),c=n(12598),u=n(33960),l=n(82159),f=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};e.Z=function(){var t=c.ZP.roomManager.getRoomAdminList,e=c.ZP.roomManager.addRoomAdmin,n=c.ZP.roomManager.removeRoomAdmin,r=c.ZP.roomManager.getBlackList,o=c.ZP.roomManager.addBlackUser,a=c.ZP.roomManager.removeBlackUser,d=c.ZP.roomManager.getBlockList,p=c.ZP.roomManager.removeBlockUser,h=c.ZP.roomManager.getBlockWords,m=c.ZP.roomManager.addBlockWord,v=c.ZP.roomManager.deleteBlockWord,g=(0,s.iH)("off"),b=(0,s.iH)(0),w=(0,s.iH)("level"),y=(0,s.iH)(1),k=(0,s.iH)(60),_=(0,s.iH)(15),I=(0,s.iH)(!1);(0,s.YP)(w,(function(t,e){"level"===t&&(k.value=60,"medal"===e&&40==+y.value&&(y.value=k.value)),"medal"===t&&(k.value=40,"level"===e&&60==+y.value&&(y.value=k.value)),"member"===t&&(y.value=1)})),(0,s.YP)(y,(function(t){t&&/^[0-9]+.?[ 0-9]*/.test(t.toString())||(y.value=1),t>k.value&&(y.value=k.value)}));var T=(0,s.iH)(30),x=function t(){0!==b.value?b.value>0&&(b.value--,setTimeout(t,1e3)):g.value="off"};return(0,s.m0)((function(){(u.Z.state.baseInfo.user.isAnchor||u.Z.state.baseInfo.user.isAdmin)&&function(){var t="LIVE_ROOM_ADMIN_POP_TIP";if(!l.cookie.getItem(t)){var e=new Date((new Date).getTime()+5184e6);I.value=!0,l.cookie.setItem(t,1,e),setTimeout((function(){I.value=!1}),2e4)}window.addEventListener("click",(function(){return I.value=!1}))}()})),{getAdminList:t,addAdmin:e,removeAdmin:n,getBlackList:r,addBlackUser:o,removeBlackUser:a,removeBlockUser:p,getBlockList:d,getBlockWords:h,addBlockWord:m,deleBlockWord:v,blockRole:w,blockLevel:y,maxBlockLevel:k,blockTime:T,openGlobalBlock:function(){return f(void 0,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.roomManager.openOrCloseGlobalBlock({room_id:u.Z.state.baseInfo.room.roomID,type:w.value,level:y.value,minute:T.value});case 2:return 0===(e=t.sent).code&&(g.value="open",T.value>0&&(b.value=60*T.value,x())),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))},closeGlobalBlock:function(){return f(void 0,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.ZP.roomManager.openOrCloseGlobalBlock({room_id:u.Z.state.baseInfo.room.roomID,type:"off",level:1,minute:0});case 2:return 0===(e=t.sent).code&&(g.value="off",b.value=0),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))},globalBlockStatus:g,blockCountdown:b,maxBlockWordLength:_,initGlobalBlockStatus:function(){c.ZP.roomManager.getGlobalBlockStatus(u.Z.state.baseInfo.room.roomID).then((function(t){if(0===t.code){var e=t.data,n=e.type,r=e.level,i=e.minute,o=e.second;if(!n||0===o)return void(g.value="off");g.value="open",w.value=n,y.value=r,T.value=i,o>0&&(b.value=o,x())}}))},isShowAdminPopTip:I}}},13073:function(t,e,n){"use strict";var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(39392),c=n.n(s),u=n(29531),l=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},f=new(c()),d=function(t){return l(void 0,void 0,void 0,i().mark((function e(){var n,r,o,a,s,c,l,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&"get"===t.method&&(t.data={params:t.data}),e.prev=1,!t.cache){e.next=6;break}if(n=t.url,!f.has(n)){e.next=6;break}return e.abrupt("return",f.get(n));case 6:return e.next=8,u.default[t.method](t.url,t.data);case 8:if(r=e.sent,o=r.data,a=o.code,s=o.data,c=o.message,l=o.msg,0===a){e.next=12;break}return e.abrupt("return",{code:a,data:s,msg:c||l});case 12:return d={code:0,data:t.translate?t.translate(s):s,msg:"success"},t.cache&&(p=t.url,f.set(p,d)),e.abrupt("return",d);case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",{code:null,data:null,msg:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))},p={};["GET","POST","PUT"].forEach((function(t){p[t]=function(e){if("string"==typeof e)return d({method:t.toLocaleLowerCase(),url:e});var n=e.url,r=e.data,i=e.cache,o=e.translate;return d({method:t.toLocaleLowerCase(),url:n,data:r,cache:i,translate:o})}})),e.Z=p},65903:function(t,e,n){"use strict";var r=n(3649),i=n.n(r),o=n(66419),a=n.n(o),s=n(65420),c=n.n(s),u=n(19996),l=n.n(u);function f(t,e){var n=void 0!==c()&&l()(t)||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return d(t,e);var r=i()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return a()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.Z=function t(e){var n=function(t){return"[object Object]"===Object.prototype.toString.call(t)};if(!n(e)&&!Array.isArray(e))return e;if(n(e)){var r={};for(var i in e){r[i.replace(/\_(\w)/g,(function(t,e){return e.toUpperCase()}))]=t(e[i])}return r}if(Array.isArray(e)){for(var o,a=[],s=f(e);!(o=s()).done;){var c=o.value;n(c)?a.push(t(c)):a.push(c)}return a}}},83587:function(t,e,n){"use strict";function r(){return""}n.d(e,{tU:function(){return i.t},wn:function(){return r}});var i=n(3465);n(59340)},3465:function(t,e,n){"use strict";function r(t){try{var e=function(t,e){if(!t||!e)return null;var n=window[t];return n&&n[e]?n[e]:null}("__NEPTUNE_IS_MY_WAIFU__",t);return e?{code:e.code,data:e.data||null,error:0===e.code?null:new Error(e.msg||e.message||"服务端接口错误 "+t+"__NEPTUNE_IS_MY_WAIFU__"),msg:e.msg||e.message||"服务端接口错误 "+t+"__NEPTUNE_IS_MY_WAIFU__"}:null}catch(t){return null}}n.d(e,{t:function(){return r}})},3595:function(t,e,n){"use strict";n.d(e,{h:function(){return tt}});var r,i,o,a,s,c=n(70538),u=n(20629),l=n(86902),f=n.n(l),d=n(51942),p=n.n(d),h=(0,n(68913).$S)("store/activity"),m="SET_ACTIVITY",v="SET_FREE_GIFT",g="UPDATE_FREE_GIFT",b="SET_HEART_INFO",w="SET_TOP3_SCORE",y="SET_RECEIVE_GIFT_STATUS",k="SET_MASTER_RANK_SIDEBAR_BTN",_="SET_MASTER_RANK_CUSTOM_CONFIG",I={state:{isHeart:!1,heartTime:0,top3:[],common:{},freeGift:{},eventGifts:[],lottery:[],receiveGift:[],masterRank:null},mutations:((r={})[m]=function(t,e){f()(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])}))},r[v]=function(t,e){e&&(t.freeGift=e)},r[g]=function(t,e){t.freeGift&&f()(e).forEach((function(n){var r=t.freeGift[n],i=e[n];if(!i)return h(g+" 传入 payload 格式非法",i);void 0!==r?f()(i).forEach((function(e){void 0!==i[e]&&void 0!==r[e]&&(t.freeGift[n][e]=i[e])})):t.freeGift[n]=i}))},r[w]=function(t,e){e.value>t.top3[e.index].score&&(t.top3[e.index].score=e.value)},r[b]=function(t,e){t.isHeart=e.isHeart,t.heartTime=e.heartTime||t.heartTime},r[y]=function(t,e){t.receiveGift[e.index].status=e.status},r[k]=function(t,e){t.masterRank.sidebarBtn=p()({},t.masterRank.sidebarBtn,e)},r[_]=function(t,e){t.masterRank.rankListCustomConifg=p()(t.masterRank.rankListCustomConifg,e)},r),actions:{setActivity:function(t,e){(0,t.commit)(m,e)},setFreeGift:function(t,e){(0,t.commit)(v,e)},updateFreeGift:function(t,e){(0,t.commit)(g,e)},setTop3Score:function(t,e){(0,t.commit)(w,e)},setHeartInfo:function(t,e){(0,t.commit)(b,e)},setReceiveGiftStatus:function(t,e){(0,t.commit)(y,e)},setMasterRankSidebarBtan:function(t,e){(0,t.commit)(k,e)},setMasterRankListCustomConfig:function(t,e){(0,t.commit)(_,e)}},getters:{activity:function(t){return t},freeGift:function(t){return t.freeGift},masterRankCustomConfig:function(t){return t.masterRank&&t.masterRank.rankListCustomConifg}}},T=n(58073),x=n(3954),S=n(44424),A=n(15508),C=n(29795),R=n(53168),E="SET_CURRENT_TAB",L="SET_IS_OPEN",P="SET_ACTIVITY_TAB",M={namespaced:!0,state:{currentTab:"",activityTab:{},isOpen:!1},mutations:((i={})[E]=function(t,e){t.currentTab=e},i[L]=function(t,e){t.isOpen=e},i[P]=function(t,e){t.activityTab=e},i),actions:{setCurrentTab:function(t,e){(0,t.commit)(E,e)},setIsOpen:function(t,e){(0,t.commit)(L,e)},setActivityTab:function(t,e){(0,t.commit)(P,e)}},getters:{getCurrentTab:function(t){return t.currentTab},getIsOpen:function(t){return t.isOpen},getActivityTab:function(t){return t.activityTab}}},D=n(92762),N=n.n(D),B="ADD_CONFIG",O="ADD_PANEL",F="DEL_PANEL",G="UPDATE_PANEL",U="ADD_ICON",Z={state:{popupsConfig:{},popupsState:[],smallIcon:[]},mutations:((o={})[B]=function(t,e){t.popupsConfig[e.id]=e},o[O]=function(t,e){t.popupsState.push(e)},o[F]=function(t,e){var n;N()(n=t.popupsState).call(n,e,1)},o[G]=function(t,e){var n,r=e.index,i=e.value;N()(n=t.popupsState).call(n,r,1,i)},o[U]=function(t,e){t.smallIcon.push(e)},o),actions:{addPopupConfig:function(t,e){(0,t.commit)(B,e)},addPopup:function(t,e){(0,t.commit)(O,e)},delPopup:function(t,e){(0,t.commit)(F,e)},setPopup:function(t,e){(0,t.commit)(G,e)},addSmallIcon:function(t,e){(0,t.commit)(U,e)}},getters:{chatPopupArea:function(t){return t},chatPopupsConfig:function(t){return t.popupsConfig},chatPopupsState:function(t){return t.popupsState},smallIcon:function(t){return t.smallIcon},getPopupConfigById:function(t){return function(e){return t.popupsConfig[e]}}}},V=n(15796),H="SET_INSTANCE",W={namespaced:!0,state:{pk:{}},mutations:((a={})[H]=function(t,e){var n=e.type,r=e.instance;t[n]=r},a),actions:{setInstance:function(t,e){(0,t.commit)(H,e)}},getters:{getInstance:function(t){return function(e){return t[e]}}}},j="SET_ACTIVITY_INFO",z="SET_BANNER_INFO",Y={state:{activityInfo:null,bannerInfo:null},mutations:((s={})[j]=function(t,e){c.default.set(t,"activityInfo",e)},s[z]=function(t,e){c.default.set(t,"bannerInfo",e)},s),actions:{setActivityInfo:function(t,e){(0,t.commit)(j,e)},setBannerInfo:function(t,e){(0,t.commit)(z,e)}},getters:{activityInfo:function(t){return t.activityInfo},bannerInfo:function(t){return t.bannerInfo}},namespaced:!0},K=n(19456),J=n(20703),Q=n(92803),X=n(54465),q=n(62707);c.default.use(u.default);var $={activity:I,appStatus:T.Z,baseInfoActivity:x.Z,baseInfoAnchor:S.Z,baseInfoRoom:A.ZP,baseInfoUser:C.Z,gift:R.Z,rankList:M,chatPopupArea:Z,danmakuOptions:V.Z,instance:W,recharge:Y,lpl:K.Z,superChat:J.Z,guard:Q.Z,redEnvelope:X.Z,popularityRedEnvelope:q.Z},tt=new u.default.Store({modules:$})},58073:function(t,e,n){"use strict";var r,i=n(86902),o=n.n(i),a=n(33960),s="SET_APPSTATUS",c="SET_PLAYER_LINE_TYPE",u="SET_PLAYER_TYPE",l="SET_DISPLAY_MODE",f="SET_PLAYER_CTRL_VISIBILITY",d={appName:"Bilibili-live-room",blockingTime:0,hiddenTime:0,enterFailed:!1,initFailureHint:!1,rnd:"undefined"!=typeof window&&window.BilibiliLive.RND||Math.floor(Date.now()/1e3),playerType:"flash",lineType:0,displayMode:"normal",playerCtrlVisibility:!1,upgradeIntroStep:0,upSession:"",errorMsg:""},p=((r={})[s]=function(t,e){o()(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])}))},r[c]=function(t,e){"number"==typeof e&&(t.lineType=e)},r[u]=function(t,e){-1!==["html5","flash"].indexOf(e)&&(t.playerType=e)},r[l]=function(t,e){-1!==["normal","webFullScreen","windowFullScreen"].indexOf(e)&&(t.displayMode=e)},r[f]=function(t,e){t.playerCtrlVisibility=e},r),h={appStatus:function(t,e){(0,t.commit)(s,e),a.Z.dispatchs.appStatus.setAppStatus(e)},setPlayerLineType:function(t,e){(0,t.commit)(c,e),a.Z.dispatchs.appStatus.setPlayerline(e)},setPlayerType:function(t,e){(0,t.commit)(u,e),a.Z.dispatchs.appStatus.setPlayerType(e)},setDisplayMode:function(t,e){(0,t.commit)(l,e),a.Z.dispatchs.appStatus.setDisplayMode(e)},setPlayerCtrlVisibility:function(t,e){(0,t.commit)(f,e),a.Z.dispatchs.appStatus.setPlayerCtrlVisibility(e)}};e.Z={state:d,mutations:p,actions:h,getters:{appStatus:function(t){return t}}}},3954:function(t,e,n){"use strict";var r,i=n(86902),o=n.n(i),a="SET_INFO_ACTIVITY",s=((r={})[a]=function(t,e){o()(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])}))},r),c={baseInfoActivity:function(t,e){(0,t.commit)(a,e)}};e.Z={state:{activityID:0,activityPic:"",isMemeVote:!1,isMiActivity:!1,isRedbag:!1,isSantaClaus2016:!1,isStar:!1,santaClausTitle:"",starRank:0},mutations:s,actions:c,getters:{baseInfoActivity:function(t){return t}}}},44424:function(t,e,n){"use strict";var r,i=n(86902),o=n.n(i),a=n(33960),s="SET_INFO_ANCHOR",c=((r={})[s]=function(t,e){o()(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])})),a.Z.dispatchs.baseInfo.anchor.setAnchorInfo(e)},r),u={baseInfoAnchor:function(t,e){(0,t.commit)(s,e)}};e.Z={state:{facePendants:null,areaPendant:"",fansCount:0,giftReceived:0,isAttention:!1,isFollowing:!1,username:"--",pendant:"",san:12,uid:0,masterLevel:0,next:[333,666],current:[0,333],sort:999999,upgradeScore:999999,allowChangeAreaTime:0,face:"//static.hdslb.com/images/member/noface.gif",description:"",tags:[],isOpenFansMedal:!1,medalId:0,medalName:"",fansClubPersonCount:0},mutations:c,actions:u,getters:{baseInfoAnchor:function(t){return t}}}},15508:function(t,e,n){"use strict";var r,i=n(86902),o=n.n(i),a=n(94473),s=n.n(a),c=n(41609),u=n.n(c),l=n(14293),f=n.n(l),d=n(33960),p="SET_INFO_ROOM",h="SET_FEED_ALERT",m="SET_ROOM_SILENT",v="SET_IS_BNJ",g="SET_IS_PLAYER_BLOCK_CONFIG",b="SET_GUARD_RESOURCE",w="SET_AV_ID",y="SET_MEDAL_ANIM_RESOURCE",k="3-16",_=((r={})[p]=function(t,e){o()(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])})),d.Z.dispatchs.baseInfo.room.setRoomInfo(e)},r[h]=function(t,e){t.feedAlertOpen=!!e,d.Z.dispatchs.baseInfo.room.setFeedAlert(e)},r[m]=function(t,e){e=e||{},t.roomSilentDuration=e.duration||0,t.roomSilentType=e.type||!1,t.roomSilentLevel=e.level||0,d.Z.dispatchs.baseInfo.room.setRoomSilent(e)},r[v]=function(t,e){void 0===e&&(e=!1),t.isBNJ=e,d.Z.dispatchs.baseInfo.room.setIsBNJ(e)},r[g]=function(t,e){void 0===e&&(e=!1),t.isPlayerBlockConfig=e,d.Z.dispatchs.baseInfo.room.setIsPlayerBlockConfig(e)},r[b]=function(t,e){t.guardResource=e,d.Z.dispatchs.baseInfo.room.setGuardResource(e)},r[y]=function(t,e){t.medalAnimResource=e,d.Z.dispatchs.baseInfo.room.setMedalAnimResource(e)},r[w]=function(t,e){t.avId=e||"-99998",d.Z.dispatchs.baseInfo.room.setAvId(e)},r),I={baseInfoRoom:function(t,e){(0,t.commit)(p,e)},setRoomSilent:function(t,e){(0,t.commit)(m,e)},setIsBNJ:function(t,e){(0,t.commit)(v,e)},setIsPlayerBlockConfig:function(t,e){(0,t.commit)(g,e)},setGuardResource:function(t,e){(0,t.commit)(b,e)},setMediaAnimaResource:function(t,e){(0,t.commit)(y,e)},setAvId:function(t,e){(0,t.commit)(w,e)}},T={baseInfoRoom:function(t){return t},isGameRoom:function(t){return function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t)&&o()(t).indexOf(e)>-1)return t[e]===n;return!1}(t.roomType,k,1)},isBNJ:function(t){return t.isBNJ},curMedalResource:function(t){return t.medalAnimResource},curGuardSource:function(t){var e,n=s()(e=t.tabInfo).call(e,(function(t){return!!t.num}));return!n||f()(t.guardResource)||u()(t.guardResource)?null:n.num>1e4?t.guardResource[1e4]:n.num>1e3?t.guardResource[1e3]:n.num>100?t.guardResource[100]:t.guardResource[0]}};e.ZP={state:{medalAnimResource:[],areaID:0,parentAreaID:0,areaName:"--",parentAreaName:"--",oldAreaId:0,hotWords:[],background:"//i0.hdslb.com/bfs/live/2836bb7b84c792e2c6aadfd4d1cce13484775fa3.jpg",blockTime:0,blockType:0,coverUrl:"",freeSilverTimes:0,guard:0,guardInfo:{heartStatus:!1,heartTime:0,noticeStatus:0},harunaName:"22",liveStatus:"LIVE",liveTime:0,onlineCount:0,roomID:0,roomSilentLevel:0,roomSilentDuration:0,roomSilentType:!1,roomTitle:"--",roomType:{},feedAlertOpen:!1,allowUploadCoverTime:0,verify:"",shortRoomID:0,avId:"-99998",pkStatus:0,pkId:0,battleId:0,isBML:!1,isHistoryDanmakuReady:!1,studioInfo:{isStudio:!1,masterList:[]},isBNJ:!1,isPlayerBlockConfig:!1,tabInfo:[],skinInfo:{},battleRankEntryInfo:{},voiceJoinInfo:{},newsInfo:{},adBannerInfo:[],playerThrottleInfo:{},videoChannleId:"",onlineGoldRank:[],allSpecialTypes:[],guardResource:{},hotRankInfo:{},areaList:[],danmakuTypeInfo:{dm_tag:0,platform:[]}},mutations:_,actions:I,getters:T}},29795:function(t,e,n){"use strict";var r,i=n(86902),o=n.n(i),a=n(3649),s=n.n(a),c=n(33960),u="SET_INFO_USER",l="SET_DANMAKU_COLOR",f="SET_DANMAKU_MODE",d="SET_USER_SILENT_DATA",p="SET_SHIELD_DATA",h="SET_SHIELD_LIST_SELECT",m="ADD_SHIELD_ITEM",v="SET_SHIELD_LIST_APPLY_TO_ROOM",g="REMOVE_SHIELD_ITEMS",b="SET_GUARD_LEVEL",w="SET_TOP_GUARD_LEVEL",y="SET_GUARD_SUB_LEVEL",k="SET_MAILBOX_RED_NOTICE",_=((r={})[u]=function(t,e){o()(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])})),c.Z.dispatchs.baseInfo.user.setUserInfo(e)},r[d]=function(t,e){o()(e).forEach((function(n){void 0!==t[n]&&"userSilent"===s()(n).call(n,0,10)&&(t[n]=e[n])})),c.Z.dispatchs.baseInfo.user.setUserSilentData(e)},r[l]=function(t,e){t.danmakuColor=e,c.Z.dispatchs.baseInfo.user.setDanmakuColor(e)},r[f]=function(t,e){t.danmakuMode=e,c.Z.dispatchs.baseInfo.user.setDanmakuMode(e)},r[p]=function(t,e){Array.isArray(e.shieldList)&&(t.shieldList=e.shieldList),t.shieldListApplyToRoom=e.shieldListApplyToRoom||!1,c.Z.dispatchs.baseInfo.user.setShieldData(e)},r[h]=function(t,e){var n=t.shieldList[e.index];n&&(n.selected=e.status),c.Z.dispatchs.baseInfo.user.setShieldListSelect(e)},r[m]=function(t,e){e&&(t.shieldList.push({value:e.value,selected:!1,type:e.type}),c.Z.dispatchs.baseInfo.user.addShieldItem(e))},r[v]=function(t,e){t.shieldListApplyToRoom=!!e,c.Z.dispatchs.baseInfo.user.setShieldListApplyToRoom(e)},r[g]=function(t,e){Array.isArray(e)&&(e.forEach((function(e){t.shieldList[e]&&(t.shieldList[e].value=null)})),c.Z.dispatchs.baseInfo.user.removeShieldItems(e))},r[b]=function(t,e){t.privilege.privilegeType=e||0,c.Z.dispatchs.baseInfo.user.setGuardLevel(e)},r[w]=function(t,e){t.privilege.currentTopGuardLevel=e||0,c.Z.dispatchs.baseInfo.user.setTopGuardLevel(e)},r[y]=function(t,e){t.privilege.subLevel=e||0,c.Z.dispatchs.baseInfo.user.setGuardSubLevel(e)},r[k]=function(t,e){t.mailbox.red_notice=e,c.Z.dispatchs.baseInfo.user.setMailboxRedNotice(e)},r),I={baseInfoUser:function(t,e){(0,t.commit)(u,e)},setDanmakuColor:function(t,e){(0,t.commit)(l,e)},setDanmakuMode:function(t,e){(0,t.commit)(f,e)},setUserSilentData:function(t,e){(0,t.commit)(d,e)},setShieldData:function(t,e){(0,t.commit)(p,e)},setShieldListSelect:function(t,e){(0,t.commit)(h,e)},addShieldItem:function(t,e){(0,t.commit)(m,e)},setShieldListApplyToRoom:function(t,e){(0,t.commit)(v,e)},removeShieldItems:function(t,e){(0,t.commit)(g,e)},setGuardLevel:function(t,e){(0,t.commit)(b,e)},setTopGuardLevel:function(t,e){(0,t.commit)(w,e)},setGuardSubLevel:function(t,e){(0,t.commit)(y,e)},setMailboxRedNotice:function(t,e){(0,t.commit)(k,e)}};e.Z={state:{goldSeed:0,isAdmin:!1,isAnchor:!1,isNewBie:!1,isPhoneVerified:!1,mobileVerifyCode:-1,realNameIdentification:!1,biliVip:0,isSvip:!1,isVip:!1,level:0,lpl:0,rank:0,userLevelRank:"--",title:"",showVipTips:!1,silverSeed:0,username:"--",uid:0,userAvatar:"",coin:0,bb:0,medal:!1,medalCount:0,isShowGiftPackage:1,danmakuColor:"#ffffff",danmakuMode:1,privilege:{id:0,privilegeType:0,currentTopGuardLevel:0,privilegeColor:"",noticeStatus:0,heartTime:0,isHeart:!0,broadcastConfig:null,subLevel:0,autoRenew:!1,renewRemind:{content:"",hint:"",type:0}},property:{unameColor:"",bubble:0,danmu:{mode:0,color:0,length:0},bubbleColor:""},userSilentLevel:0,userSilentRank:0,userSilentVerify:0,shieldListApplyToRoom:!1,shieldList:[],danmakuLengthLimit:20,giftPackage:{bagStatus:1,bagExpireStatus:0},mailbox:{switch:0,red_notice:0},guideFreeMedalCost:0,guideLightMedal:0,guideFollow:0,guardCompensate:0,isInFansClub:!1,allowWelcomeMock:-1,interactToasts:[]},mutations:_,actions:I,getters:{baseInfoUser:function(t){return t}}}},15796:function(t,e,n){"use strict";n.d(e,{V:function(){return a}});var r,i=n(86902),o=n.n(i),a={SET_ENTIRE_DANMAKU_OPTIONS:"SET_ENTIRE_DANMAKU_OPTIONS",SET_AUTO_DENSITY:"SET_AUTO_DENSITY",SET_DANMAKU_OPACITY:"SET_DANMAKU_OPACITY",SET_DANMAKU_DENSITY:"SET_DANMAKU_DENSITY",SET_DANMAKU_DENSITY_RATE:"SET_DANMAKU_DENSITY_RATE",SET_DANMAKU_FONT_SIZE_SCALE:"SET_DANMAKU_FONT_SIZE_SCALE",SET_DANMAKU_MASK:"SET_DANMAKU_MASK",SET_DANMAKU_MASK_TIP:"SET_DANMAKU_MASK_TIP",SET_SHOW_DANMAKU_MASK_SWITCH:"SET_SHOW_DANMAKU_MASK_SWITCH",SET_DANMAKU_AREA_HEIGHT:"SET_DANMAKU_AREA_HEIGHT"},s=((r={})[a.SET_ENTIRE_DANMAKU_OPTIONS]=function(t,e){o()(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])}))},r[a.SET_AUTO_DENSITY]=function(t,e){t.autoAdjustDanmakuDensity=!!e},r[a.SET_DANMAKU_OPACITY]=function(t,e){"number"==typeof e&&e>=0&&e<=100&&(t.danmakuOpacity=e)},r[a.SET_DANMAKU_DENSITY]=function(t,e){"number"==typeof e&&e>=0&&e<=86&&(t.danmakuDensity=e)},r[a.SET_DANMAKU_DENSITY_RATE]=function(t,e){"number"==typeof e&&(t.danmakuDensityRate=e)},r[a.SET_DANMAKU_FONT_SIZE_SCALE]=function(t,e){"number"==typeof e&&e>=0&&e<=200&&(t.danmakuFontSizeScale=e)},r[a.SET_DANMAKU_MASK]=function(t,e){t.danmakuMask=!!e},r[a.SET_DANMAKU_MASK_TIP]=function(t,e){t.danmakuMaskTip=!!e},r[a.SET_SHOW_DANMAKU_MASK_SWITCH]=function(t,e){t.showDanmakuMaskSwitch=!!e},r[a.SET_DANMAKU_AREA_HEIGHT]=function(t,e){t.danmakuAreaHeight=e},r),c={setEntireDanmakuOptions:function(t,e){(0,t.commit)(a.SET_ENTIRE_DANMAKU_OPTIONS,e)},switchDanmakuAutoDensityStatus:function(t,e){(0,t.commit)(a.SET_AUTO_DENSITY,e)},switchDanmakuMaskStatus:function(t,e){(0,t.commit)(a.SET_DANMAKU_MASK,e)},setDanmakuMaskTip:function(t,e){(0,t.commit)(a.SET_DANMAKU_MASK_TIP,e)},setDanmakuOpacity:function(t,e){(0,t.commit)(a.SET_DANMAKU_OPACITY,e)},setDanmakuDensity:function(t,e){(0,t.commit)(a.SET_DANMAKU_DENSITY,e)},setDanmakuDensityRate:function(t,e){(0,t.commit)(a.SET_DANMAKU_DENSITY_RATE,e)},setDanmakuFontSizeScale:function(t,e){(0,t.commit)(a.SET_DANMAKU_FONT_SIZE_SCALE,e)},setShowDanmakuMaskSwitch:function(t,e){(0,t.commit)(a.SET_SHOW_DANMAKU_MASK_SWITCH,e)},setDanmakuAreaHeight:function(t,e){(0,t.commit)(a.SET_DANMAKU_AREA_HEIGHT,e)}};e.Z={state:{danmakuDensity:86,danmakuDensityRate:100,danmakuFontSizeScale:100,danmakuOpacity:100,danmakuMask:!1,danmakuMaskTip:!0,danmakuAreaHeight:100,autoAdjustDanmakuDensity:!1,showDanmakuMaskSwitch:!1},mutations:s,actions:c,getters:{danmakuDensityDisplay:function(t){switch(t.danmakuDensityRate){case 86:return"弹幕超频";case 85:return 500;case 84:return 400;case 83:return 300;case 82:return 200;case 81:return 100;default:return t.danmakuDensityRate}},danmakuOptions:function(t){return t}}}},53168:function(t,e,n){"use strict";var r,i=n(47302),o=n.n(i),a=n(92762),s=n.n(a),c=n(20116),u=n.n(c),l=n(86902),f=n.n(l),d=n(38060),p=n(70538),h=n(50483),m="ADD_SUPER_GIFT",v="DELETE_SUPER_GIFT",g="UPDATE_SUPER_GIFT",b="CLEAR_SUPER_GIFTS",w="SET_GIFT_PRESETS_LIST",y="SET_FREE_GIFT_PRESETS_LIST",k="SET_GIFT_PRESETS_MAP",_="ADD_GIFT_PRESETS_ITEM",I="UPDATE_GIFT_PRESETS_ITEM",T="SET_GIFT_ASSESTS_CONFIG",x="SET_COMBO_BANNERS",S="SET_BAG_GIFT_LIST",A="SET_GIFT_CORNER_MARK",C="SET_GIFT_TAB_LIST",R="SET_GIFT_TAB_PRESETS",E="SET_MAX_SEND_GIFT",L="COMPARISON_GIFT",P="UNSHIFT_TOP",M="SET_GUARD_ENT_INFO",D="SET_EFFECT_ASSETS_INFO",N="SET_EFFECT_FLOAT_INFO",B=((r={})[m]=function(t,e){var n=e,r=n.userId,i=t.superGiftList,a="undefined"!=typeof window&&window.BilibiliLive.UID;i.length?i[0].userId===a?(i.push(n),r===a&&o()(i).call(i,(function(t,e){return e.comboTotalCoin-t.comboTotalCoin}))):r===a?i.unshift(n):(i.push(n),o()(i).call(i,(function(t,e){return e.comboTotalCoin-t.comboTotalCoin}))):i.push(n)},r[L]=function(t,e){var n=e,r=t.superGiftList;for(n.comboTotalCoin>r[0].comboTotalCoin?r.unshift(n):n.comboTotalCoin>r[1].comboTotalCoin&&(clearTimeout(r[1].timer),s()(r).call(r,1,1,n));r.length>h.VV;)clearTimeout(r[r.length-1].timer),r.pop()},r[P]=function(t,e){var n=e,r=t.superGiftList,i="undefined"!=typeof window&&window.BilibiliLive.UID;u()(r).call(r,(function(t){return t.userId===i})).length?r.length===h.VV?r.unshift(n):r.push(n):r.unshift(n),r.length>h.VV&&(clearTimeout(r[r.length-1].timer),r.pop()),u()(r).call(r,(function(t){return t.userId===i})).length===h.VV&&o()(r).call(r,(function(t,e){return e.comboTotalCoin-t.comboTotalCoin}))},r[g]=function(t,e){var n=e.superGift,r=e.index,i=t.superGiftList[r];i.superBatchGiftNum=n.superBatchGiftNum,i.superGiftNum=n.superGiftNum,i.combo=n.superGiftNum,i.addTime=n.addTime,i.critProb=n.critProb,i.giftCount=n.giftCount,i.comboTotalCoin=n.comboTotalCoin,i.comboStayTime=n.comboStayTime,i.comboResourcesId=n.comboResourcesId,i.magnification=n.magnification;var a=t.superGiftList,s="undefined"!=typeof window&&window.BilibiliLive.UID,c=u()(a).call(a,(function(t){return t.userId===s})).length;a.length>1&&(2===c||!c)&&o()(a).call(a,(function(t,e){return e.comboTotalCoin-t.comboTotalCoin}))},r[v]=function(t,e){var n=t.superGiftList,r=n.length,i=e.superGift,o=e.newSuperGift,a=-1;for(null===i?a=0:n.some((function(t,e){if(t&&i.id===t.id)return a=e,!0})),null===o?s()(n).call(n,a,1):s()(n).call(n,a,1,o),i=null;n.length>h.VV;)clearTimeout(n[n.length-1].timer),n.pop();0===u()(n).call(n,(function(t){return!!t})).length&&s()(n).call(n,0,r)},r[b]=function(t,e){var n,r=-1;t.superGiftList.some((function(t,n){if(t.userId!==e)return r=n,!0})),r>=0&&s()(n=t.superGiftList).call(n,r,t.superGiftList.length-r)},r[w]=function(t,e){t.giftPresets=e},r[y]=function(t,e){t.freeGiftPresets=e},r[R]=function(t,e){var n=e.tabId,r=e.list;t.giftTabPresets[n]=r},r[k]=function(t,e){t.giftPresetsMap=e},r[_]=function(t,e){switch(e.constructor){case d.fy:t.giftPresets.push(e)}},r[I]=function(t,e){f()(t.giftPresets).some((function(n){return t.giftPresets[n].some((function(t){if(t.id===e.id)return f()(e.data).forEach((function(n){void 0!==t[n]&&(t[n]=e.data[n])})),!0}))}))},r[T]=function(t,e){t.giftAssets=e},r[C]=function(t,e){t.giftTabList=e},r[x]=function(t,e){t.comboBanners=e},r[S]=function(t,e){t.bagGifts=e},r[E]=function(t,e){t.maxSendGift=e},r[M]=function(t,e){t.guardEntInfo=e},r[A]=function(t,e){var n=t.giftCornerMark;f()(e).forEach((function(t,r){var i=(e[t]||[])[0],o=n[t];o||(p.default.set(n,t,[]),o=n[t]);var a=-1;o.some((function(t,e){if(t.position===i.position)return a=e,!0})),a>-1?s()(o).call(o,a,1,i):o.push(i)}))},r[D]=function(t,e){t.effectAssetsList=e},r[N]=function(t,e){t.effectFloatList=e},r),O={addSuperGift:function(t,e){var n=t.commit,r=t.rootState;n(m,e,r)},updateSuperGift:function(t,e){var n=t.commit;t.rootState;n(g,e)},deleteSuperGift:function(t,e){var n=t.commit;t.rootState;n(v,e)},clearSuperGifts:function(t,e){(0,t.commit)(b,e)},comparisonGift:function(t,e){(0,t.commit)(L,e)},unshiftTop:function(t,e){(0,t.commit)(P,e)},setGiftPresetsList:function(t,e){(0,t.commit)(w,e)},setMaxSendGift:function(t,e){(0,t.commit)(E,e)},setGuardEntInfo:function(t,e){(0,t.commit)(M,e)},setFreeGiftPresetsList:function(t,e){(0,t.commit)(y,e)},setGiftTabList:function(t,e){(0,t.commit)(C,e)},setGiftTabPresets:function(t,e){(0,t.commit)(R,e)},setGiftPresetsMap:function(t,e){(0,t.commit)(k,e)},addGiftPresetsItem:function(t,e){(0,t.commit)(_,e)},updateGiftPresetsItem:function(t,e){(0,t.commit)(I,e)},setGiftAssets:function(t,e){(0,t.commit)(T,e)},setComboBanners:function(t,e){(0,t.commit)(x,e)},setBagGiftList:function(t,e){(0,t.commit)(S,e)},setGiftCornerMark:function(t,e){(0,t.commit)(A,e)},setEffectAssetsList:function(t,e){(0,t.commit)(D,e)},setEffectFloatList:function(t,e){(0,t.commit)(N,e)}},F={giftPresets:function(t){return t.giftPresets},maxSendGift:function(t){return t.maxSendGift},guardEntInfo:function(t){return t.guardEntInfo},freeGiftPresets:function(t){return t.freeGiftPresets},giftAssets:function(t){return t.giftAssets},getGiftAssetsById:function(t){return function(e){return t.giftAssets[e]||{}}},superGift:function(t){return t.superGiftList||[]},getSuperGiftById:function(t){return function(e){var n=t.superGiftList,r=-1;return n.some((function(t,n){if(t&&t.id===e)return r=n,!0})),{index:r,superGift:n[r]}}},getGiftById:function(t){return function(e){var n;return u()(n=t.giftPresets).call(n,(function(t){return t.id===e}))[0]}},getBagGiftList:function(t){return t.bagGifts},getGiftConerMarkList:function(t){return t.giftCornerMark},getGiftCornerMarkByGiftId:function(t){return function(e){return t.giftCornerMark[e]}},getLotteryGiftConfig:function(t){return t.lotteryGiftConfig},giftTabList:function(t){return t.giftTabList},giftTabPresets:function(t){return function(e){return t.giftTabPresets[e]}},getEffectItemById:function(t){return function(e){for(var n=t.effectAssetsList.length-1;n>=0;--n){var r=t.effectAssetsList[n];if(r.effectId===e)return r}}},getEffectFloatById:function(t){return function(e){for(var n=t.effectFloatList.length-1;n>=0;--n){var r=t.effectFloatList[n];if(r.effectId===e)return r}}}};e.Z={namespaced:!0,state:{giftPresets:[],freeGiftPresets:[],giftPresetsMap:{},superGifts:{},superGiftList:[],giftAssets:{},comboBanners:{},bagGifts:[],giftCornerMark:{},giftTabList:[],giftTabPresets:{},maxSendGift:0,guardEntInfo:{buy_guard_btn:"立即上船",is_expired:0,privilege_type:0},effectAssetsList:[],effectFloatList:[]},mutations:B,actions:O,getters:F}},92803:function(t,e,n){"use strict";var r,i=n(94473),o=n.n(i),a="SET_GLOBAL_GUARD_INFO",s="HIDE_GUARD_AD",c=((r={})[a]=function(t,e){t.globalList=e},r[s]=function(t){t.guardAdHidden=!0},r),u={setGlobalGuardInfo:function(t,e){(0,t.commit)(a,e)},hideGuardAd:function(t){(0,t.commit)(s)}},l={getGuardPendantImg:function(t){return function(e){var n,r=o()(n=t.globalList).call(n,(function(t){return t.level===e}));return r?r.pendantImg:""}}};e.Z={state:{globalList:[],guardAdHidden:!1},mutations:c,actions:u,getters:l,namespaced:!0}},19456:function(t,e,n){"use strict";var r,i=n(86902),o=n.n(i),a=n(25686),s="SET_LPL_PANEL_STATUS",c="SET_LPL_INTERACT_FLAT",u="SET_LPL_MATCH_DATA",l="SET_LPL_SECKILL_DATA",f="SET_LPL_SUPPORT_DATA",d="SET_LPL_TIME_DISTANCE",p="SET_LPL_COUNTDOWN_DATA",h="SET_LPL_ENTRANCE_LOGO",m={panelStatus:{support:!1,seckill:!1},isLplInteractEnabled:!1,matchInfo:{id:0,status:a.J.notStart,round:0,teams:[],commentators:[],dreams:[],dreamVoteConfig:{price:1e3,vote_nums:[1,10,100],status:0}},seckillInfo:{id:0,name:"--",price:0,startTS:0,endTS:0,logoUrl:"",choice:{},status:0},supportInfo:{amountCandidate:[],seedPreTicket:0,status:0},serverTimeDistance:0,countdown:{targetTS:0,displaySeconds:0},logoUrls:{seckill:"",support:""}},v=((r={})[s]=function(t,e){var n=e.name,r=e.status;n&&void 0!==t.panelStatus[n]&&(t.panelStatus[n]=!!r)},r[c]=function(t,e){t.isLplInteractEnabled=!!e},r[l]=function(t,e){o()(e).forEach((function(n){t.seckillInfo||(t.seckillInfo={}),t.seckillInfo[n]=e[n]}))},r[f]=function(t,e){o()(e).forEach((function(n){t.supportInfo||(t.supportInfo={}),t.supportInfo[n]=e[n]}))},r[u]=function(t,e){o()(e).forEach((function(n){t.matchInfo||(t.matchInfo={}),t.matchInfo[n]=e[n]}))},r[p]=function(t,e){o()(e).forEach((function(n){t.countdown[n]=e[n]}))},r[h]=function(t,e){o()(e).forEach((function(n){t.logoUrls[n]=e[n]}))},r[d]=function(t,e){t.serverTimeDistance=e},r),g={setLPLPanelStatus:function(t,e){(0,t.commit)(s,e)},setLPLInteractFlag:function(t,e){(0,t.commit)(c,e)},setLPLSeckillData:function(t,e){(0,t.commit)(l,e)},setLPLSupportData:function(t,e){(0,t.commit)(f,e)},setLPLMatchData:function(t,e){(0,t.commit)(u,e)},setLPLTimeDistance:function(t,e){(0,t.commit)(d,e)},setLPLCountdownData:function(t,e){(0,t.commit)(p,e)},setLPLEntranceLogo:function(t,e){(0,t.commit)(h,e)}};e.Z={state:m,mutations:v,actions:g,getters:{LPL:function(t){return t}}}},62707:function(t,e,n){"use strict";n.d(e,{Z:function(){return w}});var r,i=n(51942),o=n.n(i),a=n(86902),s=n.n(a),c=n(2991),u=n.n(c);var l="SET_POPULARITY_RED_ENVELOPE_PANEL_STATUS",f="SET_POPULARITY_RED_ENVELOPE_INFO",d="RESET_POPULARITY_RED_ENVELOPE_SINGLE_INFO",p="SET_POPULARITY_RED_ENVELOPE_WINNER_INFO",h="UPDATE_POPULARITY_RED_ENVELOPE_TIME",m="SET_POPULARITY_RED_ENVELOPE_RECEIVE_SOURCE",v={lotteryId:0,senderUid:0,senderName:"",senderAvatar:"",joinRequirement:0,danmu:"",awards:[],startTime:0,endTime:0,lastTime:0,removeTime:0,replaceTime:0,currentTime:0,lotteryStatus:0,userStatus:0,lotConfigId:0},g=o()(o()({isShowPopupPanel:!1},v),{popType:0,receiveSource:0,winnerInfo:null}),b=((r={})[l]=function(t,e){t.isShowPopupPanel=e},r[f]=function(t,e){s()(e).forEach((function(n){void 0!==t[n]&&void 0!==e[n]&&(t[n]=e[n])}))},r[h]=function(t){t.currentTime&&++t.currentTime},r[d]=function(t){s()(v).forEach((function(e){void 0!==t[e]&&(t[e]=v[e])}))},r[p]=function(t,e){t.winnerInfo=e?o()({},e):null},r[m]=function(t,e){t.receiveSource=e},r),w={namespaced:!0,state:g,mutations:b,actions:{setRedEnvelopePanel:function(t,e){(0,t.commit)(l,e)},setWinnerInfo:function(t,e){var n,r,i=t.commit,o={lotId:(r=e||Object.create(null)).lot_id||0,totalNum:r.total_num||0,list:Array.isArray(r.winner_info)&&u()(n=r.winner_info).call(n,(function(t){return{uid:t.uid||0,name:t.name||"",userType:t.user_type||0,awardPic:t.award_pic||"",awardBigPic:t.award_big_pic||"",awardName:t.award_name||"",awardPrice:t.award_price||0}}))||[]};i(p,o)},receiveRedEnvelope:function(t,e){var n=t.commit,r=t.state,i=Array.isArray(e)?e[0]:e;if(i.start_time>i.current_time)return!1;if(i.current_time>i.end_time&&1===i.lot_status)return!1;if(i.current_time<i.end_time&&2===i.lot_status)return!1;if(r.lotteryId&&!(i.lot_id!==r.lotteryId&&r.replaceTime<=i.current_time&&i.start_time>=r.replaceTime&&i.lot_status>0))return!1;n(p,null);var o=function(t){var e,n=t||Object.create(null);return{lotteryId:n.lot_id||0,senderUid:n.sender_uid||0,senderName:n.sender_name||"",senderAvatar:n.sender_face||"",joinRequirement:n.join_requirement||0,danmu:n.danmu||"",awards:Array.isArray(n.awards)&&u()(e=n.awards).call(e,(function(t){return{giftId:t.gift_id||0,num:t.num||0,giftName:t.gift_name||"",giftPic:t.gift_pic||""}}))||[],startTime:n.start_time||0,endTime:n.end_time||0,lastTime:n.last_time||0,removeTime:n.remove_time||0,replaceTime:n.replace_time||0,currentTime:n.current_time||0,lotteryStatus:n.lot_status||0,userStatus:n.user_status||0,lotConfigId:n.lot_config_id||0}}(i);return n(f,o),!0}},getters:{getIsShowPopupPanel:function(t){return t.isShowPopupPanel},getPopularityRedEnvelopeInfo:function(t){return{lotteryId:t.lotteryId,senderUid:t.senderUid,senderName:t.senderName,senderAvatar:t.senderAvatar,joinRequirement:t.joinRequirement,danmu:t.danmu,awards:t.awards,startTime:t.startTime,endTime:t.endTime,lastTime:t.lastTime,removeTime:t.removeTime,replaceTime:t.replaceTime,currentTime:t.currentTime,lotteryStatus:t.lotteryStatus,userStatus:t.userStatus,lotConfigId:t.lotConfigId}}}}},54465:function(t,e,n){"use strict";var r,i=n(63109),o=n.n(i),a=n(93476),s=n.n(a),c=n(86902),u=n.n(c),l=n(78580),f=n.n(l),d=n(51942),p=n.n(d),h=n(36985),m=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},v="SET_RED_ENVELOPE_PANEL_STATUS",g="SET_RED_ENVELOPE_INFO",b="UPDATE_RED_ENVELOPE_TIME",w="SET_FETCH_RED_ENVELOPE_RESULT",y={isShowPopupPanel:!1,remainTime:0,redEnvelopeId:0,redEnvelopeNum:0,senderUid:0,senderName:"",senderAvatar:"",requireMessage:"",redEnvelopeResultStatus:1,redEnvelopeAmount:-1,fetchRedEnvelopeResultState:{isLoading:!1,isSuccess:!1},isPlayEntryAnimation:!1},k=((r={})[v]=function(t,e){t.isShowPopupPanel=e},r[g]=function(t,e){u()(e).forEach((function(n){void 0!==t[n]&&void 0!==e[n]&&(t[n]=e[n])}))},r[b]=function(t){t.remainTime>0&&--t.remainTime},r[w]=function(t,e){u()(e).forEach((function(n){void 0!==t.fetchRedEnvelopeResultState[n]&&(t.fetchRedEnvelopeResultState[n]=e[n])}))},r),_={setRedEnvelopePanel:function(t,e){(0,t.commit)(v,e)},setRedEnvelopeInfo:function(t,e){(0,t.commit)(g,e)},getRedEnvelopeResult:function(t){var e=t.commit;return m(this,void 0,void 0,o().mark((function t(){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f()(n=[2,3]).call(n,y.redEnvelopeResultStatus)){t.next=2;break}return t.abrupt("return");case 2:if(!(y.remainTime<=5)||y.fetchRedEnvelopeResultState.isSuccess||y.fetchRedEnvelopeResultState.isLoading){t.next=10;break}return e(w,{isLoading:!0,isSuccess:!1}),t.next=6,(0,h.M)(y.redEnvelopeId,y.redEnvelopeResultStatus,y.remainTime);case 6:r=t.sent,i=r.redEnvelopeAmount,e(w,{isLoading:!1,isSuccess:!0}),e(g,{redEnvelopeAmount:i});case 10:case"end":return t.stop()}}),t)})))}},I={getIsShowPopupPanel:function(t){return t.isShowPopupPanel},getRemainTime:function(t){return t.remainTime},getRedEnvelopeInfo:function(t){return p()({},t)}};e.Z={namespaced:!0,state:y,mutations:k,actions:_,getters:I}},20703:function(t,e,n){"use strict";var r,i=n(62462),o=n.n(i),a=n(92762),s=n.n(a),c=n(77766),u=n.n(c),l=n(20116),f=n.n(l),d="SET_SUPER_CHAT_FLAG",p="SET_BUBBLE_FLAG",h="SET_IS_CLICKING_FLAG",m="SET_IS_LOOKING_DETAIL_FLAG",v="SET_SUPER_CHAT_LIST",g="GET_CURRENT_SUPER_CHAT",b="SET_CURRENT_SUPER_CHAT",w="SET_PRE_SUPER_CHAT_LIST",y="FILTER_TIME_OUT_LIST",k="REMOVE_SUPER_CHAT_ITEM",_="BLOCK_SUPER_CHAT",I="CHANGE_SUPER_CHAT_SHOW_FLAG",T=((r={})[d]=function(t,e){t.superChatFlag=e.superChatFlag},r[p]=function(t,e){t.bubbleFlag=e.bubbleFlag},r[h]=function(t,e){t.isClickingFlag=e.isClickingFlag},r[m]=function(t,e){t.isLookDetailFlag=e.isLookDetailFlag},r[v]=function(t,e){var n=e.item;t.superChatList.unshift(n)},r[w]=function(t,e){var n=e.item;t.superChatList.push(n)},r[b]=function(t){t.superChatList.pop()},r[g]=function(t,e){var n=e.current;t.currentSuperChat=n},r[y]=function(t,e){var n=e.list,r=void 0===n?[]:n;r&&r.forEach((function(e){var n,r,i=o()(n=t.superChatList).call(n,(function(t){return t.id===e.id}));i>=0&&s()(r=t.superChatList).call(r,i,1)}))},r[k]=function(t,e){var n,r,i=e.item,a=void 0===i?{id:0}:i,c=o()(n=t.superChatList).call(n,(function(t){return t.id===a&&a.id}));c>=0&&s()(r=t.superChatList).call(r,c,1)},r[_]=function(t,e){var n=e.superChatBlock,r=void 0!==n&&n;t.superChatBlock=r},r[I]=function(t,e){var n,r=e.changeSuperChatShow,i=void 0===r?{id:0,show:!1}:r,a=o()(n=t.superChatList).call(n,(function(t){return t.id===i.id}));a>=0&&(t.superChatList[a].show=i.show)},r),x={setSuperChatFlag:function(t,e){(0,t.commit)(d,{superChatFlag:e})},setBubbleFlag:function(t,e){(0,t.commit)(p,{bubbleFlag:e})},setIsClickingFlag:function(t,e){(0,t.commit)(h,{isClickingFlag:e})},setIsLookDetailFlag:function(t,e){(0,t.commit)(m,{isLookDetailFlag:e})},setSuperChatList:function(t,e){(0,t.commit)(v,{item:e})},setPreSuperChatList:function(t,e){(0,t.commit)(w,{item:e})},setCurrentSuperChat:function(t,e){var n,r,i=t.commit,o=t.getters;e?n=null:(n=u()(r=[]).call(r,o.superChatList).pop(),i(b));return i(g,{current:n}),n},removeItem:function(t){var e,n=t.commit,r=t.getters,i=u()(e=[]).call(e,r.superChatList).pop();return n(b),i},filterTimeout:function(t){var e,n,r=t.commit,i=t.getters,o=f()(e=u()(n=[]).call(n,i.superChatList)).call(e,(function(t){var e=(new Date).getTime()/1e3,n=t||{},r=n.startCountingTime,i=void 0===r?0:r,o=n.time;return e-i>(void 0===o?0:o)}));r(y,{list:o})},removeSuperChatItem:function(t,e){(0,t.commit)(k,{item:e})},blockSuperChat:function(t,e){(0,t.commit)(_,{superChatBlock:e})},changeSuperChatShowFlag:function(t,e){(0,t.commit)(I,{changeSuperChatShow:e})}};e.Z={state:{superChatFlag:!1,bubbleFlag:!1,superChatList:[],isClickingFlag:!1,isLookDetailFlag:!1,currentSuperChat:null,superChatBlock:!1},mutations:T,actions:x,getters:{buyStatus:function(t){return t.buyStatus},superChatFlag:function(t){return t.superChatFlag},bubbleFlag:function(t){return t.bubbleFlag},superChatList:function(t){return t.superChatList},isClickingFlag:function(t){return t.isClickingFlag},isLookDetailFlag:function(t){return t.isLookDetailFlag},currentSuperChat:function(t){return t.currentSuperChat},superChatBlock:function(t){return t.superChatBlock}},namespaced:!0}},2708:function(t,e,n){"use strict";n.r(e),n.d(e,{animateScrolling:function(){return w},animationend:function(){return Z},centerTarget:function(){return i},dataURItoBlob:function(){return B},exitFullscreen:function(){return nt},findTargetParentElement:function(){return y},formatMoney:function(){return K},formatTime:function(){return $},getGLContext:function(){return k},getHeadInfoVmStatus:function(){return J.g3},getLiteVersionStatus:function(){return J.oD},getQueryString:function(){return q.W},getQueryWindowTopString:function(){return q.j},getRankListVmStatus:function(){return J.LM},getRelativePosition:function(){return W},getRelativePosition4GiftPackage:function(){return j},getScrollTop:function(){return p.c},hexToRgb:function(){return _.o},isFullscreen:function(){return et},isIE:function(){return g},isLogin:function(){return Q.bg},isMsBrowsers:function(){return b},isObject:function(){return x},isPlainObject:function(){return S},loginStatus:function(){return Q.ul},mouseLeaveCheck:function(){return z},moving:function(){return r},myBrowser:function(){return v},nextJob:function(){return h.e},noop:function(){return A.Z},parseMsgToJson:function(){return X.i},registerScrollInit:function(){return H},renderMsg:function(){return X.W},responseHandler:function(){return N},timestamp:function(){return C},toDecimal:function(){return tt},toNumber:function(){return E},waitLogin:function(){return Q.vh}});var r={};n.r(r),n.d(r,{setDraggable:function(){return u},setUndraggable:function(){return l}});var i={};n.r(i),n.d(i,{feedCenterTarget:function(){return F},guardBuyTarget:function(){return U},liveCenterTarget:function(){return G},mainCenterTarget:function(){return O}});var o=n(20116),a=n.n(o),s=[];function c(t,e){return t===e.target}function u(t,e){var n=void 0===e?{}:e,r=n.mode,i=void 0===r?"fixed":r,o=n.useMemory,u=void 0===o||o,l=n.beforeDragStart,f=void 0===l?c:l;if(t){var d=null;s.some((function(e){return e.element===t}))?d=a()(s).call(s,(function(e){return e.element===t}))[0]:(d={element:t,inited:!1,inAction:!1,onDragStart:function(e,n){if(!f(t,e)&&!n)return;p("none"),document.onselectstart=function(){return!1},d.inAction=!0,d.startX=e.clientX,d.startY=e.clientY,d.zoom=+window.getComputedStyle(document.documentElement).zoom||1},onDrag:h,onDragEnd:function(){if(!d.inAction)return;p("auto"),document.onselectstart=null,d.inAction=!1},x:0,y:0,zoom:1,startX:0,startY:0},s.push(d)),u||(d.x=0,d.y=0,d.zoom=1,d.startX=0,d.startY=0),t.style.position=i,t.style.transform="translate("+d.x+"px, "+d.y+"px)",window.addEventListener("mousedown",d.onDragStart,!1),window.addEventListener("mouseup",d.onDragEnd,!1),window.addEventListener("mousemove",h,!1)}function p(e){void 0===e&&(e="none");var n=t.querySelector("iframe");n&&n.style.pointerEvents!==e&&(n.style.pointerEvents=e)}function h(e){if(d.inAction){var n=e.clientX-d.startX,r=e.clientY-d.startY;d.x+=n/d.zoom,d.y+=r/d.zoom;["transform","webkitTransform","mozTransform","msTransform"].forEach((function(e){t.style[e]="translate("+d.x+"px, "+d.y+"px)"})),d.startX=e.clientX,d.startY=e.clientY}}}function l(t,e){var n=(void 0===e?{}:e).mode,r=void 0===n?"static":n,i=a()(s).call(s,(function(e){return e.element===t}));if(i.length){var o=i[0];window.removeEventListener("mousedown",o.onDragStart,!1),window.removeEventListener("mousemove",o.onDrag,!1),window.removeEventListener("mouseup",o.onDragEnd,!1),t.style.transform="",t.style.position=r}}var f=n(93476),d=n.n(f),p=n(35955),h=n(50444),m=n(38599),v=n.n(m)()(),g=/IE/.test(v),b=/IE|Edge/.test(v);function w(t){return void 0===t&&(t=0),new(d())((function(e){if(t=Math.round(t),!window.requestAnimationFrame||b)return window.scrollTo(0,t),(0,h.e)(e);var n=document.body.scrollHeight-window.innerHeight;t>=n&&(t=n),t<0&&(t=0);!function n(){var r=(0,p.c)();if(Math.abs(r-t)<=1)return setTimeout(e,200);var i=(r-t)/2;window.scrollTo(0,r-i),window.requestAnimationFrame(n)}()}))}function y(t,e){return t?t.className.indexOf(e)>-1?t:y(t.parentElement,e):null}function k(t){var e=null;return["webgl","experimental-webgl","webkit-3d","moz-webgl"].forEach((function(n){try{var r=t.getContext(n,{premultipliedAlpha:!0});r&&!e&&(e=r)}catch(t){}})),e}var _=n(65140),I=n(86902),T=n.n(I);function x(t){return"[object Object]"===Object.prototype.toString.call(t)}function S(t){return!!x(t)&&0===T()(t).length}var A=n(19356);function C(t){return void 0===t&&(t=1e3),Math.floor(Date.now()/t)}var R=n(68913);function E(t){switch(typeof t){case"number":return t;case"string":return parseInt(t);default:return(0,R.$S)("utils/to-number")("toNumber 接收到非法类型",t),t}}var L=n(63109),P=n.n(L),M=n(8605),D=function(t,e,n,r){return new(n||(n=d()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};function N(t,e){return D(this,void 0,void 0,P().mark((function n(){var r,i;return P().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new M.K,n.prev=1,n.next=4,t();case 4:i=n.sent,r.parseServerResponse(i),!r.error&&e&&r.setData(e(i.data)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r.setError(n.t0);case 12:return r.error&&console.error(r.error),n.abrupt("return",r);case 14:case"end":return n.stop()}}),n,null,[[1,9]])})))}function B(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),i=new Uint8Array(r),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return new Blob([r],{type:n})}function O(t){return t?"//space.bilibili.com/"+t+"/":""}function F(t){return t?"//space.bilibili.com/"+t+"/#/dynamic":""}function G(){return"//link.bilibili.com/p/center/index#/user-center/my-info/operation"}function U(t,e){return void 0===e&&(e=1),"//link.bilibili.com/p/center/index#/voyager?ruid="+t+"&guard_level="+e}var Z=function(){for(var t=document.body.style||document.documentElement.style,e={animation:"animationend",webkitAnimation:"webkitAnimationEnd"},n=0,r=T()(e);n<r.length;n++){var i=r[n];if(void 0!==t[i])return e[i]}}(),V=["scroll","resize"];function H(t){var e=t.$el,n=null;function r(){t.inited||(clearTimeout(n),n=setTimeout((function(){if(!t.inited){var n=window.innerHeight,i=e.getBoundingClientRect().top;Math.abs(i)<.85*n&&(t.loading=!1,t.inited=!0,V.forEach((function(t){return window.removeEventListener(t,r)})))}}),130))}V.forEach((function(t){return window.addEventListener(t,r)})),r()}function W(t,e,n){void 0===n&&(n=!1);for(var r=0,i=0;t.id!==e;)i+=t.offsetLeft+3,r-=t.offsetTop,r+=t.scrollTop,t=t.offsetParent;return i-=n?25:0,{top:r,left:i-=138}}function j(t,e){var n=t.getBoundingClientRect(),r=n.left,i=n.top,o=document.querySelector("#"+e).getBoundingClientRect();return{left:r-o.left-150,top:i-o.top}}function z(t){var e=t.target||null;if(e)return t.offsetX<=0||t.offsetY<=0||t.offsetX>e.clientWidth||t.offsetY>e.clientHeight}var Y=[{unit:"亿",val:1e8},{unit:"万",val:1e4}];function K(t){var e;return Y.some((function(n){if(t>=n.val)return e=(t/n.val).toString().replace(/(.+\..)(.+)/g,"$1")+" "+n.unit,!0})),e||""+t}var J=n(55660),Q=n(8780),X=n(43650),q=n(77772);function $(t){if(!(t=Number(t)))return 0;var e=0,n=0;t>=3600&&(e=Math.floor(t/3600),t%=3600),t>60&&(n=Math.floor(t/60),t%=60);var r="";return e>0&&(r+=e+"小时"),n>0&&(r+=n+"分钟"),t>0&&(r+=t+"秒"),r}function tt(t,e){return void 0===e&&(e=0),t?parseFloat(t.toFixed(e)):0}function et(){for(var t=0,e=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"];t<e.length;t++){if(document[e[t]])return!0}return!1}function nt(){for(var t=0,e=["exitFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"];t<e.length;t++){var n=document[e[t]];if("function"==typeof n)return n.call(document)}}},2790:function(t,e,n){"use strict";var r;n.d(e,{$:function(){return i}});try{r="undefined"!=typeof window&&!(document.body.className.indexOf("supportWebp")<0)}catch(t){r=!1}function i(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=Math.floor(window.devicePixelRatio)||1,o=t+"@";return e&&(o+=e*i+"w"),e&&n&&(o+="_"),n&&(o+=n*i+"h"),o+=r?".webp":".png"}},13822:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});var r=[{unit:"万",val:1e4}];function i(t){var e;return r.some((function(n){if(t>=10*n.val)return e=(t/n.val).toString().replace(/(.+\..)(.+)/g,"$1")+""+n.unit,!0})),e||""+t}},77772:function(t,e,n){"use strict";n.d(e,{W:function(){return o},j:function(){return a}});var r=n(3649),i=n.n(r);function o(t){var e,n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r="undefined"==typeof window?null:i()(e=window.location.search).call(e,1).match(n);if(null===r)return null;var o=decodeURIComponent(r[2]);return"/"===i()(o).call(o,-1)?i()(o).call(o,0,-1):o}function a(t){var e,n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r="undefined"==typeof window?null:i()(e=window.top.location.search).call(e,1).match(n);if(null===r)return null;var o=decodeURIComponent(r[2]);return"/"===i()(o).call(o,-1)?i()(o).call(o,0,-1):o}},35955:function(t,e,n){"use strict";function r(){return window.scrollY||window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}n.d(e,{c:function(){return r}})},65140:function(t,e,n){"use strict";n.d(e,{o:function(){return l},H:function(){return f}});var r=n(3649),i=n.n(r),o=n(92762),a=n.n(o),s=n(2991),c=n.n(s),u=n(68913);function l(t){t=t.replace(/#/,"");for(var e=[0,0,0],n="",r=0;r<3;){var o="";if(6===t.length)o=i()(t).call(t,2*r,2*r+2);else{if(3!==t.length)return void(0,u.$S)("utils/hex-to-rgb")("十六进制色必须长度为 3 或 6, 当前为 #"+t+".");o=t[r]+t[r]}e[r]=parseInt(o,16),n+=o,r++}return{rgb:e,hexDecimal:parseInt(n,16)}}function f(t,e){if(!t)return"";for(var n=[],r="",i=t.length,o="#"===t[0]?1:0;o<i;o++)(r+=t[o]).length>=2&&(n.push(r),r="");if(n.length>3)if(void 0===e){var s=a()(n).call(n,0,1)[0];e=parseFloat((parseInt(s,16)/255).toFixed(1))}else a()(n).call(n,0,1);return"rgba("+(c()(n).call(n,(function(t){return parseInt(t,16)})).join(",")+","+(void 0===e?1:e))+")"}},41532:function(t,e,n){"use strict";var r=n(39291),i=n.n(r),o=n(3649),a=n.n(o),s=n(2991),c=n.n(s),u=function(t){return parseInt(i()(t).call(t,2/t.length),16)};e.Z=function(t,e){if(!/^#([A-Fa-f0-9]{3,4}){2}$/.test(t))return!1;var n=Math.floor((t.length-1)/3),r=function(t,e){return t.match(new RegExp(".{"+e+"}","g"))}(a()(t).call(t,1),n),i=c()(r).call(r,u),o=i[0],s=i[1],l=i[2],f=i[3];return e?"rgba("+s+", "+l+", "+f+", "+(o||1)+")":"rgba("+o+", "+s+", "+l+", "+(f||1)+")"}},78735:function(t,e,n){"use strict";n.d(e,{l:function(){return o},Y:function(){return a}});var r=n(93476),i=n.n(r);function o(t,e){if("undefined"==typeof fetch||!a())return i().reject("Not supported.");var n=e(),r=fetch(t,{credentials:"same-origin"});return("function"==typeof window.WebAssembly.instantiateStreaming?window.WebAssembly.instantiateStreaming(r,n.imports).then((function(t){return t.instance})):r.then((function(t){return t.arrayBuffer()})).then((function(t){return window.WebAssembly.compile(t)})).then((function(t){return window.WebAssembly.instantiate(t,n.imports)}))).then((function(t){return n.initialize(t)})).catch((function(t){throw console.log("Error loading Rust wasm module",t),t}))}function a(){try{var t=window.WebAssembly;if("object"==typeof t&&"function"==typeof t.instantiate){var e=new t.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof t.Module)return new t.Instance(e)instanceof t.Instance}}catch(t){0}return!1}},55660:function(t,e,n){"use strict";function r(){return-1!==window.location.search.indexOf("liteVersion=true")&&window.top!==window}function i(){return r()&&-1!==window.location.search.indexOf("hideHeadInfo=true")}function o(){return r()&&-1!==window.location.search.indexOf("hideRankList=true")}n.d(e,{oD:function(){return r},g3:function(){return i},LM:function(){return o}})},8780:function(t,e,n){"use strict";n.d(e,{ul:function(){return l},bg:function(){return f},vh:function(){return d}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(50346),c=n(57254),u=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},l={isLogin:!1};function f(t){return c.o.isLogin}function d(){return u(this,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.SE)();case 2:return e=t.sent,l.isLogin=e.isLogin,t.abrupt("return",{uid:e.uid});case 5:case"end":return t.stop()}}),t)})))}(0,s.E1)((function(t){l.isLogin=t.isLogin}))},50444:function(t,e,n){"use strict";n.d(e,{e:function(){return o}});var r=[],i=null;function o(t){r.indexOf(t)<0&&r.push(t),clearTimeout(i),i=setTimeout((function(){for(var t=0,e=r.length;t<e;t++){var n=r[t];"function"==typeof n&&n()}r=[]}),1)}},19356:function(t,e,n){"use strict";function r(){}n.d(e,{Z:function(){return r}})},43650:function(t,e,n){"use strict";n.d(e,{i:function(){return o},W:function(){return a}});var r=n(2991),i=n.n(r);function o(t){var e=t.match(/[^<%>]+/g),n=[],r=0;t.replace(/<%([^<%>]+)%>/g,(function(t,e,i){return n.push({text:e.toString(),startIndex:0===r?i:i-4*r}),r+=1,""}));var o=0;return i()(e).call(e,(function(t,e){var r=!1;return n.some((function(e){if(t===e.text&&e.startIndex===o)return r=!0,!0})),o+=t.length,r&&n.shift(),{text:t,isHighlight:r}}))}function a(t,e,n){void 0===n&&(n="");var r=o(t),i="";return r.forEach((function(t){var r=t.text,o=t.isHighlight?e.highlightColor:e.textColor;i+='<span style="color:'+o+';" '+n+" >"+r+"</span>"})),i}},91236:function(t){var e="blfe-live-room",n="/";n={APPNAME:"哔哩哔哩直播，二次元弹幕直播平台",BUILD_ENV:"production",BUILD_LOCAL:!1,STATIC_VERSION:"1651ea6ddfeb920",VERSION:"4.0.0",VUE_ENV:"client",SSR_NOIRE_INJECT_WINDOW_KEY:"__NEPTUNE_IS_MY_WAIFU__",SSR_BUFF_INJECT_WINDOW_KEY:"__SSR_INITIAL_STATE__",PLAYER_BOOTSTRAP_FUNC:"__PLAYER_BOOTSTRAP_FUNC__",PLAYER_GLOBAL_INSTANCE:"__PLAYER_GLOBAL_INSTANCE__",PLAYER_GLOBAL_INIT_FLAG:"__PLAYER_GLOBAL_INIT_FLAG__",CANARY_GROUP_NAME:!1,EXTERNAL_ACTIVITY_BROADCAST_TRIGGER:"__GREAT_TOILET__",STATIC_FILES_URL:"//s1.hdslb.com/bfs/static/blive/blfe-live-room/",TRACK_POINT_ADD_METHOD:"addWaifu",TRACK_POINT_START:"neptune",TRACK_POINT_HEAD_SCRIPT:"noire",TRACK_POINT_HEAD_STYLE:"blanc",TRACK_POINT_PLAYER_DOM:"vert",TRACK_POINT_MAIN_DOM:"nepgear",TRACK_POINT_SSR_DATA:"uni",TRACK_POINT_PLAYER_SCRIPT:"rom",TRACK_POINT_BUSINESS_SCRIPT:"ram",TRACK_POINT_PLAYER_INIT:"misaka",TRACK_POINT_PLAYER_FIRST_LOAD_META:"mikoto",DEV:!1,NODE_ENV:"production"}.BUILD_FAT?"//uat-s1.hdslb.com/bfs/static/blive/"+e+"/":"//s1.hdslb.com/bfs/static/blive/"+e+"/",t.exports=n},95241:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(66570),i=n(34074),o=n.n(i),a=n(95334),s=function(t,e,n,r){var i,a=arguments.length,s=a<3?e:null===r?r=o()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(a<3?i(s):a>3?i(e,n,s):i(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},c=function(t){function e(){return t.apply(this,arguments)||this}return(0,r.Z)(e,t),e}(a.Vue),u=c=s([a.Component],c),l=(0,n(51900).Z)(u,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empty"},[n("div",{staticClass:"no-medal"}),n("span",{staticClass:"no-medal-desc"},[t._v("哎？啥都没加载出来呢～")])])}],!1,null,"38b63905",null).exports},6867:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r=(0,n(51900).Z)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vertical-middle dp-table"},[n("div",{staticClass:"dp-table-cell v-middle"},[t._t("default")],2)])}),[],!1,null,null,null).exports},96905:function(t,e,n){"use strict";n.d(e,{Z:function(){return L}});var r=n(66570),i=n(63109),o=n.n(i),a=n(34074),s=n.n(a),c=n(93476),u=n.n(c),l=n(77766),f=n.n(l),d=n(70538),p=n(95334),h=n(91936),m=n(36893),v=n.n(m),g=n(9669),b=n.n(g),w=n(32841),y=n(8605),k=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=s()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},_=function(t,e,n,r){return new(n||(n=u()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},I=function(){function t(){}return t.getFansMedalRankList=function(t){return _(this,void 0,void 0,o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().get("/xlive/general-interface/v1/rank/getHeartRank",{params:t});case 2:return n=e.sent,r=n.data,e.abrupt("return",new y.K(r));case 5:case"end":return e.stop()}}),e)})))},t}();k([(0,w.Z)()],I,"getFansMedalRankList",null);var T=I,x=n(3595),S=n(18706),A=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=s()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},C=function(t,e,n,r){return new(n||(n=u()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},R=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isLoading=!1,e.PAGE_SIZE=25,e.page=1,e.isAppend=0,e.isShowText=!1,e.fansClubEntryInfo={anchorName:x.h.getters.baseInfoAnchor.username},e.heartRankCount=9999,e.heartRankList=[],e}(0,r.Z)(e,t);var n=e.prototype;return n.scrollToLoadRankData=function(t){var e=t.target.scrollTop+t.target.clientHeight-t.target.scrollHeight;parseInt(e+"")>=0&&this.getRankData().catch((function(){}))},n.getRankData=function(){return C(this,void 0,void 0,o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.heartRankList.length>=200&&(this.isShowText=!0),t.next=3,T.getFansMedalRankList({ruid:x.h.getters.baseInfoAnchor.uid,page:this.page+1,page_size:this.PAGE_SIZE});case 3:(n=t.sent).data.item.length>0&&this.page++,this.heartRankList=f()(e=this.heartRankList).call(e,n.data?n.data.item:[]);case 6:case"end":return t.stop()}}),t,this)})))},n.mounted=function(){return C(this,void 0,void 0,o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,T.getFansMedalRankList({ruid:x.h.getters.baseInfoAnchor.uid,page:this.page,page_size:this.PAGE_SIZE});case 3:e=t.sent,this.heartRankCount=e.data?e.data.num:0,this.heartRankList=e.data?e.data.item:[],this.isAppend=e.data?e.data.is_append:0,this.isLoading=!1;case 8:case"end":return t.stop()}}),t,this)})))},e}(d.default);A([(0,p.Prop)({type:Number,default:119})],R.prototype,"top",void 0);var E=R=A([(0,p.Component)({components:{RankFace:h.Z,medal:v(),ProgressTv:S.default}})],R),L=(0,n(51900).Z)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"a-move-in-right","leave-active-class":"a-fade-out"}},[n("div",{staticClass:"fans-club-rank"},[n("div",{staticClass:"fans-club-rank-title"},[n("span",{staticClass:"dp-i-block fans-club-title"},[n("span",{staticClass:"dp-i-block v-middle fans-club-anchor-name"},[t._v(t._s(t.fansClubEntryInfo.anchorName))]),n("span",{staticClass:"dp-i-block v-middle"},[t._v("的粉丝团")])]),n("a",{staticClass:"dp-i-block qs-icon v-middle",attrs:{href:"http://link.bilibili.com/p/help/index#/audience-fans-medal",target:"_blank"}}),n("p",{staticClass:"club-num-desc"},[t._v("粉丝团点亮成员"+t._s(t.heartRankCount)+"人, 按最近7日"),n("span",{staticClass:"dp-i-block v-middle xxx-icon xxx-icon-margin"}),n("span",[t._v("投喂量排序")])])]),n("div",{staticClass:"fans-club-rank-body",on:{scroll:function(e){return e.stopPropagation(),e.preventDefault(),t.scrollToLoadRankData.apply(null,arguments)}}},[t.isLoading?n("progress-tv"):t._l(t.heartRankList,(function(e){return n("div",{key:e.user_rank,staticClass:"fans-club-rank-item v-middle"},[n("rank-face",{staticClass:"v-middle fans-club-rank-item-margin",attrs:{guardLevel:e.guard_level,boxWidth:30,faceWidth:26,faceUrl:e.face}}),n("medal",{staticClass:"v-middle fans-club-rank-item-margin",attrs:{level:e.level,label:e.medal_name,"anchor-id":e.uid,"medal-color-start":e.medal_color_start,"medal-color-end":e.medal_color_end,"medal-color-border":e.medal_color_border,"is-lighted":!0,"guard-level":e.guard_level}}),n("span",{staticClass:"dp-i-block fans-club-rank-user-name v-middle"},[t._v(t._s(e.name))]),n("div",{staticClass:"dp-i-block v-middle xxx-box"},[n("span",{staticClass:"dp-i-block xxx-icon v-middle",class:{hide:!e.score}}),n("span",{staticClass:"xxx-num",class:{"xxx-color":!e.score}},[t._v(t._s(e.score||"-"))])])],1)})),0===t.heartRankList.length?n("div",{staticClass:"empty-stauts-box"},[n("div",{staticClass:"empty-stauts-box-bg"}),n("span",[t._v("近7日没有团员赠送小心心")])]):t._e(),t.isShowText&&t.isAppend?n("div",{staticClass:"empty-stauts-box"},[n("span",[t._v("最多展示200位点亮成员")])]):t._e()],2),n("div",{staticClass:"fans-medal-rank-arrow"}),n("div",{staticClass:"fans-medal-rank-shadow"})])])}),[],!1,null,null,null).exports},2055:function(t,e,n){"use strict";n.d(e,{Z:function(){return B}});var r=n(26849),i=n(66570),o=n(63109),a=n.n(o),s=n(34074),c=n.n(s),u=n(93476),l=n.n(u),f=n(70538),d=n(95334),p=n(17388),h=n(55391),m=n(65643),v=n(57072),g=n(66856),b=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=c()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},w=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},y=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).currency=g.webCurrency,e.qrUrl="",e.fansClubPrivilegeList=[{title:"领取小心心",desc:"5分钟得1颗"},{title:"专属弹幕颜色",desc:"解锁弹幕等级特权"},{title:"解锁专属礼物",desc:"专属礼物购买资格"}],e.vipPrivilegeList=[{icon_class:"identity",title:"身份标识",desc:"亮出舰队身份"},{icon_class:"approach",title:"入场特效",desc:"专享入场特权"},{icon_class:"to-21",title:"直升21级",desc:"勋章突破20级"}],e}(0,i.Z)(e,t);var n=e.prototype;return n.closeDialog=function(){this.setJoinFansDialogStatus(!1)},n.setJoinFansDialogStatus=function(t){v.default.$emit("JoinFansDialog: ChangeStatus",t)},n.sendFansGift=function(t){return w(this,void 0,void 0,a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.hF)({giftID:this.giftConfig.gift_id,count:1,coinType:"gold",discountPrice:this.giftConfig.price});case 2:0!==(n=e.sent).code&&f.default.prototype.linkMsg(t.target,n.errorMsg),this.closeDialog(),this.$emit("close");case 6:case"end":return e.stop()}}),e,this)})))},n.showVipDialog=function(){(0,m.tG)(),this.closeDialog()},e}(f.default);b([(0,d.Prop)({type:String,default:""})],y.prototype,"callerType",void 0),b([(0,d.Prop)({type:Object,default:function(){return{price:null,gift_id:null}}})],y.prototype,"giftConfig",void 0);var k=y=b([(0,d.Component)({components:{LinkButton:p.default}})],y),_=n(51900),I=(0,_.Z)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"join-fans-popup-content-for-header",class:"chatPanel"===t.callerType?"join-fans-content-for-panel":""},[n("div",{staticClass:"privilege-div privilege-div-left dp-i-block v-top"},[t._m(0),n("div",{staticClass:"privilege-title vip-bg"}),n("div",{staticClass:"privilege-list"},[t._l(t.fansClubPrivilegeList,(function(e){return n("div",{staticClass:"desc-item"},[n("i",{staticClass:"dp-i-block desc-icon",class:e.icon_class}),n("div",{staticClass:"dp-i-block desc-text"},[n("p",[t._v(t._s(e.title))]),n("span",[t._v(t._s(e.desc))])])])})),t._l(t.vipPrivilegeList,(function(e){return n("div",{staticClass:"desc-item"},[n("i",{staticClass:"dp-i-block vip-desc-icon",class:e.icon_class}),n("div",{staticClass:"dp-i-block desc-text"},[n("p",[t._v(t._s(e.title))]),n("span",[t._v(t._s(e.desc))])])])}))],2),n("link-button",{staticClass:"button-width button-positoin-left",on:{click:t.showVipDialog}},[n("span",{staticClass:"small-font"},[t._v("直升21级")]),n("span",{staticClass:"small-font"},[t._v("（")]),n("span",{staticClass:"icon-bg dp-i-block",style:{backgroundImage:"url("+t.currency.icon+")"}}),n("span",{staticClass:"small-font"},[t._v(t._s(t.currency.format(198e3))+"）")])])],1),n("div",{staticClass:"center-line"}),n("div",{staticClass:"privilege-div privilege-div-right dp-i-block v-top"},[t._m(1),n("div",{staticClass:"privilege-title fans-club-bg"}),n("div",{staticClass:"privilege-list"},t._l(t.fansClubPrivilegeList,(function(e){return n("div",{staticClass:"desc-item"},[n("i",{staticClass:"dp-i-block desc-icon",class:e.icon_class}),n("div",{staticClass:"dp-i-block desc-text"},[n("p",[t._v(t._s(e.title))]),n("span",[t._v(t._s(e.desc))])])])})),0),n("link-button",{staticClass:"button-width button-positoin-right",on:{click:t.sendFansGift}},[n("span",{staticClass:"small-font"},[t._v("投喂入团")]),n("span",{staticClass:"small-font"},[t._v("（")]),n("span",{staticClass:"icon-bg dp-i-block",style:{backgroundImage:"url("+t.currency.icon+")"}}),n("span",{staticClass:"small-font"},[t._v(t._s(t.currency.format(t.giftConfig.price))+"）")])])],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"privilege-top"},[n("span",[t._v("专属特权 6/6")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"privilege-top"},[n("span",[t._v("专属特权 3/6")])])}],!1,null,null,null).exports,T=n(91936),x=n(3595),S=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=c()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},A=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).coverSpanLeft=[0,-2,11,24,35],e.anchorName=x.h.getters.baseInfoAnchor.username,e}return(0,i.Z)(e,t),e.prototype.showFansRank=function(){this.$emit("openRankDialog")},e}(f.default);S([(0,d.Prop)({type:Number,default:0})],A.prototype,"fansMedalLightCount",void 0),S([(0,d.Prop)({type:Array,default:[]})],A.prototype,"fansRankTop5",void 0),S([(0,d.Prop)({type:String,default:""})],A.prototype,"medalName",void 0);var C=A=S([(0,d.Component)({components:{RankFace:T.Z}})],A),R=(0,_.Z)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fans-club-entry"},[n("div",{staticClass:"fans-club-entry-bg"}),n("div",[n("span",{staticClass:"dp-i-block fans-club-title"},[n("span",{staticClass:"fans-club-title-anchor-name dp-i-block v-middle"},[t._v(t._s(t.anchorName))]),n("span",{staticClass:"dp-i-block v-middle"},[t._v("的粉丝团")])]),t.medalName?n("span",{staticClass:"dp-i-block fans-club-name"},[t._v(t._s(t.medalName))]):t._e(),t._m(0)]),t.fansRankTop5.length>0?n("div",{staticClass:"fans-rank-entry dp-i-block v-middle",on:{click:t.showFansRank}},[n("div",{staticClass:"dp-i-block club-desc"},[n("span",{staticClass:"self-icon-arrow-left"}),n("div",{staticClass:"dp-i-block"},[t._v("粉丝团")]),n("span",{staticClass:"dp-i-block fans-count-span"},[t._v(t._s(t.fansMedalLightCount))])]),n("div",{staticClass:"dp-i-block face-list-poaition"},[t._l(t.fansRankTop5,(function(t){return n("rank-face",{key:t.user_rank,style:{"z-index":5-t.user_rank,left:"-"+12*(t.user_rank-1)+"px"},attrs:{guardLevel:t.guard_level,boxWidth:30,faceWidth:26,faceUrl:t.face}})})),t.fansRankTop5.length>1?n("span",{staticClass:"dp-i-block entry-cover-span",style:{right:t.coverSpanLeft[t.fansRankTop5.length-1]+"px"}}):t._e()],2)]):t._e()])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"dp-i-block qs-icon"},[n("a",{staticClass:"icon-position dp-i-block",attrs:{href:"http://link.bilibili.com/p/help/index#/audience-fans-medal",target:"_blank"}},[t._v("?")])])}],!1,null,null,null).exports,E=n(96905),L=n(5730),P=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=c()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},M=function(t,e,n,r){return new(n||(n=l()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},D=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isShowFansMedalRank=!1,e.rankTo5List=[],e.medalName="",e.fansMedalLightCount=0,e.giftConfig={},e}(0,i.Z)(e,t);var n=e.prototype;return n.showRank=function(t){t?this.rankTo5List.length>0&&(this.isShowFansMedalRank=t):this.isShowFansMedalRank=t},n.close=function(){this.$emit("close")},n.mounted=function(){return M(this,void 0,void 0,a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.Z.getFansMedalRankList({target_id:x.h.getters.baseInfoAnchor.uid,room_id:this.baseInfoRoom.roomID,room_area_id:this.baseInfoRoom.areaID,area_parent_id:this.baseInfoRoom.parentAreaID});case 2:e=t.sent,this.rankTo5List=e.data?e.data.item:[],this.medalName=e.data?e.data.target_medal_name:"",this.fansMedalLightCount=e.data?e.data.fans_medal_light_count:0,this.giftConfig=e.data?e.data.gift:{price:null,gift_id:null};case 7:case"end":return t.stop()}}),t,this)})))},(0,r.Z)(e,[{key:"baseInfoRoom",get:function(){return x.h.getters.baseInfoRoom}}]),e}(f.default);P([(0,d.Prop)({type:String,default:""})],D.prototype,"callerType",void 0);var N=D=P([(0,d.Component)({components:{JoinFansPopupContent:I,FansClubEntry:R,FansClubRank:E.Z}})],D),B=(0,_.Z)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{enterActiveClass:"a-move-in-bottom",leaveActiveClass:"a-move-out-top"}},[n("div",{staticClass:"join-fans-content",class:"chatPanel"===t.callerType?"join-fans-popup-content-for-panel":"",style:{height:0===t.rankTo5List.length&&"chatPanel"===t.callerType?"510px":""},on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"join-fans-title"}),n("fans-club-entry",{staticClass:"entry-margin margin-center",attrs:{medalName:t.medalName,fansRankTop5:t.rankTo5List,fansMedalLightCount:t.fansMedalLightCount},on:{openRankDialog:function(e){return t.showRank(!0)}}}),n("join-fans-popup-content",{staticClass:"content-margin margin-center",attrs:{callerType:t.callerType,giftConfig:t.giftConfig},on:{close:t.close}}),t.isShowFansMedalRank?n("fans-club-rank",{staticClass:"fans-club-rank-position",nativeOn:{mouseleave:function(e){return t.showRank(!1)}}}):t._e()],1)])}),[],!1,null,null,null).exports},91936:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(66570),i=n(34074),o=n.n(i),a=n(70538),s=n(95334),c=function(t,e,n,r){var i,a=arguments.length,s=a<3?e:null===r?r=o()(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(a<3?i(s):a>3?i(e,n,s):i(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){return t.apply(this,arguments)||this}return(0,r.Z)(e,t),e}(a.default);c([(0,s.Prop)({type:String,default:""})],u.prototype,"faceUrl",void 0),c([(0,s.Prop)({type:Number,default:0})],u.prototype,"guardLevel",void 0),c([(0,s.Prop)({type:Number,default:0})],u.prototype,"boxWidth",void 0),c([(0,s.Prop)({type:Number,default:0})],u.prototype,"faceWidth",void 0);var l=u=c([(0,s.Component)({})],u),f=(0,n(51900).Z)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dp-i-block face-box",class:"guard-level-"+t.guardLevel,style:{width:t.boxWidth+"px",height:t.boxWidth+"px"}},[n("img",{staticClass:"dp-i-block",style:{width:t.faceWidth+"px",height:t.faceWidth+"px",margin:(t.boxWidth-t.faceWidth)/2+"px"},attrs:{alt:"",src:t.faceUrl}})])}),[],!1,null,"6399a8f8",null).exports},347:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return L}});var r=n(63109),i=n.n(r),o=n(93476),a=n.n(o),s=n(62462),c=n.n(s),u=n(92762),l=n.n(u),f=n(2060),d=n(26384),p=n(17388),h=n(75443),m=n(58209),v=n(57285),g=n.n(v),b=n(33960),w=function(t,e){void 0===e&&(e=500);var n=null;return function(){n&&clearTimeout(n),n=setTimeout(t,e)}},y=n(18706),k=n(56056),_=n(1846),I=n(12598),T=n(30381),x=n.n(T),S=n(72379),A=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},C=function(t,e){return A(void 0,void 0,void 0,i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=null,r.abrupt("return",new(a())((function(r){(0,S.Z)({title:"请确认要禁言的用户：",width:470,button:!1,component:{data:function(){return{keyword:t,searchResult:e}},components:{BlockSearchVm:function(){return n.e(7598).then(n.bind(n,97598))}},methods:{confirm:function(t){o.close(),r(t)}},name:"block-search-result",template:'<block-search-vm :keyword="keyword" :search-result="searchResult" @confirm="confirm"></block-search-vm>'}}).onInited((function(t){o=t})).onCancel((function(){r(void 0)}))})));case 2:case"end":return r.stop()}}),r)})))},R=function(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},E=(0,f.aZ)({components:{LinkInput:d.default,LinkButton:p.default,LinkRadioButton:k.Z,ProgressTv:y.default,LinkSlideBar:_.Z},props:{blockUidOrUname:String},setup:function(t){var e=this,n=(0,h.Z)(),r=n.getAdminList,o=n.getBlackList,a=n.removeAdmin,s=n.addAdmin,u=n.addBlackUser,d=n.removeBlackUser,p=n.removeBlockUser,v=n.getBlockList,y=n.getBlockWords,k=n.addBlockWord,_=n.deleBlockWord,T=n.blockRole,S=n.blockTime,A=n.blockLevel,E=n.maxBlockLevel,L=n.openGlobalBlock,P=n.closeGlobalBlock,M=n.globalBlockStatus,D=n.blockCountdown,N=n.maxBlockWordLength,B=n.initGlobalBlockStatus,O=(0,f.iH)(!1),F=(0,f.iH)(!1),G=(0,f.iH)(!1),U=(0,f.iH)(null),Z=(0,f.iH)(null),V=(0,f.iH)(null),H=(0,f.Fl)((function(){return b.Z.state.baseInfo.user.isAnchor?[{name:"房管设置",key:"admin"},{name:"禁言设置",key:"black"},{name:"黑名单设置",key:"blocklist"},{name:"屏蔽词",key:"block"}]:[{name:"禁言设置",key:"black"},{name:"屏蔽词",key:"block"}]})),W=(0,f.iH)(H.value[0].key),j=(0,f.iH)(""),z=(0,f.iH)(""),Y=(0,f.iH)(""),K=(0,f.iH)([]),J=(0,f.iH)(0),Q=(0,f.iH)([]),X=(0,f.iH)([]),q=(0,f.iH)([]),$=(0,f.iH)(0),tt=(0,f.iH)(0),et=(0,f.iH)(null),nt=1,rt=1,it=function(){return R(e,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(nt>rt||O.value)){t.next=2;break}return t.abrupt("return");case 2:return O.value=!0,t.next=5,r(nt);case 5:if(0===(n=t.sent).code){t.next=8;break}return t.abrupt("return",(0,m.Z)(U.value,n.msg,null==n.code?"error":"caution"));case 8:J.value=n.data.maxRoomAnchorsNumber,(e=K.value).push.apply(e,n.data.list),rt=n.data.page.totalPage,nt++,O.value=!1;case 13:case"end":return t.stop()}}),t)})))},ot=w((function(){if(U.value.scrollHeight-U.value.scrollTop-U.value.clientHeight<10)return it()}),300),at=1,st=function(){return R(e,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!F.value){t.next=2;break}return t.abrupt("return");case 2:return F.value=!0,t.next=5,o(b.Z.state.baseInfo.room.roomID,at);case 5:(e=t.sent).data&&e.data.length&&((n=Q.value).push.apply(n,e.data),at++),F.value=!1;case 8:case"end":return t.stop()}}),t)})))},ct=w((function(){if(Z.value.scrollHeight-Z.value.scrollTop-Z.value.clientHeight<10)return st()}),300),ut=1,lt=function(){return R(e,void 0,void 0,i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!F.value){t.next=2;break}return t.abrupt("return");case 2:return G.value=!0,t.next=5,v(ut,10);case 5:e=t.sent,(n=e.data&&e.data.data)&&n.length&&((r=X.value).push.apply(r,n),ut++),G.value=!1;case 9:case"end":return t.stop()}}),t)})))},ft=w((function(){if(V.value.scrollHeight-V.value.scrollTop-V.value.clientHeight<10)return lt()}),300),dt=function(){return R(e,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(b.Z.state.baseInfo.room.roomID);case 2:if(0===(e=t.sent).code){t.next=5;break}return t.abrupt("return");case 5:e.data.keywordList&&e.data.keywordList.length>0&&(q.value=e.data.keywordList,$.value=e.data.maxLimit);case 6:case"end":return t.stop()}}),t)})))},pt=(0,f.iH)([{value:"level",label:"用户等级"},{value:"medal",label:"粉丝勋章"},{value:"member",label:"全员"}]),ht=(0,f.iH)([{value:30,label:"30分钟"},{value:60,label:"60分钟"},{value:0,label:"永久"}]),mt=(0,f.Fl)((function(){var t=x().duration(D.value,"seconds").asMilliseconds();return x().utc(t).format("mm:ss")}));return(0,f.bv)((function(){B(),t.blockUidOrUname&&(W.value="black",z.value=t.blockUidOrUname),b.Z.state.baseInfo.user.isAnchor&&it(),b.Z.state.baseInfo.user.isAdmin&&st(),(0,f.Y3)().then((function(){g().initialize(U.value),g().initialize(Z.value),g().initialize(V.value)}))})),(0,f.YP)(K,(function(){(0,f.Y3)().then((function(){g().update(U.value)}))})),(0,f.YP)(Q,(function(){(0,f.Y3)().then((function(){g().update(Z.value)}))})),(0,f.YP)(X,(function(){(0,f.Y3)().then((function(){g().update(V.value)}))})),{tabs:H,curSelectTabKey:W,setCurSelectTabKey:function(t){if(W.value=t,"black"!==t||Q.value.length||st(),"blocklist"!==t||X.value.length||lt(),"block"===t&&!q.value.length&&!q.value.length)return dt()},uIdOrUNameForAdminSetting:j,uIdOrUNameForBlackSetting:z,adminListScrollRefs:U,blackListScrollRefs:Z,blockListScrollRefs:V,roomAdminList:K,adminMaxCount:J,handleAdminListScroll:ot,handleBlackListScroll:ct,handleBlockListScroll:ft,_addAdmin:function(){return R(e,void 0,void 0,i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(j.value);case 2:if(0!==(e=t.sent).code){t.next=8;break}return nt=1,K.value=[],j.value="",t.abrupt("return",it());case 8:return t.abrupt("return",(0,m.Z)(U.value,e.msg,null==e.code?"error":"caution"));case 9:case"end":return t.stop()}}),t)})))},_removeAdmin:function(t,n){return R(e,void 0,void 0,i().mark((function e(){var r,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:if(0!==(r=e.sent).code){e.next=7;break}return u=c()(o=K.value).call(o,(function(e){return e.uid===t})),l()(s=K.value).call(s,u,1),e.abrupt("return",(0,m.Z)(n.target,"撤销成功","success"));case 7:return e.abrupt("return",(0,m.Z)(U.value,r.msg,null==r.code?"error":"caution"));case 8:case"end":return e.stop()}}),e)})))},_removeBlackUser:function(t,n){return R(e,void 0,void 0,i().mark((function e(){var r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(b.Z.state.baseInfo.room.roomID,t);case 2:if(0!==(r=e.sent).code){e.next=7;break}return s=c()(o=Q.value).call(o,(function(e){return e.id===t})),l()(a=Q.value).call(a,s,1),e.abrupt("return",(0,m.Z)(n.target,"撤销成功","success"));case 7:return e.abrupt("return",(0,m.Z)(Z.value,r.msg,null==r.code?"error":"caution"));case 8:case"end":return e.stop()}}),e)})))},_removeBlockUser:function(t,n){return R(e,void 0,void 0,i().mark((function e(){var r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,"444.8.0.0");case 2:if(0!==(r=e.sent).code){e.next=7;break}return s=c()(o=X.value).call(o,(function(e){return e.uid===t})),l()(a=X.value).call(a,s,1),e.abrupt("return",(0,m.Z)(n.target,"移除成功","success"));case 7:return e.abrupt("return",(0,m.Z)(V.value,r.msg,null==r.code?"error":"caution"));case 8:case"end":return e.stop()}}),e)})))},curBlackSettingTabType:tt,setCurBlackSettingTabType:function(t){return tt.value=t},blockRoleRadios:pt,blockRole:T,blockLevel:A,maxBlockLevel:E,blockTimeRadios:ht,blockTime:S,blackList:Q,blockList:X,adminListLoad:O,blackListLoad:F,blockListLoad:G,_addBlackUser:function(t){return R(e,void 0,void 0,i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.ZP.roomManager.searchUser(z.value);case 2:if(0===(n=e.sent).code){e.next=5;break}return e.abrupt("return",(0,m.Z)(t.target,n.msg,null==n.code?"error":"caution"));case 5:if(n.data.length){e.next=7;break}return e.abrupt("return",(0,m.Z)(t.target,"该用户不存在","caution"));case 7:if(!(n.data.length>1)){e.next=13;break}return e.next=10,C(z.value,n.data);case 10:r=e.sent,e.next=14;break;case 13:r=n.data[0].uid;case 14:if(r){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,u(b.Z.state.baseInfo.room.roomID,r);case 18:if(0===(o=e.sent).code){e.next=21;break}return e.abrupt("return",(0,m.Z)(t.target,o.msg,null==o.code?"error":"caution"));case 21:Q.value=[],z.value="",at=1,st();case 25:case"end":return e.stop()}}),e)})))},blockWord:Y,maxLimit:$,blockWordList:q,_addBlockWord:function(t){return R(e,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(b.Z.state.baseInfo.room.roomID,Y.value);case 2:if(0===(n=e.sent).code){e.next=5;break}return e.abrupt("return",(0,m.Z)(t.target,n.msg,null==n.code?"error":"caution"));case 5:q.value.unshift({keyword:Y.value}),Y.value="";case 7:case"end":return e.stop()}}),e)})))},_deleteBlockWord:function(t,n){return R(e,void 0,void 0,i().mark((function e(){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(b.Z.state.baseInfo.room.roomID,q.value[t].keyword);case 2:if(0===(o=e.sent).code){e.next=5;break}return e.abrupt("return",(0,m.Z)(n.target,o.msg,null==o.code?"error":"caution"));case 5:l()(r=q.value).call(r,t,1);case 6:case"end":return e.stop()}}),e)})))},blockLevelInpuRef:et,handleBlockLevelInputBlur:function(){return et.value.$refs.input.value="1"},_openGlobalBlock:function(t){return R(e,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:0!==(n=e.sent).code&&(0,m.Z)(t.target,n.msg,null==n.code?"error":"caution");case 4:case"end":return e.stop()}}),e)})))},_closeGlobalBlock:function(t){return R(e,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:0!==(n=e.sent).code&&(0,m.Z)(t.target,n.msg,null==n.code?"error":"caution");case 4:case"end":return e.stop()}}),e)})))},globalBlockStatus:M,blockCountdown:D,blockCountdownText:mt,maxBlockWordLength:N,isAnchor:(0,f.Fl)((function(){return b.Z.state.baseInfo.user.isAnchor}))}}}),L=(0,n(51900).Z)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"room-manager-ctnr"},[n("div",t._l(t.tabs,(function(e,r){return n("div",{staticClass:"mng-type-item p-relative t-center pointer dp-i-block",class:{active:e.key===t.curSelectTabKey},style:{width:100/t.tabs.length+"%"},on:{click:function(n){return t.setCurSelectTabKey(e.key)}}},[t._v(t._s(e.name))])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:"admin"===t.curSelectTabKey,expression:"curSelectTabKey === 'admin'"}],staticClass:"room-admin-setting"},[n("div",{staticClass:"input-wrap"},[n("link-input",{attrs:{placeholder:"输入 UID 或用户名",width:372},model:{value:t.uIdOrUNameForAdminSetting,callback:function(e){t.uIdOrUNameForAdminSetting=e},expression:"uIdOrUNameForAdminSetting"}}),n("link-button",{attrs:{disabled:!t.uIdOrUNameForAdminSetting},on:{click:t._addAdmin}},[t._v("任命")])],1),n("div",{staticClass:"admin-list"},[n("progress-tv",{directives:[{name:"show",rawName:"v-show",value:t.adminListLoad&&!t.roomAdminList.length,expression:"adminListLoad && !roomAdminList.length"}],staticClass:"progress-tv",attrs:{text:"小电视祈祷中。"}}),n("div",{staticClass:"admin-count title"},[t._v("当前房管数："+t._s(t.roomAdminList.length)+"/"+t._s(t.adminMaxCount))]),n("table",{staticClass:"list"},[t._m(0),n("tbody",{ref:"adminListScrollRefs",staticClass:"admin-list-body p-relative dp-block",on:{scroll:t.handleAdminListScroll}},t._l(t.roomAdminList,(function(e){return n("tr",{staticClass:"list-row"},[n("td",{attrs:{width:"35%"}},[t._v(t._s(e.uname))]),n("td",{attrs:{width:"44%"}},[t._v(t._s(e.ctime))]),n("td",{staticClass:"pointer",attrs:{width:"21%"},on:{click:function(n){return t._removeAdmin(e.uid,n)}}},[t._v("撤销")])])})),0)])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"black"===t.curSelectTabKey,expression:"curSelectTabKey ==='black'"}],staticClass:"black-setting"},[t.isAnchor?n("div",{staticClass:"tab-btns"},[n("div",{staticClass:"black-list-setting btn pointer",class:{selected:0===t.curBlackSettingTabType},on:{click:function(e){return t.setCurBlackSettingTabType(0)}}},[t._v("禁言名单管理")]),n("div",{staticClass:"global-black-setting btn pointer",class:{selected:1===t.curBlackSettingTabType},on:{click:function(e){return t.setCurBlackSettingTabType(1)}}},[t._v("全局禁言")])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.curBlackSettingTabType,expression:"curBlackSettingTabType === 0"}],staticClass:"black-list-setting-ctnr"},[n("div",{staticClass:"input-wrap"},[n("link-input",{attrs:{placeholder:"输入 UID 或用户名",width:372},model:{value:t.uIdOrUNameForBlackSetting,callback:function(e){t.uIdOrUNameForBlackSetting=e},expression:"uIdOrUNameForBlackSetting"}}),n("link-button",{attrs:{disabled:!t.uIdOrUNameForBlackSetting},on:{click:t._addBlackUser}},[t._v("提交")])],1),n("div",{staticClass:"tip"},[t._v("被禁言的用户永久无法在此直播间发言")]),n("div",{staticClass:"black-list",staticStyle:{height:"163px"}},[n("progress-tv",{directives:[{name:"show",rawName:"v-show",value:t.blackListLoad&&!t.blackList.length,expression:"blackListLoad && !blackList.length"}],staticClass:"progress-tv",attrs:{text:"小电视祈祷中。"}}),n("table",{staticClass:"list"},[t._m(1),n("tbody",{ref:"blackListScrollRefs",staticClass:"black-list-body p-relative dp-block",on:{scroll:t.handleBlackListScroll}},t._l(t.blackList,(function(e){return n("tr",{staticClass:"list-row"},[n("td",{attrs:{width:"35%"}},[t._v(t._s(e.tname))]),n("td",{attrs:{width:"44%"}},[n("span",{staticClass:"dp-i-block",class:1===e.isAnchor?"user-name-anchor":"user-name-manage"},[t._v(t._s(1===e.isAnchor?"主播":"房"))]),n("span",[t._v(t._s(e.name))])]),n("td",{staticClass:"pointer",attrs:{width:"21%"},on:{click:function(n){return t._removeBlackUser(e.id,n)}}},[t._v("撤销")])])})),0)])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.curBlackSettingTabType,expression:"curBlackSettingTabType === 1"}],staticClass:"global-setting-ctnr"},[n("div",{staticClass:"setting-item"},[n("div",{staticClass:"title"},[t._v("禁言身份")]),t._l(t.blockRoleRadios,(function(e){return n("div",{staticClass:"radio-item"},[n("link-radio-button",{key:e.label,attrs:{value:e.value,disabled:"open"===t.globalBlockStatus},model:{value:t.blockRole,callback:function(e){t.blockRole=e},expression:"blockRole"}},[n("span",[t._v(t._s(e.label))])])],1)}))],2),n("div",{staticClass:"setting-item",staticStyle:{"line-height":"24px"}},[n("div",{staticClass:"title"},[t._v("屏蔽等级")]),n("link-slide-bar",{staticClass:"slide-bar",attrs:{"min-value":1,"max-value":t.maxBlockLevel,step:1,width:120,disable:"member"===t.blockRole||"open"===t.globalBlockStatus},model:{value:t.blockLevel,callback:function(e){t.blockLevel=e},expression:"blockLevel"}}),n("link-input",{ref:"blockLevelInpuRef",staticClass:"link-input",attrs:{width:32,onBlur:t.handleBlockLevelInputBlur,disabled:"member"===t.blockRole||"open"===t.globalBlockStatus},model:{value:t.blockLevel,callback:function(e){t.blockLevel=t._n(e)},expression:"blockLevel"}}),n("span",{staticClass:"label"},[t._v("以下")])],1),n("div",{staticClass:"setting-item"},[n("div",{staticClass:"title"},[t._v("禁言时间")]),t._l(t.blockTimeRadios,(function(e){return n("div",{staticClass:"radio-item"},[n("link-radio-button",{key:e.label,attrs:{value:e.value,disabled:"open"===t.globalBlockStatus},model:{value:t.blockTime,callback:function(e){t.blockTime=t._n(e)},expression:"blockTime"}},[n("span",[t._v(t._s(e.label))])])],1)}))],2),n("div",{staticClass:"countdown-tip"},[t._v(t._s("open"===t.globalBlockStatus&&t.blockCountdown>0?"禁言已开启，"+t.blockCountdownText+"后自动关闭":""))]),"off"===t.globalBlockStatus?n("link-button",{staticClass:"open-block-btn",on:{click:t._openGlobalBlock}},[t._v("开启禁言")]):t._e(),"open"===t.globalBlockStatus?n("link-button",{staticClass:"close-block-btn",attrs:{type:"ghost"},on:{click:t._closeGlobalBlock}},[t._v("关闭禁言")]):t._e()],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"blocklist"===t.curSelectTabKey,expression:"curSelectTabKey ==='blocklist'"}],staticClass:"block-list-setting"},[t._m(2),n("div",{staticClass:"black-list",staticStyle:{height:"216px"}},[n("progress-tv",{directives:[{name:"show",rawName:"v-show",value:t.blockListLoad&&!t.blockList.length,expression:"blockListLoad && !blockList.length"}],staticClass:"progress-tv",attrs:{text:"小电视祈祷中。"}}),n("table",{staticClass:"list"},[t._m(3),n("tbody",{ref:"blockListScrollRefs",staticClass:"admin-list-body p-relative dp-block",on:{scroll:t.handleBlockListScroll}},t._l(t.blockList,(function(e){return n("tr",{staticClass:"list-row"},[n("td",{attrs:{width:"35%"}},[t._v(t._s(e.name))]),n("td",{attrs:{width:"44%"}},[t._v(t._s(e.mtime))]),n("td",{staticClass:"pointer",attrs:{width:"21%"},on:{click:function(n){return t._removeBlockUser(e.uid,n)}}},[t._v("移除")])])})),0)])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"block"===t.curSelectTabKey,expression:"curSelectTabKey ==='block'"}],staticClass:"block-word-setting"},[n("div",{staticClass:"input-wrap"},[n("link-input",{attrs:{placeholder:"请输入要屏蔽的内容",width:372,maxlength:t.maxBlockWordLength},model:{value:t.blockWord,callback:function(e){t.blockWord=e},expression:"blockWord"}}),n("link-button",{attrs:{disabled:!t.blockWord},on:{click:t._addBlockWord}},[t._v("提交")])],1),n("div",{staticClass:"tip"},[t._v("包含屏蔽词的弹幕不会出现在直播中，屏蔽词不得超过15个字符数")]),n("p",{staticClass:"border-box block-words"},[t._v(t._s("屏蔽列表（"+t.blockWordList.length+"/"+t.maxLimit+"）"))]),n("div",{staticClass:"border-box block-list-ctnr"},t._l(t.blockWordList,(function(e,r){return n("div",{key:e.keyword,staticClass:"dp-i-block border-box block-list-item"},[n("div",{staticClass:"dp-i-block block-item-text"},[t._v(t._s(e.keyword))]),n("div",{staticClass:"dp-i-block block-item-icon",on:{click:function(e){return t._deleteBlockWord(r,e)}}})])})),0)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"list-head"},[n("th",{attrs:{width:"35%"}},[t._v("用户名称")]),n("th",{attrs:{width:"44%"}},[t._v("任命时间")]),n("th",{attrs:{width:"21%"}},[t._v("操作")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"list-head"},[n("th",{attrs:{width:"35%"}},[t._v("被禁言用户")]),n("th",{attrs:{width:"44%"}},[t._v("操作者")]),n("th",{attrs:{width:"21%"}},[t._v("操作")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dp-i-block v-top input-group"},[n("p",{staticClass:"input-tip"},[t._v("被拉黑的用户会自动解除关系且禁止与我互动（包括发言、送礼）")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"list-head"},[n("th",{attrs:{width:"35%"}},[t._v("被拉黑用户")]),n("th",{attrs:{width:"44%"}},[t._v("添加时间")]),n("th",{attrs:{width:"21%"}},[t._v("操作")])])])}],!1,null,"29b438d2",null).exports},27912:function(t,e,n){"use strict";t.exports=n.p+"static/img/biligu-sama.3083a62..gif"},28727:function(t,e,n){"use strict";t.exports=n.p+"static/img/icon-rank.054afcd..png"},36441:function(t){"use strict";t.exports="data:image/png;base64,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"},23689:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-biligu.d9d0299..gif"},95330:function(t,e,n){"use strict";t.exports=n.p+"static/img/receive-gift-icon.a4555b0..png"},11869:function(t,e,n){"use strict";t.exports=n.p+"static/img/receive-gift.f0e2650..gif"},13724:function(t,e,n){"use strict";t.exports=n.p+"static/img/icon-rank.f5babc0..png"},47769:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-gIFT-30047.6c5dc94..gif"},90649:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-gIFT-30048.4ec7686..gif"},13243:function(t,e,n){"use strict";t.exports=n.p+"static/img/icon-rank.008d9f4..png"},685:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-gIFT-30031.d434828..gif"},22738:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-gIFT-30033.80d1eca..gif"},830:function(t,e,n){"use strict";t.exports=n.p+"static/img/guoqing-sama.b3ad1fc..gif"},86205:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAADGElEQVQ4jXWUz4pcRRTGf+dU3dv3dncWkUHUqJuMkIW4iS5mqU8wgRnBVwi60MWEvIAQs9CFvoSD+aMLN650FVCUQCCLURASIwkj6Z7u6e6699ZxUdXdgZkpqEWdqvPVV+f7TsnDq1s4Be8NUTAAKIFta9kOrWwBrwEBeAT8Xni7rcrdHAODmBM95IWBdQBcAb4ANvOZ5SiBS3l+ZMYBcA3jFoAZgKDLhYFDuIFwC2ETAVVOHaogwqYI34lyQwQnAl3MDAG6Tj733vZQkNNxAJB80ZK9RfYQiFGumcGSw04X2Uukc5KAqiEC1RuR/sUWAKeG5ikCoiDKXozsLGtYAl/m23DeVqAioD3YeH8B3ghPHW4BLjM0M8ygaQQzvgK+V2AXeB2g7SQzW8/BWw1SJgcMLrUrN7x4pmkF4ALwoS+9bYcUIGb5q42IVulJ7mJc1a9+syUcCmpGNxVsocwXkhWGwtu2L3v2XhuFmPOqt1sG77SnClKcN4oPwmodHnjG98pcW6gqe1dVeaVfr1lM/iywcALr5Igw/3dNpK4jKryqIgTvoa4T73AojH6ssNHZ5rG5sPilYPJ3kcGMwkeSdyU+EYnUVUfhE+j0UAn3/JmAi589x/+4ZGRn1FWX/RmfqCj3VZL/hoO0ESPYy3YmoLxkzGaKCAyHtrKYwK86m7s7kALOwaCfiiIba8DwzNE8f6EE540uQr8f8S6uOis0ekdnM9k/mrhHS+mrXqQsDDxYA80Dz7Mfejy9W9P+5dInUgqlN+reWszpzD2eTHXfAyE08tnzsf/23LDFu/T0w59KegX0i/QFOTOaPxzT+47jmePcMMWjweTIEVr5FFgse3m/67g5GntCo6hC3xvziWCk/nU+tdv0P0+N4RTaThmNPKGVm8A+rD8HgOtmfD0+Uo7nSq+MFIURgqKS1FwsFOeMXi8SgjIaK13kG+D6EuRFwA74BNg5PtaDoyNHv98RgiAudcJ8LgwHHdOZYzzRAzN2gY9zbhLz4dWt05xRArve2ZWqsstNIxecN1R4HIL8Fhq5nZ94oqf+B2ooVjb9c/4DAAAAAElFTkSuQmCC"},40370:function(t,e,n){"use strict";t.exports=n.p+"static/img/icon-score.1da8f30..png"},19989:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTcwMzYwQURDM0E0MTFFNzk4M0JFQkRFMDcyNEE4NDQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTcwMzYwQUVDM0E0MTFFNzk4M0JFQkRFMDcyNEE4NDQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NzAzNjBBQkMzQTQxMUU3OTgzQkVCREUwNzI0QTg0NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5NzAzNjBBQ0MzQTQxMUU3OTgzQkVCREUwNzI0QTg0NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Phnuw5UAAALISURBVHjaTFNLT1NREP7m3ts3FGihqZWXVCuhERCjBiWaCDExuNBETVhD2OhKYuLG+AvcuTEs3LnRlUTdVFYuDLrQhWGjVIOIWEWkb3offueWEqaZ3NM5M998M2fGuJGahWkByYSgJy74lLVTuS3MahomQTNVo67aDjLNAcwP9cmS6IKVNQffc4576QKMJAWRJtz5V8QbEczR3C+Ah1+6o5c6U6ritWXLg5lJLTCWFlRqgKEA/F7IiyV7vlDGtIcWAkAndMAHhIMONvOCKp3Jomnxg317M+8ci7fJVUNHUU9HTyiMuZqFuzS4wS6oT3C6B5gaqiGbN1CoABaZeplgYwvJ1ZwTo/+CKuEw9Z62G6iE9SMaBi52CpIeL66nTcQj4gYr8dQTzfB4XgHcpLaoC4WhWISCglQH0MUSTGYfDGi4NlhDe6u4wfvklgK4vD9zJCyYGnBwlBltU4NDe63owamYiUsjZYQIto/tmALoVSflaBiC4wdtjPM50x4N7Ljr5fDSrug4N7yFvs4aAcS1UWIKQN+jzxqTzATdQkSrP5HryEvLsOGPltDdXSKA1mDgntb2CDGjE9oB2ouwvATSGM1AaapCYgXX7tqcvYi/CiDTKKHGmM855j30B3rvX0h8G1piG8L/RuoXKoaJbDYEm79dea9YPqROkaXPsm18XA7i3bAfJ0dXoee9JEno1jLQXEXmyRF8/eaD5ZiNeXmkBmmdhza6jap6OVBY+RLmV0fwAEsJVfEz58erp31YzHSgULUaU/mS03pf1DJRAnya5wyeMLT6LPh0HS3NDvx+G8WCDu4IaraFElvUE5PlRBTjb5eddbedOybKZwbkSn+XzBPEUSwKOxZ+bNrIrgk2ti2UzXrmjhZZmJ7UJhJRWVdL6DJQ1IN+uAPChbrA+hStszTHUTf/Vg2j3+OAF8+8bE2pUt/i/wIMAOEpAR5FIgagAAAAAElFTkSuQmCC"},71392:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-openfire.809bd05..gif"},38154:function(t,e,n){"use strict";t.exports=n.p+"static/img/redcarpet-sama.f4015f1..gif"},83261:function(t,e,n){"use strict";t.exports=n.p+"static/img/icon-rank.ccd1c58..png"},62968:function(t,e,n){"use strict";t.exports=n.p+"static/img/icon-score.0d42271..png"},23001:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-flower-rain-lottery.63fd76b..gif"},84977:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-flower-rain-wait.c97a402..gif"},15501:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAACpUlEQVQ4jZXVwWtcVRQG8N+8iSnTadM02WhnhoqmpHFIulDBCpXiLFxZWrWi+1mWAV1U6j4idjfgLn+AmorVlUoCglCCKJrEaRzboKUzUxAybdLENCXznos3g8nQNO0HDy7fvee755x7znmJqfFIoVi2FdMTpV6cbn/HcQj3UcOv+ApfF4rl+7oQdBPTE6UzqOBzvIun0Yt9ONrmvkBleqL0Rrd9zxahJD7CeUj3Nx06WjGY/Vtq/wpYv3vAUu2wxh95a3cGhvDl9ETpE3xYKJZb2wQ7YkHQcuSlH2VG5iUS0bbb0/1N6f6mXP43jWrenzOvCDd7zre3P4DE1HgEb2EyCFqOvfaNgczN7kgeiGYjZ/bbU8IwCWcLxfKlxNR41ItFZIdf/kH2ubn49Ooi+57dVbR2dUz1ykmo45kAZ5FNH1ySGZl/JM/AwDsEKZmReemDS5DB24G4NGSGK9tztpt367+TPi6RiGSGKx32dIAXYSB749G9g41F9gzpsn0hwJOQ6lt5PEEJtHTZPhWIO+DxsecIG9dB1Pq/PwLcgvWVvphZnufOLJtrDxdMjbD2E7i32tdhbwWYg2btcExFEa31uGwehuZnhOvxsp7rsD8HuAyNal4UJeLXTe6NU7QTNv5hea59f0Kjmu/sXA4widrq7UH1hVF60vSPcWBsZ8F/bxJugvrCqNXbg8SFPdl5lPfh2syJre7vjOAJ9mY1GznXZk502PcKxfJGAIVieRIXwzBp9rtTalfH4vB3QNR3TP2vV81+/3qnjy+2NbZNmwtIhWHyXPXKSbWFUZnhisHcDan9y8Iw6d7dPs16TqOa74QJn7Zt0Z42Wyf29ETpTXyMoV0Cv44LhWL50layM7660SseGmfwvLjxiRP/i/gXMOkBTfEfzsDp9WoUm84AAAAASUVORK5CYII="},40662:function(t){"use strict";t.exports="data:image/png;base64,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"},87557:function(t,e,n){"use strict";t.exports=n.p+"static/img/midautumn-sama.4273c71..gif"},97830:function(t,e,n){"use strict";t.exports=n.p+"static/img/goodluck-sama.b3707cb..gif"},22304:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE9WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0ZURhdGU9IjIwMTctMTItMjlUMTA6MjI6MzUrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE3LTEyLTI5VDEwOjI0OjE5KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE3LTEyLTI5VDEwOjI0OjE5KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4Y2IyZTM4LWIwNmEtNDUwNi1hMGE0LTg4Yjk0Y2VhMzBmNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOGNiMmUzOC1iMDZhLTQ1MDYtYTBhNC04OGI5NGNlYTMwZjciIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxOGNiMmUzOC1iMDZhLTQ1MDYtYTBhNC04OGI5NGNlYTMwZjciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxOGNiMmUzOC1iMDZhLTQ1MDYtYTBhNC04OGI5NGNlYTMwZjciIHN0RXZ0OndoZW49IjIwMTctMTItMjlUMTA6MjQ6MTkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz51d7SVAAAC9ElEQVQ4jV2Ty2tcdRiGn+9c5pxJ5pLbTDrToK2kYrF4g0KrNroR3Gm7sNCFWBe6ERTx8j9I3GUjqOiibgpaNCtLNyI2pYgtTcikNSZNYtuZSWd6krmcOZff5yIU0Wf/Pqv3kdr8KQBQUAGUR0U4i3JC4VlQB2RR4IrCV6CLIgK6N5P/CT4QmFXFRiNM3EU1xXKGECcLKojwGfDpQ4HDQ4RzgpxRE2GiNpmhMt74YcT2iTqbhMEaYnlIpvAJak4AzwM4umd6X4QzJukjmjD22GvkpmZwC/vRNCUdPCDcvkHrzwvEYRvbGz2Omq8VfVtq86f2qepdUDTuUX7yLKOHThKHDexeG/VcYqNk/EnC1gp/X53FmBDLyaLKjKWq7yGQhrvkKzOMP34aje5jm4Sli9/QvHGFoUIVy+qSKx1hbPoN0jhBVQH90AJewRhQpTD1MiDYXpVevc7N1V+49tu33Jr/kp1bq2DnGDn4KpZfRZM+wDMOyGFQbD+PDu5AeJvO/Q6//zzHyMQwuUKWpcVzHAgDnp56BO3fQ6wMcZrguVJyRHAVwSQ2SfsvUnuX5uoaxu8yUcjhS8TE0WNUDj5BuPE9cWSIwghwAcQCVkRsBlGPXtDEhB3KlRIvvPg6lamjGMdjbLSK229iExP3+wTBNpbtALQs4FcAO+Ow3dgi2dnBTRuYB8uMZPNM7n8JJ00wgy0yathcW2eQhDiOgwgrFjAH4GUyhGnAcq2GCQxZxyDROiN2i4LXI2scbi7dZr2xSbHoYYugypyDUgNmBfmoWPS502hw+XqHA6UShYKLZbUJ+8r6vYCNoE6p7LJvbBjfcy6q6gVZ/unk3pNFLgsci1NDo9UlaBtcPBQYxBGJO6BaHuap6XEarXAr2I0OiRD+2wIcV/jCta13KhM5ivmEbhgRRYZx3+XI9CT5IZc/lls/fvz51TcXrjfD/8a0x7tGOS9ivZXLus8N+27VdcSKE61fWri7+MOlje8WrtXPg9DtJwD8A9EWZLDslq/oAAAAAElFTkSuQmCC"},53651:function(t,e,n){"use strict";t.exports=n.p+"static/img/icon-score.c040114..png"},57005:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery-newspring.b35d42d..gif"},2178:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAC4jAAAuIwF4pT92AAALRWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNy0xMi0wNlQxODowNzowMiswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTctMTItMjlUMTA6MzM6NDMrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTctMTItMjlUMTA6MzM6NDMrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjFmOTc1ZjUtYTNhMC00MWJjLWIxYzEtYTQ1ZWE0MzZmODA5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY0MTJhYTM0LWIzZDMtZjc0Zi1hZjFlLTgwNzMyNDVlM2U0NCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjY0MTJhYTM0LWIzZDMtZjc0Zi1hZjFlLTgwNzMyNDVlM2U0NCIgdGlmZjpPcmllbnRhdGlvbj0iMSIgdGlmZjpYUmVzb2x1dGlvbj0iMzAwMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iMzAwMDAwMC8xMDAwMCIgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIgZXhpZjpDb2xvclNwYWNlPSI2NTUzNSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjUxMiIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjUxMiI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjQxMmFhMzQtYjNkMy1mNzRmLWFmMWUtODA3MzI0NWUzZTQ0IiBzdEV2dDp3aGVuPSIyMDE3LTEyLTA2VDE4OjA3OjAyKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NDMzMjVlOS0xMDVmLTBkNDAtOGM0My0wNGZkYTFkZDJkN2YiIHN0RXZ0OndoZW49IjIwMTctMTItMDdUMTY6NTQ6MDIrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmYxOGQxNDA2LTk3ZjMtMTg0Yy1hNzgwLWIwMGM2MTE5YmJlYiIgc3RFdnQ6d2hlbj0iMjAxNy0xMi0yOVQxMDoxNDo0NSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6N2JiNGY4YWMtMWY1ZC05YTQ4LWFiMzYtZjFhMTY2NmNjYzhjIiBzdEV2dDp3aGVuPSIyMDE3LTEyLTI5VDEwOjE0OjQ1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmMWY5NzVmNS1hM2EwLTQxYmMtYjFjMS1hNDVlYTQzNmY4MDkiIHN0RXZ0OndoZW49IjIwMTctMTItMjlUMTA6MzM6NDMrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9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"},61175:function(t,e,n){"use strict";t.exports=n.p+"static/img/receive-gift.8bf8638..gif"},90419:function(t){"use strict";t.exports="data:image/png;base64,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"},1307:function(t,e,n){"use strict";t.exports=n.p+"static/img/lottery.4acec8f..gif"},7983:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAADzUlEQVQ4jV2V229UVRTGf2uffeZ0hpmBFouUFowVLRrFWDWEGPGprwQI9UJMjImPNUYj+BeUCJrIg8bENxMflMrFGC+JsSZEfQDEBEhAUrzElpIW6X2mM2fvvXw4p0P1S/bLyrfX+tZlry3DozWMgBVlFQrAngB7XJCdwCagCYwDv0bCKSP6RW4DIKggolgAVQjScrYXOApsVZVVMSgA2/LzgsIY8JaqnBRRFFAVDECuLRI4InBSYKsA5r+qWzCi5JwTRvSIQGREUSVzeP2jIYLKYeAQgKwcAUJg/upPzF7+AW3WW3aRjJPfOXzlwyEuv/8KMjxaA9gPjMRGVxNZHL/KzR9P0Lx9AwCJE6rbnmLD9l3Eaztp6VdoBhm8eOzlz2V4tFYArgM91iiRQG1yjKnz37L095WswHfKgiqoCNV7t7N++zNUe/pwKrggE0CvBQaBHoJn7o9LzF38jqXJ31uXAZreoUAkApo14Na1c0z9dpa29i7WPfQ0HX07uuNy+7PWGt0zc+0CUz8fxy3OZSMAqIbcqeKCZ70xbDAWgAnXZM4FFFiYGmfh1mfU/rnBfQMv7rPW8GS191GIC8xfO8/s9XOEtJGPQaaGoNzynunUI6psjiO2FGLiyPLXg7vo6h8gqa4nibRf3juztBwgWXZZK1xtntlL3zN+9it86loqFQitSgqbnxhgX69ybvPzeGKKVhFoGhFtWlGSKCPbUpXunbvpuauTpBDjNODRzJkqSRRxz8Yu+gYOMFvvxRNTiJRIFBHFCEwK5MYsfv32NEY960olKknSGug1bQkd5QpRcCwvLmDSFKuBJNKV2Z20IlwEHhCgaANLqcHX5wlB8T6QxDGxtaBgjGTpq1KfmQZgrV8kpYwKiHLeNLycvvOkILFKtK4LTSq4vNNGBGMy+UEVbIyU2rEG2pr1VgZpkNOm6WWk7mR8pdwFoxRKayjvGKSyqS9/f3dgK+2U+3dTqKzFRIbKzE0AGk4mlr2MWKDpgryxlMrxkg0YgaIF130/pWo7nXM3mZueRL2j3N5B3NED1bspxoaZzi08cuZT/ty4jWaUvP72gYcbMjxa492X+nnz4wtHBQ4WrWKNkgZh2QtlabBQSzHqKbUVqJkiSaTERvEKLCyy1FZ957lPDh567OtvWssBIAKOAUNJlI1R3QnWQBrA5m10AUo2D+gEhQ+A1wAP+frK4YFXgf0NL2M1JySR4kJGMgKpF4qR0vBC3cmYZntgaMUZkG3s/+EE8KULMlhT2Vsw+rhXur1CHOlE3csvLsgpYIRVX8AK/gWYr7WPsUadYAAAAABJRU5ErkJggg=="},99651:function(t,e,n){"use strict";t.exports=n.p+"static/img/school-sama.5017038..gif"},98433:function(t,e,n){"use strict";t.exports=n.p+"static/img/stuff-1.0766f6b..png"},85080:function(t,e,n){"use strict";t.exports=n.p+"static/img/stuff-2.ae4ef7d..png"},32306:function(t,e,n){"use strict";t.exports=n.p+"static/img/stuff-3.2c86e39..png"},48624:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAACZUExURUxpcTR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ojR3ov///zKAs9Tk8TJ3pCt3qO/09yJ2rfb4+vv8/Wen0TWFuS58r5HA31OZx8rh8N7r9TyKvUSQwp7I5KrP5+nr7+Tv9l+izih8tLfV6sTd7n212r3a7NPe53iy2HOv2H+01+yZFakAAAATdFJOUwCPXBWyIod+lkj1w2t2MNUJot+cMD4SAAABdklEQVQ4y92U65qCIBCG1bTwkFYoqCmY2kHtuPd/catIWznsBex+v2bmeTkMfKBp/1S+ZzqOPsaIbNbGTM0hymreOCK2yOOrYmSh5BJeYsyJmMamZ4yjjM4hp9M97hUlqE9mZh4PWUa8KTenFyy0T9y5HiTdmBWB8cktSYalujoMi51M0sq13zljU+CXytMrjnPTenG2W23xLzq16OeULLl1AIvCTrQ3aIbakUunYCrI65NEybj1NJ6C8Tj0QAWJ2FmWISgrXJDkIMtHsHR8lMGd9KBZlxIEHaey1OXDjLbZij1ubxC8yctC4ix9lAyr8wyA23qY4kKf57PqjdO7AYI4bzFuqP5uxUflcAgWQdGQ5YcZCfrp/k1ZQD65/hp92kHwTlarqSGFp6fiBHCawSII7okFQI+VEDxQH4CLMIbgldrwceUK7+4U4LpW2DtiBgDNQvUOwiUA3Ub1YnL4AzjZKZqqjCoTNhOqxGAzmrdQyP5T3/E3nl5ChTn8pBsAAAAASUVORK5CYII="},86307:function(t,e,n){var r={"./bilitree-2017/biligu-sama.gif":27912,"./bilitree-2017/icon-rank.png":28727,"./bilitree-2017/icon-score.png":36441,"./bilitree-2017/lottery-biligu.gif":23689,"./bilitree-2017/receive-gift-icon.png":95330,"./bilitree-2017/receive-gift.gif":11869,"./bls-summer-2018/icon-rank.png":13724,"./bls-summer-2018/lottery-gIFT-30047.gif":47769,"./bls-summer-2018/lottery-gIFT-30048.gif":90649,"./bls-winter-2018/icon-rank.png":13243,"./bls-winter-2018/lottery-gIFT-30031.gif":685,"./bls-winter-2018/lottery-gIFT-30033.gif":22738,"./guoqing/guoqing-sama.gif":830,"./guoqing/icon-rank.png":86205,"./guoqing/icon-score.png":40370,"./livestar-2017/icon-rank.png":19989,"./livestar-2017/lottery-openfire.gif":71392,"./livestar-2017/redcarpet-sama.gif":38154,"./lover-2018/icon-rank.png":83261,"./lover-2018/icon-score.png":62968,"./lover-2018/lottery-flower-rain-lottery.gif":23001,"./lover-2018/lottery-flower-rain-wait.gif":84977,"./midautumn/icon-rank.png":15501,"./midautumn/icon-score.png":40662,"./midautumn/midautumn-sama.gif":87557,"./newspring-2018/goodluck-sama.gif":97830,"./newspring-2018/icon-rank.png":22304,"./newspring-2018/icon-score.png":53651,"./newspring-2018/lottery-newspring.gif":57005,"./newspring-2018/receive-gift-icon.png":2178,"./newspring-2018/receive-gift.gif":61175,"./schoolopen/icon-score.png":90419,"./schoolopen/lottery.gif":1307,"./schoolopen/rank-icon.png":7983,"./schoolopen/school-sama.gif":99651,"./schoolopen/stuff-1.png":98433,"./schoolopen/stuff-2.png":85080,"./schoolopen/stuff-3.png":32306,"./schoolopen/t-shirt.png":48624};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=86307},41533:function(t,e,n){"use strict";t.exports=n.p+"static/img/default.5769681..png"},87570:function(t,e,n){"use strict";t.exports=n.p+"static/img/new-videopk-assist.d76e18d..png"},86019:function(t,e,n){"use strict";t.exports=n.p+"static/img/voice.572a9e2..svga"},78165:function(t,e,n){"use strict";t.exports=n.p+"static/img/def.79d2bd1..png"},75114:function(t,e,n){var r={"./all-top/index.vue":[20226,226],"./area-top/index.vue":[92054,2054]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=75114,t.exports=i},88652:function(t,e,n){"use strict";t.exports=n.p+"static/img/title-40-1.67d5bb8..png"},39459:function(t,e,n){"use strict";t.exports=n.p+"static/img/title-42-1.2af6892..png"},1719:function(t,e,n){"use strict";t.exports=n.p+"static/img/title-43-1.d792230..png"},76648:function(t,e,n){"use strict";t.exports=n.p+"static/img/title-45-1.9aeafa6..png"},44276:function(t,e,n){"use strict";t.exports=n.p+"static/img/title-46-1.228f547..png"},16694:function(t){"use strict";t.exports="data:image/png;base64,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"},48442:function(t,e,n){"use strict";t.exports=n.p+"static/img/hot-icon.516c731..png"},38429:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAsRJREFUSA29Vj1oU1EU/t7tSyMJEfEvFjtpU2khiiJqcRBaQTfTwZ+hFJwEB6WzcwdH3RxEkC7q0ICLS8XNv0krim11EKXUqkNrgmlf8jzffb15L7cvsRH0wOWde86537m/33kOWojv+93iLsCrFlCr9cLt2KHDveoilJqRflH6RcdxPjeDceIcAtyFam1cQM/j3Qcfr2fSWPgBLJeC8EwayG4D9udK6NvrSLJ76FDXJNG8jbcuge95Bfj+XTx9lcTjF52orNhjGvvJTmDwyAoGDlTgOKOO63JVdWlIIDO/ivKvcdyZTOPL13rQhpTdO4GLwyWkNnElN8yYegI988rqBG5OpLG0thUmaqPfzbJ1V0ZKSCZGzEp0Ar3nnvcetx5k2p65nZwruXR2Ga67j2eitJ8Hyj1vtS35HHD5QtCoNxNiEIuYIkpfRd4WHmgrOTMIdGeDRr2VEEswic0VFPB2Di1vy5YMsPQzhKROWzPhzSOmYCusesOYnk01i8WJw8DYKLBrexhCnTb6msn0XIrYrtz5nH5EdqCS8z93Wh5Tr+0J+gkXOHUc6JLHff8RUPMb4xa+g9hKP3/zQqMhJweag0fjOIGhY1FLoBNTqCW4RevdwMG+OGu87VB/vF2sSohsEeQWW67fDrnH+KaeAWxR4UwZawsxBVsJf8wiu9V2B/35b6H9oxDm1POgUTcSjTE2fkmGwrgKCXcS+Vw56qvrnyLkuEeYe+ho0KgbicYYG79kWqFznkER/T0AWdGWl2+4zNDKw4weKH2MsYVYpHHBVrpYkM9JubZwfx8+sa1hn764G0gswST2/yE7sh6LheZzUu7fCseyJrDwrFW3+jvQ/C3FQvM5Kbdd4RjWAhacSFXTWxTF+qcl0yTSBcgUfbIiyTCu6Od7yvoGtlP0TRJ+da0gnZNxSYrR3xY+UL6hP/y2/AbTxyDDbBl4HgAAAABJRU5ErkJggg=="},26493:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAvpJREFUSA21VktPE1EU/mYYKLTWGI02+IgxgEQUHwm+MHGBxo2JaRdGFwTjSuNCf4CJO36A7lyZKBvjgkYWrqghLtTGDWIgUCDRoAaIGsQSodOO57vDdB4dKiw4m7nn3HO/cx/nfGc0VBHLsvbKdBJmMYlS6SCMmp3K3SzOQ9cnRE+LntY0bWYtGC1sQoAbUSz1Cug1jE1Z+DgRw+xPYDFvu8djQGIHcLQlj0NNmgR7jhr9vgT6HsSrCGCZZhKW9RRvhyPIZOuwvBJc49cjdUDXqRWcPbYMTevRDIOnKosvgOz8Hpb+9uJJfwxf58pO6xrs2QXcTOURredJHjprygHUzpcLfXjUF8Pv1atwvNb73SpXd7c7j0htt3MSFUDduWmO4/GL+IZ3HgzOk9y6ugjDaOWb6GqeD8o7r3YtjZJAN64AD24D7S1BWFcnBrGIKaKrVGS28EHDhGe8cAa4cx1oPQDURyRxu4At0TBv20YswSQ2T5DE6CTWzJbURQlwGpKGLmBDPTPH1YMjZh4xBVtHwUxhJBe+ncvngY7DweW2TjsfdS0ZmYwSW5ecb1FFFHTcvxs4dyJodXXDqD4/+wPENlT5OxXqLgc6j3s1YGwayLwH5n8Blzrt+ZNHxJYNv15iCrV4LtaPB6abI4PvgGcDUFm2UgBevQEW/tgPziBVRBcimwe5JSixBtsyPA4Mys69UiwBn3K2hSfVy/XqehFTsHXhjxwS290JZ/RFeIsVnc44Fv/38zdb3xYH2pr8c9RIhsK4OmqNfimcpQqPoQ/Ay9fh90vnmVl3SUfINZFphc75Bmm0NQNkRa9MC8WPTnkt/vHCoht8X8I/RyzSuGDrqlmQz0m5GxFLnLMjwJz0iYEh/0piCSax1etsOtmR9dgsFJ9Xq07/Pis1rmVPYONZ7W7lOlD8Lc1C8bm3Biphwi1cw17AhuPpahUJvKkt09maehOn6ZMVSYZhTb+9eUll4EaavhOEX9UrSOdkXJKi97eFBcoa+s9vyz8LjygPvOWMrQAAAABJRU5ErkJggg=="},60466:function(t,e,n){"use strict";t.exports=n.p+"static/img/bilitree-harvest.d814780..png"},42197:function(t,e,n){"use strict";t.exports=n.p+"static/img/bls-summer-2018-surfing.57217fe..png"},62320:function(t,e,n){"use strict";t.exports=n.p+"static/img/bls-summer-2018-survival.6fc295f..png"},44335:function(t,e,n){"use strict";t.exports=n.p+"static/img/bls-summer-2018-volleyball.688a66a..png"},27222:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAAA/9JREFUSA2VVl+IlUUUPzPf7F25l1WiFkk2ELF8aKPEByGwwKIXo9T+LOFmUZEPLaSWm1HhRgj9l6AeDNfFVR+2wizyIVHJIsgHy2oj/INIieE/KvW77b13vpnO79yd8fuua+aB+83M+Tdz5vzOmUvE5L3v419XmPDcewWOfe7D36Eh5LPsH5k0Vq4XFYx6XCiDwrcxsNnTuWrkm9ceSwm2wUxs+YO1WPh07IJ9ZVMlmJh3nl4e5uRr9d98w+4KDOWtXWj7Bz8NDIxt7y5T1Oo/++5X7/YfTg00vM1ImQRTcl/9RPR3WtY0qUTZC4N8OkfZ0E6iU3+RGXi02oyDjyfq+HRdR20rH1AiwBqHcHtHR9yOfSWsI7FH9nBelcxk8MQg232gJoqVSZSsWEz+xFlyX+yj5Jn7yP9yjNxHX4u9efOpIYV47YtDN4DDFyGC1o+/MEbZmmGizimkSanDQYHzJcGENUYEJso8V1OvaR7J1+05u3qwI6+ouqeTHz12kcVBmxWLp8WgIeF73Oh/PNqT7dxf5jskdVMXJUvmV6lkZiql/rhoPT4DjJA/IEByyWBrVYo7yLEGNnfQWL2goxfMres7u3uUMdshEINW2BQssJhcJvPyI4tgZHBu279BMKYfvoPUzdMp++Bz0vfOJTXtWsrWbSOgFkll03YCcoAooOhyBPk46vq03AibwvMVqd7o17g+EI4xEQGykUzSqXHXQgxTgWuUcl4AYYZyJOe/1ZKYcQ4yG4xEuX9D1EUdkEkeR81fb9dtO0HHz0ThJbBgiXn9SYG4RsoZI8tRIIEKGIIyN4BCPUARO1HdHsm27in7Q8eJplQouWdOVd06Y4Tr9IngLEIjMKJx5tZS5nq4gLw7cLTiT/6Jom6qsTNAXd82I+V0KEr0CP9emgighQ34VM9StbbWrt9Ryd9BfvPLzlEuyxakVG7HRu8FvSZWEW4jO2jf/6zjqh0HT2HERn33n6e2ZBYikk7Nd3nQvrqlHCsHveb5B0lxEeQpgCr0wiDzjP3s7U+I0rEmC41sTS/qepamht2EREXnrIJG1uoclnDc6lz4fBDYROISF5/sW3NybhcURCkjhLvk1VKrjfhk35psdhoQy5Pb+KVUBKrhShReCNgUCD7ZN3LQ578/8oaEVNBoLlBFeundpJLCiyl164Z3FRtvzj7pnZ+q2TNXN1HETczt/XnJJa9OziBsBNZ/OYa82VZv2YqCi3WAp41qdot96+NK/h2Hwf8mtN5VD6XUbnoLPTvvQDZyNOy+GW13u38o5dGV14tzhqS+a3Zdz+uu8bO3NDgO8hhBYORHzg+a50KG8iJuPjdyu+sUOYCBF7TN4B/Fdi4obkYT07+3wEWAj9Kz7AAAAABJRU5ErkJggg=="},80773:function(t,e,n){"use strict";t.exports=n.p+"static/img/flower-king.9c0a8b7..png"},7782:function(t,e,n){"use strict";t.exports=n.p+"static/img/flower-queen.c48f847..png"},5141:function(t,e,n){"use strict";t.exports=n.p+"static/img/ivestar-area-mobile.620f5b3..png"},39539:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-area-draw.77331dc..png"},21382:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-area-ent.655c17a..png"},26005:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-area-game.131f3e2..png"},18736:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-area-mobile.620f5b3..png"},58748:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-copper.6dab7fa..png"},42956:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-gold.ad2be29..png"},91490:function(t){"use strict";t.exports="data:image/png;base64,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"},67669:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-sliver.82380d2..png"},27936:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-top-star.fc99ea9..png"},90790:function(t,e,n){"use strict";t.exports=n.p+"static/img/livestar-top-ten.92c62e6..png"},16268:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAABKBJREFUSA19Vn9o1VUU/9z7vu9N39tm05ZtPUumzrJlSyNTEmtFBUJpGaO2flCS/wwsqVFYtBAh7DcEIWVmzmA1akEShBvMkVAimzqLNZtmcytmP9S9zffe9/s9nXPf7nffZ7MD73vPPb/uved87rkPYCKiBv4lDeMdOUHZN1pJJknvhz4eiMQK5HnjhnHf/9pIs5u2k6b+00YoHyWfbNNuwrkxYQ05Wx5PGV8xD5PMjQelLoy6L+9KBB5vPv2M5UHpzCnKuvusQJHrrnEbd3xpBTJG39qgIPG8Az+aJfzTZ0jm/qH+lA5bqvJZQOF0eK1dcQfTYvBbu6CXX2ds9Pp7oWeXjOXOwe6BZ/JyRDc9qIxChLIJv7O3xd/7fSwwEoYjOk2Pnlcxp1imxsFr70kbw9IZ0KsWi9yQ33kEGDlrp3C2rd+p5LzuizvnoGwm9O2LoW+uDAyEoX9G4W35NCeTgFCq38yG/wLGMzlF6KsuK4Red5uRqNkluS1Rxj3nvrCjKLCbHoOuq4FacBXgevA2fwzwoZ1nHygPDi3G5Hof0eGBWu/bQ3GcTUFVJhGpqxlDzJmvlBoOAlqGy5GU+gl6TC0ZbFZnx2AFs62m3UW4kH8OvXpZRq+qqlWO0yZOxuFi2NhowVgch/PSw2vFyZF9u40fGozpdSsDG0kn7evOzRm1UlSeFDhySJFaY4sR8nzQzCL4n+03TlJYPmODNhkxInaaAJRMVURDL7sWal75hJaHTLZRS/qEiEdKZw0f/uj6msmpEynVkmsh2n8UdOL3SeUEp/jAAfn0nTaFEQlH99t7QFPAwzgwauFEnlB8kDL37S+GMHgmCKSqK6DvWw41IwH3uQ94eYLz2lMG4rk6EG1kp3fCToE3M9IAVGJaocgmK80rIeMe9/Z0xOnnQYCjR+5eOqZurGhRTuRJGyBwsAIZZZvw/K38q6VjJ8nvGUjQH3/DZlSCCdR1dUVKXT9XIaJb+Ld5KoDmLcCBN2IsvdXdvjdxqeOEN5LHy3XZsDqFeIEs9K7V2RyVIev1ue99VRQEZo26awk4N6ZCNMrtldsBDf2JcAO1gYJRFmq4/zyikYVyIqlaknPZ577aHDc3h8upFl0N0+uktExqTik4BaAMAy2Vzi1ADOXDA6D+oSB2wEgje6Ve7vVCxU7tXnNHDfWezOkryqCXzDe8uuYKYFYxVEE08A0zgjnqPg6/7QC4XmEVVNVcROprOjTvbIVBgVVLLxOS5HEjvFRwYyKta8Ui6EfukGkemZgcW3NPGxFUBDSeBv10iqHEklALDvRTMAxNyGXII4nJsTVi0W2C37CSjv0K/2Af6Jdh07bDuql4LibUrbmnyOoj9yxNSewciriJ+Z1H6/7z6og1X35VPQ/6lkrgSk7Z5GNlY8HvG4T/zUHgtxEjy7XVG/bIhTMLiFSeNqTdZvf1zxP/C0MxdiJmYZTw7ZY336ZSWu/zD6W4j9bn9WzxsWQW8vGJ39Vb4Ld3xy5u+tYuGBmS+s6bMnplVZqfvcdsYKsPTmAF4dHcEWANsu5a7h8LeOd8IZgEGPKCRh35R9HGaeNmNDX9CyDkKGcKF8RWAAAAAElFTkSuQmCC"},17497:function(t,e,n){"use strict";t.exports=n.p+"static/img/lover-2018-heart.073e7d5..png"},88043:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-aid.ac16f96..png"},14876:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-area.5248b52..png"},31441:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-hundred.2247de0..png"},5494:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-revive.4eec3b3..png"},16037:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-top1.f31f2b3..png"},68445:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-top10.6d9258c..png"},31999:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-top2.7d6a82f..png"},46182:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-top3.a4619a5..png"},37243:function(t,e,n){"use strict";t.exports=n.p+"static/img/master-top5.e9c3a64..png"},33444:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAABEFJREFUSA2FVn1olVUY/53zvvdO7m1K4BDlRrJWI5p9jcyCihY5aIUfEUNcKhoJMUiNxKhoo4SyLIoIDFTS7Y+h1YJWENvIxKzFmrO5Ws5lIooYhdq97t57PjrPeT1v73vvtQ7c9zzn+TrnOc/vec4FzNBat5tfxhLy22O6uGmHpkWGCBqkBS3lZUs4Ls2cOOrgmBUw+hY79mpczFkGffxXV2etrTOzHs2H1tZCZ6f/Fi9/lHYm/vanNzgaOl84pYui3zGYFmKp2LzzU8egOfH2eoaofzl6wvpXw8ez9ojiuQ+tAb+1FmxhPeT+gymOGUnLdEI9NAG/48lcEAddghuZ2UhsepxZAfHoEOrAWI/q+z5w4RSNR+PhEkv6M4llDeTAkXxU0cQH8dZ+4OyfzszO/randjOKV7yw+zrikGLpUD9OQnUPBuyaWeBg7LhTokDop5VyLPA76+BtXG7XbM61wZF0QVwUW3ZWh1qVCBO0v3H5vDBo0tFC7tKjU63yq+EULmTBbsrAW9mUQ9KvY4ydLfNjEp2h/BF6bC4N2EqVwh3ssTr2VmO6ENPhLXcX+AMNrcz3e0lgDUphE7OgxcwU/JdWLCMjTue2GPMsHOA98yjY/QuAa2b8a2dQS0klBqcgiWB182we1PgpeEvugd+5CrjihOSUWBNjO7c3QpzZNvPwHltEKztMZh0ZzIXiZk7XR0MfGof88odAEPnGsu97NZzu2g3dPwL5weduWT4rfYjbxERE+sQZiC27qLQtV319NJBSHfjeGmYEc8U7n5zB6T8iZuWk//o6C3FOKTcY2QCDlasNagCxeiBF2gkFMSm7B1P619PArDS8xY05dlttD/O9tc5ZCA3HCI2l2gqpWvWxk1odmUrrc3/B3Sg5I6jz22uz7Jb5zOSrx/xerATQ2AbmVM8il98qdvSl/+8OogeyNJXL+pYsUlW00btOHmCVwi3KCfH+Z9WVHPPVD0OPTEIf/c3ZXX2mjdqXXELCq6eIKGsZc5cTorMr5SqHr20GM9egDo9Df/cL+CN3gT90R+hUG/DJ7R8D2emQFyOokb3SRnVdz3ShOCC7Bpv02MlQh7csBFt0M1iqKuRVIvTv5wKgClkmZg3z4bU1DXKTnHstCiIqqm8I+vDPMM0jwi0n2fVz4L+xDry5sUxofRrfHEKeJ1SUDvXFEGRnN9ToVKmobM0XN8J7bU2cTz6Nb45kYhvhNy69srqch9rTbzuzeK8X+vyFimrEVPu+icm85sYs+Q5QZJqYOvDTyuhjEtMuWbAb5oKveNC8yQLKNAw9HL4UVjNoqwu6qeDCOqCnDXnRJd7cl46+4yW+/3tJrff5J7Ko8ttiPTtqZTdS2GP+PVSpgZGkg25UJ0YbSBoIF/h9DXnz7K1yjp1OGIFjRGdbI8BScxXLTPO50bS7GisnYNALmvDpH0WvKSjTjCqPfwD6thbjxCbEvwAAAABJRU5ErkJggg=="},88265:function(t,e,n){"use strict";t.exports=n.p+"static/img/newspring-happy-frame.00e5391..png"},39930:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAABHlJREFUSA19VWtsVEUUPjP3dlt3WSiGqiX1AaE2kfpATHwEo1YlJvgADGmgxVeM+qOJikowSqwhJD5i1OgP0WgtD2Mj0ZJYTUhRKirBBqEBIduShpQlBjQBae/S3Z2H55zL3L1Lm05y78ycxzeP850zANistW341bkBjq0VJFEvf3YCpWSEZlqf50HxrS42Ka7ZZCWcPgv27BgrQm37Fqu+32d15oQlCxuMj7GvzmTZjX5m7DwrBbmQhVrfmXIY/nvPvODGYPOFEVtUvSWBUksJVx9FOfb0sZIXi1awrDD7hwIZucYGevuepISqBKiXPgUzeBL017tZ7bevzvGuIlwS182CijWPClbQ3OImTN/hLtOzL0HzqCEiIoyKhD+dZOygdx3Mk6F8cjGYjp0g6meD99yD7GP2HgGz/Vce++883SHovOrVjiu99atAVE9jxcU/2jO3mhkgQYghmugNX+G2dKiI/SNjlInLZ4ZbsgV1Tq37PB2zA0gnwW9vZRE74aH9F5fPjg5NGlzhCzsw3Kx37k/CfwGIa+vAa2nKQcKfJ4T4m73jPwxIHcWP2MOxRLLF9TSOVuBttW9Jw3ihzEYuubUg72psFr7fHTlEtEn4IFffxzB8lY6N0/E8r69cRk6S9u04JuZcAeZLjEOiAny8ZuRbuNq5HFBQeULMIQoYpWOcKg3NyOmIfihtk3wj6Cq8SQkHkKoKV6F/obhW0vVN1fRHO0pq36uRdNfUHFVLWgAzMAyA+4+asb9JDgxKbP8g81z/2A9m6CTlOZjNpZSiPADfe0JSFInrrtneA2A+6QEIxvmWxA1zWMUUFyLLgUO059X7334A2X+dX9jTRWgD/obHA5GqYiqXIm1tLRTUMb3tp6QdzALMSIG3eGFO3Di3S/jeUw4pcnAC6nHFWkTeiF+z/eu4NQeHU/bUGYhuFMGI6vKmuYGYf40AT3bh99pkBC1bgI4CufxGtaknNeE48R1MNqZ0eXZJAMlKWuhDZ+LuqBaKOqM+3pGOgGdOA7l8EdhfDoHFqHDDEuOtXQEwC8vH8VNgfh4Ae2TEYYU9LdT2yChUeA10Iq7UeJcZ9ebWpMscsbAe5Mq7OQB4IkzuS7BQlB22DBTrIdi9R0syKmRvtFJeN0goqk4KlAOXLU3grbqHATFYIDDTpgInVPnQbSVwGmGKMyZiSwzOHcyCCyaiIWR6ucfUM/tHZoIBYyK2BKX/IYq5Zjp7OQvcfKqeiqrCXDTdv080I0zEphi02T+Pvc1HiptVp0AuagQx/2oQl1XHNTw2mWyYihdVPGfotTYFYsG8dSGLsIiZvkMtE14dZx3r5QO3gLz/ZpbYM/g+j+awcPQBUJ5caGFZvX4bJVxEDXraIK+2qne/SZVVFOcV7y9Ng3z4dhDXXQV29wCYH/pDLZXeV1YEUOm3ltXsuC8vZGCz2XO40uw6kHDsituUjZGS8t4FBXlnYx6fvcccsLOJTuAE8R7jQ5RailRehpGvx3JXw3oiBr2gFf53OO9GGmMxmrz9D4feZ+l6teVDAAAAAElFTkSuQmCC"},18806:function(t,e,n){"use strict";t.exports=n.p+"static/img/newspring-luckgod.6a6c831..png"},99360:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAABJtJREFUSA2NVn1olVUY/53zvvdu3btp84PauIGYU6ip2QhLEMtAI4v5gaxy9kW1fxam5uhDcbGEMPqCSmzamDpjVGboIlZKZkaFq8VWoE4ZMRahItu61917z3lPz3Pu3nfvnSs6cN/zfJ/nnPN7nnMBGsaYOvolfMJktzQZZhLZTbtpMoatYLS+aglfyrO0GqWtQvA327DfYChlBfxxGx9LWl/fzbs8ZLyBy4Z562GSI3+rbS1x38V945nnfBomnfnDZNXXvkAYpVaq+r2f+QKeI2/WCnC8bGOrTZg/zHud55I2RUQj1kF/+h1QNhX6k5MxF4VR4K8r8E6fhaiYAVwahPNsVSq3D3K3LvxJTENk0xphFcxzEt6Jnjav/UcKERoU0W1YPyyi7iSWWgd9rCvNhrSvkCXg9Q7A23U0kLk7n2p2eL9619EpLJXLKwMlE2JKMcSSuTDHu6zc6zq/QEKIc76V2vwB9EffWFa9dwTMm7P9cF570srEDSW5lExGDakX9hb7jjzLmqUQ5Qnopi+A/kt20+7G1WXBptnIKP2h+fVCte7ojGEwCTE7AWfd0hSi7iwhxJ9skzfoIhJ8f4wee5cEtjwDYoIVbFoN+4sxksmzkSsWZuSSimrhuodZYR3GwybPg5lJMbhbH17FTi7nrer3xJ1tj0BcXwRzNQ1xXYH14VOyg1DLl0p0geRNslA3HoRJjQTGLHNefIgnO/hiaY910p4Ii2hZESvMaUe/YhqhoSgky2TrJR+fHbQsp+MPhqhu/wnO9vW+iKrImS75rP2ht7b4JMz3v1tICBkcJIHLnJL2YgIzWDgw62xeA2fjai7xnJbrwHUel3yLjPXwUC81057iMFeGoZ9vsioLcSH6c/dgzAb11qG3LWbCnqM0NwARLyxiNkiQli5FRvXq1uMxRigmx+Esq0yJ+TPbhOvk4Bp2GA1mJ+usvR3QXrX5rc94XRfihuo4OFEKxlCXt81MiltnCDiyjX4vTwTQICOOTIE3IJXeoXa3x/9tO+FE8mg6N7d2RRKxAl7oHV/nn1EpsvqMevfzYg4sq+6CWHSL7TheZy/Mt9223uTt5RClJYSHDLwjPwAXB/04YzMvVFc1jIgzh3ckKOsEneUZ9cqBWFA5URdiVhmociBuLBlzHkfp5g6Ynr5xUmK5kW2v4bqeI5FVLXxRQXA2zyjqRfP+MzibOU8sg7h7HpP5g0rcxqTYki5nkUVB2IQyEFNtFw1LJ6SdB++EXLv4Gp2NSbFdKH2RIHZT3nlyBq8ehLiZjqn2fggn91JwFP3laZivfg4CygcWQt4zH2L6ZOj3x1o2w5ZjU+VEdjJ+A48QYc4PQNfvgdfRGUhNd19AUweHuGN2jpdjSbDAWV6Z5Ng5FFET8050r7vm1RkLRW1cQj59H2SoWbCaQALv0CnbLHzzXFud28oFF9QBP21IqwPq9Y/j4Xfcd/pfM7feLWuTKHBr8np22Nku5GGfd7KnwDv2SzQPXWFDnyZAyHsXZOTiijQkHvUD++pgB74gPNsaAVYSlFfRWZRzQ7V6Bga/oBGX/1EcpoKiZjTx+Acm5i1sZQfWmQAAAABJRU5ErkJggg=="},87658:function(t,e,n){"use strict";t.exports=n.p+"static/img/pk-primary-frame.ea86ae7..png"},17280:function(t,e,n){"use strict";t.exports=n.p+"static/img/pk-senior-frame.1229c8e..png"},3688:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABXUExURUdwTP/5+v/////7/f/By//8/P/R2P/3+P/////7+//5+v/5+v/////6/P95kP////+Alv+Vp/+HnP/6+//R2f+MoP+js//y9P+zwP/n6/+er//t8P/b4VPUgS4AAAAOdFJOUwD1bJ759/XzGlDivW+8/K/ObwAAANhJREFUeNp1kskWgyAMRZFJi5Ugo0P//zsLGrBdkAUH7kvIAARtoosSQi10QoCYDTIGY0KUA/uRXiM3Gs3w8VX5e1z1j63ju/pb/Wf2jpnQ/y+m5GH8AQ4AXN5wlgMG04QdipUKholQ2fgGVdCSkjm2nO4R4kxUuOjhjb+5K8egiLhSmATnzff1OgsUtuz5cXnZsH+BV9nkDv0BX1sNCpPb0+vDna3yuGC5OyTvAHwVJMUGPcCZIB3Ic4M4EuN3a7d2E2fdIXbH3n+o/tP2PwNKdC7fZ6YVfwELrBnGr6SbPAAAAABJRU5ErkJggg=="},80902:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAuZJREFUSA21VU1rE1EUPRPFxg/ERkltjDYqVrcGEYoLFy7cuBCkYONGRcGFguBGRIropiDWPyB117rRfyEV1BYXorEK7aaJXSR+tY1tmvGc+XBmkjcJBT3k5r25975z59135z4LHWDbtkWXo5TDlIznPs+xSJm2LMv2dOsbSJymjNYbdomjEZ5tlMZ0HLvergVccKth4z4NyZcVJCYrwMwiUFlxXVObgENbgYEUcCKFBrW1hIVh7uZRM1kkAImTdBijDE1WYT+ZhVX+3bwk+ry7C7iSgz3QDXFNUC4zUM33ag4wzoSefzoH63nJd2kdc1uA2aWo/lwvcKkPOrBnDFDwrQl/orRwPtSJvJAFju3wVwWjXkhrxeFxOUYnABVp5Vxpaffmg6yhCwxQ+puAIIBmWisOcYlTOn8HtzlPKudSmnCWKbi4z7XEBZDV49BZihMJRrLWbBRULXEHeqYHuNondxftAohDXOIUt3aQ32ChR6Vowmlu9FousFRZqssqzDYQlzjpkleAfvmqzptxahdwYz9ghRJX6lC24ghx9W/kM48u+Ig0F07uBG4ejJJLf2Qb8OI4wIN0hKnAKuXxF/aN7/KIcGUUoAUqw+sHAC3mz6kEfxf8YtEV2lGd6Xr4OSAXWchsK4AaF/T5z3vl9+YbMPha2gC9XawQtbwQVkk+MgO8qoaUnHaTy0NJZ/BJD+ot7ZDZHLWukPwBVzaTyyvEVVSAKabiqxpXO2RV2R5qa8C9j8Bb7tQEcZGzTNt0Qv2cJTWurqjGFYc9XoAlkg+T/N0Ps6c4xEXOCXFrB8IIpaau6DwZ/rJM0WIduPsBeP/T4OCpPA6dpjjdVsFIC+rnarnqiiZsZzncIXnxl8nq6rRWHN7dsCBtqKJYkrZtbNfa5l7uYG7ZJTL9x7Xr5gDK9Bjl/1w4/ptxJ//syvQ5W0YG8S/9MudG8NKXbf2XfjgaCZTGPEVN0elbHPX16wOdUilyjMUfUsxqFEHxAx8AAAAASUVORK5CYII="},47872:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAu9JREFUSA21VTtrVUEQ/s5Ryc2DiKA3LzXiIyJWpolFChEbCxFs1CiiYiPY2VhFDAgWmkYQbEQsElt/ga1BTHwiUZtYmOT6iqJ5mNyzft/u3XvOufeehIAO7Nk5M7Pf7MzOzgZYgYwxAU32cezmaC+Zf+I8zjEWBIEpyVY3ETjPMWii4iTn2uR0g1Tms9C1uyrigssw0QAVORSehCiMAD8/AAvfnW3dBqB5J5Dv4dgfUTiPIOxnNLcqwVIOCJyjwT2Ok/g8YjB+P8DcdOWa9H99C5N31mBTj7CGOc7T0bw3qnQwBGNO4P2DABOPvE313NQJ/JpIyzuPArvOGATBQzro88rQMzYt2vlK4NuPAxu7/bJ41oa0lhglLKuzDijI25wrLcvtfNsxYAcdzE7FwElOa4XB87OY1PkIrpDP2ZwnFyT5rUeYgtNOMjuZ1KR5nZuwAGEipKeAHvtstWQd6JbDPMhzsnc0lxGBtMJQ5RFT2IqgmyXWYkvRLU9/Ow4R/EIsW5gBiuUiieVJTmUtTGLLQZfVqc4rqe0AsOcijRV1iZbbvbeJsbrWUuauv79E3qi1F9h7KQ0u3Xru5yDL3fB++REtAm9uA99euNUxVrscVJPKUDs3RerUahioj0JZXVMXr4mWgNd3Y/BYI87IgRoXoOvvq+PLKPD4lBWXP/WtQO+d8q9ltPOXN1maT9NyYTma1Bm8s7x6y3LU0JbWFv8Az29Ug8sqxhqXg1Hmcto2rjRE+q+xI/4vLhD8OvB1LJYlOTVBE6mWx0Lbz4NwyHZFNa4sanC1gKU5bmmAOX9V21IY6rBBOCxsRSBirGy56opZ1EgHi78Jfg2YeZtl5TqrsBymaxX0VFA/ty1XXbEWrWsGnl0Ffrgjq2UCrVXbdm9DQTaJG8S0GZPRrhlo02a26I81ca0wo11XOsjR+P89OH57jOSfPZkes2qmE//oT5GvTVFRutU/+klvBFAa9YSpKZZq1d5+nfaoLXMyWfQXEANsHHt7/lIAAAAASUVORK5CYII="},98043:function(t){"use strict";t.exports="data:image/png;base64,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"},60021:function(t,e,n){var r={"./bilitree-bucket.png":38429,"./bilitree-fall.png":26493,"./bilitree-harvest.png":60466,"./bls-summer-2018-surfing.png":42197,"./bls-summer-2018-survival.png":62320,"./bls-summer-2018-volleyball.png":44335,"./fall-in-love.png":27222,"./flower-king.png":80773,"./flower-queen.png":7782,"./ivestar-area-mobile.png":5141,"./livestar-area-draw.png":39539,"./livestar-area-ent.png":21382,"./livestar-area-game.png":26005,"./livestar-area-mobile.png":18736,"./livestar-copper.png":58748,"./livestar-gold.png":42956,"./livestar-hot.png":91490,"./livestar-sliver.png":67669,"./livestar-top-star.png":27936,"./livestar-top-ten.png":90790,"./lover-2018-flower.png":16268,"./lover-2018-heart.png":17497,"./master-aid.png":88043,"./master-area.png":14876,"./master-hundred.png":31441,"./master-revive.png":5494,"./master-top1.png":16037,"./master-top10.png":68445,"./master-top2.png":31999,"./master-top3.png":46182,"./master-top5.png":37243,"./newspring-bucket.png":33444,"./newspring-happy-frame.png":88265,"./newspring-happy.png":39930,"./newspring-luckgod.png":18806,"./newspring-raffle.png":99360,"./pk-primary-frame.png":87658,"./pk-senior-frame.png":17280,"./union.png":3688,"./v-company.png":80902,"./v-person.png":47872,"./week-rank.png":98043};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=60021},86720:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAA2CAYAAAHPO5tXAAAAAXNSR0IArs4c6QAADDlJREFUaAW1mltsXFcVhs8Zj2+xncQJ7kVt1EotagsSbQGJOgqCEKkUJFQoERKXUlVcFKnQQgUIRKkqKKoEEuJS8YRQ4YkXHgCpbWpqojZxI8VpUwm1aeomtuM2re2JMx7PeDz2zGF9+5z/eM/4jJ0XVrRmrb322v/+99r7XGacINhCcta/Ixqbjcx2kxsmuiN6aW6BABIOD/WQSWfv2Mmxx6Pl6qwF91u7M28fDdOFN06Ojd/RMXDR/Aumy6ZOSLjN9POm1xABBsFuM2XisumK6ebSFb00z1yDphByEJ3R2FwtCFhCGIR7h64wp0BvhzU+FlVXZqNqddba/WTAxrKDC9HpM08EYQiJedOGWO22xrAp6zhpuqKOTmsMmK6ZLpmmI8x3wpxSBtVNYYs6ERJJ8Oi3yhfirvgz3HvFleYtmsLRzUCyrXvuZbO3BBHLTATuSdsGsroqM6Cg95le/fQjT37yrg/tO2B+EOasPgdvfcLc86ZF01USgVw1ZQ8WDo8eHv9Mz1UnzA9WG2uAUYmSqdsfApIOc3pN2Q5tCYmsCTBAHR2sRBRlmR1Nq6TEy7I+HQZASXsAqvYAPz4yOCYkcvA4/dWnf/+3D5vPWog3gRKglNdymdg+RNgTT4180WLbTamgO0VMC+KgJbxtNpZkk2YKFx7a87lb/2zBZeDdBtnBvRQvPkl2MzuqdpCvGLLoYppsjatMr4/+M/OXKIoM1/596tpDFjtr+o5pUbvJ4eGIlqK5+aPkGUNgiaFV0wbJFJ3kiulSVJg7FuRyUdRw62EHUbbdJYPAALa1Vi8UX+SKSM4IfcRdvVU/LDXlTF9nusuUmaZNqRBU6tRXwgCUS4ypuQOh+MQiIZvvdgoG1FxrgSvrgUZTspBl4eurm9ZibUUDSfBZAIK02jiafHI0soQ464d+lynF2man4uzoH/9xI74py2OZ5JHvT27NjQElMYCBAPfYmbQTYmMZntw0Rl859ukDD3zhFYtwINg+iswWqzTpbK2gsDKms+fNxpIcdDXdNWETnZ566/5bvjz8jMV5IrA56SRwQVUGVwID5WbdIs3MWzqDS0uLjw7eeeOTFmclTFAXMOA6JlzHXLM7TQfHnxrZ/5GbbvuBymGxWLi0hocOWoOzZ1eoUw4rh9cdLzZMQr2YkQ5mZ5k9xQvvzkdDF7mNQsQ+QiuGOyS0yZMyjtqr7u40kKmAjpaFHFhH8b13ZqLCxaNBIz7jUc5d3TbCtWHKI4RbMVeOSuLwYK7dhYnAVabqm5Nn3o323HLM+mKJclEQ2qMIu84aUK42XfTkRn5ZBIzlcnQlevbVEzM/+sCB/wa1tYjncbm2EvZ1dUdYy7naNPMYWjyuI04iDNDF02M+FwvPZxRfK4UlZaAc/ibqGFp4IzgxSoICpAuJI4pPHGFlbKBU5dDekbOBuWKsQAogvoDJoXSowGRVWnL+vwKjdqK+Vuuz0woyMfzT4icA6KtKQ44AsZQD8SeMI/bp11FBgdKX3h0XRye/2jj23r8sxk2NDYYY/eRl4WzYUB+YwWjXwshb9+3sG/hN/HYQvh0Ov+82i3NCdMbdY8raWom5zTO2Ars75Pyzp7/lgMl2i4+usReTN6ylB4ZWwPimFRBAsoEPn/nm7u2DjyegcaY+c2E5vGPoJmtyg/Mv/XQvBKpZXRksubcw8uahXX07Hovn1X6RlvjuhSOo2W33Bgtym90wgUCxbA6l6FkYmXhoZ9/2R8zfWkK7iw0P7bFETcAtwO2BaiTw/OLo1MM7+3esA8cM1yeh3RzLJe99OkFggpduAA2C+YGe3p9seOqQKUAe0MlDmrAkOj5/xHwBg+dGUA6VhFcIvgq4RxzWWP3drAn56/V+7dwbf/jgV/YdtqAeczw09MDgiLq3PrNOGCmlZmiDb1f2HSpGtcdE8ogLapUKp4Rz7Wsyu0VNOB0CJAlAXRzudhpWl6fI8J6blmKPoMUi93L/lquNTC8kwBEmIAgwA/TQXYnKlfPWtowwCq2iUSMmt7JUogwcPylj3WrJNnXMsTTooLCawA0y8OkgeSgbMP22bWFULhV9cAiJOVhOVRaGaAKSVJq1oGJlYbsbyTfQ+MEclBYKgK/nrYNTAbDSmuMjdKCsAl2zb/bn7ei55A6bpJ5MMhuDK09WwCm4YcQz4ZhoAmcb5dJ0HLaOXD7iQYq8M/8eJQK0CdDaDthsWnN8X0hwzDsbtRk63CtFrTse2JUPT01PcC0gAo9b3me8QesBrjDI8UDgYtI74w7zucDop85cLHo/5Ejq/ZD92pQ5nbABhBPDQEA5EQLnAkJ1SjLZ65xbXiokUhLAAVBtWZF8QP274GWBwxoFHACEgfgQAZw2ExNDKcVlgVueAyeZQYgmoiSAa3K34Uk/+Qh9qZDcKsSkAArUzwUEQDGmLTU3Fn+AYliBy/et2LWz5DppB67+rWzW+KwYOCLjY2bF/P62frtJ2g6wDo1ptYxRrN14EZUlT75su7FN8a0m8pPJVb78LMsY5Wk8pNopOeqTj91UWifIShY5+uTr4OsiSG3x3+fu3d4/8Ft7ANjXPfiEU4fHX7z7rgfvmbaGLoxWK+JYRO24lfG5GXGRZJj8lKDFePCh3G86CiMT9+7q2/5r9xqU8cJkObMj40e/dOeD95w2n9sKtw6pvxCftO9b+rpkERdJsuSLsE8Wwp2zT79+39DO3b9MCfP+5hN37QSJeBguHn31xNc+fuizJy3KAny97AX4xEXSsDYlzOOis/Dcmft3DQz+PCXpE5YvC5xmShcVVk9NvPaN27/+iRcMjycD6u+EFuFXPfWzyCpGlf0KJ4Tf/Pau/h2PZlZY1eWIpqQNJfWBZm4TxcLc2tm3J797w8GP8hWx3QJEWDatrMjKijDWES4+f/Y723v7f7o+oaU6Dh4RCMXHwbMuyEcsKeGW8faL7uyl+R9fedfNf7VEVV870Fp997JKZRFI46vSnOF8aXTye/29fT9Lj4RLM7IQQFLytJO4Ow5JmxyRxb+M8UuVymMDB6570pK1AIhzITMbfkqWWVARd6St3bn39r3b9t++b6i8XOwsVytd5eVKT3Vltbu2Vu2qrda7f/f9XwzfvOf9DyQraCapxRnQ+sKD4Ny7M3869KuHj3Tme2rdnR0rPd19K9t6ukx7awPbBmvPv/zC/PFTx3lRFHH/7gP5pl/NgEdYQCpjr4ytmhYswBspP3bx0sibKH59qfTDpaBRr+rPAjYa4Pgenn47s52Vb532VaT83PEjfB/iHVHfi+SDD+FNhcq2irZD28M5Z8X+bQtg4vnlYrEcVZIvYkYuWYBhJPzt25lVwhqsKPaXy4u8agsPrNbKMh/zAyI1d11EnE4E686QWQYj/g7g+5qrQKKyPO0y4/H0u0sUS77Ak3ZQK5X9L3/ui6L1Yf2XZS0scxEQd+CJhbSIEvfmtFazkJdbKS0thsuVKfu2C0GHlQxyvuXIutHWiCqXFrKIQ1rks0iroOCkZ1zgWIRVcqFmiS7g5KgslhpLdlTsdmabFbr9ku9Ik57EQbO+UukSR0VHRFXG6siIOGRFWNycba245aXCACXreMACUMY58Lni3FLkfslIbiHuDwHmy1qi8824i8WOeenSAn+dpTgi6PvEdDx8DuJi3c0VJ4AowR0Fa2vVgEkFXi8UCqWoslzjd4a8VXMtF4b5RhSt6XcHqs+fCu0vhg7c4rML8xyJFMPD1VyyjMHfILo4N3S0BLQYAcnWJwrnS/XlxdnutXy0kudP2N1Bfq0e1RNfON0Wo7+7Ix+dnpvit1PdrXyS/jwammm3Ig6Qr5pEW7v6zMSr9QuT56b5a+n111t2wf5jxu6BkJu+87HWDoqliNhk6WL4z9fHrzOXHx1VdeFqLuvaXDgO7YQ+tOlitLZ7dzELjyylGKjGQ0oL1Z2Do8KDR3cR/8LUcWRc24VsVXEbmw4WAX+xilE5JocMmFqsuW68yChPRGWzKs/YtrIZcVYLSa0akhJiraTB4tyiqrbGk+vnQ1SqRWHJAXtL8auXlewToJ9KElNFIdnqq9+6UtFCtQAtwm+LtAolm4L4zlbEyRV531fMt1qUMGVVQRGR3YyoP8bnm/oCTwNtHOXJkia/nW2FaiXT2iY/K9aK49qaNLOzTTBrTFaszXAXFkE/Jyvm9zf5/wMEjscJ0mE3nAAAAABJRU5ErkJggg=="}},function(t){"use strict";t.O(0,[1216,9567],(function(){return e=35581,t(t.s=e);var e}));t.O()}]);