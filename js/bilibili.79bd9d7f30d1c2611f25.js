/*! For license information please see bilibili.79bd9d7f30d1c2611f25.js.LICENSE.txt */
(self.webpackChunklive_room=self.webpackChunklive_room||[]).push([[9567],{62550:function(t,e,n){var r;window,r=function(t,e,n,r){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=n(1);n.d(e,"store",(function(){return r.store}));var i=n(5);n.d(e,"titleIcon",(function(){return i.titleIcon}));var o=n(13);n.d(e,"titleIconHtml",(function(){return o.titleIconHtml})),n.d(e,"titleParser",(function(){return o.titleParser}));var a=n(16);n.d(e,"titleConfig",(function(){return a.titleConfig})),n.d(e,"TitleService",(function(){return a.TitleService})),n(25)},function(t,e,n){"use strict";n.r(e),n.d(e,"store",(function(){return c})),n.d(e,"init",(function(){return u}));var r=n(2),i=n.n(r),o=n(3);n.d(e,"title",(function(){return o.default}));var a=n(4);n.n(a).a.use(i.a);const s={title:o.default};let c=new i.a.Store({modules:s});function u(){c=window.TITLE__STORE__||new i.a.Store({modules:s})}},function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e);var r=n(4),i=n.n(r);const o="SET_ALL_CONFIG",a={[o](t,e){i.a.set(t,"allConfig",e)}},s={setAllConfig({commit:t},e){t(o,e)}},c={getTitleById:t=>e=>t.allConfig[e]};e.default={namespaced:!0,state:{allConfig:{}},mutations:a,actions:s,getters:c}},function(t,n){t.exports=e},function(t,e,n){"use strict";n.r(e);var r=n(6);n.d(e,"titleIcon",(function(){return r.default}))},function(t,e,n){"use strict";n.r(e);var r=n(7),i=n(9),o=n(12),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,null,null);a.options.__file="src/components/title.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(8);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"live-title-icon"},[n("img",{staticClass:"live-title-cntr",class:{bling:t.isBling},attrs:{src:t.picUrl}}),t.isBling?n("span",{staticClass:"live-title-mask",style:t.bgStyle}):t._e()])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(10);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r=n(1);e.default={props:["id","level"],computed:{titleInfo:function(){var t="title-"+this.id+"-"+this.level;return r.store&&r.store.getters["title/getTitleById"](t)},bgStyle:function(){var t=this.titleInfo&&this.titleInfo.picUrl;return{backgroundImage:"url("+n(11)+")",maskImage:"url("+t+")"}},picUrl:function(){return this.titleInfo&&this.titleInfo.picUrl},isBling:function(){return this.titleInfo&&this.titleInfo.isBling}}}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALwAAAAyCAYAAADm87EDAAAACXBIWXMAAAABAAAAAQE4IvRAAAAAJHpUWHRDcmVhdG9yAAB4nHNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs7nzXNmAAAEF0lEQVR4nO2d3YtWVRSHn61mkmggGCEFeaGQ4EWCEAoyUdYY9OfmVyKDkCgDIxR0URcKCgMFQiHSh7m8OE0ML+N4fufd66y9Z+/nep131szv4Zx1zt5n3kQFmNlB4DvgsHDYN8AmQErJo63iMbOsn5dSmppFFP87sMW+oEZULqH9gTdY+EU72VCziGJHB2oR/mux/ppLFw2z7SqpZhHFjg4cmLuLMSxcit8FLgqH/8Nwye1kxszULKJ4rQNFCr/Al8B+of5OSumZVzONo2YRxR1gRwdqGGnUS+hVly4apsJx5rUOlC78h8BZof4P4HunXprGzNQsotjVgdKFvyLW3wReeDTSKtvO7moWUezqQMnCJ/o4UwRmNiWLKHZ1oGThzwIfCPVPgB+cemkdNYso3uhAycL3s3swe+lmdYtShX+L4RGYQl9scsDMpmQRxRsdKFX4C8BRof5H4LFTL62jZhHFKAdKFb6PM8HsxXEGCllpXdhKcIRhg9JYXjA8iupkxszULKIY7UARwi/wBcMMP5a7KaXfvZppHDWLKO4CoxwocaRRFzj6OJOZChebRjtQmvAngHNC/TOGjUKdzJiZmkUUkgOlCb8q1t8C/vZopCNnEYXkQGnC96czwezVpzNblCT8GeAjoX4TeODTStuYmZpFFLIDJQmv3iBdB/K+pdw4Fd6syg6UIvx+4CvxmD7OOGBmU7KIQnagFOE/BY4J9T8BD516aR01iygmOVCK8OoN0nWXLhqmwpvVSQ6ErLQubCV4B1gRDn9JF94FM1OziGKyAyVsLfgceFuov5dSeurVTOOoWURxD5jkQAkjTd9KEEyFT2cmOxAt/HvAeaH+ObDm00rbmJmaRRRLORAt/CrDy9pjuQ386dRL66hZRLGUA9HCq5fQ/hpfZiocZ5ZyIFL408Apof43YN2pl6YxMzWLKJZ2IFL4KWf3lx6NtEqlZ/elHIgSfh/69tP+7N0BM5uSRRRLOxAl/HnguFD/C/CzUy+to2YRRRYHooTvX3AQTIVbCbI4MMtK68JWgkPAZ8rh9HHGBTNTs4gimwMRWwtWGPbPjGU9pfSrUy+ts4KWRRTrQBYHIkaa/hpfMBWOM9kcmFv4Ywz7rcfyF8PKWiczZqZmEUVWB+YWflX8mWsMeyc6+VGziGKNjA7M/QurCxzfunTRMBUuNmV1YE7hTwIfC/VPgftOvTSNmalZRJHdgTmFV2+QbgD/ejTSKhXerGZ3YC7hE31nZBH8931NtYwz2R2YS/hPgPeF+kcMb6V38qNmEcUjHByYS/j+7D2YCscZFwdcVloXthIcBC6LH9HHGQfMbEoWUbg4MMfWgkvAYaF+I6W06dVM46hZRLHB8H8jszOH8H1nZBDbxpgtahlnru3QexZeAd/z63srJT5tAAAAAElFTkSuQmCC"},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:u}}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e,n){"use strict";n.r(e);var r=n(14);n.d(e,"titleIconHtml",(function(){return r.titleIconHtml}));var i=n(15);n.d(e,"titleParser",(function(){return i.titleParser}))},function(t,e,n){"use strict";n.r(e),n.d(e,"titleIconHtml",(function(){return i}));var r=n(1);function i(t,e){var i="title-"+t+"-"+e,o=n(11),a="";if(r.store){var s=r.store.getters["title/getTitleById"](i),c=s&&s.isBling;if(s){var u='style="background-image:url('+o+");-webkit-mask-image:url("+s.picUrl+')"';a='\n        <div class="live-title-icon">\n          <img class="live-title-cntr '+(c?"bling":"")+'" src="'+s.picUrl+'"\n          style="display: inline-block; vertical-align: middle; height: 20px;" />\n\n          '+(c?'\n            <span class="live-title-mask" '+u+">\n            </span>\n          ":"")+"\n        </div>\n      "}}return a}},function(t,e,n){"use strict";function r(t){var e=t.indexOf("-"),n=t.lastIndexOf("-");return{id:t.slice(e+1,n),level:t.slice(n+1)}}n.r(e),n.d(e,"titleParser",(function(){return r}))},function(t,e,n){"use strict";n.r(e);var r=n(17);n.d(e,"titleConfig",(function(){return r.titleConfig}));var i=n(24);n.d(e,"TitleService",(function(){return i.TitleService}))},function(t,e,n){"use strict";n.r(e),n.d(e,"titleConfig",(function(){return s}));var r=n(1),i=n(18),o=n(23);let a=null;const s=new class{constructor(){if(this.userTitleChangeCallback=null,a)return a;a=this}async init(){Object(r.init)(),await this.getTilte()}async getTilte(){const t=await i.TitleService.allConfig();if(t.error);else{const e=Object(o.filterAllTitleConfig)(t.data);await r.store.dispatch("title/setAllConfig",e)}}watchUserTitle(t){this.userTitleChangeCallback=t}userTitleChange(t,e,n){let r=null;1===t&&(r={id:e,level:n}),this.userTitleChangeCallback&&this.userTitleChangeCallback(r)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"TitleService",(function(){return o}));var r=n(19),i=n(20);class o{static async allConfig(){try{const t=this.urls.titleConfig,{data:e}=await i.bxios.get(t);return 0!==parseInt(e.code)?{error:new Error(e.msg||`${t} ${r.serviceConfig.FALLBACK_ERROR_MSG}`),errorType:"caution",errorMsg:e.msg,code:e.code,data:null}:{data:e.data,error:null}}catch(t){return{error:t,errorType:"error",errorMsg:r.serviceConfig.SERVER_ERROR_MSG,data:null}}}static async wearTitle(t,e){try{const n=this.urls.wear,o={id:t,cid:e},{data:a}=await i.bxios.post(n,o);return 0!==parseInt(a.code)?{error:new Error(a.msg||`${n} ${r.serviceConfig.FALLBACK_ERROR_MSG}`),errorType:"caution",errorMsg:a.msg,code:a.code,data:null}:{data:a.data,error:null}}catch(t){return{error:t,errorType:"error",errorMsg:r.serviceConfig.SERVER_ERROR_MSG,data:null}}}static async cancelWearTitle(){try{const t=this.urls.cancelWear,{data:e}=await i.bxios.post(t);return 0!==parseInt(e.code)?{error:new Error(e.msg||`${t} ${r.serviceConfig.FALLBACK_ERROR_MSG}`),errorType:"caution",errorMsg:e.msg,code:e.code,data:null}:{data:e.data,error:null}}catch(t){return{error:t,errorType:"error",errorMsg:r.serviceConfig.SERVER_ERROR_MSG,data:null}}}static async fetchUserTitle(t){try{const e=this.urls.myWear,n={uid:t},{data:o}=await i.bxios.get(e,{params:n});if(0!==parseInt(o.code))return{error:new Error(o.msg||`${e} ${r.serviceConfig.FALLBACK_ERROR_MSG}`),errorType:"caution",errorMsg:o.msg,code:o.code,data:null};{const t=o.data||Object.create(null);return t.tid&&t.status?{data:{titleId:t.tid,titleLevel:t.status},error:null}:null}}catch(t){return{error:t,errorType:"error",errorMsg:r.serviceConfig.SERVER_ERROR_MSG,data:null}}}static async myTtileList(){try{const t=this.urls.myTtile,{data:e}=await i.bxios.get(t);return 0!==parseInt(e.code)?{error:new Error(e.msg||`${t} ${r.serviceConfig.FALLBACK_ERROR_MSG}`),errorType:"caution",errorMsg:e.msg,code:e.code,data:null}:{data:e.data,error:null}}catch(t){return{error:t,errorType:"error",errorMsg:r.serviceConfig.SERVER_ERROR_MSG,data:null}}}}o.urls={titleConfig:"/rc/v1/Title/webTitles",wear:"/i/ajaxWearTitle",cancelWear:"/i/ajaxCancelWearTitle",myWear:"/user/v1/user_title/getWear",myTtile:"/i/api/ajaxTitleInfo?normal=0&special=0&keyword=&had=1"}},function(t,e,n){"use strict";n.r(e),n.d(e,"serviceConfig",(function(){return r}));const r={FALLBACK_ERROR_MSG:"返回 Code 非 0",SERVER_ERROR_MSG:"网络错误或服务器宕机",PLATFORM:"pc",TIMEOUT_ERROR_MSG:"请求超时啦，你当前的网络可能不太稳定，请重试~"}},function(t,e,n){"use strict";n.r(e),n.d(e,"bxios",(function(){return c}));var r=n(21),i=n.n(r),o=n(22);const a="未获取到 code 值, 疑似接口格式错误或网络已断开",s="网络错误或服务不可用",c=i.a.create({baseURL:"//api.live.bilibili.com/"});c.interceptors.response.use((t=>{const e=t.data||{};if(0===e.code)t.serverResponse={code:0,data:e.data,error:null,msg:e.msg||e.message||""};else{const n=e.msg||e.message||"服务器返回状态码非 0";t.serverResponse=void 0===e.code?{code:null,data:null,error:new TypeError(a),errorMsg:`请求失败，请您稍后再试：未获取到 code 值, 疑似接口格式错误或网络已断开 ${o.randomEmoji.sad()}`,errorType:"error"}:{code:e.code,data:e.data||null,error:new Error(n),errorMsg:`请求失败：${n} ${o.randomEmoji.sad()}`,errorType:"caution"}}return t}),(t=>((t=t||new Error(s)).serverResponse={code:null,data:null,error:t,errorMsg:`接口请求失败，可能为网络错误或服务不可用，请您等待片刻后再次尝试 ${o.randomEmoji.sad()}`,errorType:"error"},t)))},function(t,e){t.exports=n},function(t,e){t.exports=r},function(t,e,n){"use strict";function r(t){var e={};return t.forEach((function(t){var n=function(t){return{id:t.identification,targetUrl:t.url,picUrl:t.web_pic_url,isBling:1===t.colorful}}(t);e[n.id]=n})),e}n.r(e),n.d(e,"filterAllTitleConfig",(function(){return r}))},function(t,e,n){"use strict";n.r(e),n.d(e,"TitleService",(function(){return o}));var r=n(18),i=n(17);class o{static async getWearTitle(t){const e=await r.TitleService.fetchUserTitle(t);if(e){const{titleId:t,titleLevel:n}=e}}static async wearTitle(t,e){const n=await r.TitleService.wearTitle(t,e);if(!n.error)return i.titleConfig.userTitleChange(1,t,e),n}static async cancelWearTitle(){const t=await r.TitleService.cancelWearTitle();if(i.titleConfig.userTitleChange(0),!t.error)return t}static async getMyTitleList(){const t=await r.TitleService.myTtileList();if(!t.error)return t}}},function(t,e,n){var r=n(26);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals),n(28)("aa987ffc",r,!1)},function(t,e,n){(t.exports=n(27)(!1)).push([t.i,".live-title-icon {\n  display: inline-block;\n  overflow: hidden;\n  height: 20px;\n  font-size: 0;\n  line-height: 0;\n}\n.live-title-cntr {\n  display: inline-block;\n  vertical-align: middle;\n  height: 20px;\n}\n.live-title-mask {\n  width: 100%;\n  height: 100%;\n  -webkit-animation: live-title-mask 1.8s linear infinite forwards;\n          animation: live-title-mask 1.8s linear infinite forwards;\n  -webkit-mask-repeat: no-repeat;\n          mask-repeat: no-repeat;\n  margin-top: -20px;\n  background-position: 200% 0;\n  background-repeat: no-repeat;\n  opacity: 1;\n  vertical-align: middle;\n  display: inline-block;\n}\n@-webkit-keyframes live-title-mask {\n  0% {\n    background-position: 200% 0;\n    opacity: 1;\n  }\n  40% {\n    background-position: -100% 0;\n    opacity: 1;\n  }\n  41% {\n    background-position: -100% 0;\n    opacity: 0;\n  }\n  100% {\n    background-position: 200% 0;\n    opacity: 0;\n  }\n}\n@keyframes live-title-mask {\n  0% {\n    background-position: 200% 0;\n    opacity: 1;\n  }\n  40% {\n    background-position: -100% 0;\n    opacity: 1;\n  }\n  41% {\n    background-position: -100% 0;\n    opacity: 0;\n  }\n  100% {\n    background-position: 200% 0;\n    opacity: 0;\n  }\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i=n(29),o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,u=!1,l=function(){},f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function d(t){for(var e=0;e<t.length;e++){var n=t[e],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(h(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(h(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:a}}}}function p(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function h(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(f){var i=c++;r=s||(s=p()),e=g.bind(null,r,i,!1),n=g.bind(null,r,i,!0)}else r=p(),e=b.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}t.exports=function(t,e,n){u=n;var r=i(t,e);return d(r),function(e){for(var n=[],a=0;a<r.length;a++){var s=r[a];(c=o[s.id]).refs--,n.push(c)}for(e?d(r=i(t,e)):r=[],a=0;a<n.length;a++){var c;if(0===(c=n[a]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete o[c.id]}}}};var v,m=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function g(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function b(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},function(t,e){t.exports=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=o[0],s={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}}])},t.exports=r(n(20629),n(70538),n(71416),n(24301))},71416:function(t,e,n){"use strict";n.r(e);var r=n(9669),i=n.n(r),o=n(1350);function a(t,e){const n=e?": "+e:".";return console.error(`[Request Error] "${t}" 请求失败${n}`),!1}const s={getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,i,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;let a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(t,e,n){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){const t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(let e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}};function c(t){return"string"==typeof t||t instanceof String}function u(t){return Array.isArray(t)}function l(t){return"object"==typeof t}const f="bili_jct";function d(t){if(!t.allowCsrf)return;(function(){const t=s.getItem(f);return t&&""!==t})()||console.error("[bxios error]:","CSRF TOKEN 获取失败，请重新登录后再试");let e=t.csrfKeyName;const n=window&&window.__custom_cookie&&window.__custom_cookie.bili_jct,r=s.getItem(f)||n||"";var i;t.data||(t.data={}),c(e)&&(e=[e]),l(e)&&!u(e)&&(e=l(i=e)?Object.keys(i).map((t=>i[t])):[]),u(e)&&e.forEach((e=>{"object"==typeof t.data&&!t.data[e]&&c(e)&&(t.data[e]=r)}))}function p(){return"undefined"!=typeof window}function h(t){return t.interceptors.request.use((t=>{"get"===t.method&&t.cacheTime>0&&p(),"post"===t.method&&p()&&(d(t),function(t){const e=window.__statisObserver&&window.__statisObserver.__visitId;t.data||(t.data={}),"object"!=typeof t.data||t.data.visit_id&&""!==t.data.visit_id||(t.data.visit_id=e||"")}(t)),/^http:\/\//.test(t.url)&&p()&&(t.url=t.url.replace(/^(http|https):/,""));const e=!t.headers["content-type"]||/application\/x-www-form-urlencoded/.test(t.headers["content-type"]);return"post"!==t.method||"object"!=typeof t.data||t.data instanceof FormData||!e||(t.data=(0,o.stringify)(t.data)),t})),t.interceptors.response.use((t=>t),(t=>{var e;return t.response?a((e=t.response).config?e.config.url:"","string"==typeof e?e:`status: ${e.status}, statusText: ${e.statusText}`):t.message&&a("",t.message),Promise.reject(t)})),t}Object.assign(i().defaults,{withCredentials:!0,allowCsrf:!0,csrfKeyName:["csrf_token","csrf"]});const v=i().create();h(v),v.create=function(t={}){return h(i().create(t))};const m=p()?window:void 0,g=m&&m.bxios?m.bxios:v;e.default=g},24301:function(t,e,n){"use strict";n.r(e),n.d(e,{bfsImgLink:function(){return a},getStrByteLength:function(){return s},greeting:function(){return p},numberFormat:function(){return m},randomEmoji:function(){return u},randomString:function(){return _},toNumber:function(){return x},strip:function(){return C},EventTracker:function(){return E},numberTrisection:function(){return I},toHexColor:function(){return T}});var r=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var i=/\.(png|jpg)$/,o=/bfs/;function a(t,e,n,a){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===a&&(a={}),!i.test(t)||!o.test(t))return t;var s=a.useWebp,c=a.scale;return t&&"string"==typeof t&&/\.(jpg|gif|png)/.test(t)?(/\.(jpg|gif|png)@.+/.test(t)&&(t=t.replace(/@\d+\w+$/,"")),t+("number"==typeof e?"@"+e+"w":"")+("number"==typeof n?("number"==typeof e?"_":"@")+n+"h":"")+("string"==typeof c?"_"+c:"")+(r||s?".webp":"")):t}function s(t){return"string"!=typeof t?0:t.replace(/[\u4e00-\u9fa5]/g,"aa").length}var c={angry:[",,Ծ‸Ծ,,","(╯‵□′)╯︵┻━┻"],happy:["=‿=✧","●ω●","(/ ▽ \\)","(=・ω・=)","(●'◡'●)ﾉ♥","<(▰˘◡˘▰)>","(⁄ ⁄•⁄ω⁄•⁄ ⁄)","(ง,,• ᴗ •,,)ง ✧",">ㅂ<ﾉ ☆"],shock:["Σ( ° △ °|||)︴","┌( ಠ_ಠ)┘","(ﾟДﾟ≡ﾟдﾟ)!?","∑(っ °Д °;)っ"],sad:["＞︿＜","＞△＜","●︿●","(´；ω；`)"],helpless:["◐▽◑","ʅ（´◔౪◔）ʃ","_(:3 」∠)_","_(┐「ε:)_","(°▽°)ﾉ","←◡←","_(•̀ᴗ•́ 」∠ ❀)_","_φ(･ω･` )"]},u={};for(var l in c)!function(t){u[t]=function(){return f(t)}}(l);function f(t){return c[t][Math.floor(Math.random()*c[t].length)]}var d=(new Date).getFullYear();function p(t,e,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="450"),console.log("Bilibili "+t+" By © 2014 - "+d+" Bilibili Live Department... "+u.happy()),console.log("# Carry Your World #"),console.log("Version: "+e+", CodeName: "+n)}var h=[{unit:"亿",val:1e8},{unit:"万",val:1e4}],v={fixing:1,unit:"万",base:null},m={autoParse:g,tenThousand:g,oneHundred:function(t){return w(t)?t<1e5?""+t:y(h,t):t},create:b};function g(t){return w(t)?y(h,t):t}function b(t,e){return void 0===t&&(t=1e4),function(n){var r=parseInt(n,10);if(t=parseInt(t,10),isNaN(r)||isNaN(t))return"undefined"!=typeof console&&console.warn("[NumberFormat] 创建格式化函数时 threshold 与 传入数字必须为数字类型."),""+n;var i=Object.assign({},v,e);return r<t?""+r:(r/(i.base||t)).toFixed(i.fixing)+" "+i.unit}}function y(t,e){return Array.isArray(t)?(t.some((function(t){if(e>=t.val)return n=b(t.val,{fixing:1,unit:t.unit})(e),!0})),n||""+e):console.warn("[NumberFormat] 无法获取格式化列表.");var n}function w(t){return"number"==typeof t}function _(){return(Date.now()*Math.ceil(1e5*Math.random())).toString(16)}var x=function(t,e){return void 0===e&&(e=10),function(t){if(10===e)return parseInt(t,10);t=parseInt(t,10).toString(e);return parseInt(t,10)}(t)},C=function(t,e){return void 0===e&&(e=12),+parseFloat(t.toPrecision(e))},S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},k=function(){function t(t){this.config=t,this.uid=this.getCookie("DedeUserID")||"0",this.buvid=this.getCookie("buvid3"),this.ua=navigator.userAgent}return t.prototype.track=function(t){this.url=window.location.href,this.options=t;var e=(new Date).getTime(),n=S({},this.config,this.options,{ctime:e,url:this.url,uid:this.uid,buvid:this.buvid,ua:this.ua}),r=n.taskid+e+this.serializeData(n);this.reportData(r)},t.prototype.getCookie=function(t){return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||""},t.prototype.serializeData=function(e){return t.logList.map((function(t){return encodeURIComponent(e[t]||"")})).join("|")},t.prototype.reportData=function(t){var e="//data.bilibili.com/log/web?"+t,n=new XMLHttpRequest;n.open("GET",e,!0),n.send(null)},t.logList=["event_id","url","goto","item_type","item_name","item_id","uid","buvid","ua","platform","biz","ctime"],t}();var E=Object.freeze({createTracker:function(t){return new k(t)},track:function(t,e){new k(t).track(e)}});function I(t){if(t<1e3)return t;var e=t.toString().replace(/([^\.]+)/,"");return parseInt(t.toString(),10).toString().split("").reverse().join("").replace(/\d{3}/g,(function(t){return t+","})).replace(/\,$/,"").split("").reverse().join("")+e}function T(t){var e=t.toString(16),n="000000";return"#"+n.substr(0,n.length-e.length)+e}},53330:function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,o=n(53931),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=o.assign({default:a.RFC3986,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}}},a)},1350:function(t,e,n){"use strict";var r=n(95261),i=n(2825),o=n(53330);t.exports={formats:o,parse:i,stringify:r}},2825:function(t,e,n){"use strict";var r=n(53931),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},s=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,c=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;n.depth>0&&null!==(a=o.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+r.slice(a.index)+"]"),function(t,e,n){for(var r=e,i=t.length-1;i>=0;--i){var o,a=t[i];if("[]"===a&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);n.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=r:o[s]=r:o={0:r}}r=o}return r}(c,e,n)}};t.exports=function(t,e){var n=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var n,s={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,l=c.split(e.delimiter,u),f=-1,d=e.charset;if(e.charsetSentinel)for(n=0;n<l.length;++n)0===l[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[n]?d="utf-8":"utf8=%26%2310003%3B"===l[n]&&(d="iso-8859-1"),f=n,n=l.length);for(n=0;n<l.length;++n)if(n!==f){var p,h,v=l[n],m=v.indexOf("]="),g=-1===m?v.indexOf("="):m+1;-1===g?(p=e.decoder(v,o.decoder,d,"key"),h=e.strictNullHandling?null:""):(p=e.decoder(v.slice(0,g),o.decoder,d,"key"),h=e.decoder(v.slice(g+1),o.decoder,d,"value")),h&&e.interpretNumericEntities&&"iso-8859-1"===d&&(h=a(h)),h&&e.comma&&h.indexOf(",")>-1&&(h=h.split(",")),i.call(s,p)?s[p]=r.combine(s[p],h):s[p]=h}return s}(t,n):t,u=n.plainObjects?Object.create(null):{},l=Object.keys(c),f=0;f<l.length;++f){var d=l[f],p=s(d,c[d],n);u=r.merge(u,p,n)}return r.compact(u)}},95261:function(t,e,n){"use strict";var r=n(53931),i=n(53330),o=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,s(e)?e:[e])},l=Date.prototype.toISOString,f=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,n,i,o,a,c,l,f,p,h,v,m,g){var b,y=e;if("function"==typeof l?y=l(n,y):y instanceof Date?y=h(y):"comma"===i&&s(y)&&(y=y.join(",")),null===y){if(o)return c&&!m?c(n,d.encoder,g,"key"):n;y=""}if("string"==typeof(b=y)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||r.isBuffer(y))return c?[v(m?n:c(n,d.encoder,g,"key"))+"="+v(c(y,d.encoder,g,"value"))]:[v(n)+"="+v(String(y))];var w,_=[];if(void 0===y)return _;if(s(l))w=l;else{var x=Object.keys(y);w=f?x.sort(f):x}for(var C=0;C<w.length;++C){var S=w[C];a&&null===y[S]||(s(y)?u(_,t(y[S],"function"==typeof i?i(n,S):n,i,o,a,c,l,f,p,h,v,m,g)):u(_,t(y[S],n+(p?"."+S:"["+S+"]"),i,o,a,c,l,f,p,h,v,m,g)))}return _};t.exports=function(t,e){var n,r=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!o.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],a=d.filter;return("function"==typeof t.filter||s(t.filter))&&(a=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?r=(0,c.filter)("",r):s(c.filter)&&(n=c.filter);var l,f=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var h=a[l];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var v=0;v<n.length;++v){var m=n[v];c.skipNulls&&null===r[m]||u(f,p(r[m],m,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},53931:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n=Array.isArray,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),i=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:i,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],i=0;i<e.length;++i)for(var o=e[i],a=o.obj[o.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:u}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(n(r)){for(var i=[],o=0;o<r.length;++o)void 0!==r[o]&&i.push(r[o]);e.obj[e.prop]=i}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var o="",a=0;a<i.length;++a){var s=i.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=i.charAt(a):s<128?o+=r[s]:s<2048?o+=r[192|s>>6]+r[128|63&s]:s<55296||s>=57344?o+=r[224|s>>12]+r[128|s>>6&63]+r[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&i.charCodeAt(a)),o+=r[240|s>>18]+r[128|s>>12&63]+r[128|s>>6&63]+r[128|63&s])}return o},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(r,o,a){if(!o)return r;if("object"!=typeof o){if(n(r))r.push(o);else{if(!r||"object"!=typeof r)return[r,o];(a&&(a.plainObjects||a.allowPrototypes)||!e.call(Object.prototype,o))&&(r[o]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(o);var s=r;return n(r)&&!n(o)&&(s=i(r,a)),n(r)&&n(o)?(o.forEach((function(n,i){if(e.call(r,i)){var o=r[i];o&&"object"==typeof o&&n&&"object"==typeof n?r[i]=t(o,n,a):r.push(n)}else r[i]=n})),r):Object.keys(o).reduce((function(n,r){var i=o[r];return e.call(n,r)?n[r]=t(n[r],i,a):n[r]=i,n}),s)}}},26737:function(t,e,n){var r;window,r=function(t,e,n,r){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=n(1);n.d(e,"wallet",(function(){return r.wallet}))},function(t,e,n){"use strict";n.r(e),n.d(e,"wallet",(function(){return r}));const r=new(n(2).Wallet)},function(t,e,n){"use strict";n.r(e),n.d(e,"Wallet",(function(){return c}));var r=n(3),i=n(7),o=n(8);let a=null,s=!1;class c{constructor(){if(this.goldSeed=0,this.silverSeed=0,this.bCoin=0,this.coin=0,this.iosBp=0,this.commonBp=0,this.useNewBp=!1,a)return a;a=this}setPayLive(t){s=t}async refresh(t=!1,e=!1){const n=await r.WalletService.getBalance(t,e,s);if(!n.error){const t=i.WalletFilter.balanceFilter(n.data);await this.setBalance(t)}}async setBalance(t){const{goldSeed:e,silverSeed:n,bCoin:r,coin:i,iosBp:a,commonBp:s,useNewBp:c}=t;this.goldSeed=void 0!==e?e:this.goldSeed,this.silverSeed=void 0!==n?n:this.silverSeed,this.bCoin=void 0!==r?r:this.bCoin,this.coin=void 0!==i?i:this.coin,this.iosBp=a||0,this.commonBp=s||0,this.useNewBp=c||!1,await o.store.dispatch("wallet/setBalance",t)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"WalletService",(function(){return a}));var r=n(4);const i="返回 Code 非 0",o="网络错误或服务器宕机";class a{static async getBalance(t,e,n){try{const o=this.urls.getBalance,a=Object.assign({need_bp:t?1:0,need_metal:e?1:0,platform:"pc"},n?{bp_with_decimal:1,ios_bp_afford_party:1}:{bp_with_decimal:0,ios_bp_afford_party:0}),{data:s}=await r.bxios.get(o,{params:a});return 0!==parseInt(s.code)?{error:new Error(s.message||s.msg||`${o} ${i}`),errorType:"caution",errorMsg:s.message||s.msg,code:s.code,data:null}:{data:s.data,error:null}}catch(t){return{error:t,errorType:"error",errorMsg:o,data:null}}}}a.urls={getBalance:"/xlive/revenue/v1/wallet/myWallet"}},function(t,e,n){"use strict";n.r(e),n.d(e,"bxios",(function(){return c}));var r=n(5),i=n.n(r),o=n(6);const a="未获取到 code 值, 疑似接口格式错误或网络已断开",s="网络错误或服务不可用",c=i.a.create({baseURL:"//api.live.bilibili.com/"});c.interceptors.response.use((t=>{const e=t.data||{};if(0===e.code)t.serverResponse={code:0,data:e.data,error:null,msg:e.msg||e.message||""};else{const n=e.msg||e.message||"服务器返回状态码非 0";t.serverResponse=void 0===e.code?{code:null,data:null,error:new TypeError(a),errorMsg:`请求失败，请您稍后再试：未获取到 code 值, 疑似接口格式错误或网络已断开 ${o.randomEmoji.sad()}`,errorType:"error"}:{code:e.code,data:e.data||null,error:new Error(n),errorMsg:`请求失败：${n} ${o.randomEmoji.sad()}`,errorType:"caution"}}return t}),(t=>((t=t||new Error(s)).serverResponse={code:null,data:null,error:t,errorMsg:`接口请求失败，可能为网络错误或服务不可用，请您等待片刻后再次尝试 ${o.randomEmoji.sad()}`,errorType:"error"},t)))},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.r(e),n.d(e,"WalletFilter",(function(){return r}));class r{static balanceFilter(t){const{gold:e,silver:n,bp:r,metal:i,common_bp:o,ios_bp:a,need_use_new_bp:s,new_bp:c}=t;return{goldSeed:e,silverSeed:n,bCoin:s?+c:r,coin:i,iosBp:+a,commonBp:+o,useNewBp:s}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"store",(function(){return c}));var r=n(9),i=n.n(r),o=n(10);n.d(e,"wallet",(function(){return o.default}));var a=n(11);n.n(a).a.use(i.a);const s={wallet:o.default};let c=null;c=window.WALLET__STORE__||new i.a.Store({modules:s}),window.WALLET__STORE__=c},function(t,e){t.exports=n},function(t,e,n){"use strict";n.r(e);const r="SET_BALANCE",i={[r](t,e){Object.keys(e).forEach((n=>{void 0!==t[n]&&(t[n]=e[n])}))}},o={setBalance({commit:t},e){t(r,e)}},a={getBalence:t=>t};e.default={namespaced:!0,state:{goldSeed:0,silverSeed:0,bCoin:0},mutations:i,actions:o,getters:a}},function(t,e){t.exports=r}])},t.exports=r(n(55919),n(3567),n(20629),n(70538))},55919:function(t,e,n){"use strict";n.r(e);var r=n(9669),i=n.n(r),o=n(60917);function a(t,e){const n=e?": "+e:".";return console.error(`[Request Error] "${t}" 请求失败${n}`),!1}const s={getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,i,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;let a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(t,e,n){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){const t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(let e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}};function c(t){return"string"==typeof t||t instanceof String}function u(t){return Array.isArray(t)}function l(t){return"object"==typeof t}const f="bili_jct";function d(t){if(!t.allowCsrf)return;(function(){const t=s.getItem(f);return t&&""!==t})()||console.error("[bxios error]:","CSRF TOKEN 获取失败，请重新登录后再试");let e=t.csrfKeyName;const n=window&&window.__custom_cookie&&window.__custom_cookie.bili_jct,r=s.getItem(f)||n||"";var i;t.data||(t.data={}),c(e)&&(e=[e]),l(e)&&!u(e)&&(e=l(i=e)?Object.keys(i).map((t=>i[t])):[]),u(e)&&e.forEach((e=>{"object"==typeof t.data&&!t.data[e]&&c(e)&&(t.data[e]=r)}))}function p(){return"undefined"!=typeof window}function h(t){return t.interceptors.request.use((t=>{"get"===t.method&&t.cacheTime>0&&p(),"post"===t.method&&p()&&(d(t),function(t){const e=window.__statisObserver&&window.__statisObserver.__visitId;t.data||(t.data={}),"object"!=typeof t.data||t.data.visit_id&&""!==t.data.visit_id||(t.data.visit_id=e||"")}(t)),/^http:\/\//.test(t.url)&&p()&&(t.url=t.url.replace(/^(http|https):/,""));const e=!t.headers["content-type"]||/application\/x-www-form-urlencoded/.test(t.headers["content-type"]);return"post"!==t.method||"object"!=typeof t.data||t.data instanceof FormData||!e||(t.data=(0,o.stringify)(t.data)),t})),t.interceptors.response.use((t=>t),(t=>{var e;return t.response?a((e=t.response).config?e.config.url:"","string"==typeof e?e:`status: ${e.status}, statusText: ${e.statusText}`):t.message&&a("",t.message),Promise.reject(t)})),t}Object.assign(i().defaults,{withCredentials:!0,allowCsrf:!0,csrfKeyName:["csrf_token","csrf"]});const v=i().create();h(v),v.create=function(t={}){return h(i().create(t))};const m=p()?window:void 0,g=m&&m.bxios?m.bxios:v;e.default=g},3567:function(t,e,n){"use strict";n.r(e),n.d(e,{bfsImgLink:function(){return a},getStrByteLength:function(){return s},greeting:function(){return p},numberFormat:function(){return m},randomEmoji:function(){return u},randomString:function(){return _},toNumber:function(){return x},strip:function(){return C},EventTracker:function(){return E},numberTrisection:function(){return I},toHexColor:function(){return T}});var r=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var i=/\.(png|jpg)$/,o=/bfs/;function a(t,e,n,a){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===a&&(a={}),!i.test(t)||!o.test(t))return t;var s=a.useWebp,c=a.scale;return t&&"string"==typeof t&&/\.(jpg|gif|png)/.test(t)?(/\.(jpg|gif|png)@.+/.test(t)&&(t=t.replace(/@\d+\w+$/,"")),t+("number"==typeof e?"@"+e+"w":"")+("number"==typeof n?("number"==typeof e?"_":"@")+n+"h":"")+("string"==typeof c?"_"+c:"")+(r||s?".webp":"")):t}function s(t){return"string"!=typeof t?0:t.replace(/[\u4e00-\u9fa5]/g,"aa").length}var c={angry:[",,Ծ‸Ծ,,","(╯‵□′)╯︵┻━┻"],happy:["=‿=✧","●ω●","(/ ▽ \\)","(=・ω・=)","(●'◡'●)ﾉ♥","<(▰˘◡˘▰)>","(⁄ ⁄•⁄ω⁄•⁄ ⁄)","(ง,,• ᴗ •,,)ง ✧",">ㅂ<ﾉ ☆"],shock:["Σ( ° △ °|||)︴","┌( ಠ_ಠ)┘","(ﾟДﾟ≡ﾟдﾟ)!?","∑(っ °Д °;)っ"],sad:["＞︿＜","＞△＜","●︿●","(´；ω；`)"],helpless:["◐▽◑","ʅ（´◔౪◔）ʃ","_(:3 」∠)_","_(┐「ε:)_","(°▽°)ﾉ","←◡←","_(•̀ᴗ•́ 」∠ ❀)_","_φ(･ω･` )"]},u={};for(var l in c)!function(t){u[t]=function(){return f(t)}}(l);function f(t){return c[t][Math.floor(Math.random()*c[t].length)]}var d=(new Date).getFullYear();function p(t,e,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="450"),console.log("Bilibili "+t+" By © 2014 - "+d+" Bilibili Live Department... "+u.happy()),console.log("# Carry Your World #"),console.log("Version: "+e+", CodeName: "+n)}var h=[{unit:"亿",val:1e8},{unit:"万",val:1e4}],v={fixing:1,unit:"万",base:null},m={autoParse:g,tenThousand:g,oneHundred:function(t){return w(t)?t<1e5?""+t:y(h,t):t},create:b};function g(t){return w(t)?y(h,t):t}function b(t,e){return void 0===t&&(t=1e4),function(n){var r=parseInt(n,10);if(t=parseInt(t,10),isNaN(r)||isNaN(t))return"undefined"!=typeof console&&console.warn("[NumberFormat] 创建格式化函数时 threshold 与 传入数字必须为数字类型."),""+n;var i=Object.assign({},v,e);return r<t?""+r:(r/(i.base||t)).toFixed(i.fixing)+" "+i.unit}}function y(t,e){return Array.isArray(t)?(t.some((function(t){if(e>=t.val)return n=b(t.val,{fixing:1,unit:t.unit})(e),!0})),n||""+e):console.warn("[NumberFormat] 无法获取格式化列表.");var n}function w(t){return"number"==typeof t}function _(){return(Date.now()*Math.ceil(1e5*Math.random())).toString(16)}var x=function(t,e){return void 0===e&&(e=10),function(t){if(10===e)return parseInt(t,10);t=parseInt(t,10).toString(e);return parseInt(t,10)}(t)},C=function(t,e){return void 0===e&&(e=12),+parseFloat(t.toPrecision(e))},S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},k=function(){function t(t){this.config=t,this.uid=this.getCookie("DedeUserID")||"0",this.buvid=this.getCookie("buvid3"),this.ua=navigator.userAgent}return t.prototype.track=function(t){this.url=window.location.href,this.options=t;var e=(new Date).getTime(),n=S({},this.config,this.options,{ctime:e,url:this.url,uid:this.uid,buvid:this.buvid,ua:this.ua}),r=n.taskid+e+this.serializeData(n);this.reportData(r)},t.prototype.getCookie=function(t){return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||""},t.prototype.serializeData=function(e){return t.logList.map((function(t){return encodeURIComponent(e[t]||"")})).join("|")},t.prototype.reportData=function(t){var e="//data.bilibili.com/log/web?"+t,n=new XMLHttpRequest;n.open("GET",e,!0),n.send(null)},t.logList=["event_id","url","goto","item_type","item_name","item_id","uid","buvid","ua","platform","biz","ctime"],t}();var E=Object.freeze({createTracker:function(t){return new k(t)},track:function(t,e){new k(t).track(e)}});function I(t){if(t<1e3)return t;var e=t.toString().replace(/([^\.]+)/,"");return parseInt(t.toString(),10).toString().split("").reverse().join("").replace(/\d{3}/g,(function(t){return t+","})).replace(/\,$/,"").split("").reverse().join("")+e}function T(t){var e=t.toString(16),n="000000";return"#"+n.substr(0,n.length-e.length)+e}},95567:function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,o=n(62862),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=o.assign({default:a.RFC3986,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}}},a)},60917:function(t,e,n){"use strict";var r=n(89807),i=n(30585),o=n(95567);t.exports={formats:o,parse:i,stringify:r}},30585:function(t,e,n){"use strict";var r=n(62862),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},s=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,c=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;n.depth>0&&null!==(a=o.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+r.slice(a.index)+"]"),function(t,e,n){for(var r=e,i=t.length-1;i>=0;--i){var o,a=t[i];if("[]"===a&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);n.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=r:o[s]=r:o={0:r}}r=o}return r}(c,e,n)}};t.exports=function(t,e){var n=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var n,s={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,l=c.split(e.delimiter,u),f=-1,d=e.charset;if(e.charsetSentinel)for(n=0;n<l.length;++n)0===l[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[n]?d="utf-8":"utf8=%26%2310003%3B"===l[n]&&(d="iso-8859-1"),f=n,n=l.length);for(n=0;n<l.length;++n)if(n!==f){var p,h,v=l[n],m=v.indexOf("]="),g=-1===m?v.indexOf("="):m+1;-1===g?(p=e.decoder(v,o.decoder,d,"key"),h=e.strictNullHandling?null:""):(p=e.decoder(v.slice(0,g),o.decoder,d,"key"),h=e.decoder(v.slice(g+1),o.decoder,d,"value")),h&&e.interpretNumericEntities&&"iso-8859-1"===d&&(h=a(h)),h&&e.comma&&h.indexOf(",")>-1&&(h=h.split(",")),i.call(s,p)?s[p]=r.combine(s[p],h):s[p]=h}return s}(t,n):t,u=n.plainObjects?Object.create(null):{},l=Object.keys(c),f=0;f<l.length;++f){var d=l[f],p=s(d,c[d],n);u=r.merge(u,p,n)}return r.compact(u)}},89807:function(t,e,n){"use strict";var r=n(62862),i=n(95567),o=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,s(e)?e:[e])},l=Date.prototype.toISOString,f=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,n,i,o,a,c,l,f,p,h,v,m,g){var b,y=e;if("function"==typeof l?y=l(n,y):y instanceof Date?y=h(y):"comma"===i&&s(y)&&(y=y.join(",")),null===y){if(o)return c&&!m?c(n,d.encoder,g,"key"):n;y=""}if("string"==typeof(b=y)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||r.isBuffer(y))return c?[v(m?n:c(n,d.encoder,g,"key"))+"="+v(c(y,d.encoder,g,"value"))]:[v(n)+"="+v(String(y))];var w,_=[];if(void 0===y)return _;if(s(l))w=l;else{var x=Object.keys(y);w=f?x.sort(f):x}for(var C=0;C<w.length;++C){var S=w[C];a&&null===y[S]||(s(y)?u(_,t(y[S],"function"==typeof i?i(n,S):n,i,o,a,c,l,f,p,h,v,m,g)):u(_,t(y[S],n+(p?"."+S:"["+S+"]"),i,o,a,c,l,f,p,h,v,m,g)))}return _};t.exports=function(t,e){var n,r=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!o.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],a=d.filter;return("function"==typeof t.filter||s(t.filter))&&(a=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?r=(0,c.filter)("",r):s(c.filter)&&(n=c.filter);var l,f=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var h=a[l];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var v=0;v<n.length;++v){var m=n[v];c.skipNulls&&null===r[m]||u(f,p(r[m],m,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},62862:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n=Array.isArray,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),i=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:i,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],i=0;i<e.length;++i)for(var o=e[i],a=o.obj[o.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:u}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(n(r)){for(var i=[],o=0;o<r.length;++o)void 0!==r[o]&&i.push(r[o]);e.obj[e.prop]=i}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var o="",a=0;a<i.length;++a){var s=i.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=i.charAt(a):s<128?o+=r[s]:s<2048?o+=r[192|s>>6]+r[128|63&s]:s<55296||s>=57344?o+=r[224|s>>12]+r[128|s>>6&63]+r[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&i.charCodeAt(a)),o+=r[240|s>>18]+r[128|s>>12&63]+r[128|s>>6&63]+r[128|63&s])}return o},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(r,o,a){if(!o)return r;if("object"!=typeof o){if(n(r))r.push(o);else{if(!r||"object"!=typeof r)return[r,o];(a&&(a.plainObjects||a.allowPrototypes)||!e.call(Object.prototype,o))&&(r[o]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(o);var s=r;return n(r)&&!n(o)&&(s=i(r,a)),n(r)&&n(o)?(o.forEach((function(n,i){if(e.call(r,i)){var o=r[i];o&&"object"==typeof o&&n&&"object"==typeof n?r[i]=t(o,n,a):r.push(n)}else r[i]=n})),r):Object.keys(o).reduce((function(n,r){var i=o[r];return e.call(n,r)?n[r]=t(n[r],i,a):n[r]=i,n}),s)}}},89353:function(t){"use strict";t.exports=JSON.parse('{"_from":"axios@^0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha1-xnuQ3AVo5cHPKwuFjEO6KOLtpXU=","_location":"/@bilibili-live/flame/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.4","name":"axios","escapedName":"axios","rawSpec":"^0.21.4","saveSpec":null,"fetchSpec":"^0.21.4"},"_requiredBy":["/@bilibili-live/flame"],"_resolved":"https://registry.nlark.com/axios/download/axios-0.21.4.tgz?cache=0&sync_timestamp=1630942571025&other_urls=https%3A%2F%2Fregistry.nlark.com%2Faxios%2Fdownload%2Faxios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.4","_where":"/var/dockerfiles/shylf-ops-rider-03/nodejs12.14/blfe-live-room/2754/blfe-live-room/node_modules/@bilibili-live/flame","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},29531:function(t,e,n){"use strict";n.r(e);var r=n(9669),i=n.n(r),o=n(9614),a=n.n(o);function s(t,e){var n=e?": "+e:".";return console.error('[Request Error] "'+t+'" 请求失败'+n),!1}var c={getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,i,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(t,e,n){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}};function u(t){return"string"==typeof t||t instanceof String}function l(t){return Array.isArray(t)}function f(t){return"object"==typeof t}var d="bili_jct";function p(t){if(t.allowCsrf){(function(){var t=c.getItem(d);return t&&""!==t})()||console.error("[bxios error]:","CSRF TOKEN 获取失败，请重新登录后再试");var e,n=t.csrfKeyName,r=window&&window.__custom_cookie&&window.__custom_cookie.bili_jct,i=c.getItem(d)||r||"";t.data||(t.data={}),u(n)&&(n=[n]),f(n)&&!l(n)&&(n=f(e=n)?Object.keys(e).map((function(t){return e[t]})):[]),l(n)&&n.forEach((function(e){"object"==typeof t.data&&!t.data[e]&&u(e)&&(t.data[e]=i)}))}}function h(){return"undefined"!=typeof window}function v(t){return t.interceptors.request.use((function(t){"get"===t.method&&t.cacheTime>0&&h(),"post"===t.method&&h()&&(p(t),function(t){var e=window.__statisObserver&&window.__statisObserver.__visitId;t.data||(t.data={}),"object"!=typeof t.data||t.data.visit_id&&""!==t.data.visit_id||(t.data.visit_id=e||"")}(t)),/^http:\/\//.test(t.url)&&h()&&(t.url=t.url.replace(/^(http|https):/,""));var e=!t.headers["content-type"]||/application\/x-www-form-urlencoded/.test(t.headers["content-type"]);return"post"!==t.method||"object"!=typeof t.data||t.data instanceof FormData||!e||(t.data=a().stringify(t.data)),t})),t.interceptors.response.use((function(t){return t}),(function(t){var e;return t.response?s((e=t.response).config?e.config.url:"","string"==typeof e?e:"status: "+e.status+", statusText: "+e.statusText):t.message&&s("",t.message),Promise.reject(t)})),t}Object.assign(i().defaults,{withCredentials:!0,allowCsrf:!0,csrfKeyName:["csrf_token","csrf"]});var m=i().create();v(m),m.create=function(t){return void 0===t&&(t={}),v(i().create(t))};var g=h()?window:void 0,b=g&&g.bxios?g.bxios:m;e.default=b},84996:function(t){"use strict";var e=String.prototype.replace,n=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return e.call(t,n,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},9614:function(t,e,n){"use strict";var r=n(2493),i=n(84930),o=n(84996);t.exports={formats:o,parse:i,stringify:r}},84930:function(t,e,n){"use strict";var r=n(73032),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,c=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;null!==(a=o.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+r.slice(a.index)+"]"),function(t,e,n){for(var r=e,i=t.length-1;i>=0;--i){var o,a=t[i];if("[]"===a)o=(o=[]).concat(r);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=r:o[s]=r}r=o}return r}(c,e,n)}};t.exports=function(t,e){var n=e?r.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===t||null==t)return n.plainObjects?Object.create(null):{};for(var s="string"==typeof t?function(t,e){for(var n={},r=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=e.parameterLimit===1/0?void 0:e.parameterLimit,s=r.split(e.delimiter,a),c=0;c<s.length;++c){var u,l,f=s[c],d=f.indexOf("]="),p=-1===d?f.indexOf("="):d+1;-1===p?(u=e.decoder(f,o.decoder),l=e.strictNullHandling?null:""):(u=e.decoder(f.slice(0,p),o.decoder),l=e.decoder(f.slice(p+1),o.decoder)),i.call(n,u)?n[u]=[].concat(n[u]).concat(l):n[u]=l}return n}(t,n):t,c=n.plainObjects?Object.create(null):{},u=Object.keys(s),l=0;l<u.length;++l){var f=u[l],d=a(f,s[f],n);c=r.merge(c,d,n)}return r.compact(c)}},2493:function(t,e,n){"use strict";var r=n(73032),i=n(84996),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(t){return a.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(e,n,i,o,a,c,u,l,f,d,p,h){var v=e;if("function"==typeof u)v=u(n,v);else if(v instanceof Date)v=d(v);else if(null===v){if(o)return c&&!h?c(n,s.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||r.isBuffer(v))return c?[p(h?n:c(n,s.encoder))+"="+p(c(v,s.encoder))]:[p(n)+"="+p(String(v))];var m,g=[];if(void 0===v)return g;if(Array.isArray(u))m=u;else{var b=Object.keys(v);m=l?b.sort(l):b}for(var y=0;y<m.length;++y){var w=m[y];a&&null===v[w]||(g=Array.isArray(v)?g.concat(t(v[w],i(n,w),i,o,a,c,u,l,f,d,p,h)):g.concat(t(v[w],n+(f?"."+w:"["+w+"]"),i,o,a,c,u,l,f,d,p,h)))}return g};t.exports=function(t,e){var n=t,a=e?r.assign({},e):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===a.delimiter?s.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:s.strictNullHandling,f="boolean"==typeof a.skipNulls?a.skipNulls:s.skipNulls,d="boolean"==typeof a.encode?a.encode:s.encode,p="function"==typeof a.encoder?a.encoder:s.encoder,h="function"==typeof a.sort?a.sort:null,v=void 0!==a.allowDots&&a.allowDots,m="function"==typeof a.serializeDate?a.serializeDate:s.serializeDate,g="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:s.encodeValuesOnly;if(void 0===a.format)a.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var b,y,w=i.formatters[a.format];"function"==typeof a.filter?n=(y=a.filter)("",n):Array.isArray(a.filter)&&(b=y=a.filter);var _,x=[];if("object"!=typeof n||null===n)return"";_=a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var C=o[_];b||(b=Object.keys(n)),h&&b.sort(h);for(var S=0;S<b.length;++S){var k=b[S];f&&null===n[k]||(x=x.concat(c(n[k],k,C,l,f,d?p:null,y,h,v,m,w,g)))}var E=x.join(u),I=!0===a.addQueryPrefix?"?":"";return E.length>0?I+E:""}},73032:function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},e.merge=function(t,r,i){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var o=t;return Array.isArray(t)&&!Array.isArray(r)&&(o=e.arrayToObject(t,i)),Array.isArray(t)&&Array.isArray(r)?(r.forEach((function(r,o){n.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e.merge(t[o],r,i):t.push(r):t[o]=r})),t):Object.keys(r).reduce((function(t,o){var a=r[o];return n.call(t,o)?t[o]=e.merge(t[o],a,i):t[o]=a,t}),o)},e.assign=function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",i=0;i<e.length;++i){var o=e.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=e.charAt(i):o<128?n+=r[o]:o<2048?n+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?n+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(i)),n+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return n},e.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],u=o[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(e.push({obj:o,prop:c}),n.push(u))}return function(t){for(var e;t.length;){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var r=[],i=0;i<e.length;++i)void 0!==e[i]&&r.push(e[i]);n.obj[n.prop]=r}}return e}(e)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},36893:function(t,e,n){var r;window,r=function(t,e,n,r,i){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return a}));var r=n(1),i=n(7),o=n(24);function a(t){return i.medalModule.init(t||"medal_icon,medal")}n.d(e,"getMedalHtml",(function(){return o.getMedalHtml})),e.default=r.default},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(4),o=(n(15),n(23)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"2c4630d2",null);a.options.__file="src/components/medal.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(3);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["fans-medal-item"],style:{borderColor:t.colorBorder}},[n("div",{class:["fans-medal-label"],style:t.labelBackground},[t.hasLeftImg?n("i",{class:["medal-deco",t.type,t.hasGuard&&"medal-guard",t.hasGuardPendant&&"medal-guard-pendant"],style:t.iconImage}):t._e(),t._v(" "),t.hasGuardPendant?n("span",{staticClass:"pendant",style:t.guardIconImage}):t._e(),t._v(" "),n("span",{staticClass:"fans-medal-content",domProps:{textContent:t._s(t.label)}})]),t._v(" "),n("div",{staticClass:"fans-medal-level",style:{color:t.colorStart},domProps:{textContent:t._s(t.level)}})])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(5);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(6),o=n(7),a=n(12),s=n(14),c=n.n(s),u=n(13),l=n.n(u),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.medalModule=o.medalModule,e}return f(e,t),Object.defineProperty(e.prototype,"colorStart",{get:function(){var t=this.medalColorStart;return c()(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorEnd",{get:function(){return c()(this.medalColorEnd)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorBorder",{get:function(){var t=this.medalColorBorder;return c()(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelBackground",{get:function(){return{backgroundImage:"linear-gradient(45deg, "+this.colorStart+", "+this.colorEnd+")"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasGuardPendant",{get:function(){return this.hasGuard&&this.extra.guardImgUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"guardIconImage",{get:function(){return{backgroundImage:this.extra.guardImgUrl&&"url("+this.extra.guardImgUrl+")"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iconImage",{get:function(){var t=this,e=function(){if(t.hasGuard){var e=t.medalModule.guardResource["guard_"+t.guardLevel];return e&&l()(e,44,44)}if(t.extra.imgUrl)return t.extra.imgUrl}();return{backgroundImage:e&&"url("+e+")"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extra",{get:function(){var t=this.medalModule.resource,e=Number(this.anchorId)||Number(this.masterId)||0;return a.MedalFilter.filterHoverAndImg({resource:t,anchorId:e,hasGuard:this.hasGuard})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasGuard",{get:function(){return Boolean(this.isLighted&&this.guardLevel)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasLeftImg",{get:function(){return this.hasGuard||Boolean(this.isLighted&&("union"===this.type||this.extra.imgUrl))},enumerable:!1,configurable:!0}),d([Object(i.Prop)({default:0,required:!0})],e.prototype,"level",void 0),d([Object(i.Prop)({default:"",required:!0})],e.prototype,"label",void 0),d([Object(i.Prop)({default:0})],e.prototype,"anchorId",void 0),d([Object(i.Prop)({default:0})],e.prototype,"masterId",void 0),d([Object(i.Prop)({default:""})],e.prototype,"anchorUsername",void 0),d([Object(i.Prop)({default:""})],e.prototype,"masterName",void 0),d([Object(i.Prop)({default:0})],e.prototype,"medalColor",void 0),d([Object(i.Prop)({default:0})],e.prototype,"medalColorStart",void 0),d([Object(i.Prop)({default:0})],e.prototype,"medalColorEnd",void 0),d([Object(i.Prop)({default:0})],e.prototype,"medalColorBorder",void 0),d([Object(i.Prop)({default:1})],e.prototype,"isLighted",void 0),d([Object(i.Prop)({default:0})],e.prototype,"guardLevel",void 0),d([Object(i.Prop)({default:""})],e.prototype,"type",void 0),e=d([Object(i.Component)({})],e)}(i.Vue);e.default=p},function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e),n.d(e,"medalModule",(function(){return s}));var r=n(8),i=n(12),o=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},a=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=new(function(){function t(){this._resource=null,this._loaded=!1}return t.prototype.init=function(t){return o(this,void 0,void 0,(function(){var e,n;return a(this,(function(o){switch(o.label){case 0:return[4,r.MedalAPI.queryResource(t)];case 1:return e=o.sent(),this._loaded=!0,(n=i.MedalFilter.filterResource(e.data))?(this._resource=n,[2]):[2]}}))}))},Object.defineProperty(t.prototype,"resource",{get:function(){return this._resource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loaded",{get:function(){return this._loaded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"guardResource",{get:function(){return{guard_1:"https://i0.hdslb.com/bfs/activity-plat/static/20200716/1d0c5a1b042efb59f46d4ba1286c6727/icon-guard1.png",guard_2:"https://i0.hdslb.com/bfs/activity-plat/static/20200716/1d0c5a1b042efb59f46d4ba1286c6727/icon-guard2.png",guard_3:"https://i0.hdslb.com/bfs/activity-plat/static/20200716/1d0c5a1b042efb59f46d4ba1286c6727/icon-guard3.png"}},enumerable:!1,configurable:!0}),t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"MedalAPI",(function(){return a}));var r=n(9),i=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=function(){function t(){}return t.queryResource=function(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,r.default.get("/xlive/open-interface/v1/query_resource",{params:{module:t,t:(new Date).getTime()}})];case 1:return[2,e.sent().data]}}))}))},t}()},function(t,e,n){"use strict";n.r(e);var r=n(10),i=n.n(r),o=n(11),a="未获取到 code 值, 疑似接口格式错误或网络已断开",s="网络错误或服务不可用",c=i.a.create({baseURL:"//api.live.bilibili.com/"});c.interceptors.response.use((function(t){var e=t.data||{};if(0===e.code)t.serverResponse={code:0,data:e.data,error:null,msg:e.msg||e.message||""};else{var n=e.msg||e.message||"服务器返回状态码非 0";t.serverResponse=void 0===e.code?{code:null,data:null,error:new TypeError(a),errorMsg:"请求失败，请您稍后再试：未获取到 code 值, 疑似接口格式错误或网络已断开 "+o.randomEmoji.sad(),errorType:"error"}:{code:e.code,data:e.data||null,error:new Error(n),errorMsg:"请求失败："+n+" "+o.randomEmoji.sad(),errorType:"caution"}}return t}),(function(t){return(t=t||new Error(s)).serverResponse={code:null,data:null,error:t,errorMsg:"接口请求失败，可能为网络错误或服务不可用，请您等待片刻后再次尝试 "+o.randomEmoji.sad(),errorType:"error"},t})),e.default=c},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){"use strict";n.r(e),n.d(e,"MedalFilter",(function(){return o}));var r=n(13),i=n.n(r),o=function(){function t(){}return t.filterResource=function(t){if(t){var e={masters:[],icons:{}};if(t.medal_icon.data&&t.medal_icon.data.length)for(var n=0,r=t.medal_icon.data;n<r.length;n++){var i=r[n];e.icons[i.id]=i.url}if(t.birthday.data&&t.birthday.data.length&&(e.masters=t.birthday.data.map((function(t){return{masterId:t.target_id||0,iconId:t.icon_id||0,start:t.start||0,end:t.end||0}}))),t.medal&&t.medal.data){var o=t.medal.data,a=o.guard,s=void 0===a?[]:a,c=o.normal,u=void 0===c?[]:c;e.masters=u.map((function(t){return{masterId:t.target_id||0,iconId:t.icon_id||0,start:t.start||0,end:t.end||0,imgUrl:e.icons[t.icon_id]||""}})),e.guardMasters=s.map((function(t){return{masterId:t.target_id||0,iconId:t.icon_id||0,start:t.start||0,end:t.end||0,imgUrl:e.icons[t.icon_id]||""}}))}return e}},t.filterHoverAndImg=function(t){var e={imgUrl:"",guardImgUrl:""};if(!t.resource)return e;var n,r=Math.floor((new Date).getTime()/1e3),o=t.resource,a=o.masters,s=o.guardMasters;return t.anchorId&&Array.isArray(a)&&(n=t.resource.masters.find((function(e){if(e.masterId===t.anchorId)return r>=e.start&&r<=e.end})))&&(e.imgUrl=n.imgUrl?i()(n.imgUrl,28,28):""),t.anchorId&&Array.isArray(s)&&t.hasGuard&&(n=t.resource.guardMasters.find((function(e){if(e.masterId===t.anchorId)return r>=e.start&&r<=e.end})))&&(e.guardImgUrl=n.imgUrl?i()(n.imgUrl,32,32):""),e},t}()},function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e,n){"use strict";n.r(e);var r=n(16),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){var r=n(17);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals),n(21)("7185e2c0",r,!1)},function(t,e,n){var r=n(18);(t.exports=n(19)(!1)).push([t.i,'.fans-medal-item[data-v-2c4630d2] {\n  display: inline-block;\n  -webkit-box-sizing: content-box;\n          box-sizing: content-box;\n  height: 14px;\n  line-height: 14px;\n  color: #fff;\n  border: 1px solid transparent;\n  white-space: nowrap;\n  border-radius: 2px;\n  font-family: "Microsoft YaHei", "Microsoft Sans Serif", "Microsoft SanSerf", "\\5FAE\\8F6F\\96C5\\9ED1";\n  font-size: 12px;\n  position: relative;\n  cursor: default;\n}\n.fans-medal-item .fans-medal-label[data-v-2c4630d2],\n.fans-medal-item .fans-medal-level[data-v-2c4630d2] {\n  display: block;\n  -webkit-box-sizing: content-box;\n          box-sizing: content-box;\n  height: 100%;\n  text-align: center;\n  float: left;\n}\n.fans-medal-item .fans-medal-label[data-v-2c4630d2] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  min-width: 12px;\n  padding: 0 4px;\n  color: #fff;\n  border-top-left-radius: 1px;\n  border-bottom-left-radius: 1px;\n}\n.fans-medal-item .fans-medal-label .fans-medal-content[data-v-2c4630d2] {\n  display: block;\n}\n.fans-medal-item .fans-medal-label .medal-deco[data-v-2c4630d2] {\n  display: block;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center center;\n  width: 14px;\n  height: 14px;\n  margin-right: 2px;\n}\n.fans-medal-item .fans-medal-label .medal-deco.union[data-v-2c4630d2] {\n  width: 12px;\n  height: 12px;\n  background-image: url('+r(n(20))+");\n}\n.fans-medal-item .fans-medal-label .medal-deco.medal-guard[data-v-2c4630d2] {\n  margin-left: -9px;\n  width: 22px;\n  height: 22px;\n}\n.fans-medal-item .fans-medal-label .medal-deco.medal-guard.medal-guard-pendant[data-v-2c4630d2] {\n  margin-right: 6px;\n}\n.fans-medal-item .fans-medal-label .pendant[data-v-2c4630d2] {\n  width: 16px;\n  height: 16px;\n  position: absolute;\n  left: 6px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center center;\n}\n.fans-medal-item .fans-medal-level[data-v-2c4630d2] {\n  width: 16px;\n  background-color: #fff;\n  text-align: center;\n  color: transparent;\n  border-top-left-radius: 1px;\n  border-bottom-right-radius: 1px;\n}\n",""])},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAYAAAAbvf3sAAAAAXNSR0IArs4c6QAAAKRJREFUKBWVUMENgzAQO1DHgEmYofxgHRiJXz9MwAL98O2nD8QGwRYXSMlFKpasu9jnS0DEgHOuBzvDktwSob3BFqFRWSXmdhlDDRii8YGHb4w6Q1tU/xr+KWE1bzi2no5IDmMFn8pVzRqVlMiHQExK9gP4UbInDj/jSbf+VVK/NRm2Ai9Ml0r2v+CTLij8BPTy4rnoGzLAB1gZCM/Wk0I/6m8HNoK7rij43fREAAAAAElFTkSuQmCC"},function(t,e,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i=n(22),o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,u=!1,l=function(){},f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function d(t){for(var e=0;e<t.length;e++){var n=t[e],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(h(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(h(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:a}}}}function p(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function h(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(f){var i=c++;r=s||(s=p()),e=g.bind(null,r,i,!1),n=g.bind(null,r,i,!0)}else r=p(),e=b.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}t.exports=function(t,e,n){u=n;var r=i(t,e);return d(r),function(e){for(var n=[],a=0;a<r.length;a++){var s=r[a];(c=o[s.id]).refs--,n.push(c)}for(e?d(r=i(t,e)):r=[],a=0;a<n.length;a++){var c;if(0===(c=n[a]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete o[c.id]}}}};var v,m=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function g(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function b(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},function(t,e){t.exports=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=o[0],s={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:u}}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e,n){"use strict";n.r(e),n.d(e,"getMedalHtml",(function(){return u}));var r=n(7),i=n(12),o=n(14),a=n.n(o),s=n(13),c=n.n(s);function u(t){var e=t.level||1,n=t.label||"--",o=(t.shortRoomID,t.anchorId||0),s=(t.anchorUsername,t.medalColor,t.medalColorStart||0),u=t.medalColorEnd||0,l=t.medalColorBorder||0,f=void 0===t.isLighted||null===t.isLighted?1:t.isLighted,d=t.guardLevel||0,p=t.type||"",h=(t.iconId,a()(s)),v=a()(u),m=a()(l),g=Boolean(f&&d),b={imgUrl:"",guardImgUrl:""};if(r.medalModule.loaded){var y=r.medalModule.resource;b=i.MedalFilter.filterHoverAndImg({resource:y,anchorId:o,hasGuard:g})}var w='<span class="fans-medal-content">'+n+"</span>",_=g||Boolean(f&&("union"===p||b.imgUrl)),x=b.guardImgUrl?"background-image: url("+b.guardImgUrl+")":"",C=g&&b.guardImgUrl,S=C?'<span class="pendant" style="'+x+'"></span>':"";if(_){var k=function(){if(g){var t=r.medalModule.guardResource["guard_"+d];return t&&c()(t,44,44)}if(b.imgUrl)return b.imgUrl}();w='\n      <i class="medal-deco '+p+" "+(g?"medal-guard":"")+"       "+(C?"medal-guard-pendant":"")+'" style="'+(k?"background-image: url("+k+");":"")+'"></i>'+S+w+"\n    "}return'\n  <div class="fans-medal-item" style="border-color: '+m+'">\n    <div class="fans-medal-label" style="background-image: -o-linear-gradient(45deg, '+h+", "+v+");background-image: -moz-linear-gradient(45deg, "+h+", "+v+");background-image: -webkit-linear-gradient(45deg, "+h+", "+v+");background-image: linear-gradient(45deg, "+h+", "+v+');">\n      '+w+'\n    </div>\n    <div class="fans-medal-level" style="color: '+h+'">'+e+"</div>\n  </div>\n  "}}])},t.exports=r(n(95334),n(29531),n(42318),n(61839),n(18535))},61839:function(t,e,n){"use strict";n.r(e);var r=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var i=/\.(png|jpg)$/,o=/bfs/;e.default=function(t,e,n,a){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===a&&(a={}),!i.test(t)||!o.test(t))return t;var s=a.useWebp,c=a.scale;return t&&"string"==typeof t&&/\.(jpg|gif|png)/.test(t)?(/\.(jpg|gif|png)@.+/.test(t)&&(t=t.replace(/@\d+\w+$/,"")),t+("number"==typeof e?"@"+e+"w":"")+("number"==typeof n?("number"==typeof e?"_":"@")+n+"h":"")+("string"==typeof c?"_"+c:"")+(r||s?".webp":"")):t}},18535:function(t,e,n){"use strict";n.r(e),e.default=function(t){var e=t.toString(16),n="000000";return"#"+n.substr(0,n.length-e.length)+e}},42318:function(t,e,n){"use strict";n.r(e),n.d(e,{bfsImgLink:function(){return a},getStrByteLength:function(){return s},greeting:function(){return p},numberFormat:function(){return m},randomEmoji:function(){return u},randomString:function(){return _},toNumber:function(){return x},strip:function(){return C},EventTracker:function(){return E},numberTrisection:function(){return I},toHexColor:function(){return T}});var r=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var i=/\.(png|jpg)$/,o=/bfs/;function a(t,e,n,a){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===a&&(a={}),!i.test(t)||!o.test(t))return t;var s=a.useWebp,c=a.scale;return t&&"string"==typeof t&&/\.(jpg|gif|png)/.test(t)?(/\.(jpg|gif|png)@.+/.test(t)&&(t=t.replace(/@\d+\w+$/,"")),t+("number"==typeof e?"@"+e+"w":"")+("number"==typeof n?("number"==typeof e?"_":"@")+n+"h":"")+("string"==typeof c?"_"+c:"")+(r||s?".webp":"")):t}function s(t){return"string"!=typeof t?0:t.replace(/[\u4e00-\u9fa5]/g,"aa").length}var c={angry:[",,Ծ‸Ծ,,","(╯‵□′)╯︵┻━┻"],happy:["=‿=✧","●ω●","(/ ▽ \\)","(=・ω・=)","(●'◡'●)ﾉ♥","<(▰˘◡˘▰)>","(⁄ ⁄•⁄ω⁄•⁄ ⁄)","(ง,,• ᴗ •,,)ง ✧",">ㅂ<ﾉ ☆"],shock:["Σ( ° △ °|||)︴","┌( ಠ_ಠ)┘","(ﾟДﾟ≡ﾟдﾟ)!?","∑(っ °Д °;)っ"],sad:["＞︿＜","＞△＜","●︿●","(´；ω；`)"],helpless:["◐▽◑","ʅ（´◔౪◔）ʃ","_(:3 」∠)_","_(┐「ε:)_","(°▽°)ﾉ","←◡←","_(•̀ᴗ•́ 」∠ ❀)_","_φ(･ω･` )"]},u={};for(var l in c)!function(t){u[t]=function(){return f(t)}}(l);function f(t){return c[t][Math.floor(Math.random()*c[t].length)]}var d=(new Date).getFullYear();function p(t,e,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="450"),console.log("Bilibili "+t+" By © 2014 - "+d+" Bilibili Live Department... "+u.happy()),console.log("# Carry Your World #"),console.log("Version: "+e+", CodeName: "+n)}var h=[{unit:"亿",val:1e8},{unit:"万",val:1e4}],v={fixing:1,unit:"万",base:null},m={autoParse:g,tenThousand:g,oneHundred:function(t){return w(t)?t<1e5?""+t:y(h,t):t},create:b};function g(t){return w(t)?y(h,t):t}function b(t,e){return void 0===t&&(t=1e4),function(n){var r=parseInt(n,10);if(t=parseInt(t,10),isNaN(r)||isNaN(t))return"undefined"!=typeof console&&console.warn("[NumberFormat] 创建格式化函数时 threshold 与 传入数字必须为数字类型."),""+n;var i=Object.assign({},v,e);return r<t?""+r:(r/(i.base||t)).toFixed(i.fixing)+" "+i.unit}}function y(t,e){return Array.isArray(t)?(t.some((function(t){if(e>=t.val)return n=b(t.val,{fixing:1,unit:t.unit})(e),!0})),n||""+e):console.warn("[NumberFormat] 无法获取格式化列表.");var n}function w(t){return"number"==typeof t}function _(){return(Date.now()*Math.ceil(1e5*Math.random())).toString(16)}var x=function(t,e){return void 0===e&&(e=10),function(t){if(10===e)return parseInt(t,10);t=parseInt(t,10).toString(e);return parseInt(t,10)}(t)},C=function(t,e){return void 0===e&&(e=12),+parseFloat(t.toPrecision(e))},S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},k=function(){function t(t){this.config=t,this.uid=this.getCookie("DedeUserID")||"0",this.buvid=this.getCookie("buvid3"),this.ua=navigator.userAgent}return t.prototype.track=function(t){this.url=window.location.href,this.options=t;var e=(new Date).getTime(),n=S({},this.config,this.options,{ctime:e,url:this.url,uid:this.uid,buvid:this.buvid,ua:this.ua}),r=n.taskid+e+this.serializeData(n);this.reportData(r)},t.prototype.getCookie=function(t){return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||""},t.prototype.serializeData=function(e){return t.logList.map((function(t){return encodeURIComponent(e[t]||"")})).join("|")},t.prototype.reportData=function(t){var e="//data.bilibili.com/log/web?"+t,n=new XMLHttpRequest;n.open("GET",e,!0),n.send(null)},t.logList=["event_id","url","goto","item_type","item_name","item_id","uid","buvid","ua","platform","biz","ctime"],t}();var E=Object.freeze({createTracker:function(t){return new k(t)},track:function(t,e){new k(t).track(e)}});function I(t){if(t<1e3)return t;var e=t.toString().replace(/([^\.]+)/,"");return parseInt(t.toString(),10).toString().split("").reverse().join("").replace(/\d{3}/g,(function(t){return t+","})).replace(/\,$/,"").split("").reverse().join("")+e}function T(t){var e=t.toString(16),n="000000";return"#"+n.substr(0,n.length-e.length)+e}},57285:function(t,e,n){"use strict";t.exports=n(8614)},70145:function(t,e){"use strict";e.add=function(t,e){t.classList?t.classList.add(e):function(t,e){var n=t.className.split(" ");n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")}(t,e)},e.remove=function(t,e){t.classList?t.classList.remove(e):function(t,e){var n=t.className.split(" "),r=n.indexOf(e);r>=0&&n.splice(r,1),t.className=n.join(" ")}(t,e)},e.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},95764:function(t){"use strict";var e={};e.e=function(t,e){var n=document.createElement(t);return n.className=e,n},e.appendTo=function(t,e){return e.appendChild(t),t},e.css=function(t,e,n){return"object"==typeof e?function(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r=r.toString()+"px"),t.style[n]=r}return t}(t,e):void 0===n?function(t,e){return window.getComputedStyle(t)[e]}(t,e):function(t,e,n){return"number"==typeof n&&(n=n.toString()+"px"),t.style[e]=n,t}(t,e,n)},e.matches=function(t,e){return void 0!==t.matches?t.matches(e):void 0!==t.matchesSelector?t.matchesSelector(e):void 0!==t.webkitMatchesSelector?t.webkitMatchesSelector(e):void 0!==t.mozMatchesSelector?t.mozMatchesSelector(e):void 0!==t.msMatchesSelector?t.msMatchesSelector(e):void 0},e.remove=function(t){void 0!==t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},e.queryChildren=function(t,n){return Array.prototype.filter.call(t.childNodes,(function(t){return e.matches(t,n)}))},t.exports=e},24027:function(t){"use strict";var e=function(t){this.element=t,this.events={}};e.prototype.bind=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},e.prototype.unbind=function(t,e){var n=void 0!==e;this.events[t]=this.events[t].filter((function(r){return!(!n||r===e)||(this.element.removeEventListener(t,r,!1),!1)}),this)},e.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var n=function(){this.eventElements=[]};n.prototype.eventElement=function(t){var n=this.eventElements.filter((function(e){return e.element===t}))[0];return void 0===n&&(n=new e(t),this.eventElements.push(n)),n},n.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},n.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},n.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},n.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)},t.exports=n},32730:function(t){"use strict";t.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},22006:function(t,e,n){"use strict";var r=n(70145),i=n(95764),o=e.toInt=function(t){return parseInt(t,10)||0},a=e.clone=function(t){if(t){if(Array.isArray(t))return t.map(a);if("object"==typeof t){var e={};for(var n in t)e[n]=a(t[n]);return e}return t}return null};function s(t){return function(e,n){t(e,"ps--in-scrolling"),void 0!==n?t(e,"ps--"+n):(t(e,"ps--x"),t(e,"ps--y"))}}e.extend=function(t,e){var n=a(t);for(var r in e)n[r]=a(e[r]);return n},e.isEditable=function(t){return i.matches(t,"input,[contenteditable]")||i.matches(t,"select,[contenteditable]")||i.matches(t,"textarea,[contenteditable]")||i.matches(t,"button,[contenteditable]")},e.removePsClasses=function(t){for(var e=r.list(t),n=0;n<e.length;n++){var i=e[n];0===i.indexOf("ps-")&&r.remove(t,i)}},e.outerWidth=function(t){return o(i.css(t,"width"))+o(i.css(t,"paddingLeft"))+o(i.css(t,"paddingRight"))+o(i.css(t,"borderLeftWidth"))+o(i.css(t,"borderRightWidth"))},e.startScrolling=s(r.add),e.stopScrolling=s(r.remove),e.env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof window&&null!==window.navigator.msMaxTouchPoints}},8614:function(t,e,n){"use strict";var r=n(44008),i=n(82780),o=n(6652);t.exports={initialize:i,update:o,destroy:r}},49950:function(t){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default",onWheelScroll:function(){},onDragScroll:function(){},onClickScroll:function(){},onKeydownScroll:function(){},onTouchMove:function(){}}},44008:function(t,e,n){"use strict";var r=n(22006),i=n(95764),o=n(89345);t.exports=function(t){var e=o.get(t);e&&(e.event.unbindAll(),i.remove(e.scrollbarX),i.remove(e.scrollbarY),i.remove(e.scrollbarXRail),i.remove(e.scrollbarYRail),r.removePsClasses(t),o.remove(t))}},77161:function(t,e,n){"use strict";var r=n(89345),i=n(89387),o=n(99033);t.exports=function(t){!function(t,e){function n(t){return t.getBoundingClientRect()}var r=function(t){t.stopPropagation()};e.event.bind(e.scrollbarY,"click",r),e.event.bind(e.scrollbarYRail,"click",(function(r){var a=r.pageY-window.pageYOffset-n(e.scrollbarYRail).top>e.scrollbarYTop?1:-1;o(t,"top",t.scrollTop+a*e.containerHeight),e.settings.onClickScroll&&e.settings.onClickScroll("top",t.scrollTop+a*e.containerHeight),i(t),r.stopPropagation()})),e.event.bind(e.scrollbarX,"click",r),e.event.bind(e.scrollbarXRail,"click",(function(r){var a=r.pageX-window.pageXOffset-n(e.scrollbarXRail).left>e.scrollbarXLeft?1:-1;o(t,"left",t.scrollLeft+a*e.containerWidth),e.settings.onClickScroll&&e.settings.onClickScroll("left",t.scrollLeft+a*e.containerWidth),i(t),r.stopPropagation()}))}(t,r.get(t))}},31411:function(t,e,n){"use strict";var r=n(22006),i=n(95764),o=n(89345),a=n(89387),s=n(99033);function c(t,e){var n=null,o=null;var c=function(i){!function(i){var o=n+i*e.railXRatio,a=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=o<0?0:o>a?a:o;var c=r.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;s(t,"left",c),e.settings.onDragScroll&&e.settings.onDragScroll("left",c)}(i.pageX-o),a(t),i.stopPropagation(),i.preventDefault()},u=function(){r.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",c)};e.event.bind(e.scrollbarX,"mousedown",(function(a){o=a.pageX,n=r.toInt(i.css(e.scrollbarX,"left"))*e.railXRatio,r.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",c),e.event.once(e.ownerDocument,"mouseup",u),a.stopPropagation(),a.preventDefault()}))}function u(t,e){var n=null,o=null;var c=function(i){!function(i){var o=n+i*e.railYRatio,a=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=o<0?0:o>a?a:o;var c=r.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));s(t,"top",c),e.settings.onDragScroll&&e.settings.onDragScroll("top",c)}(i.pageY-o),a(t),i.stopPropagation(),i.preventDefault()},u=function(){r.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",c)};e.event.bind(e.scrollbarY,"mousedown",(function(a){o=a.pageY,n=r.toInt(i.css(e.scrollbarY,"top"))*e.railYRatio,r.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",c),e.event.once(e.ownerDocument,"mouseup",u),a.stopPropagation(),a.preventDefault()}))}t.exports=function(t){var e=o.get(t);c(t,e),u(t,e)}},19716:function(t,e,n){"use strict";var r=n(22006),i=n(95764),o=n(89345),a=n(89387),s=n(99033);function c(t,e){var n=!1;e.event.bind(t,"mouseenter",(function(){n=!0})),e.event.bind(t,"mouseleave",(function(){n=!1}));e.event.bind(e.ownerDocument,"keydown",(function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)){var c=i.matches(e.scrollbarX,":focus")||i.matches(e.scrollbarY,":focus");if(n||c){var u=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(u){if("IFRAME"===u.tagName)u=u.contentDocument.activeElement;else for(;u.shadowRoot;)u=u.shadowRoot.activeElement;if(r.isEditable(u))return}var l=0,f=0;switch(o.which){case 37:l=o.metaKey?-e.contentWidth:o.altKey?-e.containerWidth:-30;break;case 38:f=o.metaKey?e.contentHeight:o.altKey?e.containerHeight:30;break;case 39:l=o.metaKey?e.contentWidth:o.altKey?e.containerWidth:30;break;case 40:f=o.metaKey?-e.contentHeight:o.altKey?-e.containerHeight:-30;break;case 33:f=90;break;case 32:f=o.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=o.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:f=o.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}s(t,"top",t.scrollTop-f),e.settings.onKeydownScroll&&e.settings.onKeydownScroll("top",t.scrollTop-f),s(t,"left",t.scrollLeft+l),e.settings.onKeydownScroll&&e.settings.onKeydownScroll("left",t.scrollLeft+l),a(t),function(n,r){var i=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(l,f)&&o.preventDefault()}}}))}t.exports=function(t){c(t,o.get(t))}},57847:function(t,e,n){"use strict";var r=n(89345),i=n(89387),o=n(99033);function a(t,e){var n=!1;function r(r){var a=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(r),s=a[0],c=a[1];(function(e,n){var r=t.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(r){var i=window.getComputedStyle(r);if(![i.overflow,i.overflowX,i.overflowY].join("").match(/(scroll|auto)/))return!1;var o=r.scrollHeight-r.clientHeight;if(o>0&&!(0===r.scrollTop&&n>0||r.scrollTop===o&&n<0))return!0;var a=r.scrollLeft-r.clientWidth;if(a>0&&!(0===r.scrollLeft&&e<0||r.scrollLeft===a&&e>0))return!0}return!1})(s,c)||(n=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(c?(o(t,"top",t.scrollTop-c*e.settings.wheelSpeed),e.settings.onWheelScroll&&e.settings.onWheelScroll("top",t.scrollTop-c*e.settings.wheelSpeed)):(o(t,"top",t.scrollTop+s*e.settings.wheelSpeed),e.settings.onWheelScroll&&e.settings.onWheelScroll("top",t.scrollTop+s*e.settings.wheelSpeed)),n=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(s?(o(t,"left",t.scrollLeft+s*e.settings.wheelSpeed),e.settings.onWheelScroll&&e.settings.onWheelScroll("left",t.scrollLeft+s*e.settings.wheelSpeed)):(o(t,"left",t.scrollLeft-c*e.settings.wheelSpeed),e.settings.onWheelScroll&&e.settings.onWheelScroll("left",t.scrollLeft-c*e.settings.wheelSpeed)),n=!0):(o(t,"top",t.scrollTop-c*e.settings.wheelSpeed),e.settings.onWheelScroll&&e.settings.onWheelScroll("top",t.scrollTop-c*e.settings.wheelSpeed),o(t,"left",t.scrollLeft+s*e.settings.wheelSpeed),e.settings.onWheelScroll&&e.settings.onWheelScroll("left",t.scrollLeft+s*e.settings.wheelSpeed)),i(t),(n=n||function(n,r){var i=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(s,c))&&(r.stopPropagation(),r.preventDefault()))}void 0!==window.onwheel?e.event.bind(t,"wheel",r):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",r)}t.exports=function(t){a(t,r.get(t))}},81119:function(t,e,n){"use strict";var r=n(89345),i=n(89387);t.exports=function(t){!function(t,e){e.event.bind(t,"scroll",(function(){i(t)}))}(t,r.get(t))}},68099:function(t,e,n){"use strict";var r=n(22006),i=n(89345),o=n(89387),a=n(99033);function s(t,e){var n=null,s={top:0,left:0};function c(){n&&(clearInterval(n),n=null),r.stopScrolling(t)}var u=!1;e.event.bind(e.ownerDocument,"selectionchange",(function(){var e;t.contains(0===(e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"").toString().length?null:e.getRangeAt(0).commonAncestorContainer)?u=!0:(u=!1,c())})),e.event.bind(window,"mouseup",(function(){u&&(u=!1,c())})),e.event.bind(window,"keyup",(function(){u&&(u=!1,c())})),e.event.bind(window,"mousemove",(function(e){if(u){var l={x:e.pageX,y:e.pageY},f={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};l.x<f.left+3?(s.left=-5,r.startScrolling(t,"x")):l.x>f.right-3?(s.left=5,r.startScrolling(t,"x")):s.left=0,l.y<f.top+3?(s.top=f.top+3-l.y<5?-5:-20,r.startScrolling(t,"y")):l.y>f.bottom-3?(s.top=l.y-f.bottom+3<5?5:20,r.startScrolling(t,"y")):s.top=0,0===s.top&&0===s.left?c():n||(n=setInterval((function(){i.get(t)?(a(t,"top",t.scrollTop+s.top),a(t,"left",t.scrollLeft+s.left),o(t)):clearInterval(n)}),50))}}))}t.exports=function(t){s(t,i.get(t))}},19549:function(t,e,n){"use strict";var r=n(22006),i=n(89345),o=n(89387),a=n(99033);function s(t,e,n,r){function s(n,r){a(t,"top",t.scrollTop-r),e.settings.onTouchMove&&e.settings.onTouchMove("top",t.scrollTop-r),a(t,"left",t.scrollLeft-n),e.settings.onTouchMove&&e.settings.onTouchMove("left",t.scrollLeft-n),o(t)}var c={},u=0,l={},f=null,d=!1,p=!1;function h(){d=!0}function v(){d=!1}function m(t){return t.targetTouches?t.targetTouches[0]:t}function g(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function b(t){if(g(t)){p=!0;var e=m(t);c.pageX=e.pageX,c.pageY=e.pageY,u=(new Date).getTime(),null!==f&&clearInterval(f),t.stopPropagation()}}function y(n){if(!p&&e.settings.swipePropagation&&b(n),!d&&p&&g(n)){var r=m(n),i={pageX:r.pageX,pageY:r.pageY},o=i.pageX-c.pageX,a=i.pageY-c.pageY;s(o,a),c=i;var f=(new Date).getTime(),h=f-u;h>0&&(l.x=o/h,l.y=a/h,u=f),function(n,r){var i=t.scrollTop,o=t.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===e.contentHeight-e.containerHeight||r>0&&0===i)return!e.settings.swipePropagation}else if(a>s&&(n<0&&o===e.contentWidth-e.containerWidth||n>0&&0===o))return!e.settings.swipePropagation;return!0}(o,a)&&(n.stopPropagation(),n.preventDefault())}}function w(){!d&&p&&(p=!1,e.settings.swipeEasing&&(clearInterval(f),f=setInterval((function(){i.get(t)&&(l.x||l.y)?Math.abs(l.x)<.01&&Math.abs(l.y)<.01?clearInterval(f):(s(30*l.x,30*l.y),l.x*=.8,l.y*=.8):clearInterval(f)}),10)))}n?(e.event.bind(window,"touchstart",h),e.event.bind(window,"touchend",v),e.event.bind(t,"touchstart",b),e.event.bind(t,"touchmove",y),e.event.bind(t,"touchend",w)):r&&(window.PointerEvent?(e.event.bind(window,"pointerdown",h),e.event.bind(window,"pointerup",v),e.event.bind(t,"pointerdown",b),e.event.bind(t,"pointermove",y),e.event.bind(t,"pointerup",w)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",h),e.event.bind(window,"MSPointerUp",v),e.event.bind(t,"MSPointerDown",b),e.event.bind(t,"MSPointerMove",y),e.event.bind(t,"MSPointerUp",w)))}t.exports=function(t){(r.env.supportsTouch||r.env.supportsIePointer)&&s(t,i.get(t),r.env.supportsTouch,r.env.supportsIePointer)}},82780:function(t,e,n){"use strict";var r=n(22006),i=n(70145),o=n(89345),a=n(89387),s={"click-rail":n(77161),"drag-scrollbar":n(31411),keyboard:n(19716),wheel:n(57847),touch:n(19549),selection:n(68099)},c=n(81119);t.exports=function(t,e){e="object"==typeof e?e:{},i.add(t,"ps");var n=o.add(t);n.settings=r.extend(n.settings,e),i.add(t,"ps--theme_"+n.settings.theme),n.settings.handlers.forEach((function(e){s[e](t)})),c(t),a(t)}},89345:function(t,e,n){"use strict";var r=n(22006),i=n(70145),o=n(49950),a=n(95764),s=n(24027),c=n(32730),u={};function l(t){var e,n,c=this;function u(){i.add(t,"ps--focus")}function l(){i.remove(t,"ps--focus")}c.settings=r.clone(o),c.containerWidth=null,c.containerHeight=null,c.contentWidth=null,c.contentHeight=null,c.isRtl="rtl"===a.css(t,"direction"),c.isNegativeScroll=(n=t.scrollLeft,t.scrollLeft=-1,e=t.scrollLeft<0,t.scrollLeft=n,e),c.negativeScrollAdjustment=c.isNegativeScroll?t.scrollWidth-t.clientWidth:0,c.event=new s,c.ownerDocument=t.ownerDocument||document,c.scrollbarXRail=a.appendTo(a.e("div","ps__scrollbar-x-rail"),t),c.scrollbarX=a.appendTo(a.e("div","ps__scrollbar-x"),c.scrollbarXRail),c.scrollbarX.setAttribute("tabindex",0),c.event.bind(c.scrollbarX,"focus",u),c.event.bind(c.scrollbarX,"blur",l),c.scrollbarXActive=null,c.scrollbarXWidth=null,c.scrollbarXLeft=null,c.scrollbarXBottom=r.toInt(a.css(c.scrollbarXRail,"bottom")),c.isScrollbarXUsingBottom=c.scrollbarXBottom==c.scrollbarXBottom,c.scrollbarXTop=c.isScrollbarXUsingBottom?null:r.toInt(a.css(c.scrollbarXRail,"top")),c.railBorderXWidth=r.toInt(a.css(c.scrollbarXRail,"borderLeftWidth"))+r.toInt(a.css(c.scrollbarXRail,"borderRightWidth")),a.css(c.scrollbarXRail,"display","block"),c.railXMarginWidth=r.toInt(a.css(c.scrollbarXRail,"marginLeft"))+r.toInt(a.css(c.scrollbarXRail,"marginRight")),a.css(c.scrollbarXRail,"display",""),c.railXWidth=null,c.railXRatio=null,c.scrollbarYRail=a.appendTo(a.e("div","ps__scrollbar-y-rail"),t),c.scrollbarY=a.appendTo(a.e("div","ps__scrollbar-y"),c.scrollbarYRail),c.scrollbarY.setAttribute("tabindex",0),c.event.bind(c.scrollbarY,"focus",u),c.event.bind(c.scrollbarY,"blur",l),c.scrollbarYActive=null,c.scrollbarYHeight=null,c.scrollbarYTop=null,c.scrollbarYRight=r.toInt(a.css(c.scrollbarYRail,"right")),c.isScrollbarYUsingRight=c.scrollbarYRight==c.scrollbarYRight,c.scrollbarYLeft=c.isScrollbarYUsingRight?null:r.toInt(a.css(c.scrollbarYRail,"left")),c.scrollbarYOuterWidth=c.isRtl?r.outerWidth(c.scrollbarY):null,c.railBorderYWidth=r.toInt(a.css(c.scrollbarYRail,"borderTopWidth"))+r.toInt(a.css(c.scrollbarYRail,"borderBottomWidth")),a.css(c.scrollbarYRail,"display","block"),c.railYMarginHeight=r.toInt(a.css(c.scrollbarYRail,"marginTop"))+r.toInt(a.css(c.scrollbarYRail,"marginBottom")),a.css(c.scrollbarYRail,"display",""),c.railYHeight=null,c.railYRatio=null}function f(t){return t.getAttribute("data-ps-id")}e.add=function(t){var e=c();return function(t,e){t.setAttribute("data-ps-id",e)}(t,e),u[e]=new l(t),u[e]},e.remove=function(t){delete u[f(t)],function(t){t.removeAttribute("data-ps-id")}(t)},e.get=function(t){return u[f(t)]}},89387:function(t,e,n){"use strict";var r=n(22006),i=n(70145),o=n(95764),a=n(89345),s=n(99033);function c(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}t.exports=function(t){var e,n=a.get(t);n.containerWidth=t.clientWidth,n.containerHeight=t.clientHeight,n.contentWidth=t.scrollWidth,n.contentHeight=t.scrollHeight,t.contains(n.scrollbarXRail)||((e=o.queryChildren(t,".ps__scrollbar-x-rail")).length>0&&e.forEach((function(t){o.remove(t)})),o.appendTo(n.scrollbarXRail,t)),t.contains(n.scrollbarYRail)||((e=o.queryChildren(t,".ps__scrollbar-y-rail")).length>0&&e.forEach((function(t){o.remove(t)})),o.appendTo(n.scrollbarYRail,t)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=c(n,r.toInt(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=r.toInt((n.negativeScrollAdjustment+t.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=c(n,r.toInt(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=r.toInt(t.scrollTop*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),function(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,o.css(e.scrollbarXRail,n);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,o.css(e.scrollbarYRail,r),o.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),o.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(t,n),n.scrollbarXActive?i.add(t,"ps--active-x"):(i.remove(t,"ps--active-x"),n.scrollbarXWidth=0,n.scrollbarXLeft=0,s(t,"left",0)),n.scrollbarYActive?i.add(t,"ps--active-y"):(i.remove(t,"ps--active-y"),n.scrollbarYHeight=0,n.scrollbarYTop=0,s(t,"top",0))}},99033:function(t,e,n){"use strict";var r=n(89345),i=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e};t.exports=function(t,e,n){if(void 0===t)throw"You must provide an element to the update-scroll function";if(void 0===e)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===e&&n<=0&&(t.scrollTop=n=0,t.dispatchEvent(i("ps-y-reach-start"))),"left"===e&&n<=0&&(t.scrollLeft=n=0,t.dispatchEvent(i("ps-x-reach-start")));var o=r.get(t);"top"===e&&n>=o.contentHeight-o.containerHeight&&((n=o.contentHeight-o.containerHeight)-t.scrollTop<=1?n=t.scrollTop:t.scrollTop=n,t.dispatchEvent(i("ps-y-reach-end"))),"left"===e&&n>=o.contentWidth-o.containerWidth&&((n=o.contentWidth-o.containerWidth)-t.scrollLeft<=1?n=t.scrollLeft:t.scrollLeft=n,t.dispatchEvent(i("ps-x-reach-end"))),void 0===o.lastTop&&(o.lastTop=t.scrollTop),void 0===o.lastLeft&&(o.lastLeft=t.scrollLeft),"top"===e&&n<o.lastTop&&t.dispatchEvent(i("ps-scroll-up")),"top"===e&&n>o.lastTop&&t.dispatchEvent(i("ps-scroll-down")),"left"===e&&n<o.lastLeft&&t.dispatchEvent(i("ps-scroll-left")),"left"===e&&n>o.lastLeft&&t.dispatchEvent(i("ps-scroll-right")),"top"===e&&n!==o.lastTop&&(t.scrollTop=o.lastTop=n,t.dispatchEvent(i("ps-scroll-y"))),"left"===e&&n!==o.lastLeft&&(t.scrollLeft=o.lastLeft=n,t.dispatchEvent(i("ps-scroll-x")))}},6652:function(t,e,n){"use strict";var r=n(22006),i=n(95764),o=n(89345),a=n(89387),s=n(99033);t.exports=function(t){var e=o.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,i.css(e.scrollbarXRail,"display","block"),i.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=r.toInt(i.css(e.scrollbarXRail,"marginLeft"))+r.toInt(i.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=r.toInt(i.css(e.scrollbarYRail,"marginTop"))+r.toInt(i.css(e.scrollbarYRail,"marginBottom")),i.css(e.scrollbarXRail,"display","none"),i.css(e.scrollbarYRail,"display","none"),a(t),s(t,"top",t.scrollTop),s(t,"left",t.scrollLeft),i.css(e.scrollbarXRail,"display",""),i.css(e.scrollbarYRail,"display",""))}},87594:function(t,e,n){"use strict";n.r(e)},20843:function(t,e,n){"use strict";n.r(e)},25163:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(51942),i=n.n(r),o=n(22122);function a(t){return function(e){!function t(e){for(var n in e)e[n].namespaced=!0,e[n].modules&&t(e[n].modules)}(e.modules);var n=new t(e);return n.getters=i()(n.getters,function t(e,r){var i={},a=function(a){e[a].getters&&(i[a]={});var s=(r?r+"/":"")+a,c=function(t){Object.defineProperty(i[a],t,{get:function(){return n.getters[s+"/"+t]}})};for(var u in e[a].getters)c(u);e[a].modules&&(i[a]=(0,o.Z)({},i[a],t(e[a].modules,s)))};for(var s in e)a(s);return i}(e.modules)),n.dispatchs=(0,o.Z)({},function(){var t={},r=function(e){t[e]=function(t){return n.dispatch(e,t)}};for(var i in e.actions)r(i);return t}(),function t(e,r){var i={},a=function(a){e[a].actions&&(i[a]={});var s=(r?r+"/":"")+a,c=function(t){i[a][t]=function(e){return n.dispatch(s+"/"+t,e)}};for(var u in e[a].actions)c(u);e[a].modules&&(i[a]=(0,o.Z)({},i[a],t(e[a].modules,s)))};for(var s in e)a(s);return i}(e.modules)),n.commits=(0,o.Z)({},function(){var t={},r=function(e){t[e]=function(t){return n.commit(e,t)}};for(var i in e.mutations)r(i);return t}(),function t(e,r){var i={},a=function(a){e[a].mutations&&(i[a]={});var s=(r?r+"/":"")+a,c=function(t){i[a][t]=function(e){return n.commit(s+"/"+t,e)}};for(var u in e[a].mutations)c(u);e[a].modules&&(i[a]=(0,o.Z)({},i[a],t(e[a].modules,s)))};for(var s in e)a(s);return i}(e.modules)),n}}},14469:function(t,e,n){"use strict";n.r(e)},66856:function(t,e,n){"use strict";n.r(e),n.d(e,{convertGold2Lp:function(){return ct},currencyName:function(){return rt},formatNumWithUnit:function(){return ut},getMobileCurrency:function(){return gt},goldCurrency:function(){return lt},hasLpRollout:function(){return dt},lp2GoldRate:function(){return st},lpCurrency:function(){return ft},webCurrency:function(){return ft}});var r=n(69348),i=n(93476),o=n.n(i),a=n(51942),s=n.n(a),c=n(63109),u=n.n(c),l=n(65420),f=n.n(l),d=n(98341),p=n.n(d),h=n(2991),v=n.n(h),m=n(59340),g=n.n(m),b=n(3649),y=n.n(b),w=n(94473),_=n.n(w),x=n(78580),C=n.n(x),S=n(20116),k=n.n(S),E=function(){return(E=s()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function I(t,e,n,r){return new(n||(n=o()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function T(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof f()&&(o[p()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var O,A=function(){if("undefined"==typeof window)return null;try{return window}catch(t){return window}}();function L(t){var e;A.BiliJsBridge.biliInject.biliCallbackReceived||(A.BiliJsBridge.biliInject.biliCallbackReceived=function(t,e,n){var r,i=v()(r=A.BiliJsBridge.callbacks).call(r,(function(t){return t.callbackId})).indexOf(Number(t));i>=0&&A.BiliJsBridge.callbacks[i].callback&&A.BiliJsBridge.callbacks[i].callback(n||e)}),e=A.BiliJsBridge.biliInject&&"function"==typeof A.BiliJsBridge.biliInject.postMessage?A.BiliJsBridge.biliInject.postMessage.bind(A.BiliJsBridge.biliInject):function(){},function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&"function"==typeof t[e]&&"callback"!==e&&(A.BiliJsBridge.callbacks.push({callbackId:A.BiliJsBridge.selfCallbackId,callback:t[e]}),t[e]="",t.data[e+"CallbackId"]=A.BiliJsBridge.selfCallbackId++)}(t),A.BiliJsBridge.callbacks.push({callbackId:A.BiliJsBridge.selfCallbackId,callback:t.callback}),A.selfBrowser.version.android?e(g()({method:t.method,data:s()(t.data,{callbackId:A.BiliJsBridge.selfCallbackId++})})):e({method:t.method,data:g()(s()(t.data,{callbackId:A.BiliJsBridge.selfCallbackId++}))})}function j(){return A.biliInject||A.webkit&&A.webkit.messageHandlers&&A.webkit.messageHandlers.biliInject}function R(t){return new(o())((function(e,n){D.callNative({method:"global.getAllSupport",callback:function(r){try{e(-1!==r.indexOf(t))}catch(t){n(t)}}})}))}A&&(A.selfBrowser||(A.selfBrowser={version:(O=navigator.userAgent,{mobile:/AppleWebKit.*Mobile.*/i.test(O),ios:/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(O),android:/Android/i.test(O)||/Linux/i.test(O),windowsphone:/Windows Phone/i.test(O),iPhone:/iPhone/i.test(O),iPad:/iPad/i.test(O),webApp:!/Safari/i.test(O),MicroMessenger:/MicroMessenger/i.test(O),weibo:/Weibo/i.test(O),uc:/UCBrowser/i.test(O),qq:/MQQBrowser/i.test(O),baidu:/Baidu/i.test(O),mqq:/QQ\/([\d.]+)/i.test(O),mbaidu:/baiduboxapp/i.test(O),iqiyi:/iqiyi/i.test(O),QQLive:/QQLive/i.test(O),Safari:function(){var t=navigator.userAgent;return!(!/ OS \d/.test(t)||~t.indexOf("CriOS")||t.indexOf("Mozilla")||!/Safari\/[\d.]+$/.test(t))}(),Youku:/youku/i.test(O),chrome:/CriOS/i.test(O),CMDC:/CMDC/i.test(O),BiliApp:/BiliApp|BiliComic/i.test(O),BiliMallSDK:/mallSdkVersion/i.test(O)}),language:(navigator.browserLanguage||navigator.language).toLowerCase()}),A.BiliJsBridge||(A.BiliJsBridge={sendTasks:[],callbacks:[],biliInject:null,selfCallbackId:1,inited:!1,newVersion:!1}));var D={callNative:function(t){if((t=t||{}).data=t.data||{},!t.method)throw new Error("no method");A.BiliJsBridge.inited?A.BiliJsBridge.newVersion&&L(t):A.BiliJsBridge.sendTasks.push(t)}},P=(!!A&&A.selfBrowser.version.BiliApp,function(t,e){0});function N(t){var e,n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=y()(e=window.location.search).call(e,1).match(n);return null!==r?decodeURIComponent(r[2]):null}var B=RegExp(/iphone|ipad|ipod/i).test(navigator.userAgent),M=RegExp(/android/i).test(navigator.userAgent),U=RegExp(/BiliApp|BiliComic/).test(navigator.userAgent),F=/live\.bilibili\.com/i.test(window.location.hostname),H="live"===N("-Abrowser"),V=F&&(1==+N("is_live_webview")||1==+N("is_live_full_webview"))||H,q=(F||H)&&1==+N("is_live_half_webview"),W={isIOS:B,isAndroid:M,isApp:U,isLiveApp:U&&(V||q),isHalf:q,isFull:V},$=function(t){var e;return"Object"===y()(e=Object.prototype.toString.call(t)).call(e,8,-1)},K=function(t){D.callNative.call(D,t)},G=function(t,e){return new(o())((function(n,r){K({method:t,data:e,callback:function(){n(),P()}})}))};function Y(){return new(o())((function(t){K({method:"global.getContainerInfo",data:{},callback:function(e){t(e)}})}))}function X(){return new(o())((function(t){Y().then((function(e){var n={appType:e.mobi_app?e.mobi_app:e.platform,build:e.build};t(n)}))}))}function z(t,e){return I(this,void 0,void 0,(function(){var n,r,i,o;return T(this,(function(a){switch(a.label){case 0:return Array.isArray(t)?[4,X()]:[2,!1];case 1:if(n=a.sent(),r=n.appType,i=n.build,e&&!_()(t).call(t,(function(t){return t.oldAppType===r})))return[2,!0];for(o=0;o<t.length;++o)if(r===t[o].oldAppType)return+i>t[o].oldBuild?[2,!0]:[2,!1];return[2,!1]}}))}))}var Q,Z=function(){function t(t){this.mode=t}return t.prototype.base=function(t,e,n){var r=this;return new(o())((function(i,o){var a="set"===t?{operation:t,key:e,value:n}:"clear"===t?{operation:t}:{operation:t,key:e};if(W.isApp)K({method:"live_cache_"+r.mode+".localCache",data:a,success:function(t){i(t)},fail:function(t){var e={message:"出错了"};try{e=JSON.parse(t)}catch(t){e={message:"数据格式错误"}}o(e.message)},callback:function(){P()}});else if(window.localStorage)switch(t){case"set":localStorage.setItem(e,n),i();break;case"get":i(localStorage.getItem(e));break;case"remove":localStorage.removeItem(e),i();break;case"clear":localStorage.clear(),i()}}))},t.prototype.getItem=function(t){return this.base("get",t)},t.prototype.setItem=function(t,e){return this.base("set",t,e)},t.prototype.removeItem=function(t){return this.base("remove",t)},t.prototype.clear=function(){return this.base("clear")},t}(),J=function(){function t(t){this.isSupportNativeRequest=null,this.mode=t}return t.prototype.base=function(t,e,n,r){var i=this;return void 0===r&&(r="queryString"),new(o())((function(o,a){var s="post"===t?{url:e,method:t,params:n,paramsType:r}:{url:e,method:t,params:n};K({method:"live_network_"+i.mode+".request",data:s,success:function(t){var e=function(){if($(t))return t;try{return JSON.parse(t)}catch(t){return{code:77777,message:"数据格式错误",error:t}}}();o(e)},fail:function(t){var e=function(){if($(t))return t;try{return JSON.parse(t)}catch(t){return{code:77777,message:"数据格式错误",error:t}}}();a(e)},failed:function(t){var e=function(){if($(t))return t;try{return JSON.parse(t)}catch(t){return{code:77777,message:"数据格式错误",error:t}}}();a(e)},callback:function(){P()}})}))},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.base("get",t,e)},t.prototype.post=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n="queryString"),this.base("post",t,e,n)},t.prototype.mixinRequest=function(t,e){return I(this,void 0,void 0,(function(){var n,r,i,a,s,c;return T(this,(function(u){switch(u.label){case 0:return null!==this.isSupportNativeRequest?[3,3]:(n=this,(r=W.isApp)?[4,R("live_network_"+this.mode+".request")]:[3,2]);case 1:r=u.sent(),u.label=2;case 2:n.isSupportNativeRequest=r,u.label=3;case 3:if(this.isSupportNativeRequest){if("get"===e.method)return[2,this.base("get",e.url,e.params||{})];if("post"===e.method)return[2,this.base("post",e.url,e.params||{},e.paramsType||"queryString")]}i="get"===e.method?"params":"data",u.label=4;case 4:return u.trys.push([4,6,,7]),[4,t((c={method:e.method,url:e.url},c[i]=e.params||{},c))];case 5:return 200===(a=u.sent()).status?[2,o().resolve(a.data)]:[2,o().reject(a)];case 6:return s=u.sent(),[2,o().reject(s)];case 7:return[2]}}))}))},t}(),tt=function(){function t(){}return t.initCallback=function(){var t=this;window._biliapp=window._biliapp||{},window._biliapp.callback=function(e,n){for(var r=0,i=t.callbackQueue;r<i.length;r++){var o=i[r];if(o.callbackId===+e)return void(o.callback&&o.callback(n))}}},t.shiftCallback=function(){this.callbackQueue.length>this.queueMaxLength&&this.callbackQueue.shift()},t.pushCallback=function(t){this.shiftCallback(),this.callbackQueue.push({callbackId:++this.callbackId,callback:t})},t.queueMaxLength=25,t.callbackQueue=[],t.callbackId=0,t}();function et(t){t.forEach((function(t){K({method:"global.import",data:{namespace:t}})}))}!function(t){t[t.Others=0]="Others",t[t.Pv=1]="Pv",t[t.Click=2]="Click",t[t.Show=3]="Show",t[t.System=4]="System",t[t.Performance=5]="Performance",t[t.Custom=7]="Custom",t[t.Player=9]="Player"}(Q||(Q={}));var nt=function(){function t(){this.isExist=null}return t.prototype.report=function(t){return I(this,void 0,void 0,(function(){var e;return T(this,(function(n){switch(n.label){case 0:return null!==this.isExist?[3,2]:(e=this,[4,R("ability.reportEventV3")]);case 1:e.isExist=n.sent(),n.label=2;case 2:return this.isExist?[2,G("ability.reportEventV3",E({label:"webviewTracker"},t))]:(console.log("当前APP版本不支持ability.reportEventV3"),[2])}}))}))},t.prototype.reportEvent=function(t,e){var n=g()({});try{n=g()(e.params)}catch(t){console.log(t)}this.report({event:t,params:n,type:e.type,label:e.label})},t.prototype.pv=function(t,e){var n=g()({});try{e&&(n=g()(e))}catch(t){console.log(t)}return this.report({event:t,params:n,type:1})},t}();tt.initCallback();var rt,it=function(){function t(){this.promiseCtor=G,this.initialized=!1,this.isIOS=W.isIOS,this.isAndroid=W.isAndroid,this.isApp=W.isApp,this.isLiveApp=W.isLiveApp,this.isFull=W.isFull,this.isHalf=W.isHalf,this.getContainerInfo=Y,this.getAppTypeBuild=X,this.mode=this.isHalf?"half":"full",this.localCache=new Z(this.mode),this.request=new J(this.mode),this.neuron=new nt}return t.prototype.initial=function(t){window.__custom_cookie=window.__custom_cookie||{},new(o())((function(t,e){if(j())e();else if(A.selfBrowser.version.ios)var n=setInterval((function(){j()&&(e(),clearInterval(n))}),1e3);else setTimeout((function(){j()&&e()}),2e3)})).catch((function(){A.BiliJsBridge.biliInject=j(),A.BiliJsBridge.newVersion=!0,A.BiliJsBridge.inited=!0,A.BiliJsBridge.sendTasks.forEach((function(t){L(t)})),A.BiliJsBridge.sendTasks=[]})),this.initialized||(this.initialized=!0,this.isFull&&function(t){var e=["live_info_full","live_pay_full","live_cache_full","live_network_full","live_ui_full","live_location_full"];"string"==typeof t?e=[t]:Array.isArray(t)&&(e=t),et(e)}(t),this.isHalf&&function(t){var e=["live_info_half","live_pay_half","live_cache_half","live_network_half","live_ui_half","live_location_half","live_room_half","live_center_half"];"string"==typeof t?e=[t]:Array.isArray(t)&&(e=t),et(e)}(t)),this.importNamespace("offline"),this.callNative({method:"offline.getCookie",data:{keys:["bili_jct"]},callback:function(t){window.__custom_cookie.bili_jct=t.bili_jct}})},t.prototype.importNamespace=function(t){return this.promiseCtor("global.import",{namespace:t})},t.prototype.isSupport=function(t){return R(t)},t.prototype.callNative=function(t){K(t)},t.prototype.checkHeightVersion=function(t,e){return I(this,void 0,void 0,(function(){return T(this,(function(n){switch(n.label){case 0:return[4,z(t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.toLogin=function(t){return void 0===t&&(t=""),I(this,void 0,void 0,(function(){var e,n,r,i,a=this;return T(this,(function(s){switch(s.label){case 0:if(e="auth.login",!this.isIOS)return[3,4];n=0,r=["auth.ios_purchaseLogin","auth.purchaseLogin"],s.label=1;case 1:return n<r.length?(i=r[n],[4,this.isSupport(i)]):[3,4];case 2:if(s.sent())return e=i,[3,4];s.label=3;case 3:return n++,[3,1];case 4:return[2,new(o())((function(n){a.callNative({method:e,data:{type:"default",callbackUrl:t},onLogin:function(t){n(t)},callback:function(){P()}})}))]}}))}))},t.prototype.toAuthLogin=function(t){return void 0===t&&(t=""),I(this,void 0,void 0,(function(){var e,n,r=this;return T(this,(function(i){switch(i.label){case 0:return e="auth.login",(n=this.isIOS)?[4,this.isSupport("auth.loginUpdate")]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return n&&(e="auth.loginUpdate"),[2,new(o())((function(n){r.callNative({method:e,data:{type:"default",callbackUrl:t},onLogin:function(t){P(),n(t)},callback:function(){P()}})}))]}}))}))},t.prototype.getAppInfo=function(){var t=this;return new(o())((function(e,n){t.callNative({method:"live_info_"+t.mode+".getEssential",data:{},success:function(t){if($(t))return t;try{e(JSON.parse(t))}catch(t){n(t)}},callback:function(){P()}})}))},t.prototype.startPay=function(t){var e=this;return new(o())((function(n,r){e.callNative({method:"live_pay_"+e.mode+".startPay",data:{payInfo:t},success:function(){n()},fail:function(t){var e=function(){try{return JSON.parse(t)}catch(t){return{code:77777,message:"数据格式错误",error:t}}}();r(e)},callback:function(){P()}})}))},t.prototype.applePurchase=function(t){var e=this;return new(o())((function(n,r){e.isIOS?e.callNative({method:"live_pay_"+e.mode+".applePurchase",data:{payInfo:t},success:function(){n()},fail:function(t){var e=function(){try{return JSON.parse(t.replace(/([\r|\n|\s])/g,""))}catch(t){return{code:77777,message:"尚未支付成功，请重新支付",error:t}}}(),n=function(){var t,n;if(e.show_msg)return""+e.show_msg;if(C()(t=[2,4,11,12,301,1e3]).call(t,+e.code)){var r="("+e.code+(void 0===e.error_code||""===e.error_code?"":"_"+e.error_code)+")";return""+(function t(e,r){for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.code===r){if(!a.errorCodeObj)return a.show_msg;var s=t(a.errorCodeObj,+n.error_code);if(s)return s}}}([{code:2,show_msg:"参数异常，支付失败"},{code:4,show_msg:"网络错误，支付失败"},{code:11,show_msg:"青少年模式下无法支付~"},{code:12,show_msg:"课堂模式下无法支付~"},{code:301,show_msg:"支付存在风险，支付失败"},{code:1e3,errorCodeObj:[{code:1e3,show_msg:"检测到渠道风险，支付失败"},{code:1001,show_msg:"商品错误，支付失败"},{code:1003,show_msg:"商品失效，支付失败"},{code:1004,show_msg:"网络错误，支付失败"},{code:1005,show_msg:"服务异常，支付失败"},{code:1006,show_msg:"您的设备无法进行支付"},{code:1007,show_msg:"服务异常，支付失败"},{code:1008,show_msg:"服务异常，支付失败"},{code:1009,show_msg:"订阅选项切换成功，未扣款"},{code:1010,show_msg:"服务异常，支付失败"},{code:1100,show_msg:"服务异常，支付失败"}]}],+(n=e).code)||"尚未支付成功，请重新支付")+r}return"尚未支付成功，请重新支付"}();r({code:e.code,message:n,errorData:e})},callback:function(){P()}}):r({code:77778,message:"该方法只能 iOS 使用"})}))},t.prototype.openCashier=function(t,e){return void 0===e&&(e=!0),I(this,void 0,void 0,(function(){var n,r,i,a=this;return T(this,(function(s){switch(s.label){case 0:return[4,this.getContainerInfo()];case 1:return n=s.sent(),n.build?+n.build:0,[4,this.isSupport("live_pay_"+this.mode+".applePurchase")];case 2:return r=s.sent(),RegExp(/ipad/i).test(navigator.userAgent)&&!r?[2,o().reject({code:7777,message:"请使用最新版哔哩哔哩手机 APP 进行购买"})]:e&&this.isIOS&&r?[2,this.applePurchase(t)]:(i=e&&this.isAndroid)?[4,this.isSupport("live_pay_"+this.mode+".openCashier")]:[3,4];case 3:i=s.sent(),s.label=4;case 4:return i?[2,new(o())((function(e,n){a.callNative({method:"live_pay_"+a.mode+".openCashier",data:{payInfo:t},success:function(){e()},fail:function(t){var e=function(){if($(t))return t;try{return JSON.parse(t)}catch(t){return{code:77777,message:"数据格式错误",error:t}}}();n(e)},callback:function(){P()}})}))]:[2,new(o())((function(e,n){window.biliapp&&window.biliapp.openCashier&&"function"==typeof window.biliapp.openCashier?(tt.pushCallback((function(t){t&&0===t.code?e():n(t)})),window.biliapp.openCashier(g()({payParams:t,callbackId:tt.callbackId}))):n({code:7777,message:"请使用最新版哔哩哔哩手机 APP 进行购买"})}))]}}))}))},t.prototype.report=function(t,e){return this.promiseCtor("live_network_"+this.mode+".report",{logid:t,data:e})},t.prototype.showLoading=function(t){return void 0===t&&(t=3),this.promiseCtor("live_ui_"+this.mode+".showLoading",{time:parseInt(t.toString(),10)})},t.prototype.hideLoading=function(){return this.promiseCtor("live_ui_"+this.mode+".hideLoading",{})},t.prototype.toast=function(t,e){return void 0===e&&(e="long"),this.promiseCtor("live_ui_"+this.mode+".toast",{type:e,msg:t})},t.prototype.selectPanel=function(t,e){var n=this;return new(o())((function(r,i){n.callNative({method:"live_ui_"+n.mode+".selectPanel",data:{title:t,options:e},success:function(t){r(t)},callback:function(){P()}})}))},t.prototype.inputPanel=function(t,e,n,r,i,a,s){var c=this;return new(o())((function(o,u){c.callNative({method:"live_ui_"+c.mode+".inputPanel",data:{placeholder:t,maxlength:e,validate:n,type:r,value:i,exchangeRate:a,label:s},success:function(t){o(t)},callback:function(){P()}})}))},t.prototype.forward=function(t,e,n){var r=this;return new(o())((function(i,o){n?r.callNative({method:"live_location_"+r.mode+".forward",data:{type:t,topage:e},success:function(){n&&n()},callback:function(){i(),P()}}):r.callNative({method:"live_location_"+r.mode+".forward",data:{type:t,topage:e},callback:function(){i(),P()}})}))},t.prototype.back=function(){return this.isHalf?o().reject("当前环境不支持该方法"):this.promiseCtor("live_location_"+this.mode+".back",{})},t.prototype.hideTitleBar=function(){return this.isHalf?o().reject("当前环境不支持该方法"):this.promiseCtor("live_ui_"+this.mode+".titleBar",{display:0})},t.prototype.customTitleBar=function(t,e,n,r){return I(this,void 0,void 0,(function(){var i,a,s,c,u,l,f,d,p,h=this;return T(this,(function(v){switch(v.label){case 0:return this.isHalf?[2,o().reject("当前环境不支持该方法")]:n&&n.length>2?(console.log("为了保证美观 right 最多两个"),[2,o().reject("最多两个")]):this.isLiveApp&&2===parseInt(N("hybrid_set_header"))?[2,o().reject("隐藏顶栏后就不可以再设置顶栏信息咯～")]:(s=n)?[4,this.checkHeightVersion([{oldAppType:"iphone",oldBuild:8400},{oldAppType:"iphone_b",oldBuild:7340},{oldAppType:"ipad",oldBuild:12080},{oldAppType:"android",oldBuild:538e4}])]:[3,2];case 1:s=v.sent(),v.label=2;case 2:if(a=s)for(c=0,u=i=n;c<u.length;c++){if((l=u[c]).text&&!/^[\u4e00-\u9fa5]{1,4}$/.test(l.text))return console.error("text 最多四个汉字"),[2,o().reject("text 最多四个汉字")];if(l.badge&&!/^[\d\+]{1,3}$/.test(l.badge))return console.error("badge 包含数字，+ 最多三个字符"),[2,o().reject("badge 包含数字，+ 最多三个字符")];"0"===l.badge&&(l.badge="solid")}return n&&!a&&(f=["more","share","help"],d=k()(n).call(n,(function(t){return C()(f).call(f,t.tagname)})),i=d.length>0?d:null),p=i?function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(e,i):e,[2,new(o())((function(n,o){h.callNative({method:"live_ui_"+h.mode+".titleBar",data:{display:1,title:t,left:e,right:i,style:r},success:function(t){for(var e=0,n=p;e<n.length;e++){var r=n[e];if(t===r.tagname)return r.callback&&r.callback(),void("back"===t&&!r.callback&&h.back())}},callback:function(){n()}})}))]}}))}))},t.prototype.setNavMenu=function(t){return I(this,void 0,void 0,(function(){var e,n,r,i,a=this;return T(this,(function(s){if(this.isHalf)return[2,o().reject("当前环境不支持该方法")];if(t&&t.length>2)return console.log("为了保证美观 right 最多两个"),[2,o().reject("最多两个")];for(n=0,r=e=t;n<r.length;n++){if((i=r[n]).text&&!/^[\u4e00-\u9fa5]{1,4}$/.test(i.text))return console.error("text 最多四个汉字"),[2,o().reject("text 最多四个汉字")];if(i.badge&&!/^[\d\+]{1,3}$/.test(i.badge))return console.error("badge 包含数字，+ 最多三个字符"),[2,o().reject("badge 包含数字，+ 最多三个字符")];"0"===i.badge&&(i.badge="solid")}return[2,new(o())((function(t,n){a.callNative({method:"live_ui_"+a.mode+".setNavMenu",data:{list:e},success:function(t){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(t===i.tagname)return void(i.callback&&i.callback())}},callback:function(){t()}})}))]}))}))},t.prototype.setMenuBadge=function(t,e){var n=this;return this.isHalf?o().reject("当前环境不支持该方法"):("0"===e&&(e="solid"),new(o())((function(r,i){n.callNative({method:"live_ui_"+n.mode+".setMenuBadge",data:{tagname:t,badge:e},success:function(t){r(t)},fail:function(t){try{i(JSON.parse(t))}catch(e){i({code:77777,message:"数据格式错误",error:t})}}})})))},t.prototype.setTitle=function(t){return this.isHalf?o().reject("当前环境不支持该方法"):this.promiseCtor("live_ui_"+this.mode+".setTitle",{title:t})},t.prototype.bounces=function(t){return void 0===t&&(t=0),this.isIOS?this.promiseCtor("live_ui_"+this.mode+".bounces",{bounces:t}):new(o())((function(t,e){e("非 iOS 设备")}))},t.prototype.closeWindow=function(){return this.isFull?o().reject("当前环境不支持该方法"):this.promiseCtor("live_location_"+this.mode+".closeWindow",{})},t.prototype.resize=function(t){return this.isFull?o().reject("当前环境不支持该方法"):this.promiseCtor("live_ui_"+this.mode+".resizeWindowHeight",{height:t})},t.prototype.pageFinished=function(){return this.isFull?o().reject("当前环境不支持该方法"):this.promiseCtor("live_ui_"+this.mode+".pageFinished",{})},t.prototype.controlCloseBtn=function(t){return this.isFull?o().reject("当前环境不支持该方法"):this.promiseCtor("live_ui_"+this.mode+".controlCloseBtn",{show:t})},t.prototype.pageMounted=function(){this.pageFinished(),this.controlCloseBtn(0)},t.prototype.album=function(t,e,n,r){var i=this;return new(o())((function(o,a){i.callNative({method:"live_ui_"+i.mode+".album",data:{source:t,mode:e,ratioWidth:n,ratioHeight:r},success:function(t){o(t)},fail:function(t){a(t)},failed:function(t){a(t)},callback:function(){P()}})}))},t}(),ot=new it,at=100,st=at,ct=function(t){return Math.floor(t/at)};!function(t){t.GOLD="gold",t.LP="lp"}(rt||(rt={}));var ut=function(t){return t>1e8?Math.floor(t/1e7)/10+" 亿":t>1e4?Math.floor(t/1e3)/10+" 万":""+t},lt={type:"gold",name:"金瓜子",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKqADAAQAAAABAAAAKgAAAADUGqULAAAIPUlEQVRYCd1Ya2wcRx2f2d177Z19Pt/DzsuP2HFqkQqERGuHqipQSKBUlLZxEpF+gwrCVxBvEV5C8AVEQe0HQOVLbSxaARVFaikgpSGp1BZSJyV1nSZx/Dzfxb6z727vbneH38zenu/ttcMXmMQ783/O72b+858HIf8jhTrBySaPyStkdpQYdBD6XfjLEUaWFMKuhE5emKKUMid+bkenJVD22uOu+DtT3yKEfZ4wFm3SUQJAXyaMPh09eeRFSs+YTfRui90U6Nqz9+wv5IvPYqjeV9UDBQ7GzRqYUjorEfLTSLf3Sfqhv2tVdrdJNOiNkFuT9wd1ff1VgDzI/XuDySU1OpdW3NpekCr+dIBN6nk1rqXCXm0tOmAaCjBaBU7nqES/Ezl+9Nf/rRFuCDT+zMifGGGf4N0G907PeNpXeWw2L5RoxVxgen2xb5+e84cqFM8rivuz4bGzb1XwdtSsA5oYH/20wcznuLdAbO66GpnvE56VMCFurKNsiz4pYcWs/3J6YaDPyPsCwo6SAmL4u9HjR394O6NbBVSsbuPmFGNsWPbktPDAmzI6cxEXAO77JmITwTD7dUKMDYGh6QfgtNXYdHqx9xBhpYig9CVVdn2mbezsSlO7FoJyXHGdhDl7jIPk7fbd715H5SJEIaT7C4TIGCCljZDwMS5uXRhxezvih6IH37jhUjNJoczYR3NG8Z/JycOjrY0bS6uAMpM+xtVkr5Z3qRtDwiT4Qaym3k3r4L2EePZv0i1aVDJ6Q/2X/Gp0YZqrYRD26Lr5Vx5eLcwaispA08/fF0HG+RjXUkNL15DQIcP/0CfrDbtOgVcVNfU6NocRbyB6cyjU/9YlwlMbYV6Tmb+Lj49+0VZxUpeB5jPaQ/jFmGeejhLWQlDvwORH6v14+hEbGOltFJdv/VDkwMVpSTEMRLrEmPnz5YnRLzt1UQaKdSJ6Vjx5A1PG8yWW/Qea+wk/iu68zeUNJJJSGAoPvjEvufI5ITbNH6+Mj3yugWodqwwUkru51O1PzZe1/HeWm3UNJYiweKCOvRWDSmZPePDNVcldyHNdzOJTyxMjD29lJ4DynQgmmGcADaylhZHcjlWO3NmqhI5Cp0FotLKBjFJzd7j/4rKk6DoPA4Tu0/HJ0ZabigCqG5n9mHqxOhR31iP6qVzpzTqmCOmIg3TVwJ7KZk/H/qlrBAcv/GsjBvste+HjVt8N9K2pl8xdtoy6in7RdjpSbXdh9Q3Y5tuqFaVwILjnXbHVIQTeH0+tfq2ZAwuoKW0CpSbCAEXuaGZTz4+eqOc55HiCiWFPIG3tVox9KT55X3cjUwEUv8YKRpHnSGlEsQs5LV6EV6sM0coPQq5t70wGa4Rr+ZmhfbuRujWiiG5L6DCJN/LEY5XH7A6KJBX7fJ3xG9wUCE6x5x/kR8mqIoDi0FMQXHEgtuUl7Da5Ve2K4kz4ka20msrVyEKRCzG7gcRG4qFaRWvqKRFKJaHVNkWaq9VvTXc+iGRTNxitbUpS2VUYUDwFnZMAC0fVpTT1LG6zmSklRLtgVTbfUS0jvDnYnRTEqktdW+KmiNb31LoQQF1MftsWGLo7Jdq6tRBtvuO64/4dbQLcv0tdtzYbyg4ydsYaxFLHggh1uWcQxCIojbwqhp8UbjrGVqUoNoFHqlhOCUni5xUUnGdrbQRQcWOkZIYLC+shK1XpGNj8XK2+M7ptBGfWPme6VVpW1sHVRa+9tmwOLyUvcJtcKsSTv7WSspeq3GyLiB7fljpX1jXVVzIqrxnbSRkopcofBZPJRC94r4l2+hVbb/u1D2cc/3u3ZZff6NhTMrhQa1gGGom5zkKY5ArZlZ5OoVjAiS97WTR39BH3q3IXLV2Yhvt6MaeKQwml5FytctkL4lSXKH2CK2ipUMw0XGKnIMnf19o4pz0YoOA9TvSLqdkhnBcRo5Te8rj9v6k1KgPlArdMn0Agb/D2+mK/deTSsMZSf+OsnZUw7nG0bhFv+sK2uLHcv1jM+cX1B4C+2v7wy2JmN5Wwj1QSwbHzt0D/jPPy6VB3Idv+byFPTGKYrQEW9HY+/BQWOtLYAiBziT1Xs8lYj1Cg5A+RE+d/2Ui5CihXiHZ7v0cJvcLb6ZsH7sADwgIxNUIWf0JIcSebgIG8WLlDc88oFGOx0D+3vrx3sERfiMnSScyolUsFc/ODoKgvicnRu0yD/QN7roy7DV5M/rUB+4h4hOg+jfu0eKOoN6zl5K8TEke4aagrC3782o1hbyEbsBYtpa/6PP4HGk25bdYQKBcuT9x9GnvVL3hb8WXXO3svZXDJxaEWk9B+GC8miD3F6ofrVBXtKp4E/0xI5vUqNkbRREi9nZofGCamLGQYweeiMj1Fx87nqpWrqaZAuVp8YuQbzGTf521J1s2O/sszeHoc4rQA7DtAiA+kEsIGjH6KyNMZbBJ63VogZtELgIO78IiGWyMKfzxj0hk8/v6odhcS8ppPS6BcNz4+8hVUP+BhwDdhX0dyPrALdzJq2sm5xmUFCTB4jnxnY7lndzHThl9jFzpFJOWxrhOvXLQ5W9VbAuUOEs8c/rBBzQkcFHE6RkG8ewNrK95QfFlR0yFJMjkIlS8QHBNvYStMaumwP58K95q6q7xgkciXKJXORLo8v+J5W/hy+HEElPvib1O5DQ1vjuQ0ANdfayUcvswypqruEYdXcdx8KtbZ9iQ98mKmSuiQcAzU9pccv3efQQqP4x3gUwiFO21+bQ3Hc4iPvzAqjceOn3upWdqptWtGbxtopaPV8ZG+IiXDeM/fjfCNIYWtYmoXmUSvRMfOlQ/jlTb/9+3/AOF3pIp+XNlfAAAAAElFTkSuQmCC",format:function(t){return t},lp2GoldRate:at},ft={type:"lp",name:"电池",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABDBJREFUaAXVWt1rFFcU/92Z3Z3sJiHRxBhNRe0ihSLSF20fBBWDL/og2Pf+A774IKGU0gXf2jcf/RMsQkXwg4IgVKxUUBB9SJssRtGQaLr52J1sZmduz93qujt752Nn713WE8jOPeeee36/O+d+zQzwiQtThZ8/K2QwZBxAzctGtmlhDVP4h7GCF1k3okIqwh7LzDmBL+Iv1NxDsRyqVKvIrtH/b2PVD6lkhNjimxaMw+A8HvgPrXJ+jhcLox+KSX/VEPC84UQA0hhK5NfkpIZAU4O9vow1Bji/auLN822B4KpsBOCB5kDDFrbz14VNqd3LcEx9v8IYC204dBbi85e+ANzLFOAo5XhOGkinkrES9ctNDOICmywsyUIFEuALl/Jw3CfUs13nqSxwRzrGijRaDrGJwobfLziFHPdnZeANC8hM+GO3l70twFmlsL6s4nw/1tlFcvjJ7xRMQKSNKjEHgaGD8Vuz54HyLNVvSX8pnpBZiMfosviYOqqZ/RzI7vO7SPGEEPD797icy8cK2L8EWBpgA5Ek+peAgG6Y/UHAfvMrSn8ew9bynUhAnVbQfgectafYXPkD3KvCeXe3U3yR9bUS4LV1VJZvNkAY1njjWtWFVgLlpRvw3I+LkpGZVIW70Y42Altrj+Fs/N0IJC4Ma2dLWUVBCwGvtorK0u02fIa1q03XrUIDAY7K4nUatLSv8ckncQeqq4/gVIo+6LQmMRMs0+eD2HNWYC//3gZeKAxLbGXU33CFLXKUF3+j1HHkBDTMQPWOkUZLoKz++wA1+2Wgp2GJKdSDV5mjFfk2PLs9zQKdQwxh54EQt1YTdzdgvw1fZZ3SQ5QeToO7lbozM3MYPXxL5FZrYx2WFBGw6cjsNkIbBIqLv6aZSIyPZmHikGPQjrNLUULAyOzA8GffQcz/qYHdMGi2WV+4gtrmYiC8XH6GbN0PQSUEBMpUbp/4aYgnzrYBYk2cQXqb9IQY4BGs7r4LZG1zh/ZAtsxS307k9l+Q2pIotRAI6n3xDGcw/wMg8l+RaCJQksKzJs8hNXpEakuq1EOABrNfzIEpZPee96u7LveEAAND7sCPlDrR7z46ZaSHgG8GssaOIzX8VafYYtXXTsCkNSE7cToWmCSV9BBw1+pYROoM7jqrZMUNIqeFQHroS4JOTwfHT8K0poJiK9ErW4mb0WTHp5EdO0GnmOgHU81+Sa613IE6EBXgefRbWH0EknRnsw9tR+jQ0KyRXvcvAcm5WsYghABbljn0RGe/AOw5fygpnrBBfJ9aoDlQgdTK9MbleXRD4gAktiHvT20tDgwCT5uEEZihZyGnlLyd5PRtgejVxMIWMIJfZO6BKcTyhVmk8DWRuEfzYftTKllrqnWMlSn+NZjpb9hY4f/V0ReD+crSYv1jjlepHVKjLiWvcezBYtQXLf8BGOoetC6LwK8AAAAASUVORK5CYII=",format:ct,lp2GoldRate:at},dt=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!0,t.prev=1,t.next=4,ot.checkHeightVersion([{oldAppType:"ipad",oldBuild:32200100},{oldAppType:"iphone",oldBuild:62899999},{oldAppType:"android",oldBuild:6289999},{oldAppType:"biliLink",oldBuild:5109999},{oldAppType:"iphone_comic",oldBuild:1199},{oldAppType:"android_comic",oldBuild:36403999}],!0);case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("check version error",t.t0);case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),pt=function(){var t=(0,r.Z)(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.prev=1,n=ot.isFull?"live_info_full.getLiveCurrency":"live_info_half.getLiveCurrency",t.next=5,ot.isSupport(n);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",{});case 8:return t.next=10,new(o())((function(t){var e;ot.callNative({method:n,data:{},success:(e=(0,r.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=JSON.parse(n),console.log("getLiveCurrency",r),t({name:r.currencyName,icon:r.currencyIcon})}catch(e){t({})}case 1:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}));case 10:e=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("getLiveCurrency error!");case 16:return t.abrupt("return",e);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}(),ht=null,vt=navigator.userAgent,mt=RegExp(/BiliApp/).test(vt)||RegExp(/BlinkApp/).test(vt)||RegExp(/BiliComic/).test(vt),gt=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ot.initial(),"lp"!==e){t.next=5;break}return t.abrupt("return",ft);case 5:if("gold"!==e){t.next=7;break}return t.abrupt("return",lt);case 7:if(mt){t.next=9;break}return t.abrupt("return",ft);case 9:if(!ht){t.next=11;break}return t.abrupt("return",ht);case 11:return t.next=13,o().all([dt(),pt()]);case 13:return n=t.sent,r=n[0],i=n[1],ht=r?s()(s()({},ft),i):lt,t.abrupt("return",ht);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},57072:function(t,e,n){"use strict";n.r(e);var r=0,i={},o=Object.create(null),a={$emit:function(t){if(void 0!==o[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i in o[t]){var a;(a=o[t])[i].apply(a,n)}}},$on:function(t,e){for(var n in o[t]||function(t){void 0===o[t]&&(o[t]=Object.create(null))}(t),o[t]){if(o[t][n]===e)return n}return r++,o[t][r]=e,i[r]=t,r},$destroy:function(t){var e=i[t];return void 0!==e&&("function"==typeof o[e][t]&&(delete o[e][t],delete i[t],!0))},$getEventsPool:function(){return o}};e.default=a},58932:function(t,e,n){"use strict";n.d(e,{hi:function(){return o},ZP:function(){return fe},cM:function(){return ce}});var r,i,o,a=n(93476),s=n.n(a),c=n(65420),u=n.n(c),l=n(98341),f=n.n(l);!function(t){t.DB_NOT_SUPPORT="IndexedDB is not supported",t.NO_LOG="No log exists",t.REPORT_LOG_FAIL="Report fail",t.EXCEED_TRY_TIMES="Exceed try times",t.EXCEED_LOG_SIZE_LIMIT="Exceed log size day limit",t.UNEXPECTED_ENCRYPT_MODE="You set an unexpected encrypt mode",t.INPUT_CORRECT_DATE_FORMAT="Please input correct date format such as YYYY-DD-MM",t.TIME_DISORDER="From time bigger than end time"}(r||(r={})),function(t){t[t.PLAIN=0]="PLAIN",t[t.RSA=1]="RSA"}(i||(i={})),function(t){t.NETWORK="NETWORK",t.PLAIN="PLAIN",t.ENCRYPTION="ENCRYPTION",t.PV="PV",t.SOCKET="SOCKET",t.ERROR="ERROR",t.OTHER="OTHER"}(o||(o={}));var d=n(78580),p=n.n(d),h="FLAME_DB",v="F_DAY_TABLE",m="F_DAY_DETAIL_TABLE",g="logDay",b="logCreateTime",y="logCreateDate",w="FLAME_DB_MANAGER",_="FLAME_DB_MANAGER_TABLE",x="dbName",C="expireTime",S="updateTime",k=10485760,E=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},I=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof u()&&(o[f()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},T=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},O=function(){},A=function(t,e,n){return typeof t===e?t:n};function L(t){var e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return e+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)}function j(t,e,n,r){var i=n+" "+e.desc;if(r){if(void 0!==t&&!e.rule(t))throw new Error(i+" if defined")}else if(!e.rule(t))throw new Error(i)}var R={NonNegativeInteger:{rule:function(t){return!isNaN(t)&&t>=0},desc:"needs to be a non-negative integer"},NotNullObject:{rule:function(t){return t&&"object"==typeof t},desc:"needs to be a not-null object"},String:{rule:function(t){return"string"==typeof t},desc:"needs to be a string"},Array:{rule:function(t){return t instanceof Array},desc:"needs to be an Array"},Boolean:{rule:function(t){return"boolean"==typeof t},desc:"needs to be a boolean"}};function D(t){return t.reduce((function(t,e){return p()(t).call(t,e)?t:T(T([],t),[e])}),[])}function P(t){var e=new Date(t);return e.getFullYear()+"-"+((e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-")+((e.getDate()<10?"0"+e.getDate():e.getDate())+" ")+((e.getHours()<10?"0"+e.getHours():e.getHours())+":")+((e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":")+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}function N(t,e,n){return E(this,void 0,void 0,(function(){function r(t){var e=t.split("-");return new(Date.bind.apply(Date,T([void 0],e)))}var i,o,a,s,c;return I(this,(function(u){switch(u.label){case 0:i=r(t),o=r(e),u.label=1;case 1:return o.getTime()-i.getTime()>=0?(a=i.getFullYear(),s=1===i.getMonth().toString().length?"0"+i.getMonth():i.getMonth(),c=1===i.getDate().toString().length?"0"+i.getDate():i.getDate(),[4,n.deleteItemsByKeyPath(v,a+"-"+s+"-"+c)]):[3,3];case 2:return u.sent(),i.setDate(i.getDate()+1),[3,1];case 3:return[2]}}))}))}function B(t){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",r=0;r<t;r++){n+=e[Math.floor(36*Math.random())]}return n}var M=function(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),n=document.cookie.match(e);return n?unescape(n[2]):null},U={reTryTimes:2,dbName:"FLAME_DB",logId:"",success:O,fail:O},F=function(t){U={reTryTimes:A(t.reTryTimes,"number",2),dbName:A(t.dbName,"string",h),logId:B(7),success:A(t.success,"function",O),fail:A(t.fail,"function",O)}},H=function(t){return U[t]},V=H("reTryTimes");var q={canSave:function(){return V>0},resetMemoryFlag:function(){V=H("reTryTimes")},errorTrigger:function(){V>0&&V--}},W=n(59340),$=n.n(W),K=n(51942),G=n.n(K);function Y(){if(!window)throw new Error("idb-managed can not run in non-browser environment");for(var t=0,e=["indexedDB","IDBDatabase","IDBObjectStore","IDBTransaction","IDBIndex","IDBCursor","IDBKeyRange","IDBRequest"];t<e.length;t++){var n=e[t];if(!window.hasOwnProperty(n)||!window[n])throw new Error(n+" is not supported in window")}}var X=n(2991),z=n.n(X),Q=n(86902),Z=n.n(Q),J=n(20116),tt=n.n(J),et=n(12513),nt=n.n(et),rt=function(){return(rt=G()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},it=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ot=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof u()&&(o[f()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},at=n(67257);function st(t,e,n){return it(this,void 0,void 0,(function(){return ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,6,7]),[4,n()];case 1:return r.sent(),[4,t.complete];case 2:return r.sent(),[3,7];case 3:return r.sent(),[4,t.abort()];case 4:return r.sent(),[4,t.complete];case 5:return r.sent(),[3,7];case 6:return e.close(),[7];case 7:return[2]}}))}))}function ct(t,e){return it(this,void 0,void 0,(function(){return ot(this,(function(n){switch(n.label){case 0:return[4,ut(t,z()(e).call(e,(function(t){return{tableName:t,range:{indexName:C,upperBound:+new Date,upperOpen:!1}}})))];case 1:return n.sent(),[2]}}))}))}function ut(t,e){return it(this,void 0,void 0,(function(){var n,r,i,o,a=this;return ot(this,(function(c){switch(c.label){case 0:return[4,vt(t)];case 1:if(!(n=c.sent()))return[3,7];c.label=2;case 2:return c.trys.push([2,4,5,6]),r=tt()(e).call(e,(function(t){return n.objectStoreNames.contains(t.tableName)})),i=D(z()(r).call(r,(function(t){return t.tableName}))),[4,st(o=n.transaction(i,"readwrite"),n,(function(){return it(a,void 0,void 0,(function(){return ot(this,(function(t){switch(t.label){case 0:return[4,s().all(z()(r).call(r,(function(t){var e=t.tableName,n=t.range,r=o.objectStore(e);return n?new(s())((function(t){r.index(n.indexName).iterateCursor(lt(n),(function(e){e?(r.delete(e.primaryKey),e.continue()):t()}))})):r.clear()})))];case 1:return t.sent(),[2]}}))}))}))];case 3:return c.sent(),[3,6];case 4:throw c.sent();case 5:return[7];case 6:return[3,8];case 7:case 8:return[2]}}))}))}function lt(t){var e=t.onlyBound,n=t.lowerBound,r=t.lowerOpen,i=void 0!==r&&r,o=t.upperBound,a=t.upperOpen,s=void 0!==a&&a;return e?IDBKeyRange.only(e):n&&o?IDBKeyRange.bound(n,o,i,s):n?IDBKeyRange.lowerBound(n,i):IDBKeyRange.upperBound(o,s)}function ft(t){return it(this,void 0,void 0,(function(){return ot(this,(function(e){switch(e.label){case 0:return[4,dt(t)];case 1:return e.sent(),[4,at.open(t.dbName,t.dbVersion,(function(e){yt(e,t.tableList||[])}))];case 2:return[2,e.sent()]}}))}))}function dt(t){return it(this,void 0,void 0,(function(){var e,n,r,i;return ot(this,(function(o){switch(o.label){case 0:return[4,ht()];case 1:return[4,mt(e=o.sent(),_,t.dbName)];case 2:return n=o.sent(),r=t.dbVersion,!n||r>n.dbVersion?(i=e.transaction(_,"readwrite"),[4,i.objectStore(_).put(bt({tableName:_,logData:rt({},t)}))]):[3,5];case 3:return o.sent(),[4,i.complete];case 4:o.sent(),e.close(),o.label=5;case 5:return[2]}}))}))}function pt(t){return it(this,void 0,void 0,(function(){var e,n;return ot(this,(function(r){switch(r.label){case 0:return[4,ht()];case 1:return e=r.sent(),n=e.transaction(_,"readwrite"),[4,n.objectStore(_).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),e.close(),[2]}}))}))}function ht(){return it(this,void 0,void 0,(function(){return ot(this,(function(t){switch(t.label){case 0:return[4,at.open(w,1,(function(t){t.createObjectStore(_,{keyPath:x})}))];case 1:return[2,t.sent()]}}))}))}function vt(t){return it(this,void 0,void 0,(function(){var e,n,r,i,o;return ot(this,(function(a){switch(a.label){case 0:return[4,ht()];case 1:return[4,mt(e=a.sent(),_,t)];case 2:return n=a.sent(),e.close(),n?(r=n.dbName,i=n.dbVersion,o=n.tableList,[4,at.open(r,i,(function(t){yt(t,o||[])}))]):[3,4];case 3:return[2,a.sent()];case 4:return[2,null]}}))}))}function mt(t,e,n){return it(this,void 0,void 0,(function(){return ot(this,(function(r){switch(r.label){case 0:return t.objectStoreNames.contains(e)?[4,t.transaction(e,"readonly").objectStore(e).get(n)]:[3,2];case 1:return[2,gt(r.sent())];case 2:return[2,null]}}))}))}function gt(t){return!t||t.expireTime>0&&t.expireTime<Date.now()?null:(nt()(t,"expireTime"),nt()(t,"updateTime"),t)}function bt(t){var e,n=Date.now();return rt(rt({},t.logData),((e={}).updateTime=n,e.expireTime=t.expiration?t.expiration+n:-1,e))}function yt(t,e){try{e.forEach((function(e){var n=e.tableName,r=e.indexList,i=void 0===r?[]:r;if(t.objectStoreNames.contains(n)){var o=t.transaction(n).objectStore(n);i.forEach((function(t){o.indexNames.contains(t.indexName)||o.createIndex(t.indexName,t.indexName,{unique:t.unique})}))}else{var a=e.keyPath||"id",s=t.createObjectStore(e.tableName,rt({keyPath:a},"id"===a?{autoIncrement:!0}:{}));s.createIndex(a,a,{unique:!0}),(i||[]).forEach((function(t){s.createIndex(t.indexName,t.indexName,{unique:t.unique})})),s.createIndex(C,C,{unique:!1}),s.createIndex(S,S,{unique:!1})}}))}catch(e){t.close()}}var wt={addItems:function(t,e){return it(this,void 0,void 0,(function(){var n,r,i,o=this;return ot(this,(function(a){switch(a.label){case 0:return n=D(z()(e).call(e,(function(t){return t.tableName}))),[4,ct(t.dbName,n)];case 1:return a.sent(),[4,ft(t)];case 2:return r=a.sent(),[4,st(i=r.transaction(n,"readwrite"),r,(function(){return it(o,void 0,void 0,(function(){return ot(this,(function(t){switch(t.label){case 0:return[4,s().all(z()(e).call(e,(function(t){return i.objectStore(t.tableName).put(bt(t))})))];case 1:return t.sent(),[2]}}))}))}))];case 3:return a.sent(),[2]}}))}))},getItemByKeyPath:function(t,e,n){return it(this,void 0,void 0,(function(){var r;return ot(this,(function(i){switch(i.label){case 0:return[4,vt(t)];case 1:if(!(r=i.sent()))return[3,7];i.label=2;case 2:return i.trys.push([2,4,5,6]),[4,mt(r,e,n)];case 3:return[2,i.sent()];case 4:throw i.sent();case 5:return r.close(),[7];case 6:return[3,8];case 7:return[2,null];case 8:return[2]}}))}))},getItemsByCursor:function(t,e,n){return it(this,void 0,void 0,(function(){var r,i,o,a;return ot(this,(function(c){var u;switch(c.label){case 0:return[4,vt(t)];case 1:if(!(r=c.sent()))return[3,10];c.label=2;case 2:return c.trys.push([2,7,8,9]),i=[],r.objectStoreNames.contains(e)?(o=r.transaction(e,"readonly").objectStore(e),n?[3,4]:[4,o.getAll()]):[3,6];case 3:return a=c.sent(),i=tt()(u=z()(a).call(a,gt)).call(u,(function(t){return t})),[3,6];case 4:return[4,new(s())((function(t){o.index(n.indexName).iterateCursor(lt(n),(function(e){e?(i&&i.push(gt(e.value)),e.continue()):t()}))}))];case 5:c.sent(),c.label=6;case 6:return[2,i];case 7:throw c.sent();case 8:return r.close(),[7];case 9:return[3,11];case 10:return[2,[]];case 11:return[2]}}))}))},deleteDB:function(t){return it(this,void 0,void 0,(function(){return ot(this,(function(e){switch(e.label){case 0:return[4,pt(t)];case 1:return e.sent(),[4,at.delete(t)];case 2:return e.sent(),[2]}}))}))},deleteItemsByKeyPath:function(t,e,n){return it(this,void 0,void 0,(function(){var r;return ot(this,(function(i){switch(i.label){case 0:return[4,vt(t)];case 1:if(!(r=i.sent()))return[2];try{if(r.objectStoreNames.contains(e))return[2,r.transaction(e,"readwrite").objectStore(e).delete(n)]}catch(t){throw t}finally{r.close()}return[2]}}))}))},deleteItemsByCursor:ut},_t=function(){return(_t=G()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},xt=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ct=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof u()&&(o[f()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},St=function(){function t(t){var e;Y(),function(t){j(t,R.NotNullObject,"dbConfig",!1),j(t.dbName,R.String,"dbName",!1),j(t.dbVersion,R.NonNegativeInteger,"dbVersion",!0),j(t.tables,R.NotNullObject,"tables",!0),Z()(t.tables||{}).forEach((function(e){var n=t.tables[e];j(n.keyPath,R.String,"keyPath",!0),j(n.expiration,R.NonNegativeInteger,"expiration of table",!0),j(n.indexList,R.Array,"indexList",!0),(n.indexList||[]).forEach((function(t){j(t.indexName,R.String,"indexName",!0),j(t.unique,R.Boolean,"unique",!0)}))}))}(t),this.dbName=t.dbName,this.dbVersion=t.dbVersion||1,this.tableList=z()(e=Z()(t.tables||{})).call(e,(function(e){return _t({tableName:e},t.tables[e])}))}return t.prototype.addItems=function(t){return xt(this,void 0,void 0,(function(){var e=this;return Ct(this,(function(n){switch(n.label){case 0:return j(t,R.Array,"dbItems",!1),t.forEach((function(t){var n,r;if(j(t.tableName,R.String,"tableName",!0),j(t.expiration,R.NonNegativeInteger,"expiration",!0),!p()(n=z()(r=e.tableList).call(r,(function(t){return t.tableName}))).call(n,t.tableName))throw new Error("Table "+t.tableName+" does not exist")})),[4,wt.addItems({dbName:this.dbName,dbVersion:this.dbVersion,tableList:this.tableList},t)];case 1:return n.sent(),[2]}}))}))},t.prototype.getItemsByKeyPath=function(t,e){return xt(this,void 0,void 0,(function(){return Ct(this,(function(n){switch(n.label){case 0:return j(t,R.String,"tableName",!1),[4,wt.getItemByKeyPath(this.dbName,t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.getItemsByCursor=function(t,e){return xt(this,void 0,void 0,(function(){return Ct(this,(function(n){switch(n.label){case 0:return j(t,R.String,"tableName",!1),[4,wt.getItemsByCursor(this.dbName,t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.deleteItemsByKeyPath=function(t,e){return xt(this,void 0,void 0,(function(){return Ct(this,(function(n){switch(n.label){case 0:return j(t,R.String,"tableName",!1),[4,wt.deleteItemsByKeyPath(this.dbName,t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.deleteItemsByCursor=function(t){return xt(this,void 0,void 0,(function(){return Ct(this,(function(e){switch(e.label){case 0:return[4,wt.deleteItemsByCursor(this.dbName,t)];case 1:return[2,e.sent()]}}))}))},t.prototype.deleteDBInManager=function(t){return xt(this,void 0,void 0,(function(){return Ct(this,(function(e){switch(e.label){case 0:return j(t,R.String,"dbName",!1),[4,wt.deleteItemsByCursor(w,[{tableName:_,range:{indexName:x,onlyBound:t}}])];case 1:return[2,e.sent()]}}))}))},t.prototype.deleteDB=function(){return xt(this,void 0,void 0,(function(){return Ct(this,(function(t){switch(t.label){case 0:return Y(),[4,wt.deleteDB(this.dbName)];case 1:return t.sent(),[2]}}))}))},t}();var kt=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Et=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof u()&&(o[f()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},It=function(){function t(t){var e;this.DB=new St({dbName:t||h,dbVersion:1,tables:(e={},e.F_DAY_TABLE={keyPath:g},e.F_DAY_DETAIL_TABLE={indexList:[{indexName:b,unique:!1},{indexName:y,unique:!1}]},e)})}return t.idbIsSupport=function(){try{return Y(),!0}catch(t){return!1}},t.getInstance=function(){return this.FlameDbInstance?this.FlameDbInstance:new t(H("dbName"))},t.prototype.addLog=function(t){return kt(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,c,u,l,f,d,p,h,g=this;return Et(this,(function(b){switch(b.label){case 0:return e=$()(t),n=function(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);e+=i<=127?1:i<=2047?2:i<=65535?3:4}return e}(e),r=new Date,i=L(r),[4,this.getLogDayInfo(i)];case 1:return(o=b.sent()||{logSize:0,logDay:i,usedStorage:"0%"}).logSize+n>k?[4,this.getLogsDetailByDate(i,i)]:[3,3];case 2:a=b.sent(),s=o.logSize+n-k,c=0,u=[],a.forEach((function(t){s>c&&(c+=t.logSize,u.push(t.id))})),u.length&&u.forEach((function(t){g.DB.deleteItemsByKeyPath(m,t)})),o.logSize=o.logSize-c,b.label=3;case 3:return(p={}).logDay=i,p.logSize=o.logSize+n,p.usedStorage=((+o.logSize+n)/k*100).toFixed(4)+"%",l=p,f=2592e5-(+new Date-(C=new Date,new Date(C.getFullYear(),C.getMonth(),C.getDate()).getTime())),(d=H("logId"))||(d=B(7)),[4,this.DB.addItems([{tableName:v,logData:l,expiration:f},{tableName:m,logData:G()({},(h={encryptData:$()(t)},h.logCreateTime=+r,h.logCreateDate=i,h.logId=d,h.logSize=+n,h.uid=M("DedeUserID")||0,h.platForm=(y=navigator.userAgent,w=null===y.match(/iPad/i)&&null===y.match(/iPhone/i)&&null===y.match(/iPod/i)&&null===y.match(/MicroMessenger/i)&&null===y.match(/Windows Phone/i)&&null===y.match(/Android/i),_=RegExp(/iphone|ipad|ipod/i).test(y),x=RegExp(/android/i).test(y),w?1:x?2:_?3:-1),h)),expiration:f}])];case 4:return b.sent(),[2]}var y,w,_,x,C}))}))},t.prototype.getLogsDetailByDate=function(t,e){return kt(this,void 0,void 0,(function(){return Et(this,(function(n){switch(n.label){case 0:return t!==e?[3,2]:[4,this.DB.getItemsByCursor(m,{indexName:y,onlyBound:t})];case 1:return[2,n.sent()];case 2:return t<e?[4,this.DB.getItemsByCursor(m,{indexName:y,lowerBound:t,lowerOpen:!1,upperBound:e,upperOpen:!1})]:[3,4];case 3:return[2,n.sent()];case 4:throw new Error(r.TIME_DISORDER)}}))}))},t.prototype.deleteLogByDate=function(t,e){return kt(this,void 0,void 0,(function(){return Et(this,(function(n){switch(n.label){case 0:return t!==e?[3,3]:[4,this.DB.deleteItemsByCursor([{tableName:m,range:{indexName:y,onlyBound:t}}])];case 1:return n.sent(),[4,N(t,e,this.DB)];case 2:return n.sent(),[3,7];case 3:return t<e?[4,this.DB.deleteItemsByCursor([{tableName:m,range:{indexName:y,lowerBound:t,lowerOpen:!1,upperBound:e,upperOpen:!1}}])]:[3,6];case 4:return n.sent(),[4,N(t,e,this.DB)];case 5:return n.sent(),[3,7];case 6:throw new Error(r.TIME_DISORDER);case 7:return[2]}}))}))},t.prototype.getLogDayInfo=function(t){return kt(this,void 0,void 0,(function(){return Et(this,(function(e){switch(e.label){case 0:return[4,this.DB.getItemsByKeyPath(v,t)];case 1:return[2,e.sent()]}}))}))},t.prototype.deleteDB=function(){return kt(this,void 0,void 0,(function(){return Et(this,(function(t){switch(t.label){case 0:return[4,this.DB.deleteDB()];case 1:return t.sent(),[4,this.DB.deleteDBInManager(h)];case 2:return t.sent(),[2]}}))}))},t}(),Tt=n(16914),Ot=n(15264),At=n.n(Ot),Lt={publicKey:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDJPqjH1Hv5QNJiIR4D2QgjVpqf\n/fT56eppAmSMVLMdqXogodwGCNxZls+cE5Z24Q0d1gMZlaD1mZlVSvldVg/Qs9hA\n6H+4HXuIEbxTymBJHCXCQszD3+MPytGlNoovdngEtaV4VT6PtTgBnTM43FkFIxGs\nOXsd8rlETbUFe7jlPQIDAQAB\n-----END PUBLIC KEY-----",privateKey:"-----BEGIN PRIVATE KEY-----\nMIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAMk+qMfUe/lA0mIh\nHgPZCCNWmp/99Pnp6mkCZIxUsx2peiCh3AYI3FmWz5wTlnbhDR3WAxmVoPWZmVVK\n+V1WD9Cz2EDof7gde4gRvFPKYEkcJcJCzMPf4w/K0aU2ii92eAS1pXhVPo+1OAGd\nMzjcWQUjEaw5ex3yuURNtQV7uOU9AgMBAAECgYAd0dISojKokWlbLwsSiONC0T9i\nO7BEI9wfKUKa5KYR3B4DndhLcJ6uC8HBn8lo3hoidKbK8LgEDHmDAPQIV4tKHtNK\nvipLM7wShak0JpoQ72u3jMXMuWIU7M8EJpl15aPM+wDN2XkvkXghpViBjMC6MN8N\n2qsBGvepDeJlq/cWJQJBAP75pOXl7ecMPargARbsEteBAXp2Str+PFk7C1tMbh90\nc53tmJ/eFKmNaDykU1dMGJBiOBOZ5u2UMUSo6eIf9ecCQQDKDbq8bKzRg6ldPuve\nVscqm3K2UsubIpwqcG4bGZLcffLSO+yeVe9Peh3b+vuhaJX1YLET2hprEOFvMAY8\nwd87AkEAkni20ZqUX/YYNuEXvyM+b64cO01ZExSZdmkEzR3K5Sbwg/jJhIz/Maea\nCbwcZDnCoq7Jp/jxP+mxo8+lC9FwYQJAEqC1aI20WRSEVr5oTHU/o2P1bW2wq7rD\nHv6CiCkRaxaJfmxb4jUV/QPLIO7AqB7WRGsHqEbhTKGfxvpseMl+5QJBAJzfRlrB\npNO5EdMAPentZ1EsvQa9xsxUpHQWzzgJkx5A/hjNPUl957q0ZacX6H69Ejw/Rf+B\n32L0/6Op5msOqhs=\n-----END PRIVATE KEY-----\n"};function jt(t){for(var e="";e.length<t;)e+=Math.random().toString(36).substr(2,1);return e}var Rt,Dt={PLAIN:{encrypt:function(t){return{type:t.type,encryptMode:t.encryptMode,cipherText:Tt.Z.enc.Base64.stringify(Tt.Z.enc.Utf8.parse($()(t.params)))}},decrypt:function(t){return{type:t.type,plainText:JSON.parse(Tt.Z.enc.Base64.parse(t.cipherText).toString(Tt.Z.enc.Utf8))}}},RSA:{encrypt:function(t){var e=Lt.publicKey,n=jt(16),r=jt(16),i=function(t,e,n){return Tt.Z.AES.encrypt(Tt.Z.enc.Utf8.parse($()(t)),Tt.Z.enc.Utf8.parse(e),{mode:Tt.Z.mode.ECB,padding:Tt.Z.pad.Pkcs7,iv:Tt.Z.enc.Utf8.parse(n)}).toString()}(t.params,r,n),o=function(t,e){var n=new(At());return n.setPublicKey(e),n.encrypt(t)}(r,e);return{type:t.type,encryptMode:t.encryptMode,iv:n,cipherText:i,encKey:o}},decrypt:function(t){var e=function(t,e){var n=new(At());return n.setPrivateKey(t),n.decrypt(e)}(Lt.privateKey,t.encKey),n=JSON.parse(function(t,e,n){return Tt.Z.AES.decrypt(t,Tt.Z.enc.Utf8.parse(e),{mode:Tt.Z.mode.ECB,padding:Tt.Z.pad.Pkcs7,iv:Tt.Z.enc.Utf8.parse(n)}).toString(Tt.Z.enc.Utf8)}(t.cipherText,e,t.iv));return{type:t.type,plainText:n}}}},Pt=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Nt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof u()&&(o[f()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Bt(t){return Pt(this,void 0,void 0,(function(){var e,n;return Nt(this,(function(o){switch(o.label){case 0:switch(o.trys.push([0,3,,5]),function(){if(!q.canSave())throw new Error(r.EXCEED_TRY_TIMES);if(!It.idbIsSupport())throw new Error(r.DB_NOT_SUPPORT)}(),Rt=It.getInstance(),e=void 0,t.encryptMode){case i.PLAIN:e=Dt.PLAIN.encrypt(t);break;case i.RSA:e=Dt.RSA.encrypt(t)}return[4,Rt.addLog(e)];case 1:return o.sent(),[4,H("success")(e)];case 2:return o.sent(),[3,5];case 3:return n=o.sent(),q.errorTrigger(),[4,H("fail")(n)];case 4:return o.sent(),[3,5];case 5:return[2]}}))}))}var Mt,Ut=n(14310),Ft=n.n(Ut),Ht=n(3649),Vt=n.n(Ht),qt=n(39969),Wt=n.n(qt),$t=n(29335),Kt=n(3279),Gt=n.n(Kt),Yt=function(){return(Yt=G()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Xt=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},zt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof u()&&(o[f()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Qt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Ft()){var i=0;for(r=Ft()(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Zt(t){return Xt(this,void 0,void 0,(function(){var e,n;return zt(this,(function(o){switch(o.label){case 0:if(e=[],It.idbIsSupport())return[3,1];throw new Error(r.DB_NOT_SUPPORT);case 1:return Mt||(Mt=It.getInstance()),[4,Mt.getLogsDetailByDate(t.fromTime,t.toTime)];case 2:return n=o.sent(),tt()(n).call(n,(function(t){return t})).forEach((function(t){var n=t.encryptData,r=t.logCreateTime,o=t.logId,a=t.platForm,s=t.uid,c=JSON.parse(n),u={};switch(c.encryptMode){case i.PLAIN:u={date:P(r),logId:o,encryptMode:"Base64",platForm:a,uid:s,msg:Dt.PLAIN.decrypt(c)};break;case i.RSA:u={date:P(r),logId:o,encryptMode:"RSA",platForm:a,uid:s,msg:Dt.RSA.decrypt(c)}}e.push(u)})),[2,e]}}))}))}function Jt(t){return Xt(this,void 0,void 0,(function(){var e;return zt(this,(function(n){switch(n.label){case 0:return[4,Zt(t)];case 1:var r,i,o,a,s;if((e=n.sent()).length)te(e.length>1&&Vt()(r=e[0].date).call(r,0,10)!==Vt()(i=e[e.length-1].date).call(i,0,10)?Vt()(o=e[0].date).call(o,0,10)+"~"+Vt()(a=e[e.length-1].date).call(a,0,10)+".txt":Vt()(s=e[0].date).call(s,0,10)+".txt",e);else te(L(new Date)+".txt","");return[2]}}))}))}function te(t,e){var n=new Blob([$t.Z.crush($()(e,null,2))],{type:"text/plain",endings:"native"}),r=Wt().createObjectURL(n),i=document.createElement("a");i.download=t,i.style.display="none",i.href=r,document.body.appendChild(i),i.click(),document.body.removeChild(i)}function ee(t,e){return Xt(this,void 0,void 0,(function(){var n,r,i;return zt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,7,,8]),[4,Zt(t)];case 1:return(n=o.sent()).length?[3,2]:[2,s().reject(new Error("未获取到当前时间段的日志"))];case 2:return r=Yt({logList:z()(n).call(n,(function(t){var e=t.date,n=Qt(t,["date"]);return{ts:e,content:$()(n),type:n.msg.type}}))},e),[4,re(new Blob(["--"+$()(r,null,2)],{type:"text/plain",endings:"native"}))];case 3:return(i=o.sent())?[4,ie(i)]:[3,5];case 4:return[2,o.sent()];case 5:return[2,s().reject(new Error("上传日志到BFS未成功"))];case 6:return[3,8];case 7:throw o.sent();case 8:return[2]}}))}))}function ne(t){var e=new FormData;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];e.append(n,r)}return e}function re(t){return Xt(this,void 0,void 0,(function(){return zt(this,(function(e){switch(e.label){case 0:return[4,Gt().post("//api.bilibili.com/x/upload/web/image",ne({bucket:"live-log-ttl",dir:"live-web-offline-log",file:t,csrf:M("bili_jct")}),{withCredentials:!0})];case 1:return[2,e.sent().data.data.location]}}))}))}function ie(t){return Xt(this,void 0,void 0,(function(){var e;return zt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=ne({appName:"live-web-offline-log",userID:+M("DedeUserID")||0,source:"用户反馈",url:t.replace(".txt",""),csrf:M("bili_jct")}),"//api.live.bilibili.com/xlive/open-interface/v1/webLogAgent/setWebAppLogRecord",[4,Gt().post("//api.live.bilibili.com/xlive/open-interface/v1/webLogAgent/setWebAppLogRecord",e,{withCredentials:!0})];case 1:return[2,n.sent()];case 2:throw n.sent();case 3:return[2]}}))}))}var oe=function(t,e,n,r){return new(n||(n=s()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ae=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof u()&&(o[f()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},se=[];function ce(t,e,n){!function(t,e,n){void 0===n&&(n=i.PLAIN);try{i.RSA,r={type:e,params:t,encryptMode:n},document.readyState&&"complete"===document.readyState?ue(r).then((function(t){return t})):se.push(r)}catch(t){H("fail")(t)}var r}(e,t,n)}function ue(t){return oe(this,void 0,void 0,(function(){var e;return ae(this,(function(n){switch(n.label){case 0:if(!q.canSave())return[3,6];n.label=1;case 1:return n.trys.push([1,3,,5]),[4,Bt(t)];case 2:return n.sent(),[3,5];case 3:return e=n.sent(),q.errorTrigger(),[4,H("fail")(e)];case 4:return n.sent(),[3,5];case 5:return[3,8];case 6:return[4,H("fail")(new Error(r.EXCEED_TRY_TIMES))];case 7:n.sent(),n.label=8;case 8:return[2]}}))}))}function le(t,e){var n=/^[0-9]{4}-[0-1]?[0-9]{1}-[0-3]?[0-9]{1}$/;if(!n.test(t)||!n.test(e))throw new Error(r.INPUT_CORRECT_DATE_FORMAT);if(t>e)throw new Error(r.TIME_DISORDER)}window.addEventListener("load",(function t(){se.forEach((function(t){ue(t).then((function(t){return t}))})),se=[],window.removeEventListener("load",t)}));var fe={launch:function(t){F(t)},log:ce,fetchLogInfo:function(t){return oe(this,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return le(t.fromTime,t.toTime),[4,Zt(t)];case 1:return[2,e.sent()]}}))}))},downloadLog:function(t){return oe(this,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return le(t.fromTime,t.toTime),[4,Jt(t)];case 1:return[2,e.sent()]}}))}))},uploadLog:function(t,e){return oe(this,void 0,void 0,(function(){return ae(this,(function(n){switch(n.label){case 0:return le(t.fromTime,t.toTime),[4,ee(t,e)];case 1:return[2,n.sent()]}}))}))},deleteDB:function(){return oe(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return[4,It.getInstance().deleteDB()];case 1:return[2,t.sent()]}}))}))},deleteDBItemsRange:function(t,e){return oe(this,void 0,void 0,(function(){return ae(this,(function(n){switch(n.label){case 0:return le(t,e),e?[3,2]:[4,It.getInstance().deleteLogByDate(t,t)];case 1:return[2,n.sent()];case 2:return[4,It.getInstance().deleteLogByDate(t,e)];case 3:return[2,n.sent()]}}))}))}}},67257:function(t,e,n){var r,i=n(3649),o=n(93476);function a(t){return i(Array.prototype).call(t)}function s(t){return new o((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function c(t,e,n){var r,i=new o((function(i,o){s(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function u(t,e,n){var r=c(t,e,n);return r.then((function(t){if(t)return new v(t,r.request)}))}function l(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function f(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return c(this[e],r,arguments)})}))}function d(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function p(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return u(this[e],r,arguments)})}))}function h(t){this._index=t}function v(t,e){this._cursor=t,this._request=e}function m(t){this._store=t}function g(t){this._tx=t,this.complete=new o((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function b(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new g(n)}function y(t){this._db=t}if(m.prototype.createIndex=function(){return new h(this._store.createIndex.apply(this._store,arguments))},m.prototype.index=function(){return new h(this._store.index.apply(this._store,arguments))},g.prototype.objectStore=function(){return new m(this._tx.objectStore.apply(this._tx,arguments))},b.prototype.createObjectStore=function(){return new m(this._db.createObjectStore.apply(this._db,arguments))},y.prototype.transaction=function(){return new g(this._db.transaction.apply(this._db,arguments))},function(){try{return["IDBIndex","IDBCursor","IDBObjectStore","IDBTransaction","IDBDatabase"].forEach((function(t){if(window&&(!window[t]||!window.hasOwnProperty(t)))throw new Error(t)})),!0}catch(t){return!1}}())l(h,"_index",["name","keyPath","multiEntry","unique"]),f(h,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),p(h,"_index",IDBIndex,["openCursor","openKeyCursor"]),l(v,"_cursor",["direction","key","primaryKey","value"]),f(v,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(v.prototype[t]=function(){var e=this,n=arguments;return o.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),s(e._request).then((function(t){if(t)return new v(t,e._request)}))}))})})),l(m,"_store",["name","keyPath","indexNames","autoIncrement"]),f(m,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),p(m,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),d(m,"_store",IDBObjectStore,["deleteIndex"]),l(g,"_tx",["objectStoreNames","mode"]),d(g,"_tx",IDBTransaction,["abort"]),l(b,"_db",["name","version","objectStoreNames"]),d(b,"_db",IDBDatabase,["deleteObjectStore","close"]),l(y,"_db",["name","version","objectStoreNames"]),d(y,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[m,h].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=a(arguments),n=e[e.length-1],r=this._store||this._index,o=r[t].apply(r,i(e).call(e,0,-1));o.onsuccess=function(){n(o.result)}})}))})),[h,m].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new o((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),r={open:function(t,e,n){var r=c(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(t){n&&n(new b(i.result,t.oldVersion,i.transaction))}),r.then((function(t){return new y(t)}))},delete:function(t){return c(indexedDB,"deleteDatabase",[t])}};else{var w="indexedDB is not supported";r={open:function(){return o.reject(new Error(w))},delete:function(){return o.reject(new Error(w))}}}t.exports=r},15264:function(t,e,n){var r=n(86902),i=n(3649),o=n(92762),a=n(47302);!function(t){"use strict";var e="0123456789abcdefghijklmnopqrstuvwxyz";function n(t){return e.charAt(t)}function s(t,e){return t&e}function c(t,e){return t|e}function u(t,e){return t^e}function l(t,e){return t&~e}function f(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function d(t){for(var e=0;0!=t;)t&=t-1,++e;return e}var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="=";function v(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=p.charAt(n>>6)+p.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=p.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=p.charAt(n>>2)+p.charAt((3&n)<<4));(3&r.length)>0;)r+=h;return r}function m(t){var e,r="",i=0,o=0;for(e=0;e<t.length&&t.charAt(e)!=h;++e){var a=p.indexOf(t.charAt(e));a<0||(0==i?(r+=n(a>>2),o=3&a,i=1):1==i?(r+=n(o<<2|a>>4),o=15&a,i=2):2==i?(r+=n(o),r+=n(a>>2),o=3&a,i=3):(r+=n(o<<2|a>>4),r+=n(15&a),i=0))}return 1==i&&(r+=n(o<<2)),r}var g,b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function y(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var w,_={decode:function(t){var e;if(void 0===g){var n="0123456789ABCDEF",r=" \f\n\r\t \u2028\u2029";for(g={},e=0;e<16;++e)g[n.charAt(e)]=e;for(n=n.toLowerCase(),e=10;e<16;++e)g[n.charAt(e)]=e;for(e=0;e<r.length;++e)g[r.charAt(e)]=-1}var i=[],o=0,a=0;for(e=0;e<t.length;++e){var s=t.charAt(e);if("="==s)break;if(-1!=(s=g[s])){if(void 0===s)throw new Error("Illegal character at offset "+e);o|=s,++a>=2?(i[i.length]=o,o=0,a=0):o<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return i}},x={decode:function(t){var e;if(void 0===w){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="= \f\n\r\t \u2028\u2029";for(w=Object.create(null),e=0;e<64;++e)w[n.charAt(e)]=e;for(e=0;e<r.length;++e)w[r.charAt(e)]=-1}var i=[],o=0,a=0;for(e=0;e<t.length;++e){var s=t.charAt(e);if("="==s)break;if(-1!=(s=w[s])){if(void 0===s)throw new Error("Illegal character at offset "+e);o|=s,++a>=4?(i[i.length]=o>>16,i[i.length]=o>>8&255,i[i.length]=255&o,o=0,a=0):o<<=6}}switch(a){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=o>>10;break;case 3:i[i.length]=o>>16,i[i.length]=o>>8&255}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=x.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return x.decode(t)}},C=1e13,S=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var n,r,i=this.buf,o=i.length;for(n=0;n<o;++n)(r=i[n]*t+e)<C?e=0:r-=(e=0|r/C)*C,i[n]=r;e>0&&(i[n]=e)},t.prototype.sub=function(t){var e,n,r=this.buf,i=r.length;for(e=0;e<i;++e)(n=r[e]-t)<0?(n+=C,t=1):t=0,r[e]=n;for(;0===r[r.length-1];)r.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,n=e[e.length-1].toString(),r=e.length-2;r>=0;--r)n+=(C+e[r]).toString().substring(1);return n},t.prototype.valueOf=function(){for(var t=this.buf,e=0,n=t.length-1;n>=0;--n)e=e*C+t[n];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),k="…",E=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,I=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function T(t,e){return t.length>e&&(t=t.substring(0,e)+k),t}var O,A=function(){function t(e,n){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,n){for(var r="",i=t;i<e;++i)if(r+=this.hexByte(this.get(i)),!0!==n)switch(15&i){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},t.prototype.isASCII=function(t,e){for(var n=t;n<e;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var n="",r=t;r<e;++r)n+=String.fromCharCode(this.get(r));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",r=t;r<e;){var i=this.get(r++);n+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.parseStringBMP=function(t,e){for(var n,r,i="",o=t;o<e;)n=this.get(o++),r=this.get(o++),i+=String.fromCharCode(n<<8|r);return i},t.prototype.parseTime=function(t,e,n){var r=this.parseStringISO(t,e),i=(n?E:I).exec(r);return i?(n&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),r=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(r+=":"+i[5],i[6]&&(r+=":"+i[6],i[7]&&(r+="."+i[7]))),i[8]&&(r+=" UTC","Z"!=i[8]&&(r+=i[8],i[9]&&(r+=":"+i[9]))),r):"Unrecognized time: "+r},t.prototype.parseInteger=function(t,e){for(var n,r=this.get(t),i=r>127,o=i?255:0,a="";r==o&&++t<e;)r=this.get(t);if(0==(n=e-t))return i?-1:0;if(n>4){for(a=r,n<<=3;0==(128&(+a^o));)a=+a<<1,--n;a="("+n+" bit)\n"}i&&(r-=256);for(var s=new S(r),c=t+1;c<e;++c)s.mulAdd(256,this.get(c));return a+s.toString()},t.prototype.parseBitString=function(t,e,n){for(var r=this.get(t),i="("+((e-t-1<<3)-r)+" bit)\n",o="",a=t+1;a<e;++a){for(var s=this.get(a),c=a==e-1?r:0,u=7;u>=c;--u)o+=s>>u&1?"1":"0";if(o.length>n)return i+T(o,n)}return i+o},t.prototype.parseOctetString=function(t,e,n){if(this.isASCII(t,e))return T(this.parseStringISO(t,e),n);var r=e-t,i="("+r+" byte)\n";r>(n/=2)&&(e=t+n);for(var o=t;o<e;++o)i+=this.hexByte(this.get(o));return r>n&&(i+=k),i},t.prototype.parseOID=function(t,e,n){for(var r="",i=new S,o=0,a=t;a<e;++a){var s=this.get(a);if(i.mulAdd(128,127&s),o+=7,!(128&s)){if(""===r)if((i=i.simplify())instanceof S)i.sub(80),r="2."+i.toString();else{var c=i<80?i<40?0:1:2;r=c+"."+(i-40*c)}else r+="."+i.toString();if(r.length>n)return T(r,n);i=new S,o=0}}return o>0&&(r+=".incomplete"),r},t}(),L=function(){function t(t,e,n,r,i){if(!(r instanceof j))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=n,this.tag=r,this.sub=i}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);case 6:return this.stream.parseOID(e,e+n,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return T(this.stream.parseStringUTF(e,e+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return T(this.stream.parseStringISO(e,e+n),t);case 30:return T(this.stream.parseStringBMP(e,e+n),t);case 23:case 24:return this.stream.parseTime(e,e+n,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var n=0,r=this.sub.length;n<r;++n)e+=this.sub[n].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===n)return null;e=0;for(var r=0;r<n;++r)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},t.decode=function(e){var n;n=e instanceof A?e:new A(e,0);var r=new A(n),i=new j(n),o=t.decodeLength(n),a=n.pos,s=a-r.pos,c=null,u=function(){var e=[];if(null!==o){for(var r=a+o;n.pos<r;)e[e.length]=t.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var i=t.decode(n);if(i.tag.isEOC())break;e[e.length]=i}o=a-n.pos}catch(t){throw new Error("Exception while decoding undefined length content: "+t)}return e};if(i.tagConstructed)c=u();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var l=0;l<c.length;++l)if(c[l].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(t){c=null}if(null===c){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);n.pos=a+Math.abs(o)}return new t(r,s,o,i,c)},t}(),j=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!=(32&e),this.tagNumber=31&e,31==this.tagNumber){var n=new S;do{e=t.get(),n.mulAdd(128,127&e)}while(128&e);this.tagNumber=n.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),R=!0,D=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],P=(1<<26)/D[D.length-1],N=function(){function t(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,i=(1<<e)-1,o=!1,a="",s=this.t,c=this.DB-s*this.DB%e;if(s-- >0)for(c<this.DB&&(r=this[s]>>c)>0&&(o=!0,a=n(r));s>=0;)c<e?(r=(this[s]&(1<<c)-1)<<e-c,r|=this[--s]>>(c+=this.DB-e)):(r=this[s]>>(c-=e)&i,c<=0&&(c+=this.DB,--s)),r>0&&(o=!0),o&&(a+=n(r));return o?a:"0"},t.prototype.negate=function(){var e=H();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Z(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=H();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new M(e):new U(e),this.exp(t,n)},t.prototype.clone=function(){var t=H();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=H();return this.bitwiseTo(t,s,e),e},t.prototype.or=function(t){var e=H();return this.bitwiseTo(t,c,e),e},t.prototype.xor=function(t){var e=H();return this.bitwiseTo(t,u,e),e},t.prototype.andNot=function(t){var e=H();return this.bitwiseTo(t,l,e),e},t.prototype.not=function(){for(var t=H(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=H();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=H();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+f(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=d(this[n]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,c)},t.prototype.clearBit=function(t){return this.changeBit(t,l)},t.prototype.flipBit=function(t){return this.changeBit(t,u)},t.prototype.add=function(t){var e=H();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=H();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=H();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=H();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=H();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=H(),n=H();return this.divRemTo(t,e,n),[e,n]},t.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=Q(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new M(e):e.isEven()?new F(e):new U(e);var a=[],s=3,c=n-1,u=(1<<n)-1;if(a[1]=r.convert(this),n>1){var l=H();for(r.sqrTo(a[1],l);s<=u;)a[s]=H(),r.mulTo(l,a[s-2],a[s]),s+=2}var f,d,p=t.t-1,h=!0,v=H();for(i=Z(t[p])-1;p>=0;){for(i>=c?f=t[p]>>i-c&u:(f=(t[p]&(1<<i+1)-1)<<c-i,p>0&&(f|=t[p-1]>>this.DB+i-c)),s=n;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--p),h)a[f].copyTo(o),h=!1;else{for(;s>1;)r.sqrTo(o,v),r.sqrTo(v,o),s-=2;s>0?r.sqrTo(o,v):(d=o,o=v,v=d),r.mulTo(v,a[f],o)}for(;p>=0&&0==(t[p]&1<<i);)r.sqrTo(o,v),d=o,o=v,v=d,--i<0&&(i=this.DB-1,--p)}return r.revert(o)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var r=e.clone(),i=this.clone(),o=Q(1),a=Q(0),s=Q(0),c=Q(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),n?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(e,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(i)>=0?(r.subTo(i,r),n&&o.subTo(s,o),a.subTo(c,a)):(i.subTo(r,i),n&&s.subTo(o,s),c.subTo(a,c))}return 0!=i.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},t.prototype.pow=function(t){return this.exp(t,new B)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},t.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=D[D.length-1]){for(e=0;e<D.length;++e)if(n[0]==D[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<D.length;){for(var r=D[e],i=e+1;i<D.length&&r<P;)r*=D[i++];for(r=n.modInt(r);e<i;)if(r%D[e++]==0)return!1}return n.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(e,n);r=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var s=8==r?255&+e[i]:z(e,i);s<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&+e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,r=this.DB-n,i=(1<<r)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM,s=this.t-1;s>=0;--s)e[s+o+1]=this[s]>>r|a,a=(this[s]&i)<<n;for(s=o-1;s>=0;--s)e[s]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<i,e[a-n]=this[a]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},t.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},t.prototype.multiplyTo=function(e,n){var r=this.abs(),i=e.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,n,r){var i=e.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=n&&n.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=H());var a=H(),s=this.s,c=e.s,u=this.DB-Z(i[i.t-1]);u>0?(i.lShiftTo(u,a),o.lShiftTo(u,r)):(i.copyTo(a),o.copyTo(r));var l=a.t,f=a[l-1];if(0!=f){var d=f*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),p=this.FV/d,h=(1<<this.F1)/d,v=1<<this.F2,m=r.t,g=m-l,b=null==n?H():n;for(a.dlShiftTo(g,b),r.compareTo(b)>=0&&(r[r.t++]=1,r.subTo(b,r)),t.ONE.dlShiftTo(l,b),b.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--g>=0;){var y=r[--m]==f?this.DM:Math.floor(r[m]*p+(r[m-1]+v)*h);if((r[m]+=a.am(0,y,r,g,0,l))<y)for(a.dlShiftTo(g,b),r.subTo(b,r);r[m]<--y;)r.subTo(b,r)}null!=n&&(r.drShiftTo(l,n),s!=c&&t.ZERO.subTo(n,n)),r.t=l,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&t.ZERO.subTo(r,r)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var r=H(),i=H(),o=n.convert(this),a=Z(e)-1;for(o.copyTo(r);--a>=0;)if(n.sqrTo(r,i),(e&1<<a)>0)n.mulTo(i,o,r);else{var s=r;r=i,i=s}return n.revert(r)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=Q(n),i=H(),o=H(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(t)+a},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),o=!1,a=0,s=0,c=0;c<e.length;++c){var u=z(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(o=!0):(s=n*s+u,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(s,0)),o&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,r){if("number"==typeof n)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),c,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var i=[],o=7&e;i.length=1+(e>>3),n.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},t.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},t.prototype.changeBit=function(e,n){var r=t.ONE.shiftLeft(e);return this.bitwiseTo(r,n,r),r},t.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,n){var r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(var i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()},t.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),r=n.getLowestSetBit();if(r<=0)return!1;var i=n.shiftRight(r);(e=e+1>>1)>D.length&&(e=D.length);for(var o=H(),a=0;a<e;++a){o.fromInt(D[Math.floor(Math.random()*D.length)]);var s=o.modPow(i,this);if(0!=s.compareTo(t.ONE)&&0!=s.compareTo(n)){for(var c=1;c++<r&&0!=s.compareTo(n);)if(0==(s=s.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=s.compareTo(n))return!1}}return!0},t.prototype.square=function(){var t=H();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var n=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(n.compareTo(r)<0){var i=n;n=r,r=i}var o=n.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)e(n);else{o<a&&(a=o),a>0&&(n.rShiftTo(a,n),r.rShiftTo(a,r));var s=function t(){(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(t,0):(a>0&&r.lShiftTo(a,r),setTimeout((function(){e(r)}),0))};setTimeout(s,10)}},t.prototype.fromNumberAsync=function(e,n,r,i){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),c,this),this.isEven()&&this.dAddOffset(1,0);var o=this,a=function r(){o.dAddOffset(2,0),o.bitLength()>e&&o.subTo(t.ONE.shiftLeft(e-1),o),o.isProbablePrime(n)?setTimeout((function(){i()}),0):setTimeout(r,0)};setTimeout(a,0)}else{var s=[],u=7&e;s.length=1+(e>>3),n.nextBytes(s),u>0?s[0]&=(1<<u)-1:s[0]=0,this.fromString(s,256)}},t}(),B=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),M=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),U=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=H();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(N.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=H();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),F=function(){function t(t){this.m=t,this.r2=H(),this.q3=H(),N.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=H();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function H(){return new N(null)}function V(t,e){return new N(t,e)}function q(t,e,n,r,i,o){for(;--o>=0;){var a=e*this[t++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i}function W(t,e,n,r,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var c=32767&this[t],u=this[t++]>>15,l=s*c+u*a;i=((c=a*c+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*u+(i>>>30),n[r++]=1073741823&c}return i}function $(t,e,n,r,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var c=16383&this[t],u=this[t++]>>14,l=s*c+u*a;i=((c=a*c+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*u,n[r++]=268435455&c}return i}R&&"Microsoft Internet Explorer"==navigator.appName?(N.prototype.am=W,O=30):R&&"Netscape"!=navigator.appName?(N.prototype.am=q,O=26):(N.prototype.am=$,O=28),N.prototype.DB=O,N.prototype.DM=(1<<O)-1,N.prototype.DV=1<<O;var K=52;N.prototype.FV=Math.pow(2,K),N.prototype.F1=K-O,N.prototype.F2=2*O-K;var G,Y,X=[];for(G="0".charCodeAt(0),Y=0;Y<=9;++Y)X[G++]=Y;for(G="a".charCodeAt(0),Y=10;Y<36;++Y)X[G++]=Y;for(G="A".charCodeAt(0),Y=10;Y<36;++Y)X[G++]=Y;function z(t,e){var n=X[t.charCodeAt(e)];return null==n?-1:n}function Q(t){var e=H();return e.fromInt(t),e}function Z(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}N.ZERO=Q(0),N.ONE=Q(1);var J=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();function tt(){return new J}var et,nt,rt=256,it=null,ot=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=Math.floor(256*Math.random());return t};if(window.crypto?window.crypto.getRandomValues||(window.crypto.getRandomValues=ot):window.crypto={getRandomValues:ot},null==it){it=[],nt=0;var at=void 0,st=new Uint32Array(256);for(window.crypto.getRandomValues(st),at=0;at<st.length;++at)it[nt++]=255&st[at];var ct=function t(e){if(this.count=this.count||0,this.count>=256||nt>=rt)window.removeEventListener?window.removeEventListener("mousemove",t,!1):window.detachEvent&&window.detachEvent("onmousemove",t);else try{var n=e.x+e.y;it[nt++]=255&n,this.count+=1}catch(t){}};window.addEventListener?window.addEventListener("mousemove",ct,!1):window.attachEvent&&window.attachEvent("onmousemove",ct)}function ut(){if(null==et){for(et=tt();nt<rt;){var t=Math.floor(65536*Math.random());it[nt++]=255&t}for(et.init(it),nt=0;nt<it.length;++nt)it[nt]=0;nt=0}return et.next()}var lt=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=ut()},t}();function ft(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var n=e-t.length-6,r="",i=0;i<n;i+=2)r+="ff";return V("0001"+r+"00"+t,16)}function dt(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var n=[],r=t.length-1;r>=0&&e>0;){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;for(var o=new lt,a=[];e>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--e]=a[0]}return n[--e]=2,n[--e]=0,new N(n)}var pt=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=V(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=dt(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},t.prototype.setPrivate=function(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=V(t,16),this.e=parseInt(e,16),this.d=V(n,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,n,r,i,o,a,s){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=V(t,16),this.e=parseInt(e,16),this.d=V(n,16),this.p=V(r,16),this.q=V(i,16),this.dmp1=V(o,16),this.dmq1=V(a,16),this.coeff=V(s,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var n=new lt,r=t>>1;this.e=parseInt(e,16);for(var i=new N(e,16);;){for(;this.p=new N(t-r,1,n),0!=this.p.subtract(N.ONE).gcd(i).compareTo(N.ONE)||!this.p.isProbablePrime(10););for(;this.q=new N(r,1,n),0!=this.q.subtract(N.ONE).gcd(i).compareTo(N.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var a=this.p.subtract(N.ONE),s=this.q.subtract(N.ONE),c=a.multiply(s);if(0==c.gcd(i).compareTo(N.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=V(t,16),n=this.doPrivate(e);return null==n?null:ht(n,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,n){var r=new lt,i=t>>1;this.e=parseInt(e,16);var o=new N(e,16),a=this,s=function e(){var s=function(){if(a.p.compareTo(a.q)<=0){var t=a.p;a.p=a.q,a.q=t}var r=a.p.subtract(N.ONE),i=a.q.subtract(N.ONE),s=r.multiply(i);0==s.gcd(o).compareTo(N.ONE)?(a.n=a.p.multiply(a.q),a.d=o.modInverse(s),a.dmp1=a.d.mod(r),a.dmq1=a.d.mod(i),a.coeff=a.q.modInverse(a.p),setTimeout((function(){n()}),0)):setTimeout(e,0)},c=function t(){a.q=H(),a.q.fromNumberAsync(i,1,r,(function(){a.q.subtract(N.ONE).gcda(o,(function(e){0==e.compareTo(N.ONE)&&a.q.isProbablePrime(10)?setTimeout(s,0):setTimeout(t,0)}))}))},u=function e(){a.p=H(),a.p.fromNumberAsync(t-i,1,r,(function(){a.p.subtract(N.ONE).gcda(o,(function(t){0==t.compareTo(N.ONE)&&a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(e,0)}))}))};setTimeout(u,0)};setTimeout(s,0)},t.prototype.sign=function(t,e,n){var r=ft(mt(n)+e(t).toString(),this.n.bitLength()/4);if(null==r)return null;var i=this.doPrivate(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},t.prototype.verify=function(t,e,n){var r=V(e,16),i=this.doPublic(r);return null==i?null:gt(i.toString(16).replace(/^1f+00/,""))==n(t).toString()},t}();function ht(t,e){for(var n=t.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}var vt={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function mt(t){return vt[t]||""}function gt(t){for(var e in vt)if(vt.hasOwnProperty(e)){var n=vt[e],r=n.length;if(t.substr(0,r)==n)return t.substr(r)}return t}var bt={};bt.lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var i;for(i in n)t.prototype[i]=n[i];var o=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(t,e){for(i=0;i<a.length;i+=1){var n=a[i],r=e[n];"function"==typeof r&&r!=Object.prototype[n]&&(t[n]=r)}})}catch(t){}o(t.prototype,n)}}};var yt={};void 0!==yt.asn1&&yt.asn1||(yt.asn1={}),yt.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";e=new N(r,16).xor(t).add(N.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=yt.asn1,n=e.DERBoolean,i=e.DERInteger,o=e.DERBitString,a=e.DEROctetString,s=e.DERNull,c=e.DERObjectIdentifier,u=e.DEREnumerated,l=e.DERUTF8String,f=e.DERNumericString,d=e.DERPrintableString,p=e.DERTeletexString,h=e.DERIA5String,v=e.DERUTCTime,m=e.DERGeneralizedTime,g=e.DERSequence,b=e.DERSet,y=e.DERTaggedObject,w=e.ASN1Util.newObject,_=r(t);if(1!=_.length)throw"key of param shall be only one.";var x=_[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+x+":"))throw"undefined key: "+x;if("bool"==x)return new n(t[x]);if("int"==x)return new i(t[x]);if("bitstr"==x)return new o(t[x]);if("octstr"==x)return new a(t[x]);if("null"==x)return new s(t[x]);if("oid"==x)return new c(t[x]);if("enum"==x)return new u(t[x]);if("utf8str"==x)return new l(t[x]);if("numstr"==x)return new f(t[x]);if("prnstr"==x)return new d(t[x]);if("telstr"==x)return new p(t[x]);if("ia5str"==x)return new h(t[x]);if("utctime"==x)return new v(t[x]);if("gentime"==x)return new m(t[x]);if("seq"==x){for(var C=t[x],S=[],k=0;k<C.length;k++){var E=w(C[k]);S.push(E)}return new g({array:S})}if("set"==x){for(C=t[x],S=[],k=0;k<C.length;k++)E=w(C[k]),S.push(E);return new b({array:S})}if("tag"==x){var I=t[x];if("[object Array]"===Object.prototype.toString.call(I)&&3==I.length){var T=w(I[2]);return new y({tag:I[0],explicit:I[1],obj:T})}var O={};if(void 0!==I.explicit&&(O.explicit=I.explicit),void 0!==I.tag&&(O.tag=I.tag),void 0===I.obj)throw"obj shall be specified for 'tag'.";return O.obj=w(I.obj),new y(O)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},yt.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),r=(e=Math.floor(n/40)+"."+n%40,""),o=2;o<t.length;o+=2){var a,s=parseInt(t.substr(o,2),16),c=i(a="00000000"+s.toString(2)).call(a,-8);r+=c.substr(1,7),"0"==c.substr(0,1)&&(e=e+"."+new N(r,2).toString(10),r="")}return e},yt.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new N(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=e(parseInt(s,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=e(a),o(i).call(i,0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},yt.asn1.ASN1Object=function(){var t="";this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.hV;var e=this.hV.length/2,n=e.toString(16);if(n.length%2==1&&(n="0"+n),e<128)return n;var r=n.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},yt.asn1.DERAbstractString=function(t){yt.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},bt.lang.extend(yt.asn1.DERAbstractString,yt.asn1.ASN1Object),yt.asn1.DERAbstractTime=function(t){yt.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var a=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var c=r(String(s),3);a=a+"."+(c=c.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,n,r,i,o){var a=new Date(Date.UTC(t,e-1,n,r,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},bt.lang.extend(yt.asn1.DERAbstractTime,yt.asn1.ASN1Object),yt.asn1.DERAbstractStructured=function(t){yt.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},bt.lang.extend(yt.asn1.DERAbstractStructured,yt.asn1.ASN1Object),yt.asn1.DERBoolean=function(){yt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},bt.lang.extend(yt.asn1.DERBoolean,yt.asn1.ASN1Object),yt.asn1.DERInteger=function(t){yt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=yt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new N(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},bt.lang.extend(yt.asn1.DERInteger,yt.asn1.ASN1Object),yt.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=yt.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}yt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var r="";for(n=0;n<t.length-1;n+=8){var i=t.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},bt.lang.extend(yt.asn1.DERBitString,yt.asn1.ASN1Object),yt.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=yt.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}yt.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},bt.lang.extend(yt.asn1.DEROctetString,yt.asn1.DERAbstractString),yt.asn1.DERNull=function(){yt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},bt.lang.extend(yt.asn1.DERNull,yt.asn1.ASN1Object),yt.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new N(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=e(parseInt(s,2))}return n};yt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=e(a),o(i).call(i,0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var e=yt.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},bt.lang.extend(yt.asn1.DERObjectIdentifier,yt.asn1.ASN1Object),yt.asn1.DEREnumerated=function(t){yt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=yt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new N(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},bt.lang.extend(yt.asn1.DEREnumerated,yt.asn1.ASN1Object),yt.asn1.DERUTF8String=function(t){yt.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},bt.lang.extend(yt.asn1.DERUTF8String,yt.asn1.DERAbstractString),yt.asn1.DERNumericString=function(t){yt.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},bt.lang.extend(yt.asn1.DERNumericString,yt.asn1.DERAbstractString),yt.asn1.DERPrintableString=function(t){yt.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},bt.lang.extend(yt.asn1.DERPrintableString,yt.asn1.DERAbstractString),yt.asn1.DERTeletexString=function(t){yt.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},bt.lang.extend(yt.asn1.DERTeletexString,yt.asn1.DERAbstractString),yt.asn1.DERIA5String=function(t){yt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},bt.lang.extend(yt.asn1.DERIA5String,yt.asn1.DERAbstractString),yt.asn1.DERUTCTime=function(t){yt.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},bt.lang.extend(yt.asn1.DERUTCTime,yt.asn1.DERAbstractTime),yt.asn1.DERGeneralizedTime=function(t){yt.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},bt.lang.extend(yt.asn1.DERGeneralizedTime,yt.asn1.DERAbstractTime),yt.asn1.DERSequence=function(t){yt.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},bt.lang.extend(yt.asn1.DERSequence,yt.asn1.DERAbstractStructured),yt.asn1.DERSet=function(t){yt.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&a(t).call(t),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},bt.lang.extend(yt.asn1.DERSet,yt.asn1.DERAbstractStructured),yt.asn1.DERTaggedObject=function(t){yt.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},bt.lang.extend(yt.asn1.DERTaggedObject,yt.asn1.ASN1Object);var wt=function(t){function e(n){var r=t.call(this)||this;return n&&("string"==typeof n?r.parseKey(n):(e.hasPrivateKeyProperty(n)||e.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return y(e,t),e.prototype.parseKey=function(t){try{var e=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?_.decode(t):x.unarmor(t),i=L.decode(r);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){e=i.sub[1].getHexStringValue(),this.n=V(e,16),n=i.sub[2].getHexStringValue(),this.e=parseInt(n,16);var o=i.sub[3].getHexStringValue();this.d=V(o,16);var a=i.sub[4].getHexStringValue();this.p=V(a,16);var s=i.sub[5].getHexStringValue();this.q=V(s,16);var c=i.sub[6].getHexStringValue();this.dmp1=V(c,16);var u=i.sub[7].getHexStringValue();this.dmq1=V(u,16);var l=i.sub[8].getHexStringValue();this.coeff=V(l,16)}else{if(2!==i.sub.length)return!1;var f=i.sub[1].sub[0];e=f.sub[0].getHexStringValue(),this.n=V(e,16),n=f.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(t){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new yt.asn1.DERInteger({int:0}),new yt.asn1.DERInteger({bigint:this.n}),new yt.asn1.DERInteger({int:this.e}),new yt.asn1.DERInteger({bigint:this.d}),new yt.asn1.DERInteger({bigint:this.p}),new yt.asn1.DERInteger({bigint:this.q}),new yt.asn1.DERInteger({bigint:this.dmp1}),new yt.asn1.DERInteger({bigint:this.dmq1}),new yt.asn1.DERInteger({bigint:this.coeff})]};return new yt.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return v(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new yt.asn1.DERSequence({array:[new yt.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new yt.asn1.DERNull]}),e=new yt.asn1.DERSequence({array:[new yt.asn1.DERInteger({bigint:this.n}),new yt.asn1.DERInteger({int:this.e})]}),n=new yt.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new yt.asn1.DERSequence({array:[t,n]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return v(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var n="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(pt),_t=function(){function t(t){t=t||{},this.default_key_size=parseInt(t.default_key_size,10)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new wt(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(m(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return v(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,e,n){try{return v(this.getKey().sign(t,e,n))}catch(t){return!1}},t.prototype.verify=function(t,e,n){try{return this.getKey().verify(t,m(e),n)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new wt,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version="3.0.0-rc.1",t}();window.JSEncrypt=_t,t.JSEncrypt=_t,t.default=_t,Object.defineProperty(t,"__esModule",{value:!0})}(e)},3279:function(t,e,n){t.exports=n(45624)},41254:function(t,e,n){"use strict";var r=n(93476),i=n(31354),o=n(3928),a=n(83803),s=n(26958),c=n(95494),u=n(19272),l=n(19794),f=n(18133);t.exports=function(t){return new r((function(e,n){var r=t.data,d=t.headers,p=t.responseType;i.isFormData(r)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(v+":"+m)}var g=c(t.baseURL,t.url);function b(){if(h){var r="getAllResponseHeaders"in h?u(h.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:t,request:h};o(e,n,i),h=null}}if(h.open(t.method.toUpperCase(),s(g,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=b:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(b)},h.onabort=function(){h&&(n(f("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(f("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(f(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var y=(t.withCredentials||l(g))&&t.xsrfCookieName?a.read(t.xsrfCookieName):void 0;y&&(d[t.xsrfHeaderName]=y)}"setRequestHeader"in h&&i.forEach(d,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete d[e]:h.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),p&&"json"!==p&&(h.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),n(t),h=null)})),r||(r=null),h.send(r)}))}},45624:function(t,e,n){"use strict";var r=n(93476),i=n(31354),o=n(23294),a=n(30496),s=n(93078);function c(t){var e=new a(t),n=o(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var u=c(n(73501));u.Axios=a,u.create=function(t){return c(s(u.defaults,t))},u.Cancel=n(75545),u.CancelToken=n(26742),u.isCancel=n(41800),u.all=function(t){return r.all(t)},u.spread=n(30021),u.isAxiosError=n(49601),t.exports=u,t.exports.default=u},75545:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},26742:function(t,e,n){"use strict";var r=n(93476),i=n(75545);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new r((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},41800:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},30496:function(t,e,n){"use strict";var r=n(77766),i=n(93476),o=n(31354),a=n(26958),s=n(80305),c=n(81768),u=n(93078),l=n(79038),f=l.validators;function d(t){this.defaults=t,this.interceptors={request:new s,response:new s}}d.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&l.assertOptions(e,{silentJSONParsing:f.transitional(f.boolean,"1.0.0"),forcedJSONParsing:f.transitional(f.boolean,"1.0.0"),clarifyTimeoutError:f.transitional(f.boolean,"1.0.0")},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var a,s=[];if(this.interceptors.response.forEach((function(t){s.push(t.fulfilled,t.rejected)})),!o){var d=[c,void 0];for(Array.prototype.unshift.apply(d,n),d=r(d).call(d,s),a=i.resolve(t);d.length;)a=a.then(d.shift(),d.shift());return a}for(var p=t;n.length;){var h=n.shift(),v=n.shift();try{p=h(p)}catch(t){v(t);break}}try{a=c(p)}catch(t){return i.reject(t)}for(;s.length;)a=a.then(s.shift(),s.shift());return a},d.prototype.getUri=function(t){return t=u(this.defaults,t),a(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(t){d.prototype[t]=function(e,n){return this.request(u(n||{},{method:t,url:e,data:(n||{}).data}))}})),o.forEach(["post","put","patch"],(function(t){d.prototype[t]=function(e,n,r){return this.request(u(r||{},{method:t,url:e,data:n}))}})),t.exports=d},80305:function(t,e,n){"use strict";var r=n(31354);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},95494:function(t,e,n){"use strict";var r=n(61910),i=n(57529);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},18133:function(t,e,n){"use strict";var r=n(69710);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},81768:function(t,e,n){"use strict";var r=n(93476),i=n(31354),o=n(81206),a=n(41800),s=n(73501);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=o.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return c(t),e.data=o.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(c(t),e&&e.response&&(e.response.data=o.call(t,e.response.data,e.response.headers,t.transformResponse))),r.reject(e)}))}},69710:function(t){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},93078:function(t,e,n){"use strict";var r=n(3649),i=n(77766),o=n(20116),a=n(86902),s=n(31354);t.exports=function(t,e){var n,c,u,l;e=e||{};var f={},d=["url","method","data"],p=["headers","auth","proxy","params"],h=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],v=["validateStatus"];function m(t,e){return s.isPlainObject(t)&&s.isPlainObject(e)?s.merge(t,e):s.isPlainObject(e)?s.merge({},e):s.isArray(e)?r(e).call(e):e}function g(n){s.isUndefined(e[n])?s.isUndefined(t[n])||(f[n]=m(void 0,t[n])):f[n]=m(t[n],e[n])}s.forEach(d,(function(t){s.isUndefined(e[t])||(f[t]=m(void 0,e[t]))})),s.forEach(p,g),s.forEach(h,(function(n){s.isUndefined(e[n])?s.isUndefined(t[n])||(f[n]=m(void 0,t[n])):f[n]=m(void 0,e[n])})),s.forEach(v,(function(n){n in e?f[n]=m(t[n],e[n]):n in t&&(f[n]=m(void 0,t[n]))}));var b=i(n=i(c=i(d).call(d,p)).call(c,h)).call(n,v),y=o(u=i(l=a(t)).call(l,a(e))).call(u,(function(t){return-1===b.indexOf(t)}));return s.forEach(y,g),f}},3928:function(t,e,n){"use strict";var r=n(18133);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},81206:function(t,e,n){"use strict";var r=n(31354),i=n(73501);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},73501:function(t,e,n){"use strict";var r=n(25843),i=n(59340),o=n(31354),a=n(87465),s=n(69710),c={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l,f={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(41254)),l),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),function(t,e,n){if(o.isString(t))try{return(e||JSON.parse)(t),r(o).call(o,t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||i)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&o.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw s(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};f.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],(function(t){f.headers[t]={}})),o.forEach(["post","put","patch"],(function(t){f.headers[t]=o.merge(c)})),t.exports=f},23294:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},26958:function(t,e,n){"use strict";var r=n(59340),i=n(3649),o=n(31354);function a(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(o.isURLSearchParams(e))s=e.toString();else{var c=[];o.forEach(e,(function(t,e){null!=t&&(o.isArray(t)?e+="[]":t=[t],o.forEach(t,(function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=r(t)),c.push(a(e)+"="+a(t))})))})),s=c.join("&")}if(s){var u=t.indexOf("#");-1!==u&&(t=i(t).call(t,0,u)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},57529:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},83803:function(t,e,n){"use strict";var r=n(31354);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},61910:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},49601:function(t){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},19794:function(t,e,n){"use strict";var r=n(31354);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},87465:function(t,e,n){"use strict";var r=n(31354);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},19272:function(t,e,n){"use strict";var r=n(25843),i=n(77766),o=n(31354),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,c={};return t?(o.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=r(o).call(o,t.substr(0,s)).toLowerCase(),n=r(o).call(o,t.substr(s+1)),e){if(c[e]&&a.indexOf(e)>=0)return;var u;if("set-cookie"===e)c[e]=i(u=c[e]?c[e]:[]).call(u,[n]);else c[e]=c[e]?c[e]+", "+n:n}})),c):c}},30021:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},79038:function(t,e,n){"use strict";var r=n(86902),i=n(89353),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var a={},s=i.version.split(".");function c(t,e){for(var n=e?e.split("."):s,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}o.transitional=function(t,e,n){var r=e&&c(e);function o(t,e){return"[Axios v"+i.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,s){if(!1===t)throw new Error(o(i," has been removed in "+e));return r&&!a[i]&&(a[i]=!0,console.warn(o(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,s)}},t.exports={isOlderVersion:c,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var i=r(t),o=i.length;o-- >0;){var a=i[o],s=e[a];if(s){var c=t[a],u=void 0===c||s(c,a,t);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:o}},31354:function(t,e,n){"use strict";var r=n(21611),i=n(94435),o=n(25843),a=n(3649),s=n(23294),c=Object.prototype.toString;function u(t){return"[object Array]"===c.call(t)}function l(t){return void 0===t}function f(t){return null!==t&&"object"==typeof t}function d(t){if("[object Object]"!==c.call(t))return!1;var e=r(t);return null===e||e===Object.prototype}function p(t){return"[object Function]"===c.call(t)}function h(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),u(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:u,isArrayBuffer:function(t){return"[object ArrayBuffer]"===c.call(t)},isBuffer:function(t){return null!==t&&!l(t)&&null!==t.constructor&&!l(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:f,isPlainObject:d,isUndefined:l,isDate:function(t){return"[object Date]"===c.call(t)},isFile:function(t){return"[object File]"===c.call(t)},isBlob:function(t){return"[object Blob]"===c.call(t)},isFunction:p,isStream:function(t){return f(t)&&p(t.pipe)},isURLSearchParams:function(t){return void 0!==i&&t instanceof i},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:h,merge:function t(){var e={};function n(n,r){d(e[r])&&d(n)?e[r]=t(e[r],n):d(n)?e[r]=t({},n):u(n)?e[r]=a(n).call(n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)h(arguments[r],n);return e},extend:function(t,e,n){return h(e,(function(e,r){t[r]=n&&"function"==typeof e?s(e,n):e})),t},trim:function(t){return o(t)?o(t).call(t):t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=a(t).call(t,1)),t}}},9499:function(t,e,n){"use strict";n.d(e,{f:function(){return w}});var r,i,o,a,s,c,u,l=n(59340),f=n.n(l),d=n(51942),p=n.n(d),h=n(52424),v=n.n(h),m={"011778":function(t){var e;return["011778"+Date.now()+location.href,(null==t.spmId?"":t.spmId+".")+t.evtId,"",Date.now(),"","",screen.width+"x"+screen.height,"",f()({event:t.evtId,value:null!==(e=t.data)&&void 0!==e?e:""})].join("|")}},g=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},b=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};function y(t,e,n){var r;if(void 0===e&&(e=!1),void 0===n&&(n=0),0!==t.length){var i="string"==typeof t?t:t.join(""),o="//data.bilibili.com/gol/postweb";e?null===(r=navigator.sendBeacon)||void 0===r||r.call(navigator,o,i):fetch(o,{method:"POST",body:i,credentials:"include"}).then((function(e){if(429===e.status){var r=[1e4,2e4,4e4][n];if(null==r)return;window.setTimeout((function(){y(t,!1,n+=1)}),r)}})).catch((function(t){console.error(t)}))}}var w=function(){function t(t,e){var n,l,f=this;if(void 0===e&&(e={}),r.set(this,[]),i.set(this,void 0),o.set(this,(function(){})),a.set(this,void 0),s.set(this,(l=!1,function(){if(!l){l=!0;var t=window.setTimeout((function(){l=!1,b(f,c,"f").call(f)}),6e4);g(f,o,(function(){l=!1,clearTimeout(t)}),"f")}})),c.set(this,(function(t){void 0===t&&(t=!1),b(f,o,"f").call(f),y(b(f,r,"f"),t),g(f,r,[],"f")})),u.set(this,(function(){b(f,c,"f").call(f,!0)})),g(this,a,null!==(n=e.formatter)&&void 0!==n?n:m[t],"f"),null==b(this,a,"f"))throw new Error("Undefined Formatter for logId: "+t);g(this,i,e,"f"),window.addEventListener("beforeunload",b(this,u,"f"))}var e=t.prototype;return e.event=function(t,e,n){var o,u;if(void 0===n&&(n={}),"string"!=typeof t||""===t)throw Error("evtId: "+f()(t)+" not a string");var l=null!==(u=null!==(o=n.sample)&&void 0!==o?o:b(this,i,"f").sample)&&void 0!==u?u:100,d=100*Math.random()>=l;!0===b(this,i,"f").debug&&console.log("live-web-track: evtId: "+t+", 采样率 "+l+"%, 本次是否上报 "+f()(!d)),d||(b(this,r,"f").push(b(this,a,"f").call(this,p()({evtId:t,data:e},b(this,i,"f")))),b(this,r,"f").length>=10?b(this,c,"f").call(this):b(this,s,"f").call(this))},e.set=function(t){g(this,i,p()({},b(this,i,"f"),t),"f")},e.destroy=function(){b(this,c,"f").call(this),window.removeEventListener("beforeunload",b(this,u,"f"))},t}();r=new(v()),i=new(v()),o=new(v()),a=new(v()),s=new(v()),c=new(v()),u=new(v())},38599:function(t){var e=window.navigator.userAgent,n={myBrowser:"unknown",behaviors:[function(){return!!e.match(/Firefox\/\d.*/)&&"Firefox"},function(){return!(!e.match(/AppleWebKit\/\d.*.Chrome\/\d.*.Safari\/\d/)||"Google Inc."!==window.navigator.vendor||!window.chrome)&&"Chrome"},function(){return!!e.match(/Opera.\d.*.Presto\/\d/)&&"Opera Presto"},function(){return!!e.match(/OPR\/\d{2}/)&&"Opera Modern"},function(){return!!e.match(/MSIE [6-8].+/)&&"IE Legacy"},function(){return!(!e.match(/MSIE [9].+/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 9"},function(){return!(!e.match(/MSIE [10].+/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 10"},function(){return!(!e.match(/Trident\/[7].*.rv:11/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 11"},function(){return!(!e.match(/Edge\/\d+\.\d+/)||"function"!=typeof window.StyleMedia)&&"Edge"},function(){return!!e.match(/Maxthon\/[4]/)&&"Maxthon 4"},function(){return!(!e.match(/AppleWebKit\/\d.*.Safari\/\d+/)||"Apple Computer, Inc."!==navigator.vendor)&&"Safari"}]};t.exports=function(){return n.behaviors.some((function(t){var e=t();return n.myBrowser=e||"unknown",e})),n.myBrowser}},50346:function(t,e,n){"use strict";n.d(e,{SE:function(){return T},C$:function(){return O},E1:function(){return A}});var r=n(51942),i=n.n(r),o=n(93476),a=n.n(o),s=n(65420),c=n.n(s),u=n(98341),l=n.n(u),f=n(59340),d=n.n(f),p=n(9669),h=n.n(p),v=function(){return(v=i()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function m(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function g(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof c()&&(o[l()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var b="__LIVE_USER_LOGIN_STATUS_TRACK";function y(t,e){if(void 0===t&&(t=""),void 0===e&&(e=null),"off"!==window.__LIVE_USER_LOGIN_STATUS_SW){var n="";if(e)try{n=d()(e)}catch(t){n=""}var r=new Date,i=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds();window[b]=window[b]+"\n"+i+" > "+t+n}else window[b]&&delete window[b]}window[b]="-- INFO --";var w=h().create({timeout:5e3,withCredentials:!0}),_="//api.bilibili.com";var x={uid:0,isLogin:!1,uname:"",face:"",isError:!0};function C(){return m(this,void 0,void 0,(function(){var t,e,n,r;return g(this,(function(i){switch(i.label){case 0:y("entry getRemoteLoginStatus()"),i.label=1;case 1:return i.trys.push([1,3,,4]),y("start /x/web-interface/nav"),[4,w.get(_+"/x/web-interface/nav")];case 2:return t=i.sent(),y("end /x/web-interface/nav"),e=t.data||{},n=e.data||null,y("code: "+e.code),0===e.code&&n&&n.isLogin?[2,{error:null,data:{uid:n.mid,isLogin:n.isLogin,face:(o=n.face,void 0===a&&(a="hdslb.com"),o&&window&&location&&/^https\:/.test(location.href)?o.replace(RegExp("http(:[^:]*?."+a+")","gi"),"https$1"):o),uname:n.uname,isError:!1}}]:-101===e.code&&n&&!n.isLogin?[2,{error:null,data:{uid:0,isLogin:!1,face:"",uname:"",isError:!1}}]:[2,{error:"服务器错误",data:x}];case 3:return r=i.sent(),y("Error Error --- /x/web-interface/nav"),y("ERROR: ",r),[2,{error:r||"接口错误",data:x}];case 4:return[2]}var o,a}))}))}var S=!1,k=!1,E=[];function I(){return m(this,void 0,void 0,(function(){var t,e;return g(this,(function(n){switch(n.label){case 0:return y("entry initUserLoginStatus"),t=j()||{isError:!0},y("isLoading: "+S),S?(y("repeat init"),[2]):(y("isError: "+t.isError),t.isError?(S=!0,y("start await getRemoteLoginStatus()"),[4,C()]):[3,2]);case 1:e=n.sent().data,y("end await getRemoteLoginStatus()"),y("data: ",e),S=!1,function(t){E.length>0&&(E.forEach((function(e){e&&e(t)})),E.length=0)}(e),L(e),n.label=2;case 2:return[2]}}))}))}function T(){return m(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return y("entry asyncGetUserLoginStatus"),S?[2,new(a())((function(t){var e=setTimeout((function(){t(x)}),5e3);E.push((function(n){clearTimeout(e),e=null,t(n)}))}))]:[4,I()];case 1:return t.sent(),[2,j()]}}))}))}function O(){return m(this,void 0,void 0,(function(){var t,e,n;return g(this,(function(r){switch(r.label){case 0:return y("entry refreshUserLoginStatus"),[4,C()];case 1:return t=r.sent(),e=t.error,n=t.data,e||L(n),[2]}}))}))}function A(t){if(y("entry subscribeUserLoginStatus"),k)return y("existing information"),t(j());y("add task"),E.push(t)}function L(t){y("entry setDate"),window.__LIVE_USER_LOGIN_STATUS__=v({},t),k=!0}function j(){return window.__LIVE_USER_LOGIN_STATUS__}},84322:function(t,e,n){"use strict";n.d(e,{j:function(){return m}});var r=n(69348),i=n(63109),o=n.n(i),a=n(86902),s=n.n(a),c=n(93476),u=n.n(c),l={bucket:"bucket",dir:"dir",fileData:"file",waterMarkKey:"wm_key",waterMarkText:"wm_text",waterMarkPaddingX:"wm_padding_x",waterMarkPaddingY:"wm_padding_y",waterMarkScale:"wm_scale"};function f(t){var e=new FormData;return s()(t).forEach((function(n){e.append(function(t){return l[t]||t}(n),t[n])})),e}function d(t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new(u())((function(t,n){var r=new XMLHttpRequest;r.upload&&"function"==typeof e.onProgress&&r.addEventListener("progress",e.onProgress),r.addEventListener("error",n),r.addEventListener("load",(function(){if(r.status<200||r.status>=300)return n(v(e.action,r));try{t(h(r))}catch(t){n(t)}})),"withCredentials"in r&&(r.withCredentials=!0),r.open("post",e.action,!0),r.send(e.formData)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){var e=t.responseText||t.response;if(!e)throw new Error("Empty Response Body");var n=JSON.parse(e);if(0!==n.code||!n.data)throw n;return n.data}function v(t,e){return e.response?""+(e.response.error||e.response):e.responseText?""+e.responseText:"fail to post "+t+" "+e.status}var m=function(){function t(){}return t.requirementCheck=function(t){var e=t.checkBlob;if(!XMLHttpRequest)throw new Error("No XMLHttpRequest Support. Please use polyfill!");if(!u())throw new Error("No Promise Support. Please use polyfill!");if(e&&!Blob)throw new Error("No Blob Support. Please use polyfill!");if(!FormData)throw new Error("No FormData Support. Please use polyfill!")},t.handleUploadBlob=function(){var e=(0,r.Z)(o().mark((function e(n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.requirementCheck({checkBlob:!0}),i=f(n),a={action:"//api.bilibili.com/x/upload/web/image?csrf="+(o=void 0,c=void 0,o=new RegExp("(^| )bili_jct=([^;]*)(;|$)"),c=document.cookie.match(o),c?decodeURIComponent(c[2]):null),formData:i},r&&"function"==typeof r.onProgress&&(a.onProgress=r.onProgress),e.next=6,d(a);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}var o,c}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t}()},17388:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var r={name:"bl-button",props:{disabled:Boolean,type:{type:String,default:"primary"},size:{type:String,default:"size"},loading:{type:Boolean,default:!1}},methods:{handleClick:function(t){this.$emit("click",t)}}},i=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"bl-button",class:[t.type?"bl-button--"+t.type:"",t.size?"bl-button--"+t.size:"",t.loading?"is-loading":""],attrs:{disabled:t.disabled},on:{click:t.handleClick}},[t.loading?n("i",{staticClass:"loading-icon"}):t._e(),t._v(" "),n("span",{staticClass:"txt"},[t._t("default")],2)])}),[],!1,null,"b145b4ae",null).exports},95159:function(t,e,n){"use strict";var r=n(59340),i=n.n(r),o=n(77766),a=n.n(o),s=n(36384),c=n.n(s),u=n(2991),l=n.n(u),f=n(20116),d=n.n(f),p=n(92762),h=n.n(p),v=[],m=b("Function"),g=b("Object");function b(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}var y={name:"GroupFollow",iframeWindow:null,props:{iframeUrl:{type:String,default:""}},data:function(){return{isShowIframe:!1,closeOnSuccess:!0}},methods:{onSubmitSuccess:function(t){var e=g(v[0])?v[0]:{},n=g(e.options)?e.options:{};this.closeOnSuccess&&this.onClosePopup(),m(n.onSubmitSuccess)&&n.onSubmitSuccess(t)},onClosePopup:function(){var t=(g(v[0])?v[0]:{}).options||{};m(t.onClosePopup)&&t.onClosePopup(),this.hideIframe()},onShowPopup:function(){var t=(g(v[0])?v[0]:{}).options||{};m(t.onBeforeShow)&&t.onBeforeShow(),this.showIframe()},hideIframe:function(){this.isShowIframe=!1},showIframe:function(){this.isShowIframe=!0},triggerShow:function(){var t=g(v[0])?v[0]:{},e=t.options||{},n=void 0===e.closeOnSuccess||e.closeOnSuccess,r=void 0===e.showErrMsgInDialog||e.showErrMsgInDialog;this.closeOnSuccess=n,this.$options.iframeWindow.postMessage(i()({mid:t.mid,uname:t.uname,closeOnSuccess:n,showErrMsgInDialog:r,title:e.title||""}),"*")}},mounted:function(){var t=this;this.$options.iframeWindow=document.getElementById("follow-iframe").contentWindow,window.addEventListener("message",(function(e){if(e.data&&"string"==typeof e.data){var n=e.data?JSON.parse(e.data):{},r=(g(v[0])?v[0]:{}).options||{};switch(n.type){case"onShowPopup":t.onShowPopup();break;case"onSubmitSuccess":t.onSubmitSuccess(n.msg);break;case"onBeforeSubmit":m(r.onBeforeSubmit)&&r.onBeforeSubmit(n.msg);break;case"onLoadTagsError":m(r.onLoadTagsError)&&r.onLoadTagsError(n.msg);break;case"onLoadRelationError":m(r.onLoadRelationError)&&r.onLoadRelationError(n.msg);break;case"onAddTagError":m(r.onAddTagError)&&r.onAddTagError(n.msg);break;case"onSubmitError":m(r.onSubmitError)&&r.onSubmitError(n.msg);break;case"onClosePopup":t.onClosePopup()}}}))}};var w=function(t,e,n,r,i,o,s,c,u,l){"boolean"!=typeof s&&(u=c,c=s,s=!1);var f,d="function"==typeof n?n.options:n;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),r&&(d._scopeId=r),o?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=f):e&&(f=s?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,c(t))}),f)if(d.functional){var p=d.render;d.render=function(t,e){return f.call(e),p(t,e)}}else{var h,v=d.beforeCreate;d.beforeCreate=v?a()(h=[]).call(h,v,f):[f]}return n},_="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var x=document.head||document.getElementsByTagName("head")[0],C={};var S=w({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIframe,expression:"isShowIframe"}],staticClass:"group-follow-wrap"},[n("iframe",{attrs:{id:"follow-iframe",src:t.iframeUrl,frameborder:"0"}})])},staticRenderFns:[]},(function(t){t&&t("data-v-831ac13a_0",{source:".group-follow-wrap{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;background-color:transparent}.group-follow-wrap #follow-iframe{width:100%;height:100%}",map:void 0,media:void 0})}),y,undefined,!1,undefined,(function(t){return function(t,e){return function(t,e){var n=_?e.media||"default":t,r=C[n]||(C[n]={ids:new(c()),styles:[]});if(!r.ids.has(t)){r.ids.add(t);var o=e.source;if(l()(e)&&(o+="\n/*# sourceURL="+l()(e).sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(i()(l()(e)))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),x.appendChild(r.element)),"styleSheet"in r.element){var a;r.styles.push(o),r.element.styleSheet.cssText=d()(a=r.styles).call(a,Boolean).join("\n")}else{var s=r.ids.size-1,u=document.createTextNode(o),f=r.element.childNodes;f[s]&&r.element.removeChild(f[s]),f.length?r.element.insertBefore(u,f[s]):r.element.appendChild(u)}}}(t,e)}}),void 0),k=!1,E={install:function(t,e){if(!k){var n=e.iframeUrl||"//link.bilibili.com/iframe/blfe-link-followIframe";t.prototype.initGroupFollow=function(t,e,n){if(!t||!e)return console.log("miss require params"),!1;console.log("clicked"),h()(v).call(v,0,v.length,{mid:t,uname:e,options:"object"==typeof n?n:{}});var r=setInterval((function(){i&&i.$children[0]&&i.$children[0].$options&&i.$children[0].$options.iframeWindow&&(i.$children[0].triggerShow(),clearInterval(r))}),100)};var r=document.createElement("div"),i=null;document.body.appendChild(r),t.nextTick((function(){i=new t({data:function(){return{iframeUrl:n}},template:'<group-follow :iframe-url="iframeUrl"></group-follow>',components:{GroupFollow:S}}).$mount(r)})),k=!0}}};e.Z=E},26384:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});function r(){}var i={data:function(){return{ignoreIme:!1}},computed:{styles:function(){var t={};return this.width&&(t.width=this.width+"px"),this.height&&(t.height=this.height+"px"),t}},mounted:function(){var t=this;window.ScriptEngine&&(navigator.appVersion.indexOf("MSIE 9.0")>-1&&this.$refs.input.addEventListener("cut",(function(){t.$nextTick(t.updateValue)})),this.$refs.input.addEventListener("keyup",(function(e){17===(e=e||window.event).keyCode||18===e.keyCode||e.ctrlKey||e.shiftKey||e.altKey||t.updateValue()})))},methods:{compositionStart:function(){this.ignoreIme=!0},compositionEnd:function(){this.ignoreIme=!1,this.updateValue()},updateValue:function(){if(!this.ignoreIme){var t=this.$refs.input.value;this.$emit("input",t)}}},props:{value:{default:""},width:{type:Number,default:100},height:{type:Number},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},maxlength:{type:Number},onClick:{type:Function,default:r},onFocus:{type:Function,default:r},onChange:{type:Function,default:r},onBlur:{type:Function,default:r},onKeyup:{type:Function,default:r},onKeydown:{type:Function,default:r}}},o=(0,n(51900).Z)(i,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{ref:"input",staticClass:"link-input",class:{disabled:this.disabled},style:t.styles,attrs:{disabled:t.disabled,type:t.type,placeholder:t.placeholder,maxlength:t.maxlength},domProps:{value:t.value},on:{click:t.onClick,change:t.onChange,focus:t.onFocus,blur:t.onBlur,keyup:t.onKeyup,keydown:t.onKeydown,input:t.updateValue,compositionstart:t.compositionStart,compositionend:t.compositionEnd}})}),[],!1,null,"262ea052",null).exports},39616:function(t,e,n){"use strict";n.d(e,{u:function(){return s},_:function(){return o}});var r={props:["level"]},i=n(51900),o=(0,i.Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"user-level-icon",class:"lv-"+t.level},[t._v("UL "+t._s(t.level)),t._t("default")],2)}),[],!1,null,null,null).exports,a={props:["level"]},s=(0,i.Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"up-level-icon",class:"lv-"+t.level},[t._v("UP "+t._s(t.level)),t._t("default")],2)}),[],!1,null,null,null).exports},32391:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});function r(t,e,n,r){"success"!==(n=n||"info")&&"caution"!==n&&"error"!==n&&"info"!==n&&(n="info");var i=document.createDocumentFragment(),o=document.createElement("div");if(o.innerHTML='<span class="toast-text">'+e+"</span>",o.className="link-toast "+n+" "+(r?"fixed":""),!t.className&&!t.attributes)throw new Error("[@blink-common/message] 传入 element 不是有效节点.");var a=t.getBoundingClientRect(),s=a.left,c=a.top,u=a.width,l=a.height,f=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft;o.style.left=s+u+f+"px";var d=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;o.style.top=(r?c+l+10:c+l+d)+"px",setTimeout((function(){o.className+=" out",setTimeout((function(){o.parentNode.removeChild(o)}),350)}),4e3),i.appendChild(o),document.body.appendChild(i);var p=document.body.offsetWidth,h=o.getBoundingClientRect().left,v=o.offsetWidth;p-v-h<0&&(o.style.left=p-v-10+f+"px")}function i(){return{install:function(t,e){t.prototype.linkMsg||(t.prototype.linkMsg=r)}}}},70586:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return S}});var r=n(20116),i=n.n(r),o=n(86902),a=n.n(o),s=n(93476),c=n.n(s),u=n(92762),l=n.n(u),f=n(70538),d=[];var p=[],h=function(){function t(t){var e=this;t=t||{},a()(t).forEach((function(n){e[n]=t[n]})),this.$id=t.$id?t.$id:"popup-"+Math.floor(1e4*Math.random()*Date.now()).toString(16),this.$index=null,this.$disabled=!1,this.$out=!1,this.type=t.type||"normal",this.lockWhenConfirm=t.lockWhenConfirm||!1,this.$keep=t.keep||!1}var e=t.prototype;return e.unlock=function(){this.$disabled=!1},e.lock=function(){this.$disabled=!0},e.close=function(){return this.removePopup()},e.keep=function(){this.$keep=!0},e.cancelKeep=function(){this.$keep=!1},e.restore=function(){this.$out=!1},e.removePopup=function(){var t=this;return new(c())((function(e,n){t.$out=!0,setTimeout((function(){if(l()(d).call(d,t.$index,1),t.$keep){var n=i()(p).call(p,(function(e){return e.$id===t.$id}));n.length?p[p.indexOf(n[0])]=t:p.push(t)}else delete p[p.indexOf(t)];var r;(r=d).forEach((function(t,e){r[e].$index=e})),f.default.nextTick((function(){e(),navigator.userAgent.match(/Maxthon\/4.[0-4]/)&&(window.document.body.style.backgroundColor="#fefefe",setTimeout((function(){window.document.body.style.backgroundColor="#fff"}),1))}))}),200)}))},t}();var v=function(){function t(t){this.init(t)}var e=t.prototype;return e.onInited=function(t){return this.popup.onInitedCallback=t,this},e.onConfirm=function(t){return this.popup.onConfirmCallback=t,this},e.onCancel=function(t){return this.popup.onCancelCallback=t,this},e.init=function(t){var e=new h(t),n=e.$id;if(i()(d).call(d,(function(t){return t.$id===n})).length)console.warn('检测到 $id 相同 livePopup "'+t.$id+'}", 请解决冲突.');else{if(p.length)for(var r=0,o=p.length;r<o;r++){var a=p[r];if(a){a.restore(),d.push(a);var s=d.indexOf(a);d[s].$index=s}}var c=d.push(e)-1;d[c].$index=c,e.onInitedCallback=null,e.onInitedCallbackExeced=!1,this.popup=e}},t}(),m=n(2991),g=n.n(m),b=n(17388),y=n(131),w=[],_={data:function(){return{currentPopupIndex:0,popups:d}},computed:{mappedPopups:function(){var t;return g()(t=this.popups).call(t,(function(t,e){var n=t.component,r="[Error] 在使用 Component 创建弹窗时必须指定 name.";if("object"==typeof n){if(void 0===t.content&&void 0===t.html||(window.console&&console.warn("[LinkPopup] 当使用 Component 方式构建弹窗时，传入的 html 与 content 属性无效."),t.html=null,t.content=null),"object"==typeof n._Ctor){var i=n.name;if("string"!=typeof i)throw new Error(r);f.default.component(i,n),w.push(i),t.component.name=i}else{if("string"!=typeof n.name)throw new Error(r);f.default.component(n.name,n),w.push(n.name)}t.$usingComponent=!0}return t}))},currentPopup:function(){var t=this.mappedPopups[this.currentPopupIndex]||{};return this.multiPoups&&(t.$out=!0,setTimeout((function(){t.$out=!1}),370)),t},multiPoups:function(){return this.popups.length>1}},components:{LinkBtn:b.default,Shell:y.Z},methods:{init:function(t){this.$nextTick((function(){t.onInitedCallback&&!t.onInitedCallbackExeced&&setTimeout((function(){t.onInitedCallback(t),t.onInitedCallbackExeced=!0}),10)}))},confirm:function(t,e){var n=this.currentPopup;n.$disabled||(n.lockWhenConfirm&&n.lock(),n.confirmBtn||(n.confirmBtn=e.confirmBtn),n.cancelBtn||(n.cancelBtn=e.cancelBtn),n.closeBtn||(n.closeBtn=e.closeBtn),n.onConfirmCallback?n.onConfirmCallback(n):n.removePopup())},cancel:function(t,e,n){var r=this.currentPopup;r.$disabled||(r.confirmBtn||(r.confirmBtn=e.confirmBtn),r.cancelBtn||(r.cancelBtn=e.cancelBtn),r.closeBtn||(r.closeBtn=e.closeBtn),r.onCancelCallback&&r.onCancelCallback(r,n),r.removePopup())},close:function(t){t.removePopup()}},provide:function(){var t=this,e={};return Object.defineProperty(e,"popup",{get:function(){return t.currentPopup}}),e},watch:{popups:function(t,e){var n=t.length-1;this.currentPopupIndex=n<0?0:n}}},x=(0,n(51900).Z)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade-out"}},[t.popups.length?n("div",{staticClass:"link-popup-ctnr dp-table w-100 h-100 p-fixed p-zero f-family",attrs:{role:"alertdialog"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.currentPopup.hideMask,expression:"!currentPopup.hideMask"}],staticClass:"body-merge w-100 h-100 p-absolute p-zero"}),n("div",{staticClass:"dp-table-cell v-middle"},t._l(t.popups,(function(e,r){return n("shell",{key:r,attrs:{show:!e.$out&&r===t.popups.length-1,width:e.width,"class-names":e.classNames,title:e.title,"title-center":e.titleCenter,button:e.button,disabled:e.$disabled,"on-confirm":t.confirm,"on-cancel":t.cancel,init:t.init(e)}},[e.$usingComponent?[n(e.component.name,{tag:"component"})]:["string"==typeof e.html?n("div",{staticClass:"popup-content-ctnr",attrs:{id:e.$id},domProps:{innerHTML:t._s(e.html)}}):n("div",{staticClass:"popup-content-ctnr",staticStyle:{"font-size":"13px"},attrs:{id:e.$id},domProps:{textContent:t._s(e.content)}})]],2)})),1)]):t._e()])}),[],!1,null,"55e99142",null).exports,C=!1,S={install:function(t,e){if(!C){t.prototype.linkPopup=function(t){return new v(t,d)};var n=document.createElement("div");document.body.appendChild(n),t.nextTick((function(){new t({template:'<div class="link-popup-ctnr"><link-popup></link-popup></div>',components:{LinkPopup:x}}).$mount(n)})),C=!0}}}},18706:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var r={props:{backgroundColor:{type:String,default:"#fff"},enterAnimeClass:{type:String,default:"a-progress-tv-fade-in"},leaveAnimeClass:{type:String,default:"a-progress-tv-fade-out"},animeTiming:{type:Number,default:.2},afterLeaved:{type:Function,default:function(){return function(){}}},text:{type:String,default:""},fontColor:{type:String,default:"#333"}}},i=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":t.enterAnimeClass,"leave-active-class":t.leaveAnimeClass},on:{"after-leave":t.afterLeaved}},[n("div",{staticClass:"link-progress-tv",style:{"background-color":t.backgroundColor,"animation-duration":t.animeTiming+"s",color:t.fontColor},attrs:{role:"progress"}},[n("div",{staticClass:"text",domProps:{textContent:t._s(t.text)}})])])}),[],!1,null,"e3f03160",null).exports},24273:function(t,e,n){"use strict";function r(t,e){var n=[];for(var r in e)n.push(r+"="+encodeURIComponent(e[r]||""));var i=t+n.join("&");return window.open(i,"","width=700, height=680, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no"),!1}n.d(e,{Z:function(){return r}})},45445:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(24273);function i(t){(0,r.Z)("http://connect.qq.com/widget/shareqq/index.html?",{url:t.url||"",desc:t.desc||"",title:t.title||"",summary:t.summary||"",pics:t.pic||"",flash:t.flash||"",site:"哔哩哔哩",style:"201",width:32,height:32})}},93415:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(24273);function i(t){(0,r.Z)("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?",{url:t.url||"",showcount:1,desc:t.desc||"",summary:t.summary||"",title:t.title||"",site:"哔哩哔哩",pics:t.pic||"",style:"203",width:98,height:22})}},67801:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(24273);function i(t){(0,r.Z)("http://service.weibo.com/share/share.php?",{url:t.url||"",type:"3",count:"1",appkey:"2841902482",title:t.title||"",pic:t.pic||"",searchPic:!!t.searchPic,relatedUid:"",language:"zh_cn",rnd:(new Date).valueOf()})}},89430:function(t,e,n){"use strict";n.r(e),n.d(e,{initUserInfo:function(){return S},getUserInfo:function(){return k},userInfo:function(){return x}});var r,i=n(86902),o=n.n(i),a=n(51942),s=n.n(a),c=n(93476),u=n.n(c),l=n(9669),f=n.n(l),d=n(87757),p=n.n(d),h=n(92137),v=n(5991),m=n(20629),g=n(70538),b="SET_USERINFO",y={state:{uid:0,isLogin:!1,achieve:0,billCoin:0,face:"",gold:0,silver:0,svip:0,uname:"",userCharged:0,userIntimacy:0,userLevel:0,userLevelRank:"",userNextIntimacy:0,userNextLevel:0,vip:0,isLevelTop:0,identification:0},mutations:((r={})[b]=function(t,e){o()(t).forEach((function(n){e&&void 0!==e[n]&&(t[n]=e[n])}))},r),getters:{getUserInfo:function(t){return s()({},t)}},actions:{setUserInfo:function(t,e){(0,t.commit)(b,e)}}},w=null;w=f().create({timeout:5e3,withCredentials:!0});var _,x,C=function(){function t(t){this.que=[],this.data=null,this.store=t}var e=t.prototype;return e.subscribe=function(t){this.que.push(t),this.getData&&t(this.getData)},e.unSubscribe=function(){this.que=[]},e.update=function(){return this.init()},e.init=function(){var t=(0,h.Z)(p().mark((function t(){var e;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData();case 2:return e=t.sent,this.store.dispatch("setUserInfo",e),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.fetchData=function(){return u().all([new(u())((function(t){w.get("//api.live.bilibili.com/xlive/web-ucenter/user/get_user_info").then((function(e){var n=e.data||{data:{}};0===n.code||"REPONSE_OK"===n.code?t({error:null,data:{uid:n.data.uid||0,isLogin:!!parseInt(n.data.uid||0)||!1,achieve:n.data.achieve||0,billCoin:n.data.billCoin||0,face:n.data.face||"",gold:n.data.gold||0,silver:n.data.silver||0,svip:n.data.svip||0,uname:n.data.uname||"",userCharged:n.data.user_charged||0,userIntimacy:n.data.user_intimacy||0,userLevel:n.data.user_level||0,userLevelRank:n.data.user_level_rank||"",userNextIntimacy:n.data.user_next_intimacy||0,userNextLevel:n.data.user_next_level||0,vip:n.data.vip||0,isLevelTop:n.data.is_level_top||0,identification:n.data.identification||0}}):t({error:null,data:{uid:0,isLogin:!1,achieve:0,billCoin:0,face:"",gold:0,silver:0,svip:0,uname:"",userCharged:0,userIntimacy:0,userLevel:0,userLevelRank:"",userNextIntimacy:0,userNextLevel:0,vip:0,isLevelTop:0,identification:0}})})).catch((function(e){t({error:e||"接口错误",data:{uid:0,isLogin:!1,achieve:0,billCoin:0,face:"",gold:0,silver:0,svip:0,uname:"",userCharged:0,userIntimacy:0,userLevel:0,userLevelRank:"",userNextIntimacy:0,userNextLevel:0,vip:0,isLevelTop:0,identification:0}})}))}))]).then((function(t){var e=t.shift();return e.error?console.error("request data fatal"):{uid:e.data.uid,isLogin:e.data.isLogin,achieve:e.data.achieve,billCoin:e.data.billCoin,face:e.data.face,gold:e.data.gold,silver:e.data.silver,svip:e.data.svip,uname:e.data.uname,userCharged:e.data.userCharged,userIntimacy:e.data.userIntimacy,userLevel:e.data.userLevel,userLevelRank:e.data.userLevelRank,userNextIntimacy:e.data.userNextIntimacy,userNextLevel:e.data.userNextLevel,vip:e.data.vip,isLevelTop:e.data.isLevelTop,identification:e.data.identification}}))},e.emitQue=function(){var t=this;this.que.forEach((function(e){e(t.getData)}))},(0,v.Z)(t,[{key:"getData",get:function(){return this.data}},{key:"setData",set:function(t){t&&(this.data=t,this.emitQue())}}]),t}();function S(){window["__USER-SERVICE-FETCHED__"]||(window["__USER-SERVICE-FETCHED__"]=!0,x.fetchData().then((function(t){_.dispatch("setUserInfo",t)})))}function k(){return S(),new(u())((function(t){x.subscribe((function(e){t(e)}))}))}g.default.use(m.default),_=window["__USER-SERVICE-STORE__"]?window["__USER-SERVICE-STORE__"]:window["__USER-SERVICE-STORE__"]=new m.default.Store({modules:{userInfo:y}}),x=window["__USER-SERVICE-USERINFO__"]?window["__USER-SERVICE-USERINFO__"]:window["__USER-SERVICE-USERINFO__"]=new C(_),_.subscribe((function(t,e){x.setData=e.userInfo}))},82159:function(t,e,n){"use strict";n.r(e),n.d(e,{addClass:function(){return C},hasClass:function(){return x},removeClass:function(){return S},analytics:function(){return k},cookie:function(){return I},dataReport:function(){return T},domArray:function(){return O},isSupportWebp:function(){return A},loginStatus:function(){return j},loginStatusByCookie:function(){return R},pausePlayer:function(){return U},quickLogin:function(){return D},SeqAnimation:function(){return M},Redirector:function(){return F}});var r=n(25843),i=n.n(r),o=n(56474),a=n.n(o),s=n(3649),c=n.n(s),u=n(51942),l=n.n(u),f=n(93476),d=n.n(f),p=n(47302),h=n.n(p),v=n(20116),m=n.n(v),g=n(86902),b=n.n(g),y=n(43427),w=n.n(y),_=n(89430);function x(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)}function C(t,e){return!(!e||x(t,e))&&(t.className+=(t.className.length>0?" ":"")+e,!0)}function S(t,e){if(e&&x(t,e)){var n,r=new RegExp("((\\s|^)"+e+")|("+e+"(\\s|$))|("+e+")");return t.className=i()(n=t.className.replace(r,"")).call(n),!0}return!1}function k(t){t=t||1;w()("//data.bilibili.com/rec.js").then((function(){window.rec_rp=window.rec_rp||function(){(rec_rp.q=rec_rp.q||[["ptype",t]]).push(arguments)}})).then((function(){!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?8a6e55dbd2870f0f5bc9194cddf32a02";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}))}function E(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}var I=a()({getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,i,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(t,e,n){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:E,keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}});function T(t){(new Image).src=t}function O(t){return c()(Array.prototype).call(t)}var A=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var L="unknown";function j(t){return void 0===t&&(t=!1),L}_.userInfo.subscribe((function(t){L=t.isLogin?"loggedIn":"notLogin"}));var R=function(){return E("DedeUserID")&&!E("LIVE_LOGIN_DATA")?"First Login":E("DedeUserID")&&E("LIVE_LOGIN_DATA")};function D(t){void 0===t&&(t={});(t=l()({},{force:!1},t)).force?N():"unknown"===j(!0)?((0,_.initUserInfo)(),_.userInfo.subscribe((function(t){P()}))):P()}function P(){"notLogin"===j(!0)&&N()}function N(){throw setTimeout((function(){window.biliQuickLogin?B():w()("https://static.hdslb.com/account/bili_quick_login.js").then(B,B)}),1),new Error("[@blink-common/utils] 您没登陆，想干撒子？~~ -_-")}function B(){if(!window.biliQuickLogin)throw new Error("[@blink-common/utils] 快速登录脚本未正确载入.");window.biliQuickLogin((function(){window.postMessage("quickLogin:reloadRequest","*"),window.location.reload()}))}var M=function(){function t(t,e,n){"[object Array]"===Object.prototype.toString.call(t)?this.elements=t:this.elements=function(t){var e,n,r=h()(e=m()(n=b()(t)).call(n,(function(t){return t.indexOf("seqIn")>-1}))).call(e),i=[];return r.forEach((function(e){return i.push(t[e])})),i}(t),this.seqTiming=0,this.seqInTimeouts=[],this.displayMode=e,this.deltaTiming=n||80}var e=t.prototype;return e.seqIn=function(){var t=this;return new(d())((function(e){t.reset(),t.seqInTimeouts.forEach((function(t){return clearTimeout(t)})),t.elements.forEach((function(e,n){t.seqInTimeouts[n]=setTimeout((function(){e.style.display=t.displayMode}),t.seqTiming),t.seqTiming+=t.deltaTiming})),setTimeout(e,t.deltaTiming*t.elements.length)}))},e.reset=function(){this.elements.forEach((function(t){t.style.display="none"})),this.seqTiming=0},t}();var U=a()({liveIndex:function(){try{window.LivePlayer.pause_video()}catch(t){}}}),F=function(t){var e=window.location.search;if(!e.match(/disableAutoJump=1/i)){var n=window.location.pathname.replace(/\.htm.*/i,""),r=n.match(/-h5/i),i=navigator.userAgent,o=null!==i.match(/iPad/i)||null!==i.match(/iPhone/i)||null!==i.match(/iPod/i)||null!==i.match(/MicroMessenger/i)||null!==i.match(/Windows Phone/i)||null!==i.match(/Android/i);o&&!r&&(window.location.href=t||window.location.origin+n+"-h5"+e),!o&&r&&(window.location.href=t||window.location.origin+n.replace(/-h5/i,"")+e)}}},55716:function(t,e,n){"use strict";n.r(e),n.d(e,{bfsImgLink:function(){return d},getStrByteLength:function(){return p},greeting:function(){return y},numberFormat:function(){return x},randomEmoji:function(){return v},randomString:function(){return I},toNumber:function(){return T},EventTracker:function(){return L}});var r=n(51942),i=n.n(r),o=n(2991),a=n.n(o),s=n(56474),c=n.n(s),u=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var l=/\.(png|jpg)$/,f=/bfs/;function d(t,e,n,r){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r={}),!l.test(t)||!f.test(t))return t;var i=r.useWebp,o=r.scale;return t&&"string"==typeof t&&/\.(jpg|gif|png)/.test(t)?(/\.(jpg|gif|png)@.+/.test(t)&&(t=t.replace(/@\d+\w+$/,"")),t+("number"==typeof e?"@"+e+"w":"")+("number"==typeof n?("number"==typeof e?"_":"@")+n+"h":"")+("string"==typeof o?"_"+o:"")+(u||i?".webp":"")):t}function p(t){return"string"!=typeof t?0:t.replace(/[\u4e00-\u9fa5]/g,"aa").length}var h={angry:[",,Ծ‸Ծ,,","(╯‵□′)╯︵┻━┻"],happy:["=‿=✧","●ω●","(/ ▽ \\)","(=・ω・=)","(●'◡'●)ﾉ♥","<(▰˘◡˘▰)>","(⁄ ⁄•⁄ω⁄•⁄ ⁄)","(ง,,• ᴗ •,,)ง ✧",">ㅂ<ﾉ ☆"],shock:["Σ( ° △ °|||)︴","┌( ಠ_ಠ)┘","(ﾟДﾟ≡ﾟдﾟ)!?","∑(っ °Д °;)っ"],sad:["＞︿＜","＞△＜","●︿●","(´；ω；`)"],helpless:["◐▽◑","ʅ（´◔౪◔）ʃ","_(:3 」∠)_","_(┐「ε:)_","(°▽°)ﾉ","←◡←","_(•̀ᴗ•́ 」∠ ❀)_","_φ(･ω･` )"]},v={};for(var m in h)!function(t){v[t]=function(){return g(t)}}(m);function g(t){return h[t][Math.floor(Math.random()*h[t].length)]}var b=(new Date).getFullYear();function y(t,e,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="450"),console.log("Bilibili "+t+" By © 2014 - "+b+" Bilibili Live Department... "+v.happy()),console.log("# Carry Your World #"),console.log("Version: "+e+", CodeName: "+n)}var w=[{unit:"亿",val:1e8},{unit:"万",val:1e4}],_={fixing:1,unit:"万",base:null},x={autoParse:C,tenThousand:C,oneHundred:function(t){return E(t)?t<1e5?""+t:k(w,t):t},create:S};function C(t){return E(t)?k(w,t):t}function S(t,e){return void 0===t&&(t=1e4),function(n){var r=parseInt(n,10);if(t=parseInt(t,10),isNaN(r)||isNaN(t))return"undefined"!=typeof console&&console.warn("[NumberFormat] 创建格式化函数时 threshold 与 传入数字必须为数字类型."),""+n;var o=i()({},_,e);return r<t?""+r:(r/(o.base||t)).toFixed(o.fixing)+" "+o.unit}}function k(t,e){return Array.isArray(t)?(t.some((function(t){if(e>=t.val)return n=S(t.val,{fixing:1,unit:t.unit})(e),!0})),n||""+e):console.warn("[NumberFormat] 无法获取格式化列表.");var n}function E(t){return"number"==typeof t}function I(){return(Date.now()*Math.ceil(1e5*Math.random())).toString(16)}var T=function(t,e){if(void 0===e&&(e=10),10===e)return parseInt(t,10);t=parseInt(t,10).toString(e);return parseInt(t,10)},O=i()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},A=function(){function t(t){this.config=t,this.uid=this.getCookie("DedeUserID")||"0",this.buvid=this.getCookie("buvid3"),this.ua=navigator.userAgent}return t.prototype.track=function(t){this.url=window.location.href,this.options=t;var e=(new Date).getTime(),n=O({},this.config,this.options,{ctime:e,url:this.url,uid:this.uid,buvid:this.buvid,ua:this.ua}),r=n.taskid+e+this.serializeData(n);this.reportData(r)},t.prototype.getCookie=function(t){return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||""},t.prototype.serializeData=function(e){var n;return a()(n=t.logList).call(n,(function(t){return encodeURIComponent(e[t]||"")})).join("|")},t.prototype.reportData=function(t){var e="//data.bilibili.com/log/web?"+t,n=new XMLHttpRequest;n.open("GET",e,!0),n.send(null)},t.logList=["event_id","url","goto","item_type","item_name","item_id","uid","buvid","ua","platform","biz","ctime"],t}();var L=c()({createTracker:function(t){return new A(t)},track:function(t,e){new A(t).track(e)}})},18980:function(t,e,n){"use strict";n.r(e);var r=n(26849),i=n(93476),o=n.n(i),a=n(51942),s=n.n(a),c=n(2991),u=n.n(c),l=n(86902),f=n.n(l),d=function(){function t(){this.logScriptUrl="//s1.hdslb.com/bfs/seed/blive/blfe-link-shortassets/dist/component.statistics/log-reporter.js",this.injectData={},this.injectFnDataIndex=0,this.injectFnData=[],this.reportData={},this.installed=!1}var e=t.prototype;return e.init=function(t){var e=this;return new(o())((function(n,r){if(window.__statisObserverConfig=t,void 0===window.__statisObserver){var i=document.createElement("script");i.src=e.logScriptUrl,document.getElementsByTagName("body")[0].appendChild(i),i.onload=function(){n()},i.onerror=function(){r(new Error("Could not load URL at "+e.logScriptUrl))}}else r(new Error("数据上报请勿重复初始化!"))}))},e.inject=function(t){if("function"==typeof t)return this.injectFnData[this.injectFnDataIndex]=t,this.injectFnDataIndex++,!1;this.injectData=t},e.report=function(t,e,n){var r=this;if(!t)return console.error("[Analytics] eventName should not be empty"),!1;var i,o=s()(s()({},this.reportData),e);n?o=s()(s()({},o),n):u()(i=f()(this.injectFnData)).call(i,(function(t){o=s()(s()(s()({},o),r.injectData),r.injectFnData[t]())}));return window.defaultMsgObj&&(window.defaultMsgObj[t]=o),window.__statisObserver&&window.__statisObserver.forceCommit(),o},e.install=function(e){this.installed||(e.directive("click-report",{bind:function(e,n){e.addEventListener("click",(function(e){t.Instance.report(n.value.eventName,n.value.customData)}))}}),this.installed=!0)},(0,r.Z)(t,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),t}().Instance;e.default=d},57344:function(t,e,n){"use strict";n.r(e),n.d(e,{cellphoneBinding:function(){return v},failure:function(){return y},roomExpired:function(){return m},timingHint:function(){return g},trailClosed:function(){return b}});var r=n(70586),i=n(51942),o=n.n(i),a=n(2991),s=n.n(a);n(56474),function(){try{var t=document.createElement("canvas");!(!t.getContext||!t.getContext("2d"))&&t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var c={angry:[",,Ծ‸Ծ,,","(╯‵□′)╯︵┻━┻"],happy:["=‿=✧","●ω●","(/ ▽ \\)","(=・ω・=)","(●'◡'●)ﾉ♥","<(▰˘◡˘▰)>","(⁄ ⁄•⁄ω⁄•⁄ ⁄)","(ง,,• ᴗ •,,)ง ✧",">ㅂ<ﾉ ☆"],shock:["Σ( ° △ °|||)︴","┌( ಠ_ಠ)┘","(ﾟДﾟ≡ﾟдﾟ)!?","∑(っ °Д °;)っ"],sad:["＞︿＜","＞△＜","●︿●","(´；ω；`)"],helpless:["◐▽◑","ʅ（´◔౪◔）ʃ","_(:3 」∠)_","_(┐「ε:)_","(°▽°)ﾉ","←◡←","_(•̀ᴗ•́ 」∠ ❀)_","_φ(･ω･` )"]},u={};for(var l in c)!function(t){u[t]=function(){return f(t)}}(l);function f(t){return c[t][Math.floor(Math.random()*c[t].length)]}(new Date).getFullYear();var d=o()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};!function(){function t(t){this.config=t,this.uid=this.getCookie("DedeUserID")||"0",this.buvid=this.getCookie("buvid3"),this.ua=navigator.userAgent}t.prototype.track=function(t){this.url=window.location.href,this.options=t;var e=(new Date).getTime(),n=d({},this.config,this.options,{ctime:e,url:this.url,uid:this.uid,buvid:this.buvid,ua:this.ua}),r=n.taskid+e+this.serializeData(n);this.reportData(r)},t.prototype.getCookie=function(t){return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||""},t.prototype.serializeData=function(e){var n;return s()(n=t.logList).call(n,(function(t){return encodeURIComponent(e[t]||"")})).join("|")},t.prototype.reportData=function(t){var e="//data.bilibili.com/log/web?"+t,n=new XMLHttpRequest;n.open("GET",e,!0),n.send(null)},t.logList=["event_id","url","goto","item_type","item_name","item_id","uid","buvid","ua","platform","biz","ctime"]}();var p=n(70538);p.default.use(r.default);var h=new p.default;function v(t){void 0===t&&(t="继续操作"),h.linkPopup({title:"手机绑定提示",html:'<div class="live-cert-popup cellphone-providing"><div class="hint-img" role="image"></div><p class="t-center">您需要先绑定手机后才可以'+t+"喔！"+u.happy()+"</p></div>",width:370,button:{confirm:"去绑定！",cancel:"取消"}}).onConfirm((function(){(window.top||window).open("http://passport.bilibili.com/account/security#/bindphone")}))}function m(){h.linkPopup({title:"您需要进行实名认证",html:'<div class="live-cert-popup room-expired"><div class="hint-img" role="image"></div><p class="t-center">试用期已过，直播间被冻结，请完成实名认证后再次点击开播。</p><p class="t-center">当您完成实名认证之后就可以再度开播啦！'+u.happy()+"</p></div>",width:370,button:{confirm:"去认证！",cancel:"取消"}}).onConfirm((function(){(window.top||window).location.href="https://account.bilibili.com/site/identification"}))}function g(t){void 0===t&&(t="--"),h.linkPopup({title:"您的试用到期时间……",html:'<div class="live-cert-popup timing-hint"><div class="hint-img" role="image"></div><p class="t-center">您的直播间将在 '+t+" 时结束试用直播功能，还请留意 "+u.happy()+'</p><p class="t-center">当您完成实名认证之后就可以无限制直播啦！'+u.happy()+"</p></div>",width:500,button:{confirm:"去认证！",cancel:"先用着啦~"}}).onConfirm((function(t){window.open("https://account.bilibili.com/site/identification"),t.close()}))}function b(){h.linkPopup({title:"您需要进行实名认证",content:"直播试用功能已关闭，完成实名认证后就可以继续开播啦~ "+u.happy(),width:405,button:{confirm:"去认证！",cancel:"取消"}}).onConfirm((function(t){window.open("https://account.bilibili.com/site/identification"),t.close()}))}function y(t){void 0===t&&(t="Undefined."),h.linkPopup({title:"进入直播间失败",html:'<p>非常抱歉，进入直播间出现错误，还请您稍后再试 > <</p><p>出现此问题可能是您的网络情况不稳定，或是<del style="color: #ccc">土豆</del>服务器暂时宕机，可稍后尝试。如果频繁出现此提示，请等待一段时间或联系客服，在此对您造成的不便我们表示真诚的歉意... (´；ω；`)</p><p></p><p>错误原因：'+t+"</p>",width:500,button:{confirm:"(╯°口°)╯(┴—┴",cancel:!1}})}},86524:function(t,e,n){var r,i=n(65420),o=n(94727),a=n(34074),s=n(93476),c=n(98341),u=n(77766),l=n(51942),f=n(2991),d=n(3649),p=n(86902),h=n(20116),v=n(92762);r=function(t,e,n,r,m,g,b,y,w,_,x,C,S,k,E,I,T,O,A,L,j){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){void 0!==i&&o&&Object.defineProperty(t,o,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=n(1);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(4),o=(n(197),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"66b22dae",null);a.options.__file="src/navbar.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(3);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-navbar-wrap",attrs:{"data-delay-mounted":t.delayMounted?1:0,"data-rendered":t.rendered?1:0}},[n("link-navbar",{directives:[{name:"show",rawName:"v-show",value:t.rendered,expression:"rendered"}],attrs:{"base-user-info":t.baseUserInfo,"nav-items":t.navItems,"nav-skin":t.navSkin,"show-guild":t.showGuild,"guild-url":t.guildUrl}})],1)},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(5);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,o=n(6),u=(n(7),n(8)),l=n.n(u),f=(n(9),n(10),n(11),n(12),n(13),n(15)),d=n(44),p=n(194),h=n(51),v=n(195),m=n(46),g=n(20),b=n(196),y=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_=function(t,e,n,r){return new(n||(n=s))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},x=function(t,e){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof i&&(a[c]=function(){return this}),a;function u(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},C=Object(b.getDefaultProps)();o.Vue.use(l()()),v.isWindow&&Object(p.initReport)();var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseUserInfo={uid:0,uname:"",face:""},e.navItems=[],e.navSkin=d.skin,e.rendered=!1,e}return y(e,t),e.prototype.watchUserStatusInfo=function(t){this.baseUserInfo=t},e.prototype.created=function(){this.delayMounted||(this.rendered=!0),this.navItems=this.areaListInfo&&this.areaListInfo.length?Object(h.filterAreaList)(this.areaListInfo):h.navConfig,this.navSkin=this.skinBannerInfo?Object(m.filterSkin)(this.skinBannerInfo):d.skin},e.prototype.mounted=function(){return _(this,void 0,void 0,(function(){var t,e,n=this;return x(this,(function(r){return this.userStatusInfo?this.baseUserInfo=this.userStatusInfo:Object(g.asyncGetUserLoginStatus)().then((function(t){n.baseUserInfo={uid:t.uid,uname:t.uname,face:t.face}})),t=Object(d.initAreaList)(this.areaListInfo,this.forceUpdateFromClient),e=Object(d.initSkin)(this.skinConfig,this.skinBannerInfo),s.all([t,e]).then((function(t){var e=t[0],r=t[1];n.delayMounted&&(n.rendered=!0),n.navItems=e,n.navSkin=r})),[2]}))}))},w([Object(o.Prop)({default:C.userStatusInfo})],e.prototype,"userStatusInfo",void 0),w([Object(o.Prop)({default:C.skinConfig})],e.prototype,"skinConfig",void 0),w([Object(o.Prop)({default:C.skinBannerInfo})],e.prototype,"skinBannerInfo",void 0),w([Object(o.Prop)({default:C.delayMounted})],e.prototype,"delayMounted",void 0),w([Object(o.Prop)({default:C.guildUrl})],e.prototype,"guildUrl",void 0),w([Object(o.Prop)({default:C.showGuild})],e.prototype,"showGuild",void 0),w([Object(o.Prop)({default:C.areaListInfo})],e.prototype,"areaListInfo",void 0),w([Object(o.Prop)({default:C.forceUpdateFromClient})],e.prototype,"forceUpdateFromClient",void 0),w([Object(o.Watch)("userStatusInfo")],e.prototype,"watchUserStatusInfo",null),e=w([Object(o.Component)({components:{LinkNavbar:f.default}})],e)}(o.Vue);e.default=S},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e){t.exports=r},function(t,e){t.exports=m},function(t,e){t.exports=g},function(t,e){t.exports=b},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(16),i=n(18);n.d(e,"INavbarResponsiveLayouts",(function(){return i.INavbarResponsiveLayouts})),n(191);var o=n(38),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"699834c3",null);a.options.__file="src/layouts/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(17);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"link-navbar p-relative",style:t.navbarStyle},[n("div",{staticClass:"main-ctnr h-100 m-auto f-clear",attrs:{id:"main-ctnr"}},[n("vertical-middle",{staticClass:"left-part f-left",attrs:{id:"left-part"}},[n("a",{attrs:{href:t.logoLink,target:"_blank"},on:{click:t.report2jump}},[n("div",{staticClass:"nav-logo dp-i-block v-middle bg-center",style:t.navItemStyle,attrs:{role:"img"}},[n("span",[t._v("主站")])])]),n("button",{staticClass:"nav-switcher open-btn",class:t.responsiveLayout.openBtnCls,attrs:{title:"打开分区导航 _(:3」∠)_"},on:{click:t.openSwitch}}),n("div",{staticClass:"nav-items-ctnr dp-i-block v-middle",class:t.responsiveLayout.navItemsCtnrCls},[n("vertical-middle",[n("div",{staticClass:"nav-logo dp-none v-middle bg-center",attrs:{role:"img"}}),n("button",{staticClass:"nav-switcher close-btn",attrs:{title:"关闭分区导航 (:３っ)∋"},on:{click:t.closeSwitch}},[n("i",{staticClass:"icon-font icon-close"})]),t._l(t.navItems,(function(e){return n("nav-item",{key:e.text,class:e.name,attrs:{"nav-skin":t.navSkin,name:e.name,href:e.href,label:e.label,target:t.newWindowLink||"live"!==e.name?e.target:"_self","show-arrow":e.showArrow,"mouse-enter":e.mouseEnter?e.mouseEnter:0,"mouse-leave":e.mouseLeave?e.mouseLeave:0}},[t.showClientPart&&e.slotName?n(e.slotName,{tag:"component",attrs:{"v-once":!1,"prop-data":e.propData,target:t.newWindowLink||"live"!==e.name?e.target:"_self"}}):t._e()],1)}))],2)],1)]),t.customLink&&t.customLink.title&&t.responsiveLayout.customLink?n("div",{staticClass:"custom-link f-left",attrs:{id:"custom-link"}},[n("a",{style:{color:t.customLink.color},attrs:{href:t.customLink.url,target:"_blank"}},[t._v(t._s(t.customLink.title))])]):t._e(),n("div",{staticClass:"right-part h-100 f-right f-clear",attrs:{id:"right-part"}},[n("search-bar",{staticClass:"f-left",attrs:{"nav-skin":t.navSkin,minimal:t.responsiveLayout.minimal}}),t.loggedIn?n("user-doms",{staticClass:"f-left",attrs:{"base-user-info":t.baseUserInfo}}):n("guest-doms",{staticClass:"f-left",attrs:{"nav-skin":t.navSkin}}),n("shortcuts",{staticClass:"f-left",attrs:{"nav-skin":t.navSkin,"show-guild":t.showGuild,"guild-url":t.guildUrl}})],1)],1)])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(19);n.d(e,"INavbarResponsiveLayouts",(function(){return r.INavbarResponsiveLayouts})),e.default=r.default},function(t,e,n){"use strict";n.r(e),n.d(e,"INavbarResponsiveLayouts",(function(){return i}));var r,i,o=n(6),s=n(20),c=n(28),u=n(39),l=n(63),f=n(71),d=n(110),p=n(57),h=n(183),v=n(33),m=n(34),g=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.md=992]="md",t[t.lg=1200]="lg",t[t.xl=1420]="xl"}(i||(i={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showClientPart=!1,e.switcher=!1,e.loggedIn=!1,e.clientWidth="undefined"==typeof window?i.xl:document.documentElement.clientWidth,e}return g(e,t),Object.defineProperty(e.prototype,"customLink",{get:function(){return{title:this.navSkin.customTitle,color:this.navSkin.customTitleColor,url:this.navSkin.customTitleLink}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"navbarStyle",{get:function(){return Object(m.filterStyle)({backgroundColor:this.navSkin.backgroundColor,backgroundImage:this.navSkin.backgroundLeft&&this.navSkin.backgroundRight?"url('"+this.navSkin.backgroundLeft+"'), url('"+this.navSkin.backgroundRight+"')":"inherit",backgroundPosition:"left 1px, right 1px",backgroundRepeat:"no-repeat, no-repeat"})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"navItemStyle",{get:function(){return Object(m.filterStyle)({color:this.navSkin.itemTextColor})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responsiveLayout",{get:function(){if("undefined"==typeof window)return{};var t=!1;return t=!(this.clientWidth<=i.md)&&(this.clientWidth<=i.lg||(this.clientWidth>i.xl?!!this.customLink.title:this.showGuild||!!this.customLink.title)),this.navItems.length>=11&&(t=!(!this.showGuild&&!this.customLink.title)||this.clientWidth<=i.xl),{navItemsCtnrCls:{hide:this.clientWidth<=i.md,show:this.clientWidth>i.md},openBtnCls:{show:this.clientWidth<=i.md,hide:this.clientWidth>i.md},customLink:(this.clientWidth<=i.md||this.clientWidth>i.lg)&&this.customLink.title.length<=6,minimal:t}},enumerable:!1,configurable:!0}),e.prototype.openSwitch=function(){this.switcher=!0,this.removeClass("nav-items-ctnr","hide"),this.addClass("nav-items-ctnr","over-width"),this.addClass("close-btn","show")},e.prototype.closeSwitch=function(){this.switcher=!1,this.removeClass("nav-items-ctnr","over-width"),this.removeClass("close-btn","show"),this.addClass("nav-items-ctnr","hide")},e.prototype.report2jump=function(){Object(v.reporter)("444.7.selfDef.topnavi_homeclick","")},e.prototype.addClass=function(t,e){document.getElementsByClassName(t).length&&document.getElementsByClassName(t)[0].classList.add(e)},e.prototype.removeClass=function(t,e){document.getElementsByClassName(t).length&&document.getElementsByClassName(t)[0].classList.remove(e)},e.prototype.getWindowInfo=function(){var t=this;setTimeout((function(){setTimeout((function(){t.resizeHandler()}),50)}),50)},e.prototype.resizeHandler=function(){this.clientWidth=document.documentElement.clientWidth,this.clientWidth>i.md&&this.switcher&&this.closeSwitch()},e.prototype.mounted=function(){var t,e,n,r;this.resizeHandler(),window.addEventListener("resize",(t=this.resizeHandler,e=1e3/60,n=null,r=Date.now(),function(){var i=Date.now(),o=e-(i-r),a=this,s=arguments;clearTimeout(n),o<=0?(t.apply(a,s),r=Date.now()):n=setTimeout(t,o)})),this.loggedIn=Object(s.loginStatus)(),this.showClientPart=!0},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.resizeHandler)},b([Object(o.Prop)()],e.prototype,"guildUrl",void 0),b([Object(o.Prop)({default:!1})],e.prototype,"showGuild",void 0),b([Object(o.Prop)({default:"//www.bilibili.com"})],e.prototype,"logoLink",void 0),b([Object(o.Prop)()],e.prototype,"navItems",void 0),b([Object(o.Prop)({default:{}})],e.prototype,"navSkin",void 0),b([Object(o.Prop)({default:!0})],e.prototype,"newWindowLink",void 0),b([Object(o.Prop)()],e.prototype,"baseUserInfo",void 0),e=b([Object(o.Component)({components:{NavItem:c.default,AreaList:h.default,GuestDoms:l.default,SearchBar:u.default,Shortcuts:d.default,UserDoms:f.default,VerticalMiddle:p.default}})],e)}(o.Vue);e.default=y},function(t,e,n){"use strict";n.r(e),n.d(e,"cookie",(function(){return r})),n.d(e,"SeqAnimation",(function(){return i})),n.d(e,"quickLogin",(function(){return o})),n.d(e,"loginStatus",(function(){return a})),n.d(e,"Lens",(function(){return s})),n.d(e,"addClass",(function(){return c})),n.d(e,"removeClass",(function(){return u})),n.d(e,"myBrowser",(function(){return l})),n.d(e,"asyncGetUserLoginStatus",(function(){return f})),n.d(e,"liveCertPopup",(function(){return d})),n.d(e,"liveCertIframe",(function(){return p})),n.d(e,"userInfo",(function(){return h})),n.d(e,"webCurrency",(function(){return v})),n.d(e,"formatNumWithUnit",(function(){return m}));var r=null,i=null,o=null,a=null,s=null,c=null,u=null,l="unknown",f=null,d=null,p=null,h=null,v=null,m=null;try{var g=n(21);r=g.cookie,i=g.SeqAnimation,o=g.quickLogin,a=g.loginStatusByCookie,c=g.addClass,u=g.removeClass}catch(t){}try{s=n(22)}catch(t){}try{var b=n(23);l=b()}catch(t){}try{var y=n(24);f=y.asyncGetUserLoginStatus}catch(t){}try{d=n(25),p=n(7)}catch(t){}try{var w=n(26);h=w.userInfo}catch(t){}try{var _=n(27);v=_.webCurrency,m=_.formatNumWithUnit}catch(t){}},function(t,e){if(void 0===y){var n=new Error("Cannot find module '@blink-common/utils/browser-only'");throw n.code="MODULE_NOT_FOUND",n}t.exports=y},function(t,e){if(void 0===w){var n=new Error("Cannot find module 'lens.js'");throw n.code="MODULE_NOT_FOUND",n}t.exports=w},function(t,e){if(void 0===_){var n=new Error("Cannot find module '@bilibili-live/my-browser-is'");throw n.code="MODULE_NOT_FOUND",n}t.exports=_},function(t,e){if(void 0===x){var n=new Error("Cannot find module '@bilibili-live/user-login-status'");throw n.code="MODULE_NOT_FOUND",n}t.exports=x},function(t,e){if(void 0===C){var n=new Error("Cannot find module '@blink-live/component.live-cert-popup'");throw n.code="MODULE_NOT_FOUND",n}t.exports=C},function(t,e){if(void 0===S){var n=new Error("Cannot find module '@blink-common/user-service'");throw n.code="MODULE_NOT_FOUND",n}t.exports=S},function(t,e){if(void 0===k){var n=new Error("Cannot find module '@bilibili-live/currency'");throw n.code="MODULE_NOT_FOUND",n}t.exports=k},function(t,e,n){"use strict";n.r(e);var r=n(29),i=n(31),o=(n(35),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"1f0c2a5f",null);a.options.__file="src/layouts/Nav-Item/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(30);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:t.href,target:"_blank"},on:{click:function(e){return t.report2jump(t.label)}}},[n("div",{staticClass:"nav-item dp-i-block p-relative t-center pointer border-box",class:{selected:t.selected},style:t.navItemStyle,on:{mouseenter:function(e){return e.stopPropagation(),t.active.apply(null,arguments)},mouseleave:function(e){return e.stopPropagation(),t.deactive.apply(null,arguments)}}},[n("span",{staticClass:"label",domProps:{textContent:t._s(t.label)}}),t.showArrow||t.forceShowArrow?n("i",{staticClass:"icon-font icon-arrow-down dp-i-block v-middle ts-dot-4"}):t._e(),n("div",{staticClass:"slot-ctnr p-relative"},[t._t("default")],2)])])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(32);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(33),o=n(6),s=n(34),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrowUp=!1,e.isItemHover=!1,e}return c(e,t),Object.defineProperty(e.prototype,"navItemStyle",{get:function(){return Object(s.filterStyle)({color:this.isItemHover?this.navSkin.itemTextHoverColor:this.navSkin.itemTextColor,backgroundColor:this.isItemHover?this.navSkin.itemHoverBackgroundColor:"inherit"})},enumerable:!1,configurable:!0}),e.prototype.active=function(){this.isItemHover=!0,this.mouseEnter&&this.mouseEnter(),this.mouseEnter&&this.reportHoverShow()},e.prototype.deactive=function(){this.isItemHover=!1,this.mouseLeave&&this.mouseLeave()},e.prototype.reportHoverShow=function(){Object(i.reporter)("444.7.selfDef.topnavi_areahover",{area_id:this.target.replace("_","")})},e.prototype.report2jump=function(t){"直播"===t?Object(i.reporter)("444.7.selfDef.topnavi_liveclick"):"全部"===t?Object(i.reporter)("444.7.selfDef.topnavi_allclick"):Object(i.reporter)("444.7.selfDef.topnavi_areaclick",{area_id:this.target.replace("_","")})},u([Object(o.Prop)({default:{}})],e.prototype,"navSkin",void 0),u([Object(o.Prop)({default:""})],e.prototype,"href",void 0),u([Object(o.Prop)({default:"_blank"})],e.prototype,"target",void 0),u([Object(o.Prop)({default:"--"})],e.prototype,"label",void 0),u([Object(o.Prop)({default:!1})],e.prototype,"showArrow",void 0),u([Object(o.Prop)({default:!1})],e.prototype,"forceShowArrow",void 0),u([Object(o.Prop)({default:0})],e.prototype,"mouseEnter",void 0),u([Object(o.Prop)({default:0})],e.prototype,"mouseLeave",void 0),u([Object(o.Prop)({default:!1})],e.prototype,"selected",void 0),e=u([Object(o.Component)({})],e)}(o.Vue);e.default=l},function(t,e,n){"use strict";function r(t,e){try{window.__statisObserver&&window.__statisObserver.sendClickEvent({spm_id:t,msg:e})}catch(t){window.console&&console.warn("[Warn] 外部统计脚本加载失败: ",t)}}n.r(e),n.d(e,"reporter",(function(){return r}))},function(t,e,n){"use strict";function r(t){var e={};for(var n in t)void 0!==t[n]&&null!==t[n]&&""!==t[n]&&(e[n]=t[n]);return e}n.r(e),n.d(e,"filterStyle",(function(){return r}))},function(t,e,n){"use strict";n.r(e);var r=n(36),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var f=l.render;l.render=function(t,e){return c.call(e),f(t,e)}}else{var d,p=l.beforeCreate;l.beforeCreate=p?u(d=[]).call(d,p,c):[c]}return{exports:t,options:l}}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e,n){"use strict";n.r(e);var r=n(40),i=n(42),o=(n(60),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"efd5efe0",null);a.options.__file="src/layouts/Search-Bar/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(41);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-bar-ctnr dp-table h-100"},[n("vertical-middle",{staticClass:"minimal-cell",class:{show:t.minimal,hide:!t.minimal}},[n("a",{staticClass:"minimal-icon v-middle pointer",style:{color:t.skin&&t.skin.searchIconColor},attrs:{"aria-label":"搜索",title:"_(:3 」∠)_",role:"search",href:"//search.bilibili.com/live",target:"_blank"}},[n("i",{staticClass:"icon-font icon-search v-middle"})])]),n("form",{ref:"form",staticClass:"nomarl-cell dp-table-cell v-middle",class:{show:!t.minimal,hide:t.minimal},attrs:{action:"//search.bilibili.com/live",name:"search-form",target:"_blank"},on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[n("div",{staticClass:"p-relative search-bar over-hidden border-box t-nowrap in-foucs",style:t.searchStyle},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.keyword,expression:"!keyword"}],staticClass:"p-absolute placeholder",style:{color:t.skin&&t.skin.searchPlaceholderColor}},[t._v(t._s(t.placeholder))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],ref:"searchInput",staticClass:"v-middle",class:{"ie-fix":t.myBrowser.indexOf("IE")>-1},style:{color:t.skin&&t.skin.textColor},attrs:{type:"text",name:"keyword","aria-label":"请输入播主或关键字进行搜索",title:t.placeholder,maxlength:"50"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),n("button",{staticClass:"search-btn v-middle pointer",style:{color:t.skin&&t.skin.searchIconColor},attrs:{type:"submit","aria-label":"搜索",title:"_(:3 」∠)_",role:"search"}},[n("i",{staticClass:"icon-font icon-search v-middle"})])])])],1)},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(43);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(44),o=n(56),s=n(33),c=n(57),u=n(6),l=n(34),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keyword="",e.placeholder="今天你想了解什么呢？(☆▽☆)",e.myBrowser=i.myBrowser,e}return f(e,t),Object.defineProperty(e.prototype,"searchStyle",{get:function(){return Object(l.filterStyle)({backgroundColor:this.navSkin.searchBackgroundColor,border:"1px solid "+this.navSkin.searchBorderColor})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skin",{get:function(){return Object(l.filterStyle)({textColor:this.navSkin.searchTextActiveColor,searchIconColor:this.navSkin.searchIconColor,searchPlaceholderColor:this.navSkin.searchTextColor})},enumerable:!1,configurable:!0}),e.prototype.search=function(){return Object(s.reporter)("444.7.selfDef.topnavi_searchclick"),this.keyword.length?this.keyword.replace(/[^\x00-\xff]/g,"aa").length>50?this.linkMsg(this.$refs.searchInput,"汉字不能超过 25 个字喔 "+o.randomEmoji.helpless()):void this.$refs.form.submit():this.linkMsg(this.$refs.searchInput,"写点什么再搜索啊喂~ (`へ´) `)")},d([Object(u.Prop)({default:{}})],e.prototype,"navSkin",void 0),d([Object(u.Prop)()],e.prototype,"minimal",void 0),e=d([Object(u.Component)({components:{VerticalMiddle:c.default}})],e)}(u.Vue);e.default=p},function(t,e,n){"use strict";n.r(e),n.d(e,"ILiveHimeType",(function(){return c})),n.d(e,"downloadItems",(function(){return d})),n.d(e,"eventName",(function(){return f})),n.d(e,"shortcuts",(function(){return p}));var r=n(45);n.d(e,"hostName",(function(){return r.hostName}));var i=n(46);n.d(e,"skin",(function(){return i.skin})),n.d(e,"initSkin",(function(){return i.initSkin}));var o=n(51);n.d(e,"initAreaList",(function(){return o.initAreaList}));var a=n(52);n.d(e,"panelName",(function(){return a.panelName}));var s=n(20);n.d(e,"myBrowser",(function(){return s.myBrowser}));var c,u=function(){return(u=l||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},f={showPanel:"TopNav:NavPanel-Show",hidePanel:"TopNav:NavPanel-Hide"};!function(t){t.PINK="1",t.BLINK="2",t.PC_LINK="3"}(c||(c={}));var d=[{id:c.PINK,title:"手机开播",subTitle:"哔哩哔哩客户端",label:"扫码下载",btnText:"安卓点击下载",icon:r.hostName.oss+"/qrcode-pink.png",link:"//dl.hdslb.com/mobile/latest/iBiliPlayer-bili.apk"},{id:c.BLINK,title:"手机虚拟开播",subTitle:"直播姬客户端",label:"扫码下载",btnText:"安卓点击下载",icon:r.hostName.oss+"/qrcode-blink.png",link:"//dl.hdslb.com/mobile/pack/biliLink_Android/5816357/channel/Livehime-Android-release-5.13.0-b5816357-master.apk"},{id:c.PC_LINK,title:"电脑开播",subTitle:"PC直播姬客户端",label:"支持win7/8/10系统",btnText:"PC端点击下载",hotArea:!0,icon:r.hostName.oss+"/logo-pclink.png",link:"//dl-hdslb-com.oss-cn-shanghai.aliyuncs.com/bili/bililive/win/Livehime-Win-beta-3.37.3.2172.exe"}],p=[u({name:"linkPanel",label:"动态",numHinter:!0,numHinterCount:0,requireLogin:!0,slotName:"link-panel"},Object(o.createEventProps)(a.panelName.myLink)),u({name:"sign",label:"签到",hinter:!0,showHinter:!1,requireLogin:!0,slotName:"sign-panel"},Object(o.createEventProps)(a.panelName.sign)),u({name:"guild",label:"公会中心"},Object(o.createEventProps)()),u({name:"download",label:"我要开播",slotName:"download-panel"},Object(o.createEventProps)(a.panelName.download))]},function(t,e,n){"use strict";n.r(e),n.d(e,"hostName",(function(){return r}));var r={live:"//live.bilibili.com",link:"//link.bilibili.com",oss:"//activity.hdslb.com/blackboard/static/e73ff3f7d8cf6b963d2447680209f2d3"}},function(t,e,n){"use strict";n.r(e),n.d(e,"skin",(function(){return i})),n.d(e,"initSkin",(function(){return o})),n.d(e,"filterSkin",(function(){return a}));var r=n(47),i={backgroundLeft:"",backgroundRight:"",customTitle:"",customTitleColor:"",customTitleLink:"",backgroundColor:"#fff",itemHoverBackgroundColor:"#a6a9ab",itemTextColor:"#646c7a",itemTextHoverColor:"#fff",searchBackgroundColor:"#f1f2f4",searchBorderColor:"#f1f2f4",searchTextColor:"#b4b4b4",searchTextActiveColor:"#000",searchIconColor:"#b4b4b4"};function o(t,e){return new s((function(n,o){if(!t||!t.disable)return e?(l(i,a(e)),void n(i)):void Object(r.getNavbarSkin)(t).then((function(t){var e=t.data,r=e.code,o=e.data;0===r&&l(i,a(o)),n(i)})).catch((function(t){n(i)}));n(i)}))}function a(t){return{backgroundLeft:t.left||"",backgroundRight:t.right||"",customTitle:t.link_text||"",customTitleColor:c(t.link_color)||"",customTitleLink:t.jump_url||"",backgroundColor:c(t.bg_color)||"#fff",itemHoverBackgroundColor:c(t.hover_color)||"#a6a9ab",itemTextColor:c(t.text_bg_color)||"#646c7a",itemTextHoverColor:c(t.text_hover_color)||"#fff",searchBackgroundColor:c(t.input_color)||"#f1f2f4",searchBorderColor:c(t.input_border_color)||"#f1f2f4",searchTextColor:c(t.input_text_color)||"#b4b4b4",searchTextActiveColor:c(t.input_hover_color)||"#000",searchIconColor:c(t.input_search_color)||"#b4b4b4"}}function c(t){return t?0!==t.indexOf("#")?"#"+t:t:""}},function(t,e,n){"use strict";n.r(e),n.d(e,"enterMyRoom",(function(){return h})),n.d(e,"doSign",(function(){return p})),n.d(e,"getCaptcha",(function(){return v})),n.d(e,"getFeedList",(function(){return S})),n.d(e,"getHeartBeat",(function(){return m})),n.d(e,"getLastMonthSignInfo",(function(){return w})),n.d(e,"getMsgCount",(function(){return g})),n.d(e,"getSignInfo",(function(){return b})),n.d(e,"getUserInfo",(function(){return y})),n.d(e,"getVcActivities",(function(){return _})),n.d(e,"getVcActivitiesHistory",(function(){return x})),n.d(e,"isNewVcActivities",(function(){return C})),n.d(e,"getNavbarSkin",(function(){return k})),n.d(e,"getNavbarAreaConfig",(function(){return E})),n.d(e,"postLogout",(function(){return I})),n.d(e,"getLiveHimeDownload",(function(){return T}));var r=n(48),i=n.n(r),o=n(49),a=n(20),s=n(50),c=n.n(s),u=i.a.create({withCredentials:!0,timeout:5e3}),l=a.cookie&&a.cookie.getItem("bili_jct")||"";u.interceptors.request.use((function(t){return"post"===t.method.toLowerCase()&&(t.data=t.data?t.data+"&csrf_token="+l:"csrf_token="+l),t}));var f="//api.live.bilibili.com",d="//api.vc.bilibili.com";function p(){return u.get(f+"/xlive/web-ucenter/v1/sign/DoSign")}function h(t){return void 0===t&&(t=0),u.get(f+"/room/v2/Room/room_id_by_uid",{params:{uid:t}})}function v(){return Object(o.default)("//www.bilibili.com/plus/widget/ajaxGetCaptchaKey.php?js")}function m(){return u.get(f+"/relation/v1/Feed/heartBeat")}function g(t){return u.get("//api.bilibili.com/x/msgfeed/unread?build=0&mobi_app=web",{params:{captcha:t,ts:Date.now()}})}function b(){return u.get(f+"/xlive/web-ucenter/v1/sign/WebGetSignInfo")}function y(){return u.get(f+"/User/getUserInfo?ts="+Date.now())}function w(){return u.get(f+"/sign/getLastMonthSignDays")}function _(t){void 0===t&&(t=0);var e={type_list:"2",update_num_dy_id:t,from:"liveweb"};return u.get(d+"/dynamic_svr/v1/dynamic_svr/dynamic_new",{params:e})}function x(t){void 0===t&&(t=0);var e={type_list:"2",offset_dynamic_id:t};return u.get(d+"/dynamic_svr/v1/dynamic_svr/dynamic_history",{params:e})}function C(){return u.post(d+"/feed_svr/v1/feed_svr/notice")}function S(t){return u.get(f+"/xlive/web-ucenter/v1/xfetter/GetWebList?page="+t)}function k(t){return void 0===t&&(t={}),u.get(f+"/activity/v1/Common/webBanner",{params:{platform:"web",position:6,roomid:t&&t.roomid||window.BilibiliLive&&window.BilibiliLive.ROOMID||0,area_v2_parent_id:t&&t.parentAreaID||0,area_v2_id:t&&t.areaID||0,from:t&&t.from||""}})}function E(t){return void 0===t&&(t={}),u.get(f+"/xlive/web-interface/v1/index/getWebAreaList",{params:{source_id:2}})}function I(){return u({method:"post",url:"//passport.bilibili.com/login/exit/v2",withCredentials:!0,headers:{"Content-type":"application/x-www-form-urlencoded"},data:c.a.stringify({biliCSRF:a.cookie&&a.cookie.getItem("bili_jct")})})}function T(t){return u.get(f+"/client/v1/LiveHime/download",{params:{type:t,ts:Date.now()}})}},function(t,e){t.exports=E},function(t,e,n){"use strict";function r(t,e){return new s((function(n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");e=e||{},o.type=e.type||"text/javascript",o.charset=e.charset||"utf8",o.async=!("async"in e)||!!e.async,o.src=t,e.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(o,e.attrs),e.text&&(o.text=""+e.text),o.onload=function(){n(o),this.onerror=this.onload=null},o.onerror=function(){r(o),this.onerror=this.onload=null},i.appendChild(o)}))}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e){t.exports=I},function(t,e,n){"use strict";n.r(e),n.d(e,"navConfig",(function(){return h})),n.d(e,"navConfigDefault",(function(){return v})),n.d(e,"initAreaList",(function(){return m})),n.d(e,"filterAreaList",(function(){return g})),n.d(e,"createEventProps",(function(){return y}));var r=n(52),i=n(45),o=n(53),a=n(55),c=n(47),p=function(){return(p=l||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=[{name:"live",label:"直播",href:"//live.bilibili.com/",target:"_live"},{name:"all",label:"全部",href:"//live.bilibili.com/all",target:"_all"}],v=[{name:"live",label:"直播",href:i.hostName.live,target:"_live"},{name:"all",label:"全部",href:"//live.bilibili.com/all",target:"_all"},p({name:r.panelName.areaList.game,label:"游戏",href:i.hostName.live+"/p/eden/area-tags?parentAreaId=2&areaId=0",target:"_game",slotName:"area-list",propData:{panelName:r.panelName.areaList.game,areaList:a.areaList.game}},y(r.panelName.areaList.game)),p({name:r.panelName.areaList.mobileGame,label:"手游",href:i.hostName.live+"/p/eden/area-tags?parentAreaId=3&areaId=0",target:"_mobile",slotName:"area-list",propData:{panelName:r.panelName.areaList.mobileGame,areaList:a.areaList.mobileGame}},y(r.panelName.areaList.mobileGame)),p({name:r.panelName.areaList.entertainment,label:"娱乐",href:i.hostName.live+"/p/eden/area-tags?parentAreaId=1&areaId=0",target:"_entertainment",slotName:"area-list",propData:{panelName:r.panelName.areaList.entertainment,areaList:a.areaList.entertainment}},y(r.panelName.areaList.entertainment)),p({name:r.panelName.areaList.radio,label:"电台",href:i.hostName.live+"/p/eden/area-tags?parentAreaId=5&areaId=0",target:"_radio",slotName:"area-list",propData:{panelName:r.panelName.areaList.radio,areaList:a.areaList.radio}},y(r.panelName.areaList.radio)),p({name:r.panelName.areaList.drawing,label:"绘画",href:i.hostName.live+"/p/eden/area-tags?parentAreaId=4&areaId=0",target:"_draw",slotName:"area-list",propData:{panelName:r.panelName.areaList.drawing,areaList:a.areaList.drawing}},y(r.panelName.areaList.drawing))];function m(t,e){return new s((function(n,r){if(!("boolean"==typeof e?e:e.areaListInfo)&&t&&t.length)return h=g(t),void n(h);Object(c.getNavbarAreaConfig)().then((function(t){var e=t.data,r=e.code,i=e.data;0===r&&(h=g(i.data)),n(h)})).catch((function(t){n(h=v)}))}))}function g(t){var e=f(t).call(t,(function(t){var e,n=f(e=t.list).call(e,(function(e){return{subId:e.id,label:e.name,link:b(t.id,e.id)}}));return p({name:t.name,label:t.name,href:b(t.id,0),target:"_"+t.id,slotName:"area-list",propData:{panelName:"panel-"+t.id,areaList:d(n).call(n,0,5)}},y("panel-"+t.id,!n.length))}));return u(h).call(h,e)}function b(t,e){return i.hostName.live+"/p/eden/area-tags?parentAreaId="+t+"&areaId="+e}function y(t,e){return{mouseEnter:function(){t&&!e&&o.panelService.showPanel(t,!0)},mouseLeave:function(){t&&!e&&o.panelService.hidePanel(t,!0)}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"panelName",(function(){return r}));var r={download:"download",myLink:"myLink",sign:"sign",user:"user",areaList:{entertainment:"area-list-ent",game:"area-list-single",mobileGame:"area-list-mobile-game",drawing:"area-list-draw",radio:"area-list-radio"}}},function(t,e,n){"use strict";n.r(e),n.d(e,"panelService",(function(){return c}));var r=n(54),i=n.n(r),o=n(44),a={},s={},c={showPanel:function(t,e){e?(clearTimeout(a[t]),clearTimeout(s[t]),a[t]=setTimeout((function(){i.a.$emit(o.eventName.showPanel,t)}),200)):i.a.$emit(o.eventName.showPanel,t)},hidePanel:function(t,e){e?(clearTimeout(a[t]),clearTimeout(s[t]),s[t]=setTimeout((function(){i.a.$emit(o.eventName.hidePanel,t)}),300)):i.a.$emit(o.eventName.hidePanel,t)}}},function(t,e){t.exports=T},function(t,e,n){"use strict";n.r(e),n.d(e,"areaList",(function(){return i}));var r=n(45),i={entertainment:[{label:"视频聊天",link:o("1/145")},{label:"视频唱见",link:o("1/21")},{label:"户外",link:o("1/123")},{label:"才艺",link:o("1/143")},{label:"美食",link:o("1/136")}],game:[{label:"绝地求生",link:o("2/80")},{label:"英雄联盟",link:o("2/86")},{label:"DOTA2",link:o("2/92")},{label:"守望先锋",link:o("2/87")},{label:"炉石传说",link:o("2/91")}],mobileGame:[{label:"FGO",link:o("3/37")},{label:"王者荣耀",link:o("3/35")},{label:"第五人格",link:o("3/163")},{label:"刺激战场",link:o("3/153")},{label:"碧蓝航线",link:o("3/113")}],radio:[{label:"聊天电台",link:o("5/192")},{label:"唱见电台",link:o("5/190")},{label:"声优",link:o("5/193")}],drawing:[{label:"原创绘画",link:o("4/51")},{label:"同人绘画",link:o("4/94")},{label:"临摹绘画",link:o("4/95")},{label:"其他绘画",link:o("4/96")}]};function o(t){var e=function(t){var e=t.split("/");return{parentId:e[0],subId:e[1]}}(t);return r.hostName.live+"/p/eden/area-tags?parentAreaId="+e.parentId+"&areaId="+e.subId}},function(t,e){t.exports=O},function(t,e,n){"use strict";n.r(e);var r=n(58),i=n(38),o=Object(i.default)({},r.render,r.staticRenderFns,!1,null,null,null);o.options.__file="src/components/Vertical-Middle/index.vue",e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r=n(59);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vertical-middle dp-table h-100"},[n("div",{staticClass:"dp-table-cell v-middle"},[t._t("default")],2)])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(61),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(64),i=n(66),o=(n(68),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"58627228",null);a.options.__file="src/layouts/Guest-Doms/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(65);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vertical-middle",{staticClass:"guest-panel-ctnr"},[t._l(t.buttons,(function(e){return[e.onClick?n("a",{staticClass:"top-nav-btn dp-i-block v-top pointer border-box",style:e.label===t.itemHovered?t.navItemHoverStyle:t.navItemStyle,attrs:{role:"button",href:e.href,title:e.title||""},on:{click:function(t){return t.stopPropagation(),e.onClick.apply(null,arguments)},mouseenter:function(n){return t.mouseEnter(e)},mouseleave:function(n){return t.mouseLeave(e)}}},[e.icon?n("i",{staticClass:"v-middle",class:e.icon}):t._e(),n("span",{staticClass:"v-top",domProps:{textContent:t._s(e.label)}})]):n("a",{staticClass:"top-nav-btn dp-i-block v-top pointer border-box",style:e.label===t.itemHovered?t.navItemHoverStyle:t.navItemStyle,attrs:{role:"button",href:e.href,title:e.title||""},on:{mouseenter:function(n){return t.mouseEnter(e)},mouseleave:function(n){return t.mouseLeave(e)}}},[e.icon?n("i",{staticClass:"v-middle",class:e.icon}):t._e(),n("span",{staticClass:"v-top",domProps:{textContent:t._s(e.label)}})])]}))],2)},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(67);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(56),o=n(20),s=n(57),c=n(6),u=n(34),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttons=[{label:"登录",title:"欢迎回来！登录后将继续为您呈现精彩内容喔 "+i.randomEmoji.happy(),onClick:o.quickLogin,divider:!0},{label:"注册",title:"你好！注册账号后可以为您推荐更多更好看的直播喔 "+i.randomEmoji.happy(),href:"https://passport.bilibili.com/register/phone.html"}],e.itemHovered="",e}return l(e,t),Object.defineProperty(e.prototype,"navItemStyle",{get:function(){return Object(u.filterStyle)({color:this.navSkin.itemTextColor})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"navItemHoverStyle",{get:function(){return Object(u.filterStyle)({color:this.navSkin.itemTextHoverColor,backgroundColor:this.navSkin.itemHoverBackgroundColor})},enumerable:!1,configurable:!0}),e.prototype.mouseEnter=function(t){this.itemHovered=t.label},e.prototype.mouseLeave=function(t){this.itemHovered=""},f([Object(c.Prop)({default:{}})],e.prototype,"navSkin",void 0),e=f([Object(c.Component)({components:{VerticalMiddle:s.default}})],e)}(c.Vue);e.default=d},function(t,e,n){"use strict";n.r(e);var r=n(69),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(72),i=n(74),o=(n(107),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"55b262b2",null);a.options.__file="src/layouts/User-Doms/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(73);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-panel dp-table h-100 p-relative v-top f-clear"},[n("div",{staticClass:"align-ctnr dp-table-cell v-middle"},[n("user-panel",{staticClass:"dp-i-block v-middle",attrs:{"base-user-info":t.baseUserInfo}})],1)])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(75);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(6),o=n(76),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),c([Object(i.Prop)()],e.prototype,"baseUserInfo",void 0),e=c([Object(i.Component)({components:{UserPanel:o.default}})],e)}(i.Vue);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(77),i=n(79),o=(n(101),n(104),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"c3534c80",null);a.options.__file="src/layouts/User-Doms/User-Panel/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(78);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-panel-ctnr p-relative",on:{mouseenter:function(e){return e.stopPropagation(),t.userPanelIn.apply(null,arguments)},mouseleave:function(e){return e.stopPropagation(),t.userPanelOut.apply(null,arguments)}}},[n("a",{attrs:{href:t.linkUrl,target:"_blank"},on:{click:t.report2jump}},[n("div",{ref:"avatarImg",staticClass:"user-avatar p-relative b-circle pointer bg-center bg-no-repeat bg-cover ts-dot-4",class:{active:t.show},style:{"background-image":t.userData.avatar?"url("+t.userData.avatar+")":""},attrs:{role:"img",title:"点击进入我的空间 (=・ω・=)"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.userData.msgCount,expression:"userData.msgCount"}],staticClass:"msg-hinter p-absolute b-circle a-splashing ts-dot-4"})]),n("div",{staticClass:"user-panel p-relative border-box none-select panel-shadow"},[n("transition",{attrs:{"leave-active-class":"myBrowser.indexOf('IE') > -1 ? '' : 'a-fade-out'"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"contentCtnr",staticClass:"lens-ctnr w-100 p-absolute p-zero",class:{"ie-fix panel-shadow":t.myBrowser.indexOf("IE")>-1&&"IE 11"!==t.myBrowser}},[n("div",{staticClass:"header-node w-100 p-relative border-box over-hidden"},[n("h4",{ref:"seqIn1",staticClass:"username-info dp-none p-relative t-center a-move-in-left"},[n("span",{staticClass:"text dp-i-block v-middle t-over-hidden m-auto",attrs:{title:t.userData.username},domProps:{textContent:t._s(t.userData.username)}}),n("span",{staticClass:"dp-i-block"},[n("i",{staticClass:"live-icon dp-i-block v-middle",class:{"vip-color":"vip"===t.userData.vip,"vip-year-color":"svip"===t.userData.vip,"vip-gray":!t.userData.vip},staticStyle:{"margin-left":"5px"}})])]),n("div",{ref:"seqIn2",staticClass:"user-level p-absolute dp-none w-100 f-clear t-center pointer border-box a-move-in-left",attrs:{title:"升级进度："+t.userData.rank.expPercent},on:{mouseenter:function(e){return t.controlLevelPanel(!0)},mouseleave:function(e){return t.controlLevelPanel(!1)}}},[n("span",{staticClass:"user-level-text t-right f-left",domProps:{textContent:t._s("UL."+t.userData.rank.level)}}),n("span",{staticClass:"user-level-text t-left f-right",domProps:{textContent:t._s("UL."+(t.userData.rank.level+1))}}),n("div",{staticClass:"level-progress p-absolute over-hidden"},[n("div",{staticClass:"progress-bar h-100",style:{width:t.userData.rank.expPercent}})])])]),n("div",{staticClass:"content-ctnr border-box p-relative over-hidden"},[n("div",{ref:"seqIn3",staticClass:"section-block info-items dp-none a-move-in-left"},t._l(t.infoItems,(function(t,e){return n("info-item",{key:e,attrs:{"item-data":t}})})),1),n("div",{ref:"seqIn5",staticClass:"section-block ctrl-btns dp-none"},[t._l(t.ctrlBtns,(function(e,r){return[n("a",{staticClass:"ctrl-btn dp-i-block pointer ts-dot-2 a-move-in-left",class:{wide:e.wide,colored:e.colored},attrs:{href:t.joinHref(e.id,e.href),target:e.target||"_blank",wide:e.wide},on:{click:function(n){"function"==typeof e.onClick&&t.callFuncInVm(e.id,e.onClick)}}},[e.iconName?n("i",{staticClass:"icon icon-font dp-i-block v-middle",class:e.iconName}):t._e(),n("span",{staticClass:"v-middle",domProps:{textContent:t._s(e.label)}}),e.slot?n(e.slot.name,{tag:"component",staticClass:"v-middle"}):t._e()],1)]})),n("a",{staticClass:"logout-btn dp-block w-100 p-relative t-center pointer ts-dot-2 a-move-in-top",on:{click:t.logout}},[n("span",[t._v("退出登录")])])],2)]),n("level-detail",{attrs:{level:t.userData.rank.level,rank:t.userData.rank.rank,"exp-left":t.userData.rank.levelTotalExp-t.userData.rank.levelExp,show:t.showLevelPanel}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"progress-ctnr w-100 h-100 p-absolute p-zero over-hidden a-move-in-bottom"},[n("progress-tv",{staticStyle:{"border-radius":"0 0 10px 10px"},attrs:{show:!0}})],1),n("transition",{attrs:{"leave-active-class":"a-move-out-top"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingError,expression:"loadingError"}],staticClass:"load-error-panel w-100 p-absolute p-zero t-center border-box a-move-in-bottom"},[n("p",{staticClass:"text"},[t._v("您的个人信息载入失败惹 Σ(ﾟдﾟ;)")]),n("p",{staticClass:"text"},[t._v("真的是非常抱歉 (´；ω；`)")]),n("p",{staticClass:"text"},[n("span",[t._v("您可以")]),n("a",{staticClass:"request-link pointer",attrs:{role:"button"},on:{click:t.dataRequest}},[t._v("点击这里")]),n("span",[t._v("再次尝试 (•̀ᴗ•́)و ̑̑")])]),n("p",{staticClass:"text"},[t._v("说不定有奇迹发森喔 ♥(ӦｖӦ｡)")]),n("p",{staticClass:"text",staticStyle:{color:"#ddd"},domProps:{innerHTML:t._s(t.quote)}})])])],1)])],1)])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(80);e.default=r.default},function(t,e,n){"use strict";n.r(e),function(t){var r,o=n(56),u=n(54),l=n.n(u),f=n(44),d=n(82),h=n(53),v=n(47),m=n(83),g=n(84),b=n.n(g),y=n(85),w=n(93),_=n(33),x=n(20),C=n(6),S=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},E=function(t,e,n,r){return new(n||(n=s))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},I=function(t,e){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof i&&(a[c]=function(){return this}),a;function u(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},T=f.panelName.user,O=null,A={InfoItem:y.default,LevelDetail:w.default,ProgressTv:b.a};d.userPanelConfig.ctrlBtns.forEach((function(t){t.slot&&(A[t.slot.name]=t.slot)}));var L,j,R=(L=null,function(t){var e=this;t?(clearTimeout(L),this.showLevelPanel=!0):L=setTimeout((function(){e.showLevelPanel=!1}),200)}),D=(j=!1,function(){var t=new x.Lens(this.$refs.contentCtnr);t&&!j&&(t.observe({deepWatch:!0}),j=!0)}),P=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialized=!1,t.panelHideTimeout=null,t.loading=!0,t.loadingError=!1,t.show=!1,t.userData={_achieve:"--",_currency:{gold:"--",silver:"--"},captcha:null,uid:0,username:"神秘用户 (=・ω・=)",avatar:"",vip:!1,rank:{level:"--",rank:"--",exp:"--",expPercent:0,levelExp:"--"},msgCount:0},t.myBrowser=f.myBrowser,t.showLevelPanel=!1,t.infoItems=d.userPanelConfig.infoItems,t.ctrlBtns=d.userPanelConfig.ctrlBtns,t.seqElements=null,t.controlLevelPanel=R,t.lens=D,t}return S(n,e),Object.defineProperty(n.prototype,"getUserData",{get:function(){return{currency:this.$store&&this.$store.getters.getCurrency?this.$store.getters.getCurrency:this.userData._currency,achieve:this.$store&&this.$store.getters.getAchieve?this.$store.getters.getAchieve:this.userData._achieve}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"quote",{get:function(){var t=["每次想到自己的年纪，就感觉忧伤.","I'm an Artist ♂, I'm a Performance ♂ Artist.","在这里卖萌应该没人看见吧 (･∀･)","土豆每年也会发芽的吧~"];return t[Math.floor(Math.random()*t.length)]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"linkUrl",{get:function(){return"//space.bilibili.com/"+this.userData.uid},enumerable:!1,configurable:!0}),n.prototype.watchShow=function(t,e){if(t)this.initialized?this.seqIn():this.dataRequest();else try{O.reset(),this.loadingError=!1}catch(t){}},n.prototype.watchBaseUserInfo=function(t){this.setAvatar()},n.prototype.report2jump=function(t){Object(_.reporter)("444.7.selfDef.topnavi_imageclick")},n.prototype.registerEvents=function(){var t=this;l.a.$on(f.eventName.showPanel,(function(e){t.show=e===T})),l.a.$on(f.eventName.hidePanel,(function(e){e===T&&(t.show=!1)}))},n.prototype.callFuncInVm=function(t,e){switch(t){case"center":Object(_.reporter)("444.7.selfDef.topnavi_imagehover_liveclick");break;case"world":Object(_.reporter)("444.7.selfDef.topnavi_imagehover_homeclick");break;case"message":Object(_.reporter)("444.7.selfDef.topnavi_imagehover_messageclick");break;case"my-room":Object(_.reporter)("444.7.selfDef.topnavi_imagehover_myroomclick")}return e.call(this)},n.prototype.joinHref=function(t,e){return"world"===t?""+e+this.userData.uid:e},n.prototype.userPanelIn=function(){Object(_.reporter)("444.7.selfDef.topnavi_imagehover"),x.userInfo.update(),h.panelService.showPanel(T,!0)},n.prototype.userPanelOut=function(){h.panelService.hidePanel(T,!0)},n.prototype.seqIn=function(){O||(O=new x.SeqAnimation(this.$refs,"block",80)),O.seqIn()},n.prototype.dataRequest=function(){var t=this;this.loading=!0,this.loadingError=!1,x.userInfo.subscribe((function(e){e.uid&&(t.initialized=!0,t.loading=!1,t.seqIn()),t.userData.uid=e.uid,t.userData.username=e.uname,t.userData.avatar=Object(o.bfsImgLink)(e.face,100,100),t.userData.rank.level=e.userLevel,t.userData.rank.rank=e.userLevelRank,t.userData.rank.levelExp=parseInt(e.userIntimacy,10),t.userData.rank.levelTotalExp=parseInt(e.userNextIntimacy,10),t.userData.rank.expPercent=(t.userData.rank.levelExp/t.userData.rank.levelTotalExp*100).toFixed(2)+"%",Boolean(parseInt(e.vip,10))&&(t.userData.vip="vip"),Boolean(parseInt(e.svip,10))&&(t.userData.vip="svip"),t.$store&&(t.$store.getters.getCurrency&&t.$store.dispatch("setCurrency",{gold:e.gold,silver:e.silver,achieve:e.achieve}),t.$store.getters.getAchieve&&t.$store.dispatch("setAchieve",e.achieve),t.$store.getters.getUserInfo&&t.$store.dispatch("setUserInfo",{username:e.uname,avatar:e.face,isVip:e.vip,isSvip:e.svip,level:e.userLevel,nextLevel:e.userNextLevel,levelExp:e.userIntimacy,levelTotalExp:e.userNextIntimacy})),t.userData._currency.gold=e.gold,t.userData._currency.silver=e.silver,t.userData._achieve=e.achieve}))},n.prototype.setAvatar=function(){this.userData.uid=this.baseUserInfo.uid,this.userData.username=this.baseUserInfo.uname,this.userData.avatar=Object(o.bfsImgLink)(this.baseUserInfo.face,100,100)},n.prototype.getAvatarFromCookie=function(){return x.cookie.getItem("user_face")||""},n.prototype.getMsgCount=function(){var t=this;void 0!==window.captcha_key?Object(v.getMsgCount)(window.captcha_key).then((function(e){var n=e.data;if(0!==Object(o.toNumber)(n.code))return Object(m.default)("邮件状态获取","Code - "+n.code);var r=0;p(n.data).forEach((function(t){r+=Object(o.toNumber)(n.data[t])})),t.userData.msgCount=r})).catch((function(t){Object(m.default)("邮件状态获取",t.status+" - "+t.statusText)})):window.console&&console.error("[Error] 未能获取主站 captcha, 将跳过邮件动态检查.")},n.prototype.getMsgCountExec=function(){void 0===window.captcha_key?Object(v.getCaptcha)().then(this.getMsgCount).catch((function(){Object(m.default)("主站 captcha 获取","网络错误或服务器宕机")})):this.getMsgCount()},n.prototype.startMsgCountInterval=function(){setInterval(this.getMsgCountExec,6e4),this.getMsgCountExec()},n.prototype.msgCountBlurChecking=function(){var t=this;window.addEventListener("focus",(function e(){t.getMsgCount.call(this),window.removeEventListener("focus",e)}))},n.prototype.logout=function(){return E(this,void 0,void 0,(function(){var t,e;return I(this,(function(n){switch(n.label){case 0:x.cookie.removeItem("user_face","/",".bilibili.com"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Object(v.postLogout)()];case 2:return(t=n.sent().data)&&t.data.redirectUrl&&(window.location=t.data.redirectUrl),[3,4];case 3:return e=n.sent(),console.log(e),[3,4];case 4:return[2]}}))}))},n.prototype.enterRoom=function(t){var e=this;return new s((function(t,n){e.pauseLiveIndexPlayer();var r=e.createNewWindow();Object(v.enterMyRoom)(e.userData.uid).then((function(e){var i=e.data;if(-800===i.code)return r.close(),x.liveCertPopup.cellphoneBinding("开启直播"),n();if(0===i.code&&i.data){var o=i.data.room_id;return o?(r.location.href="//live.bilibili.com/"+o,t(1)):(r.close(),x.liveCertIframe.show(),n())}return 0!==i.code?(x.liveCertPopup.failure(i.code+" - "+i.msg),n(new Error("Code is not 0: Code - "+i.code))):void 0})).catch((function(t){window.console&&console.error("[Error] 进入直播间请求失败: ",t),r.close(),x.liveCertPopup.failure(t),n(t)}))}))},n.prototype.createNewWindow=function(){return window.open()},n.prototype.pauseLiveIndexPlayer=function(){"server"!==t.env.VUE_ENV&&window.LivePlayer&&"function"==typeof window.LivePlayer.pause_video&&window.LivePlayer.pause_video()},n.prototype.created=function(){this.registerEvents()},n.prototype.mounted=function(){this.setAvatar(),this.startMsgCountInterval(),this.lens()},k([Object(C.Prop)()],n.prototype,"vipLevel",void 0),k([Object(C.Prop)()],n.prototype,"baseUserInfo",void 0),k([Object(C.Watch)("show")],n.prototype,"watchShow",null),k([Object(C.Watch)("baseUserInfo")],n.prototype,"watchBaseUserInfo",null),n=k([Object(C.Component)({components:A})],n)}(C.Vue);e.default=P}.call(this,n(81))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=u(c).call(c,l):d=-1,l.length&&h())}function h(){if(!f){var t=s(p);f=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new v(t,e)),1!==l.length||f||s(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e),n.d(e,"userPanelConfig",(function(){return i}));var r=n(20),i={infoItems:[[{label:r.webCurrency&&r.webCurrency.name,className:"gold-seed-item",iconName:"gold-seed",value:function(){return"function"==typeof r.formatNumWithUnit&&Object(r.formatNumWithUnit)(r.webCurrency&&r.webCurrency.format(this.$parent.getUserData.currency.gold))},link:"//link.bilibili.com/p/center/index#/",currencyIcon:r.webCurrency&&r.webCurrency.icon},{label:"银瓜子",className:"silver-seed-item",iconName:"silver-seed",value:function(){return void 0===(t=this.$parent.getUserData.currency.silver)||"--"===t||""===t?"--":(t+"").toString().length>4?(t/1e4).toString().replace(/(.+\..)(.+)/g,"$1")+"万":t;var t},link:"//link.bilibili.com/p/center/index#/"}],[{label:"成就值",className:"achieve-item",iconName:"achieve",value:function(){return this.$parent.getUserData.achieve},link:"//link.bilibili.com/p/center/index#/user-center/achievement/achievement-normal"}]],ctrlBtns:[{id:"center",label:"直播中心",iconName:"icon-link-center",href:"//link.bilibili.com/p/center/index",onClick:function(){}},{id:"world",label:"主站空间",href:"//space.bilibili.com/",iconName:"icon-link-world",onClick:function(){}},{id:"message",label:"消息中心",iconName:"icon-meassage",href:"//message.bilibili.com",slot:{name:"user-panel-msg-count",template:'<span class="msg-count v-middle a-splashing" v-text="$parent.userData.msgCount" v-show="$parent.userData.msgCount" :class="{active: $parent.userData.msgCount}"></span>'},onClick:function(){this.msgCountBlurChecking()}},{id:"my-room",label:"我的直播间",iconName:"icon-live",href:"javascript:void(0)",target:"_self",onClick:function(t,e){var n=this;Object(r.quickLogin)(),this.loading=!0,this.enterRoom(t).then((function(){n.loading=!1})).catch((function(){n.loading=!1}))}}]}},function(t,e,n){"use strict";function r(t,e){void 0===t&&(t=""),void 0===e&&(e=""),window.console&&window.console.error("[Error] "+t+"错误: "+e)}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e){t.exports=A},function(t,e,n){"use strict";n.r(e);var r=n(86),i=n(88),o=(n(90),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"2d400f35",null);a.options.__file="src/layouts/User-Doms/User-Panel/comp.Info-Item.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(87);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vertical-middle",{staticClass:"info-item-ctnr v-middle"},t._l(t.itemData,(function(e,r){return n("div",{staticClass:"info-item w-100"},[n("a",{attrs:{href:e.link,target:"_blank"},on:{click:function(n){return t.report2jump(e.label)}}},[n("div",{staticClass:"text-node w-100 t-over-hidden f-clear t-nowrap",attrs:{title:e.label+": "+t.callFuncInVm(e.value)}},["gold-seed"===e.iconName?n("span",{staticClass:"left-label v-middle f-left"},[n("i",{staticClass:"live-nav-icon svg-icon v-middle currency-icon",style:{"background-image":"url( "+e.currencyIcon+" )"}}),n("span",{staticClass:"item-label v-middle ts-dot-4",domProps:{textContent:t._s(e.label)}})]):n("span",{staticClass:"left-label v-middle f-left"},[n("i",{staticClass:"live-nav-icon svg-icon v-middle",class:e.iconName}),n("span",{staticClass:"item-label v-middle ts-dot-4",domProps:{textContent:t._s(e.label)}})]),n("span",{staticClass:"right-label f-right v-middle",class:{"t-right":1===t.itemData.length}},[n("span",{staticClass:"v-middle value-text t-over-hidden t-nowrap",domProps:{textContent:t._s(t.callFuncInVm(e.value))}})])])])])})),0)},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(89);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(57),o=n(33),s=n(6),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.report2jump=function(t){""===t||"银瓜子"===t?Object(o.reporter)("444.7.selfDef.topnavi_imagehover_seedclick"):"成就值"===t&&Object(o.reporter)("444.7.selfDef.topnavi_imagehover_honorclick")},e.prototype.callFuncInVm=function(t){return t.call(this)},u([Object(s.Prop)({default:[]})],e.prototype,"itemData",void 0),e=u([Object(s.Component)({components:{VerticalMiddle:i.default}})],e)}(s.Vue);e.default=l},function(t,e,n){"use strict";n.r(e);var r=n(91),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(94),i=n(96),o=(n(98),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"3296cbe7",null);a.options.__file="src/layouts/User-Doms/User-Panel/comp.Level-Detail.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(95);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade-out"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"user-level-detail p-absolute t-left a-move-in-right",on:{mouseenter:t.showPanel,mouseleave:t.hidePanel}},[n("div",{staticClass:"darkgray",staticStyle:{"margin-bottom":"15px"}},[n("p",{staticStyle:{"margin-top":"0"}},[t._v("当前等级：UL."+t._s(t.level))]),n("p",[t._v("当前排名："+t._s(t.rank))]),n("p",[t._v("升级还需经验："+t._s(t.expLeft))])]),n("hr"),n("div",{staticClass:"lightgray",staticStyle:{"margin-top":"10px"}},[n("div",{staticStyle:{"margin-bottom":"8px","text-indent":"1em","line-height":"20px"}},[n("p",[t._v("1. 经验值通过投喂道具提升。")]),n("p",[t._v(t._s("2. 每赠送1"+(t.currency?t.currency.name:"")+",可以获得100经验值, 每赠送1银瓜子可以获得1经验值。"))])])]),n("hr"),n("a",{attrs:{href:"//link.bilibili.com/p/eden/news#/newsDetail?id=291",target:"_blank"}},[n("div",{staticClass:"detail-link t-center ts-dot-2",attrs:{role:"button"}},[t._v("查看等级说明")])])])])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(97);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(6),o=n(20),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currency=o.webCurrency,e}return s(e,t),e.prototype.showPanel=function(){this.$parent.controlLevelPanel(!0)},e.prototype.hidePanel=function(){this.$parent.controlLevelPanel(!1)},c([Object(i.Prop)()],e.prototype,"level",void 0),c([Object(i.Prop)()],e.prototype,"rank",void 0),c([Object(i.Prop)()],e.prototype,"expLeft",void 0),c([Object(i.Prop)()],e.prototype,"show",void 0),e=c([Object(i.Component)({})],e)}(i.Vue);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(99),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(102),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(105),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(108),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(111),i=n(113),o=(n(180),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"00d38ec1",null);a.options.__file="src/layouts/Shortcuts/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(112);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shortcuts-ctnr h-100"},t._l(t.shortcuts,(function(e){return!e.requireLogin||t.loginStatus?n("div",{staticClass:"shortcut-item h-100 p-relative f-left pointer",style:e.slotName===t.itemHovered?t.navItemHoverStyle:t.navItemStyle,on:{mouseenter:function(n){return t.mouseEnter(e)},mouseleave:function(n){return t.mouseLeave(e)},click:function(n){return t.clickFunc(e)}}},[n("vertical-middle",[n("div",{staticClass:"list-item p-relative"},[e.hinter?n("i",{directives:[{name:"show",rawName:"v-show",value:e.showHinter,expression:"item.showHinter"}],staticClass:"hinter p-absolute a-splashing"}):e.numHinter?n("i",{directives:[{name:"show",rawName:"v-show",value:e.numHinterCount,expression:"item.numHinterCount"}],staticClass:"num-hinter p-absolute t-center",domProps:{textContent:t._s(e.numHinterCount)}}):t._e(),n("span",{domProps:{textContent:t._s(e.label)}})]),t.showClientPart&&e.slotName?n(e.slotName,{tag:"component",staticClass:"slot-component"}):t._e()],1)],1):t._e()})),0)},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(114);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(20),o=n(44),s=n(57),c=n(115),u=n(123),l=n(132),f=n(33),d=n(6),p=n(34),v=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showClientPart=!1,e.loginStatus=!1,e.itemHovered="",e}return v(e,t),Object.defineProperty(e.prototype,"shortcuts",{get:function(){var t;return this.showGuild?o.shortcuts:h(t=o.shortcuts).call(t,(function(t){return"guild"!==t.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"navItemStyle",{get:function(){return Object(p.filterStyle)({color:this.navSkin.itemTextColor})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"navItemHoverStyle",{get:function(){return Object(p.filterStyle)({color:this.navSkin.itemTextHoverColor,backgroundColor:this.navSkin.itemHoverBackgroundColor})},enumerable:!1,configurable:!0}),e.prototype.clickFunc=function(t){"guild"===t.name&&window.open(this.guildUrl),t.requireLogin&&!Object(i.loginStatus)()&&Object(i.quickLogin)()},e.prototype.showHinter=function(t,e){var n=this;this.shortcuts.some((function(r,i){if(r.name===t)return n.shortcuts[i].showHinter=e,!0}))},e.prototype.setNumHinter=function(t,e){var n=this;this.shortcuts.some((function(r,i){if(r.name===t)return n.shortcuts[i].numHinterCount=e,!0}))},e.prototype.mouseEnter=function(t){"download"===t.name?Object(f.reporter)("444.7.selfDef.topnavi_downloadhover"):"linkPanel"===t.name?Object(f.reporter)("444.7.selfDef.topnavi_bibohover"):"sign"===t.name&&Object(f.reporter)("444.7.selfDef.topnavi_signhover"),t.mouseEnter&&(this.itemHovered=t.slotName,(t.requireLogin&&Object(i.loginStatus)()||!t.requireLogin)&&t.mouseEnter.call(this))},e.prototype.mouseLeave=function(t){t.mouseLeave&&(this.itemHovered="",(t.requireLogin&&Object(i.loginStatus)()||!t.requireLogin)&&t.mouseLeave.call(this))},e.prototype.mounted=function(){this.loginStatus=Object(i.loginStatus)(),this.showClientPart=!0},m([Object(d.Prop)({default:{}})],e.prototype,"navSkin",void 0),m([Object(d.Prop)()],e.prototype,"guildUrl",void 0),m([Object(d.Prop)({default:!1})],e.prototype,"showGuild",void 0),e=m([Object(d.Component)({components:{DownloadPanel:c.default,VerticalMiddle:s.default,SignPanel:u.default,LinkPanel:l.default}})],e)}(d.Vue);e.default=g},function(t,e,n){"use strict";n.r(e);var r=n(116),i=n(118),o=(n(120),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"f3bf135c",null);a.options.__file="src/components/Download-Panel/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(117);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"download-panel-ctnr p-absolute border-box panel-shadow"},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"contentCtnr",staticClass:"content-ctnr w-100 p-absolute p-zero border-box over-hidden list-none f-clear",class:{"ie-fix panel-shadow":t.myBrowser.indexOf("IE")>-1}},t._l(t.downloadItems,(function(e,r){return n("div",{staticClass:"download-item a-move-in-left f-left",on:{click:function(e){return t.onClick(e,r)}}},[n("div",{staticClass:"download-area",class:{"hot-area":e.hotArea}},[n("span",{staticClass:"label title v-middle",domProps:{textContent:t._s(e.title)}}),n("span",{staticClass:"label sub-title v-middle",domProps:{textContent:t._s(e.subTitle)}}),n("img",{staticClass:"icon v-middle",attrs:{src:e.icon,alt:"icon"}}),n("span",{staticClass:"label v-middle",domProps:{textContent:t._s(e.label)}}),n("a",{staticClass:"label btn v-middle",domProps:{textContent:t._s(e.btnText)}})])])})),0)])],1)},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(119);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,o,u=n(54),f=n.n(u),p=n(20),h=n(44),m=n(33),g=n(6),b=n(47),y=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(){return(w=l||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},_=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},x=function(t,e,n,r){return new(n||(n=s))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},C=function(t,e){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof i&&(a[c]=function(){return this}),a;function u(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},S=h.panelName.download,k=(o=null,function(t){t&&!/(IE|Edge)/.test(h.myBrowser)&&(o||(o=new p.SeqAnimation(d(Array.prototype).call(this.$refs.contentCtnr.children),"block",80)),o.reset(),o.seqIn())}),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.downloadItems=h.downloadItems,e.myBrowser=h.myBrowser,e.show=!1,e}return y(e,t),e.prototype.watchShow=function(t){return k.call(this,t)},e.prototype.report2jump=function(t){switch(t.id){case h.ILiveHimeType.BLINK:Object(m.reporter)("444.7.selfDef.topnavi_downloadhover_blinkclick");break;case h.ILiveHimeType.PC_LINK:Object(m.reporter)("444.7.selfDef.topnavi_downloadhover_PCclick");break;case h.ILiveHimeType.PINK:Object(m.reporter)("444.7.selfDef.topnavi_downloadhover_pinkclick")}},e.prototype.onClick=function(t,e){return x(this,void 0,void 0,(function(){var n,r,i,o;return C(this,(function(a){switch(a.label){case 0:return n=this.downloadItems[e],t.target.classList.contains("btn")||n.hotArea?(i=n.id!==h.ILiveHimeType.PINK)?[4,this.getDownloadURL(n.id,n.link)]:[3,2]:[3,3];case 1:i=a.sent(),a.label=2;case 2:r=i||n.link,(o=document.createElement("a")).style.display="none",o.href=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),this.report2jump(n),a.label=3;case 3:return[2]}}))}))},e.prototype.registerEvents=function(){var t=this;f.a.$on(h.eventName.showPanel,(function(e){t.show=e===S})),f.a.$on(h.eventName.hidePanel,(function(e){e===S&&(t.show=!1)}))},e.prototype.lens=function(){var t=new p.Lens(this.$refs.contentCtnr);t&&t.observe({deepWatch:!0})},e.prototype.created=function(){this.registerEvents()},e.prototype.updateDownloadItems=function(t,e){var n;v(n=this.downloadItems).call(n,t,1,w(w({},this.downloadItems[t]),{link:e.link.replace(/^(http|https):/,"")}))},e.prototype.getDownloadURL=function(t,e){return x(this,void 0,void 0,(function(){var n,r,i,o,a,s;return C(this,(function(c){switch(c.label){case 0:n=t===h.ILiveHimeType.BLINK?"blink":"pclink",r=t===h.ILiveHimeType.BLINK?1:2,i="LiveHimeDownload__"+n,o=window.localStorage.getItem(i),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Object(b.getLiveHimeDownload)(t)];case 2:return a=c.sent(),(s=function(t){var e=t.data,n=e.code,r=e.data;return 0===n?r.dl_url:null}(a))&&(window.localStorage.setItem(i,s),this.updateDownloadItems(r,{link:s})),[2,s||o||e];case 3:return c.sent(),[2,o||e];case 4:return[2]}}))}))},e.prototype.mounted=function(){this.lens();var t=window.localStorage.getItem("LiveHimeDownload__blink"),e=window.localStorage.getItem("LiveHimeDownload__pclink");t&&this.updateDownloadItems(1,{link:t}),t&&this.updateDownloadItems(2,{link:e})},_([Object(g.Watch)("show")],e.prototype,"watchShow",null),e=_([Object(g.Component)({})],e)}(g.Vue);e.default=E},function(t,e,n){"use strict";n.r(e);var r=n(121),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(124),i=n(126),o=(n(129),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"5a710d87",null);a.options.__file="src/components/Sign-Panel/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(125);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"calendar-checkin p-absolute ts-dot-4 panel-shadow over-hidden"},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPanel,expression:"showPanel"}],ref:"contentCtnr",staticClass:"content-ctnr w-100 p-absolute p-zero",class:{"ie-fix panel-shadow":t.myBrowser.indexOf("IE")>-1}},[n("div",{staticClass:"title none-select"},[n("span",{staticClass:"month",class:t.showCurMonth?"cur-month":"last-month",on:{click:t.switchMonth}},[t._v(t._s(t.currentMonth)+" 月累计签到")]),n("span",{staticClass:"days",class:{"f-right":/(IE 9|IE 10)/.test(t.myBrowser)}},[t._v(t._s(t.hadSignDays)+" / "+t._s(t.allDaysInMonth))])]),n("div",{staticClass:"divider m-auto"}),n("div",{staticClass:"calendar-wrapper"},[n("div",{staticClass:"calendar"},[n("div",{staticClass:"week"},t._l(t.days,(function(e){return n("span",{staticClass:"weekday",class:{"dp-i-block":"IE 10"===t.myBrowser},domProps:{textContent:t._s(e)}})})),0),n("div",{staticClass:"calender-content-ctnr"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCurMonth,expression:"showCurMonth"}],staticClass:"date-ctnr this-month a-move-in-left"},t._l(t.curMonthDays,(function(e){return n("span",{staticClass:"day-item",class:{hide:!e.isCurMonthDay,"cur-day":e.value===parseInt(t.curCheckinInfo.curDay,10),checked:-1!==t.curCheckinInfo.signDaysList.indexOf(e.value),"gift-checked":-1!==t.curCheckinInfo.signBonusDaysList.indexOf(e.value)},domProps:{textContent:t._s(e.value)},on:{mouseenter:t.showCheckInfo,mouseleave:t.hideCheckInfo}})})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCurMonth,expression:"!showCurMonth"}],staticClass:"date-ctnr last-month a-move-in-right"},t._l(t.lastMonthDays,(function(e){return n("span",{staticClass:"day-item",class:{hide:!e.isCurMonthDay,checked:-1!==t.lastCheckinInfo.signDaysList.indexOf(e.value),"gift-checked":-1!==t.lastCheckinInfo.signBonusDaysList.indexOf(e.value)},domProps:{textContent:t._s(e.value)},on:{mouseenter:t.showCheckInfo,mouseleave:t.hideCheckInfo}})})),0)])])]),[t.curCheckinInfo.status?t._e():n("div",{ref:"signBtn",staticClass:"checkin-btn t-center pointer",on:{click:t.signinAction}},[t._v("签到")])]],2)])],1)])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(127);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i,o=n(54),s=n.n(o),c=n(56),u=n(20),l=n(44),f=n(128),d=n(33),p=n(6),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},m=l.panelName.sign,g=(i=!1,function(){if(!i){var t=new u.Lens(this.$refs.contentCtnr);t&&t.observe({deepWatch:!0}),i=!0}}),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myBrowser=l.myBrowser,e.days=["日","一","二","三","四","五","六"],e.showPanel=!1,e.curMonthDays=[],e.lastMonthDays=[],e.showCurMonth=!0,e.isCheckIn=!1,e.curCheckinInfo={allDays:"",curYear:"",curMonth:"",curDay:"",curDate:"",hadSignDays:0,newTask:0,status:0,signDaysList:[],signBonusDaysList:[]},e.lastCheckinInfo={month:"",days:"",hadSignDays:0,signDaysList:[],signBonusDaysList:[]},e.lens=g,e}return h(e,t),Object.defineProperty(e.prototype,"currentMonth",{get:function(){return this.showCurMonth?this.curCheckinInfo.curMonth:this.lastCheckinInfo.month},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hadSignDays",{get:function(){return this.showCurMonth?this.curCheckinInfo.hadSignDays:this.lastCheckinInfo.hadSignDays},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allDaysInMonth",{get:function(){return this.showCurMonth?this.curCheckinInfo.allDays:this.lastCheckinInfo.days},enumerable:!1,configurable:!0}),e.prototype.showHinter=function(t){this.$parent.$parent.showHinter("sign",t)},e.prototype.registerEvents=function(){var t=this;s.a.$on(l.eventName.showPanel,(function(e){e===m&&(t.showPanel=!0)})),s.a.$on(l.eventName.hidePanel,(function(e){e===m&&(t.showPanel=!1)}))},e.prototype.init=function(){var t=this;Object(u.loginStatus)()&&(Object(f.getSignInfo)().then((function(e){t.setData(e.data),t.getCurMonthDays(t.curCheckinInfo.curDate),t.getLastMonthDays(t.curCheckinInfo.curDate)})),Object(f.getLastMonthSignInfo)().then((function(e){t.lastCheckinInfo=e.data})))},e.prototype.signinAction=function(){var t=this;Object(d.reporter)("444.7.selfDef.topnavi_signhover_signclick"),Object(f.signinAction)().then((function(e){e.data.status=1,e.data.isBonusDay?t.curCheckinInfo.signBonusDaysList.push(parseInt(t.curCheckinInfo.curDay,10)):t.curCheckinInfo.signDaysList.push(parseInt(t.curCheckinInfo.curDay,10)),t.setData(e.data),t.showCurMonth=!0,t.linkMsg(t.$refs.signBtn,"签到成功惹，诶嘿嘿~ "+c.randomEmoji.happy(),"success")})).catch((function(e){t.linkMsg(t.$refs.signBtn,c.randomEmoji.sad()+" 签到失败惹："+e,"error")}))},e.prototype.setData=function(t){for(var e in t)this.curCheckinInfo[e]=t[e];this.showHinter(Object(u.loginStatus)()&&1!==t.status)},e.prototype.getCurMonthDays=function(t){var e=new Date(t.replace(/-/g,"/"));e.setDate(0);var n=e.getDate(),r=e.getDay();if(6!==r)for(var i=r;i>=0;i--)this.curMonthDays.push({value:n-i,isCurMonthDay:!1});for(var o=1;o<=this.curCheckinInfo.allDays;o++)this.curMonthDays.push({value:o,isCurMonthDay:!0})},e.prototype.getLastMonthDays=function(t){var e=new Date(t.replace(/-/g,"/"));e.setDate(0);var n=e.getDate();e.setDate(0);for(var r=e.getDate(),i=e.getDay();i>=0;i--)this.lastMonthDays.push({value:r-i,isCurMonthDay:!1});for(var o=1;o<=n;o++)this.lastMonthDays.push({value:o,isCurMonthDay:!0})},e.prototype.switchMonth=function(){this.showCurMonth=!this.showCurMonth},e.prototype.showCheckInfo=function(t){var e=t.target||t.srcElement;Object(u.addClass)(e,"show-check-info")},e.prototype.hideCheckInfo=function(t){var e=t.target||t.srcElement;Object(u.removeClass)(e,"show-check-info")},e.prototype.created=function(){this.registerEvents()},e.prototype.mounted=function(){this.init(),this.lens()},e=v([Object(p.Component)({})],e)}(p.Vue);e.default=b},function(t,e,n){"use strict";n.r(e),n.d(e,"getSignInfo",(function(){return a})),n.d(e,"getLastMonthSignInfo",(function(){return c})),n.d(e,"signinAction",(function(){return u}));var r=n(47),i=n(83),o=n(20);function a(){return new s((function(t,e){Object(r.getSignInfo)().then((function(n){var r=n.data;if(0!==r.code){var o=r.code+" - "+r.msg;return Object(i.default)("签到信息",o),e(o)}t(r)})).catch((function(t){Object(i.default)("签到信息",t),e(t)}))}))}function c(){return new s((function(t,e){Object(r.getLastMonthSignInfo)().then((function(n){var r=n.data;if(0!==r.code){var o=r.code+" - "+r.msg;return Object(i.default)("上月签到信息",o),e(o)}t(r)})).catch((function(t){Object(i.default)("上月签到信息",t),e(t)}))}))}function u(){return new s((function(t,e){Object(r.doSign)().then((function(n){var r=n.data;if(1001===r.code){o.liveCertPopup.cellphoneBinding("签到");var a=r.code+" - "+r.msg;return Object(i.default)("签到",a),e(a)}if(0!==r.code)return a=r.code+" - "+r.msg,Object(i.default)("签到",a),e(a);t(r)})).catch((function(t){Object(i.default)("签到",t),e(t)}))}))}},function(t,e,n){"use strict";n.r(e);var r=n(130),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(133),i=n(135),o=(n(168),n(171),n(174),n(177),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"7303c5c4",null);a.options.__file="src/components/Link-Panel/index.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(134);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-panel-ctnr p-absolute border-box panel-shadow over-hidden"},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"contentCtnr",staticClass:"panel-main-ctnr w-100 p-absolute p-zero border-box",class:{"ie-fix panel-shadow":t.myBrowser.indexOf("IE")>-1,"empty-height":t.showEmptyHint}},[n("section",{staticClass:"attention-live p-relative a-move-in-left"},[n("div",{staticClass:"section-title"},[n("h2",[t._v("我关注的直播")])]),n("transition",{attrs:{"leave-active-class":"a-move-out-top"},on:{"before-enter":function(e){t.onLiveAnchors.allowHintText=!1},"after-leave":function(e){t.onLiveAnchors.allowHintText=!0}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!(t.onLiveAnchors.loadError||!t.onLiveAnchors.inLoading)||t.onLiveAnchors.list.length,expression:"!onLiveAnchors.loadError && onLiveAnchors.inLoading ? true : (onLiveAnchors.list.length)"}],staticClass:"content-ctnr live p-relative m-auto over-hidden",on:{mousewheel:t.onLiveAnchorsMouseWheel}},[n("div",{staticClass:"live-items p-absolute p-zero ts-dot-4",style:{transform:"translate("+-1*(t.onLiveAnchors.scrollPage-1)*87*4+"px)"}},[t._l(t.onLiveAnchors.list,(function(t){return n("live-item",{key:t.roomID,staticClass:"v-middle a-fade-in",attrs:{avatar:t.avatar,username:t.username,link:t.link}})})),n("transition-group",{attrs:{"leave-active-class":"a-move-out-top"}},t._l(t.loadingItemCount.live,(function(e){return n("live-item-loading",{directives:[{name:"show",rawName:"v-show",value:t.onLiveAnchors.inLoading,expression:"onLiveAnchors.inLoading"}],key:e,staticClass:"v-middle link-panel-a-move-in-top"})})),1)],2)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.onLiveAnchors.list.length&&!t.onLiveAnchors.inLoading&&t.onLiveAnchors.allowHintText,expression:"!onLiveAnchors.list.length && !onLiveAnchors.inLoading && onLiveAnchors.allowHintText"}],staticClass:"hint-text t-center a-move-in-left",staticStyle:{height:"80px","line-height":"40px","padding-left":"13px"}},[t.onLiveAnchors.loadError?n("span",[n("span",[t._v("电波木有传达至服务器，是窝坏掉了么？ "+t._s(t.shockEmoji))]),n("br"),n("span",[t._v("要不"),n("a",{staticClass:"pointer",staticStyle:{color:"#23ade5"},on:{click:t.loadOnLiveAnchorsData}},[t._v("点击这里")]),t._v("再试一次？可能会有新的邂逅喔 "+t._s(t.happyEmoji))])]):t._e(),t.onLiveAnchors.loadError||t.onLiveAnchors.inLoading?t._e():n("span",{staticStyle:{"line-height":"80px"}},[t._v("什么都木有 "+t._s(t.angryEmoji))])]),n("div",{staticClass:"btn-ctnr"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.onLiveAnchors.scrollPage>1,expression:"onLiveAnchors.scrollPage > 1"}],staticClass:"switch-btn left",on:{click:t.onLiveAnchorsPrevPage}}),n("button",{directives:[{name:"show",rawName:"v-show",value:t.onLiveAnchors.scrollPage<t.onLiveAnchorsTotalPage,expression:"onLiveAnchors.scrollPage < onLiveAnchorsTotalPage"}],staticClass:"switch-btn right",on:{click:t.onLiveAnchorsNextPage}})])],1),n("div",{staticClass:"divider"}),n("section",{staticClass:"attention-vc link-panel-a-move-in-top"},[n("div",{staticClass:"section-title"},[n("h2",[t._v("我关注的动态")])]),n("div",{ref:"activitiesCtnr",staticClass:"content-ctnr vc p-relative over-hidden"},[[t._l(t.vcActivities.cards,(function(e,r){return n("vc-item",{key:e.id,staticClass:"a-fade-in",class:{last:r===t.vcActivities.cards.length-1&&!t.vcActivities.inLoading},attrs:{type:e.type,avatar:e.avatar,title:e.title,username:e.username,time:e.uploadTime,"supporting-text":e.supportingText,link:e.link}})})),n("transition-group",{attrs:{name:"vc-hinter","leave-active-class":"a-move-out-left"},on:{"before-enter":function(e){t.vcActivities.allowHintText=!1},"after-leave":function(e){t.vcActivities.allowHintText=!0}}},t._l(t.loadingItemCount.vc,(function(e,r){return t.vcActivities.inLoading?n("vc-item-loading",{key:e,staticClass:"a-move-in-left",class:{last:r===t.loadingItemCount.vc.length-1}}):t._e()})),1)],n("p",{directives:[{name:"show",rawName:"v-show",value:!t.vcActivities.cards.length&&!t.vcActivities.inLoading&&t.vcActivities.allowHintText,expression:"!vcActivities.cards.length && !vcActivities.inLoading && vcActivities.allowHintText"}],staticClass:"hint-text t-center link-panel-a-move-in-top"},[t.vcActivities.loadError?n("span",{staticClass:"dp-block",staticStyle:{"max-width":"340px",margin:"0"}},[n("span",[t._v("您关注的小视频获取失败惹，非常对不起 "+t._s(t.sadEmoji))]),n("br"),n("br"),n("span",[t._v("或者"),n("a",{staticClass:"pointer",staticStyle:{color:"#23ade5"},on:{click:function(e){t.vcActivities.hasMore=!0,t.loadVcActivities()}}},[t._v("点击重试")]),t._v("一下？可能有奇迹发森喔 "+t._s(t.happyEmoji))]),n("br"),n("br"),n("span",{staticStyle:{color:"#ddd"}},[t._v("你看窝这么萌，就别森气了嘛 "+t._s(t.helplessEmoji))])]):n("span",[t._v("什么都木有 "+t._s(t.angryEmoji))])])],2)]),n("section",{staticClass:"load-more"},[n("a",{attrs:{href:"//t.bilibili.com/",target:"_blank"},on:{click:t.report2jump}},[n("button",{staticClass:"load-more-btn w-100 pointer ts-dot-2"},[t._v("查看更多")])])]),n("transition",{attrs:{"enter-active-class":"a-fade-in"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showEmptyHint,expression:"showEmptyHint"}],staticClass:"totally-empty-hint w-100 h-100 p-absolute p-zero bg-center bg-no-repeat",attrs:{role:"img"}})])],1)])],1)},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(136);e.default=r.default},function(t,e,n){"use strict";n.r(e),n(137);var r,i,o,s=n(138),c=n.n(s),d=n(20),p=n(54),v=n.n(p),m=n(56),g=n(44),b=n(139),y=n(147),w=n(153),_=n(161),x=n(47),C=n(83),S=n(33),k=n(6),E=n(167),I=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),T=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},O=g.panelName.myLink,A=(i=!0,function(t){t.preventDefault(),i&&(i=!1,t.deltaY>0?this.onLiveAnchorsNextPage():this.onLiveAnchorsPrevPage(),setTimeout((function(){i=!0}),400))}),L=(o=!1,function(){var t=new d.Lens(this.$refs.contentCtnr);t&&!o&&(t.observe({deepWatch:!0}),o=!0)}),j=null,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onLiveAnchors={list:[],loadError:!1,scrollPage:1,requestPage:1,allowHintText:!1,inLoading:!0,hasMore:!0},e.vcActivities={cards:[],loadError:!1,hintText:"",allowHintText:!1,resetState:!1,nextOffset:0,inLoading:!0,psUpdating:!1,hasMore:!0},e.show=!1,e.dataInterval={live:!1,vc:!1},e.lastEmpty=!1,e.myBrowser=g.myBrowser,e.lens=L,e}return I(e,t),e.prototype.watchShow=function(t){t&&(Object(E.clear)(),this.resetVcState(),this.resetLiveState(),this.loadVcActivities(),this.loadOnLiveAnchorsData(),this.setNumHinter(0))},e.prototype.watchOnLiveAnchorsScrollPage=function(t){t===this.onLiveAnchorsTotalPage&&this.onLiveAnchors.hasMore&&this.loadOnLiveAnchorsData()},Object.defineProperty(e.prototype,"onLiveAnchorsTotalPage",{get:function(){return Math.ceil(this.onLiveAnchors.list.length/4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadingItemCount",{get:function(){return{live:this.onLiveAnchors.list.length?[0]:[0,1,2,3],vc:this.vcActivities.cards.length?[0]:[0,1,2]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angryEmoji",{get:function(){return m.randomEmoji.angry()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"happyEmoji",{get:function(){return m.randomEmoji.happy()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helplessEmoji",{get:function(){return m.randomEmoji.helpless()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sadEmoji",{get:function(){return m.randomEmoji.sad()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shockEmoji",{get:function(){return m.randomEmoji.shock()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showEmptyHint",{get:function(){return!this.onLiveAnchors.list.length&&!this.vcActivities.cards.length&&this.lastEmpty&&!this.onLiveAnchors.loadError&&!this.vcActivities.loadError},enumerable:!1,configurable:!0}),e.prototype.report2jump=function(){Object(S.reporter)("444.7.selfDef.topnavi_bibohover_moreclick")},e.prototype.setNumHinter=function(t){this.$parent.$parent.setNumHinter("linkPanel",t)},e.prototype.initVcPS=function(){var t=this,e=this.$refs.activitiesCtnr;j=j||new c.a(e,{suppressScrollX:!0}),e.addEventListener("ps-y-reach-end",(function(){t.vcActivities.inLoading||t.vcActivities.psUpdating||t.loadVcActivitiesHistory()}))},e.prototype.onLiveAnchorsPrevPage=function(){this.onLiveAnchors.scrollPage>1&&this.onLiveAnchors.scrollPage--},e.prototype.onLiveAnchorsNextPage=function(){this.onLiveAnchors.scrollPage<this.onLiveAnchorsTotalPage&&this.onLiveAnchors.scrollPage++},e.prototype.onLiveAnchorsMouseWheel=function(t){return A.call(this,t)},e.prototype.showPanel=function(){this.show=!0},e.prototype.hidePanel=function(){this.show=!1},e.prototype.registerEvents=function(){var t=this;v.a.$on(g.eventName.showPanel,(function(e){e===O&&t.showPanel()})),v.a.$on(g.eventName.hidePanel,(function(e){e===O&&t.hidePanel()}))},e.prototype.loadOnLiveAnchorsData=function(){var t=this;this.onLiveAnchors.loadError=!1,this.onLiveAnchors.inLoading=!0,Object(x.getFeedList)(this.onLiveAnchors.requestPage).then((function(e){var n=e.data;if(0!==n.code)throw new Error(n.code+" - "+n.msg);setTimeout((function(){var e,r,i,o=n.data.list?f(e=n.data.list).call(e,D):[],a=o.length>=10,s=Object(E.reduce)({originArr:u(r=t.onLiveAnchors.list).call(r,[]),newArr:o,len:1,key:"roomID",end:!a});t.onLiveAnchors.list=u(i=t.onLiveAnchors.list).call(i,s),a||(t.onLiveAnchors.hasMore=!1),t.lastEmpty=t.onLiveAnchors.list.length<1&&t.vcActivities.cards.length<1,t.onLiveAnchors.requestPage++,t.onLiveAnchors.inLoading=!1}),200)})).catch((function(e){Object(C.default)("直播动态请求",e),setTimeout((function(){t.onLiveAnchors.loadError=!0,t.onLiveAnchors.inLoading=!1}),400)}))},e.prototype.loadVcActivities=function(){var t=this;this.vcActivities.hasMore&&(this.vcActivities.inLoading=!0,this.vcActivities.loadError=!1,Object(x.getVcActivities)(this.vcActivities.nextOffset).then((function(e){var n=e.data;if(0!==n.code)throw new Error(n.code+" - "+n.msg);setTimeout((function(){if(n.data.cards){var e,r,i=h(e=f(r=n.data.cards).call(r,P)).call(e,N);t.vcActivities.cards=i,i.length||(t.vcActivities.hasMore=!1)}else t.vcActivities.hasMore=!1;console.warn(t.vcActivities),t.lastEmpty=t.onLiveAnchors.list.length<1&&t.vcActivities.cards.length<1,t.vcActivities.nextOffset=n.data.history_offset,t.updatePS()}),200)})).catch((function(e){Object(C.default)("小视频动态请求",e),t.vcActivities.loadError=!0,t.vcActivities.hasMore=!1,setTimeout(t.updatePS,200)})))},e.prototype.loadVcActivitiesHistory=function(){var t=this;this.vcActivities.hasMore&&(this.vcActivities.inLoading=!0,this.vcActivities.loadError=!1,Object(x.getVcActivitiesHistory)(this.vcActivities.nextOffset).then((function(e){var n=e.data;if(0!==n.code)throw new Error(n.code+" - "+n.msg);setTimeout((function(){if(n.data.cards){var e,r,i,o=h(e=f(r=n.data.cards).call(r,P)).call(e,N);o.length?t.vcActivities.cards=u(i=t.vcActivities.cards).call(i,o):t.vcActivities.hasMore=!1}else t.vcActivities.hasMore=!1;t.lastEmpty=t.onLiveAnchors.list.length<1&&t.vcActivities.cards.length<1,t.vcActivities.nextOffset=n.data.next_offset,t.updatePS()}),200)})).catch((function(e){Object(C.default)("小视频动态请求",e),t.vcActivities.loadError=!0,t.vcActivities.hasMore=!1,setTimeout(t.updatePS,200)})))},e.prototype.setVcNewActivitiesChecker=function(){var t=this;Object(x.isNewVcActivities)().then((function(e){var n=e.data;if(0!==n.code)throw new Error(n.code+" - "+n.msg);Boolean(n.data.num)&&(t.setNumHinter(n.data.num),t.vcActivities.hasMore=!0,t.vcActivities.resetState=!0)})).catch((function(t){Object(C.default)("小视频动态请求",t)})),setTimeout(this.setVcNewActivitiesChecker,96e3)},e.prototype.setLiveHeartBeatChecker=function(){Object(x.getHeartBeat)().then((function(t){var e=t.data;if(0!==e.code)throw new Error(e.code+" - "+e.msg)})).catch((function(t){Object(C.default)("直播心跳请求",t.status+" - "+t.statusText)})),setTimeout(this.setLiveHeartBeatChecker,96e3)},e.prototype.resetLiveState=function(){this.onLiveAnchors.list=[],this.onLiveAnchors.hasMore=!0,this.onLiveAnchors.requestPage=1,this.onLiveAnchors.scrollPage=1},e.prototype.resetVcState=function(){var t=this.$refs.activitiesCtnr;this.$nextTick((function(){t.scrollTop=0}))},e.prototype.updatePS=function(){var t=this;this.vcActivities.psUpdating=!0,this.vcActivities.inLoading=!1,setTimeout((function(){j&&j.update(),t.vcActivities.psUpdating=!1}),500)},e.prototype.created=function(){this.registerEvents()},e.prototype.mounted=function(){this.initVcPS(),this.setLiveHeartBeatChecker(),this.lens()},e.prototype.destroy=function(){j&&j.destroy(),j=null},T([Object(k.Watch)("show")],e.prototype,"watchShow",null),T([Object(k.Watch)("onLiveAnchors.scrollPage")],e.prototype,"watchOnLiveAnchorsScrollPage",null),e=T([Object(k.Component)({components:{VcItem:w.default,VcItemLoading:_.default,LiveItem:b.default,LiveItemLoading:y.default}})],e)}(k.Vue);function D(t){return{avatar:Object(m.bfsImgLink)(t.face,50,50,/\.(jpg|png)$/),username:t.uname,title:t.title,roomID:t.roomid,link:t.link}}function P(t){var e,n=JSON.parse(t.card),r={uid:n.user.uid,avatar:Object(m.bfsImgLink)(n.user.head_url,50,50),username:n.user.name,type:t.type},i=new Date(1e3*n.item.upload_time),o=Math.ceil((Date.now()-i.getTime())/1e3);return e=o>31536e3?Math.floor(o/31536e3)+"年前":o>2592e3?Math.floor(o/2592e3)+"月前":o>86400?Math.floor(o/86400)+"天前":o>3600?Math.floor(o/3600)+"小时前":o>120?Math.floor(o/60)+"分钟前":"刚刚",l(r,{uploadTime:e,link:"//www.bilibili.com/p/"+n.item.id,title:n.item.description}),r}function N(t){var e=t.uploadTime;return!(~e.indexOf("年前")||~e.indexOf("月前")||~e.indexOf("天前")&&parseInt(e,10)>7)}e.default=R},function(t,e){t.exports=L},function(t,e){t.exports=j},function(t,e,n){"use strict";n.r(e);var r=n(140),i=n(142),o=(n(144),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"4d15ed33",null);a.options.__file="src/components/Link-Panel/comp.live-item.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(141);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-item dp-i-block"},[n("a",{staticClass:"user-item-link",attrs:{href:t.link,target:"_blank"},on:{click:t.report2jump}},[n("div",{staticClass:"avatar p-relative m-auto b-circle bg-cover",style:{"background-image":"url("+t.avatar+")"},attrs:{role:"img"}},[n("div",{staticClass:"hover-fx w-100 h-100 p-absolute p-zero b-circle ts-dot-4"})]),n("p",{staticClass:"username t-center t-nowrap t-over-hidden",domProps:{textContent:t._s(t.username)}})])])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(143);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(33),o=n(6),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.report2jump=function(){Object(i.reporter)("444.7.selfDef.topnavi_bibohover_anchorclick")},c([Object(o.Prop)({default:""})],e.prototype,"avatar",void 0),c([Object(o.Prop)({default:"/"})],e.prototype,"link",void 0),c([Object(o.Prop)({default:"--"})],e.prototype,"username",void 0),e=c([Object(o.Component)({})],e)}(o.Vue);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(145),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(148),i=(n(150),n(38)),o=Object(i.default)({},r.render,r.staticRenderFns,!1,null,"789cbc81",null);o.options.__file="src/components/Link-Panel/comp.live-item.loading.vue",e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r=n(149);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this;t.$createElement;return t._self._c,t._m(0)},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-item-loading dp-i-block"},[e("div",{staticClass:"avatar m-auto b-circle"}),e("div",{staticClass:"username"})])}];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(151),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(154),i=n(156),o=(n(158),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"3e13c35c",null);a.options.__file="src/components/Link-Panel/comp.vc-item.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(155);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"activity-item-ctnr f-clear"},[n("a",{attrs:{href:t.link,target:"_blank"},on:{click:t.report2jump}},[n("div",{staticClass:"user-avatar f-left b-circle",style:{"background-image":"url("+t.avatar+")"},attrs:{role:"img"}}),n("div",{staticClass:"info-ctnr f-left"},[n("h2",{staticClass:"first-line t-no-wrap f-clear"},[n("span",{staticClass:"username t-over-hidden f-left",domProps:{textContent:t._s(t.username)}}),n("span",{staticClass:"time f-right"},[n("span",[t._v(t._s(t.time)+"发布了")]),n("span",{class:{orange:t.isVc,blue:!t.isVc}},[t._v(t._s(t.typeText))])])]),n("h4",{staticClass:"title-text t-no-wrap t-over-hidden t-left",domProps:{textContent:t._s(t.title)}})])])])},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(157);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(33),o=n(6),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),Object.defineProperty(e.prototype,"typeText",{get:function(){return"相簿"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVc",{get:function(){return 2===this.type},enumerable:!1,configurable:!0}),e.prototype.report2jump=function(){Object(i.reporter)("444.7.selfDef.topnavi_bibohover_biboclick")},c([Object(o.Prop)({default:1})],e.prototype,"type",void 0),c([Object(o.Prop)({default:"//static.hdslb.com/images/member/noface.gif"})],e.prototype,"avatar",void 0),c([Object(o.Prop)({default:"/"})],e.prototype,"link",void 0),c([Object(o.Prop)({default:"--"})],e.prototype,"title",void 0),c([Object(o.Prop)({default:"刚刚"})],e.prototype,"time",void 0),c([Object(o.Prop)({default:"--"})],e.prototype,"username",void 0),e=c([Object(o.Component)({})],e)}(o.Vue);e.default=u},function(t,e,n){"use strict";n.r(e);var r=n(159),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(162),i=(n(164),n(38)),o=Object(i.default)({},r.render,r.staticRenderFns,!1,null,"3a055ea0",null);o.options.__file="src/components/Link-Panel/comp.vc-item.loading.vue",e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r=n(163);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this;t.$createElement;return t._self._c,t._m(0)},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"activity-item-loading-ctnr f-clear"},[e("div",{staticClass:"user-avatar dp-i-block v-middle b-circle"}),e("div",{staticClass:"info-ctnr dp-i-block v-middle"},[e("div",{staticClass:"first-line"}),e("div",{staticClass:"second-line"})])])}];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(165),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"reduce",(function(){return o})),n.d(e,"clear",(function(){return a}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=[];function o(e){var n=void 0===e?{originArr:[],newArr:[],len:5,key:"roomid",end:!1}:e,o=n.originArr,a=void 0===o?[]:o,s=n.newArr,c=void 0===s?[]:s,u=n.len,l=void 0===u?5:u,f=n.key,d=void 0===f?"roomid":f,p=n.end,h=void 0!==p&&p;"uat"===t.env.CONFIG_ENV&&(console.log("reduce start:"),console.table({originArrLenght:a.length,newArrLength:c.length,remain:i.length,end:h}),console.log(i)),c.forEach((function(t){var e=!1;a.forEach((function(n){t[d]===n[d]&&(e=!0)})),i.forEach((function(n){t[d]===n[d]&&(e=!0)})),e||i.push(t)}));var m=i.length%l,g=null;return h||!m?(g=r(i),i=[]):g=v(i).call(i,0,i.length-m),"uat"===t.env.CONFIG_ENV&&(console.log("reduce end:"),console.table({originArrLenght:a.length,newArrLength:c.length,tempArr:i.length,result:g.length,remain:i.length}),console.log(i)),g}function a(){i=[],"uat"===t.env.CONFIG_ENV&&(console.log("reduce clear:"),console.table({remain:i.length}))}}.call(this,n(81))},function(t,e,n){"use strict";n.r(e);var r=n(169),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(172),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(175),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(178),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(181),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(184),i=n(186),o=(n(188),n(38)),a=Object(o.default)(i.default,r.render,r.staticRenderFns,!1,null,"45c2f76e",null);a.options.__file="src/components/Nav-Panel/Area-List.vue",e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(185);n.d(e,"render",(function(){return r.render})),n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"area-list-panel p-absolute border-box panel-shadow",class:t.propData.panelName,attrs:{"data-panel-name":t.propData.panelName}},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"contentCtnr",staticClass:"main-ctnr w-100 p-absolute p-zero border-box",class:{"ie-fix panel-shadow":t.myBrowser.indexOf("IE")>-1}},[t.propData.areaList&&t.propData.areaList.length?n("ul",{ref:"navItems",staticClass:"area-list list-none"},t._l(t.propData.areaList,(function(e){return n("a",{attrs:{href:e.link,target:"_blank"},on:{click:function(n){return t.report2jump(e)}}},[n("li",{staticClass:"list-item t-left over-hidden t-over-hidden a-move-in-left",class:{empty:!e.link},attrs:{title:e.label},domProps:{textContent:t._s(e.label)}})])})),0):t._e()])])],1)},i=[];r._withStripped=!0},function(t,e,n){"use strict";n.r(e);var r=n(187);e.default=r.default},function(t,e,n){"use strict";n.r(e);var r,i=n(54),o=n.n(i),s=n(56),c=n(20),u=n(33),l=n(44),f=n(6),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=a(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myBrowser=l.myBrowser,e.show=!1,e.seqAni=null,e.lensInited=!1,e}return p(e,t),e.prototype.watchShow=function(t){t&&!/(IE|Edge)/.test(l.myBrowser)&&(this.seqAni||(this.seqAni=new c.SeqAnimation(d(Array.prototype).call(this.$refs.navItems.children),"block",40)),this.seqAni.reset(),this.seqAni.seqIn())},e.prototype.registerEvents=function(){var t=this;o.a.$on(l.eventName.showPanel,(function(e){e===t.propData.panelName&&(t.show=!0)})),o.a.$on(l.eventName.hidePanel,(function(e){e===t.propData.panelName&&(t.show=!1)}))},e.prototype.report2jump=function(t){Object(u.reporter)("444.7.selfDef.topnavi_areahover_click",{area_id:this.target.replace("_",""),subarea_id:t.subId||t.label})},e.prototype.lens=function(){var t=new c.Lens(this.$refs.contentCtnr);!this.lensInited&&t&&(t.observe({deepWatch:!0}),this.lensInited=!0)},e.prototype.created=function(){this.registerEvents()},e.prototype.mounted=function(){this.lens()},h([Object(f.Prop)({default:{panelName:"area-list-"+Object(s.randomString)(),areaList:[]}})],e.prototype,"propData",void 0),h([Object(f.Prop)({default:"_blank"})],e.prototype,"target",void 0),h([Object(f.Watch)("show")],e.prototype,"watchShow",null),e=h([Object(f.Component)({})],e)}(f.Vue);e.default=v},function(t,e,n){"use strict";n.r(e);var r=n(189),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(192),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){},,function(t,e,n){"use strict";function r(){try{var t=setTimeout((function(){window.__statisObserverConfig?(clearInterval(t),window.__statisObserverConfig.clickConfig||(window.__statisObserverConfig=l({},window.__statisObserverConfig,{clickConfig:{isDoubleWrite:!0}}))):r()}),2e3)}catch(t){window.console&&console.warn("[Warn] 外部统计脚本加载失败: ",t)}}n.r(e),n.d(e,"initReport",(function(){return r}))},function(t,e,n){"use strict";n.r(e),n.d(e,"isWindow",(function(){return r}));var r="undefined"!=typeof window},function(t,e,n){"use strict";function r(){return{userStatusInfo:null,skinConfig:null,skinBannerInfo:null,delayMounted:!0,guildUrl:"https://live.bilibili.com/galaxy/",showGuild:!1,areaListInfo:null,forceUpdateFromClient:!1}}n.r(e),n.d(e,"getDefaultProps",(function(){return r}))},function(t,e,n){"use strict";n.r(e);var r=n(198),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},function(t,e,n){}])},t.exports=r(n(95334),n(80978),n(32391),n(65020),n(14469),n(87594),n(20843),function(){try{return n(52697)}catch(t){}}(),function(){try{return n(67510)}catch(t){}}(),function(){try{return n(38599)}catch(t){}}(),function(){try{return n(52714)}catch(t){}}(),function(){try{return n(57344)}catch(t){}}(),function(){try{return n(89430)}catch(t){}}(),function(){try{return n(66856)}catch(t){}}(),n(9669),n(80129),n(57072),n(61228),n(18706),n(91287),n(84772))},65020:function(t,e,n){"use strict";n.r(e)},52714:function(t,e,n){"use strict";n.r(e),n.d(e,{initUserLoginStatus:function(){return I},getUserLoginStatus:function(){return R},asyncGetUserLoginStatus:function(){return T},refreshUserLoginStatus:function(){return O},subscribeUserLoginStatus:function(){return A}});var r=n(51942),i=n.n(r),o=n(93476),a=n.n(o),s=n(65420),c=n.n(s),u=n(98341),l=n.n(u),f=n(59340),d=n.n(f),p=n(9669),h=n.n(p),v=function(){return(v=i()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function m(t,e,n,r){return new(n||(n=a()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function g(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof c()&&(o[l()]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var b="__LIVE_USER_LOGIN_STATUS_TRACK";function y(t,e){if(void 0===t&&(t=""),void 0===e&&(e=null),"off"!==window.__LIVE_USER_LOGIN_STATUS_SW){var n="";if(e)try{n=d()(e)}catch(t){n=""}var r=new Date,i=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds();window[b]=window[b]+"\n"+i+" > "+t+n}else window[b]&&delete window[b]}window[b]="-- INFO --";var w=h().create({timeout:5e3,withCredentials:!0}),_="//api.bilibili.com";var x={uid:0,isLogin:!1,uname:"",face:"",isError:!0};function C(){return m(this,void 0,void 0,(function(){var t,e,n,r;return g(this,(function(i){switch(i.label){case 0:y("entry getRemoteLoginStatus()"),i.label=1;case 1:return i.trys.push([1,3,,4]),y("start /x/web-interface/nav"),[4,w.get(_+"/x/web-interface/nav")];case 2:return t=i.sent(),y("end /x/web-interface/nav"),e=t.data||{},n=e.data||null,y("code: "+e.code),0===e.code&&n&&n.isLogin?[2,{error:null,data:{uid:n.mid,isLogin:n.isLogin,face:(o=n.face,void 0===a&&(a="hdslb.com"),o&&window&&location&&/^https\:/.test(location.href)?o.replace(RegExp("http(:[^:]*?."+a+")","gi"),"https$1"):o),uname:n.uname,isError:!1}}]:-101===e.code&&n&&!n.isLogin?[2,{error:null,data:{uid:0,isLogin:!1,face:"",uname:"",isError:!1}}]:[2,{error:"服务器错误",data:x}];case 3:return r=i.sent(),y("Error Error --- /x/web-interface/nav"),y("ERROR: ",r),[2,{error:r||"接口错误",data:x}];case 4:return[2]}var o,a}))}))}var S=!1,k=!1,E=[];function I(){return m(this,void 0,void 0,(function(){var t,e;return g(this,(function(n){switch(n.label){case 0:return y("entry initUserLoginStatus"),t=j()||{isError:!0},y("isLoading: "+S),S?(y("repeat init"),[2]):(y("isError: "+t.isError),t.isError?(S=!0,y("start await getRemoteLoginStatus()"),[4,C()]):[3,2]);case 1:e=n.sent().data,y("end await getRemoteLoginStatus()"),y("data: ",e),S=!1,function(t){E.length>0&&(E.forEach((function(e){e&&e(t)})),E.length=0)}(e),L(e),n.label=2;case 2:return[2]}}))}))}function T(){return m(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return y("entry asyncGetUserLoginStatus"),S?[2,new(a())((function(t){var e=setTimeout((function(){t(x)}),5e3);E.push((function(n){clearTimeout(e),e=null,t(n)}))}))]:[4,I()];case 1:return t.sent(),[2,j()]}}))}))}function O(){return m(this,void 0,void 0,(function(){var t,e,n;return g(this,(function(r){switch(r.label){case 0:return y("entry refreshUserLoginStatus"),[4,C()];case 1:return t=r.sent(),e=t.error,n=t.data,e||L(n),[2]}}))}))}function A(t){if(y("entry subscribeUserLoginStatus"),k)return y("existing information"),t(j());y("add task"),E.push(t)}function L(t){y("entry setDate"),window.__LIVE_USER_LOGIN_STATUS__=v({},t),k=!0}function j(){return window.__LIVE_USER_LOGIN_STATUS__}function R(){return j()||x}},52697:function(t,e,n){"use strict";n.r(e),n.d(e,{addClass:function(){return C},hasClass:function(){return x},removeClass:function(){return S},analytics:function(){return k},cookie:function(){return I},dataReport:function(){return T},domArray:function(){return O},isSupportWebp:function(){return A},loginStatus:function(){return j},loginStatusByCookie:function(){return R},pausePlayer:function(){return U},quickLogin:function(){return D},SeqAnimation:function(){return M},Redirector:function(){return F}});var r=n(25843),i=n.n(r),o=n(56474),a=n.n(o),s=n(3649),c=n.n(s),u=n(51942),l=n.n(u),f=n(93476),d=n.n(f),p=n(47302),h=n.n(p),v=n(20116),m=n.n(v),g=n(86902),b=n.n(g),y=n(43427),w=n.n(y),_=n(89430);function x(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)}function C(t,e){return!(!e||x(t,e))&&(t.className+=(t.className.length>0?" ":"")+e,!0)}function S(t,e){if(e&&x(t,e)){var n,r=new RegExp("((\\s|^)"+e+")|("+e+"(\\s|$))|("+e+")");return t.className=i()(n=t.className.replace(r,"")).call(n),!0}return!1}function k(t){t=t||1;w()("//data.bilibili.com/rec.js").then((function(){window.rec_rp=window.rec_rp||function(){(rec_rp.q=rec_rp.q||[["ptype",t]]).push(arguments)}})).then((function(){!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?8a6e55dbd2870f0f5bc9194cddf32a02";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}))}function E(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}var I=a()({getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,i,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(t,e,n){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:E,keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}});function T(t){(new Image).src=t}function O(t){return c()(Array.prototype).call(t)}var A=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var L="unknown";function j(t){return void 0===t&&(t=!1),L}_.userInfo.subscribe((function(t){L=t.isLogin?"loggedIn":"notLogin"}));var R=function(){return E("DedeUserID")&&!E("LIVE_LOGIN_DATA")?"First Login":E("DedeUserID")&&E("LIVE_LOGIN_DATA")};function D(t){void 0===t&&(t={});(t=l()({},{force:!1},t)).force?N():"unknown"===j(!0)?((0,_.initUserInfo)(),_.userInfo.subscribe((function(t){P()}))):P()}function P(){"notLogin"===j(!0)&&N()}function N(){throw setTimeout((function(){window.biliQuickLogin?B():w()("https://static.hdslb.com/account/bili_quick_login.js").then(B,B)}),1),new Error("[@blink-common/utils] 您没登陆，想干撒子？~~ -_-")}function B(){if(!window.biliQuickLogin)throw new Error("[@blink-common/utils] 快速登录脚本未正确载入.");window.biliQuickLogin((function(){window.postMessage("quickLogin:reloadRequest","*"),window.location.reload()}))}var M=function(){function t(t,e,n){"[object Array]"===Object.prototype.toString.call(t)?this.elements=t:this.elements=function(t){var e,n,r=h()(e=m()(n=b()(t)).call(n,(function(t){return t.indexOf("seqIn")>-1}))).call(e),i=[];return r.forEach((function(e){return i.push(t[e])})),i}(t),this.seqTiming=0,this.seqInTimeouts=[],this.displayMode=e,this.deltaTiming=n||80}var e=t.prototype;return e.seqIn=function(){var t=this;return new(d())((function(e){t.reset(),t.seqInTimeouts.forEach((function(t){return clearTimeout(t)})),t.elements.forEach((function(e,n){t.seqInTimeouts[n]=setTimeout((function(){e.style.display=t.displayMode}),t.seqTiming),t.seqTiming+=t.deltaTiming})),setTimeout(e,t.deltaTiming*t.elements.length)}))},e.reset=function(){this.elements.forEach((function(t){t.style.display="none"})),this.seqTiming=0},t}();var U=a()({liveIndex:function(){try{window.LivePlayer.pause_video()}catch(t){}}}),F=function(t){var e=window.location.search;if(!e.match(/disableAutoJump=1/i)){var n=window.location.pathname.replace(/\.htm.*/i,""),r=n.match(/-h5/i),i=navigator.userAgent,o=null!==i.match(/iPad/i)||null!==i.match(/iPhone/i)||null!==i.match(/iPod/i)||null!==i.match(/MicroMessenger/i)||null!==i.match(/Windows Phone/i)||null!==i.match(/Android/i);o&&!r&&(window.location.href=t||window.location.origin+n+"-h5"+e),!o&&r&&(window.location.href=t||window.location.origin+n.replace(/-h5/i,"")+e)}}},61228:function(t,e,n){"use strict";n.r(e),n.d(e,{bfsImgLink:function(){return d},getStrByteLength:function(){return p},greeting:function(){return y},numberFormat:function(){return x},randomEmoji:function(){return v},randomString:function(){return I},toNumber:function(){return T},strip:function(){return O},EventTracker:function(){return j},numberTrisection:function(){return R},toHexColor:function(){return D}});var r=n(51942),i=n.n(r),o=n(2991),a=n.n(o),s=n(56474),c=n.n(s),u=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();var l=/\.(png|jpg)$/,f=/bfs/;function d(t,e,n,r){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r={}),!l.test(t)||!f.test(t))return t;var i=r.useWebp,o=r.scale;return t&&"string"==typeof t&&/\.(jpg|gif|png)/.test(t)?(/\.(jpg|gif|png)@.+/.test(t)&&(t=t.replace(/@\d+\w+$/,"")),t+("number"==typeof e?"@"+e+"w":"")+("number"==typeof n?("number"==typeof e?"_":"@")+n+"h":"")+("string"==typeof o?"_"+o:"")+(u||i?".webp":"")):t}function p(t){return"string"!=typeof t?0:t.replace(/[\u4e00-\u9fa5]/g,"aa").length}var h={angry:[",,Ծ‸Ծ,,","(╯‵□′)╯︵┻━┻"],happy:["=‿=✧","●ω●","(/ ▽ \\)","(=・ω・=)","(●'◡'●)ﾉ♥","<(▰˘◡˘▰)>","(⁄ ⁄•⁄ω⁄•⁄ ⁄)","(ง,,• ᴗ •,,)ง ✧",">ㅂ<ﾉ ☆"],shock:["Σ( ° △ °|||)︴","┌( ಠ_ಠ)┘","(ﾟДﾟ≡ﾟдﾟ)!?","∑(っ °Д °;)っ"],sad:["＞︿＜","＞△＜","●︿●","(´；ω；`)"],helpless:["◐▽◑","ʅ（´◔౪◔）ʃ","_(:3 」∠)_","_(┐「ε:)_","(°▽°)ﾉ","←◡←","_(•̀ᴗ•́ 」∠ ❀)_","_φ(･ω･` )"]},v={};for(var m in h)!function(t){v[t]=function(){return g(t)}}(m);function g(t){return h[t][Math.floor(Math.random()*h[t].length)]}var b=(new Date).getFullYear();function y(t,e,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="450"),console.log("Bilibili "+t+" By © 2014 - "+b+" Bilibili Live Department... "+v.happy()),console.log("# Carry Your World #"),console.log("Version: "+e+", CodeName: "+n)}var w=[{unit:"亿",val:1e8},{unit:"万",val:1e4}],_={fixing:1,unit:"万",base:null},x={autoParse:C,tenThousand:C,oneHundred:function(t){return E(t)?t<1e5?""+t:k(w,t):t},create:S};function C(t){return E(t)?k(w,t):t}function S(t,e){return void 0===t&&(t=1e4),function(n){var r=parseInt(n,10);if(t=parseInt(t,10),isNaN(r)||isNaN(t))return"undefined"!=typeof console&&console.warn("[NumberFormat] 创建格式化函数时 threshold 与 传入数字必须为数字类型."),""+n;var o=i()({},_,e);return r<t?""+r:(r/(o.base||t)).toFixed(o.fixing)+" "+o.unit}}function k(t,e){return Array.isArray(t)?(t.some((function(t){if(e>=t.val)return n=S(t.val,{fixing:1,unit:t.unit})(e),!0})),n||""+e):console.warn("[NumberFormat] 无法获取格式化列表.");var n}function E(t){return"number"==typeof t}function I(){return(Date.now()*Math.ceil(1e5*Math.random())).toString(16)}var T=function(t,e){return void 0===e&&(e=10),function(t){if(10===e)return parseInt(t,10);t=parseInt(t,10).toString(e);return parseInt(t,10)}(t)},O=function(t,e){return void 0===e&&(e=12),+parseFloat(t.toPrecision(e))},A=i()||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},L=function(){function t(t){this.config=t,this.uid=this.getCookie("DedeUserID")||"0",this.buvid=this.getCookie("buvid3"),this.ua=navigator.userAgent}return t.prototype.track=function(t){this.url=window.location.href,this.options=t;var e=(new Date).getTime(),n=A({},this.config,this.options,{ctime:e,url:this.url,uid:this.uid,buvid:this.buvid,ua:this.ua}),r=n.taskid+e+this.serializeData(n);this.reportData(r)},t.prototype.getCookie=function(t){return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||""},t.prototype.serializeData=function(e){var n;return a()(n=t.logList).call(n,(function(t){return encodeURIComponent(e[t]||"")})).join("|")},t.prototype.reportData=function(t){var e="//data.bilibili.com/log/web?"+t,n=new XMLHttpRequest;n.open("GET",e,!0),n.send(null)},t.logList=["event_id","url","goto","item_type","item_name","item_id","uid","buvid","ua","platform","biz","ctime"],t}();var j=c()({createTracker:function(t){return new L(t)},track:function(t,e){new L(t).track(e)}});function R(t){if(t<1e3)return t;var e=t.toString().replace(/([^\.]+)/,"");return parseInt(t.toString(),10).toString().split("").reverse().join("").replace(/\d{3}/g,(function(t){return t+","})).replace(/\,$/,"").split("").reverse().join("")+e}function D(t){var e=t.toString(16),n="000000";return"#"+n.substr(0,n.length-e.length)+e}},80978:function(t,e,n){"use strict";n.r(e),n.d(e,{show:function(){return a},hide:function(){return s}});var r=n(57072),i=!1,o=null;function a(){o||((o=document.createElement("div")).className="live-cert-iframe-ctnr",o.innerHTML='\n    <div class="body-merge"></div>\n    <div class="live-cert-iframe">\n      <iframe id="live-cert-iframe" name="contentFrame" width="100%" height="100%" scrolling="no" allowtransparency="true" src="//live.bilibili.com/room/apply" frameborder="0"></iframe>\n      <button id="cert-iframe-close-btn" class="close-btn">X</button>\n    </div>\n  ',document.body.appendChild(o),document.querySelector("#cert-iframe-close-btn").addEventListener("click",s)),o.style.display="block"}function s(){o.style.display="none"}!function(){if(i)return;r.default.$on("LiveCert:Show",a),r.default.$on("LiveCert:Hide",s),i=!0}()},56056:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r={data:function(){return{uid:"link-radio-button-"+(Date.now()+100*Math.random())}},props:{value:{required:!0},currentValue:{required:!0},noLabel:{type:Boolean,default:!1},name:{type:String,default:""},id:{type:String},disabled:{type:Boolean,default:!1}},model:{prop:"currentValue",event:"valueChange"},created:function(){this.id&&(this.uid="link-radio-button-"+this.id)},methods:{iconClick:function(t){this.$refs.realInput.click()},valueChange:function(t){this.$emit(t.type,t),this.$emit("valueChange",t.target.value)}}},i=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-radio-button-ctnr",class:{disabled:t.disabled}},[n("input",{ref:"realInput",staticStyle:{display:"none"},attrs:{type:"radio",name:t.name,id:t.uid,disabled:t.disabled},domProps:{checked:t.value===t.currentValue,value:t.value},on:{input:t.valueChange,change:t.valueChange}}),n("span",{staticClass:"radio-icon",class:{selected:t.value===t.currentValue},on:{click:t.iconClick}}),t.noLabel?t._e():n("label",{staticClass:"link-radio-button-label",attrs:{for:t.uid}},[t._t("default")],2)])}),[],!1,null,"0cd45dfc",null).exports},1846:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(31795),i=n.n(r),o={props:{value:{required:!0},disable:{type:Boolean,defalut:!1},minValue:{type:Number,default:0},maxValue:{type:Number,default:1},step:{type:Number,default:.01},width:{type:Number,default:96}},data:function(){return{testValue:10}},computed:{browserName:function(){return i().name.toLowerCase()},inputBackgroundStyle:function(){return"ie"===this.browserName||"microsoft edge"===this.browserName||this.disable?{}:{background:"linear-gradient(to right, #23ADE5, #23ADE5 "+(this.value-this.minValue)/(this.maxValue-this.minValue)*100+"%, #E3E8EC "+(this.value-this.minValue)/(this.maxValue-this.minValue)*100+"%, #E3E8EC)"}}},methods:{onInput:function(t){this.$emit("input",t.target.value)},onChange:function(t){"ie"===this.browserName&&this.$emit("input",t.target.value)}}},a=(0,n(51900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-range-ctnr",style:{width:t.width+"px"}},[n("input",{staticClass:"range-input",class:t.browserName,style:t.inputBackgroundStyle,attrs:{type:"range",disabled:t.disable,min:t.minValue,max:t.maxValue,step:t.step},domProps:{value:t.value},on:{input:t.onInput,change:t.onChange}})])}),[],!1,null,"ae836604",null).exports},85453:function(t,e,n){"use strict";n.d(e,{Y:function(){return S},Tb:function(){return k},CA:function(){return E},CH:function(){return O},ai:function(){return A},_q:function(){return L}});var r=n(78580),i=n.n(r),o=n(2991),a=n.n(o),s=n(29010),c=n.n(s),u=n(36384),l=n.n(u),f=n(72119),d=n.n(f),p=(n(73700),function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v1-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}}),h=function(t,e){try{var n;if(i()(n=PerformanceObserver.supportedEntryTypes).call(n,t)){var r=new PerformanceObserver((function(t){var n;return a()(n=t.getEntries()).call(n,e)}));return r.observe({type:t,buffered:!0}),r}}catch(t){}},v=!1,m=function(t,e){v||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",(function(){})),v=!0);addEventListener("visibilitychange",(function n(r){"hidden"===document.visibilityState&&(t(r),e&&removeEventListener("visibilitychange",n,!0))}),!0)},g=function(t){addEventListener("pageshow",(function(e){e.persisted&&t(e)}),!0)},b="function"==typeof c()?new(c()):new(l()),y=function(t,e,n){var r;return function(){e.value>=0&&(n||b.has(e)||"hidden"===document.visibilityState)&&(e.delta=e.value-(r||0),(e.delta||void 0===r)&&(r=e.value,t(e)))}},w=-1,_=function(){return"hidden"===document.visibilityState?0:1/0},x=function(){m((function(t){var e=t.timeStamp;w=e}),!0)},C=function(){return w<0&&(w=_(),x(),g((function(){setTimeout((function(){w=_(),x()}),0)}))),{get timeStamp(){return w}}},S=function(t,e){var n,r=C(),i=p("FCP"),o=h("paint",(function(t){"first-contentful-paint"===t.name&&(o&&o.disconnect(),t.startTime<r.timeStamp&&(i.value=t.startTime,d()(i).push(t),b.add(i),n()))}));return o&&(n=y(t,i,e),g((function(r){i=p("FCP"),n=y(t,i,e),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,b.add(i),n()}))}))}))),o},k=(new Date,function(t,e,n){var r,i=C(),o=p("LCP"),s=function(t){var e=t.startTime;e<i.timeStamp&&(o.value=e,d()(o).push(t)),n&&document.querySelector(n)===t.element&&(c&&c.disconnect(),b.add(o)),r()},c=h("largest-contentful-paint",s);if(c){r=y(t,o,e);var u=function(){var t;b.has(o)||(a()(t=c.takeRecords()).call(t,s),c.disconnect(),b.add(o),r())};n||["keydown","click"].forEach((function(t){addEventListener(t,u,{once:!0,capture:!0})})),m(u,!0),g((function(n){o=p("LCP"),r=y(t,o,e),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-n.timeStamp,b.add(o),r()}))}))}))}return c}),E=function(t){var e,n=p("TTFB");e=function(){try{var e=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},I=function(t,e){void 0===e&&(e="pageshow"),"complete"===document.readyState?setTimeout(t,0):addEventListener(e,t)},T=function(){var t=performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e},O=function(t){var e=p("DCL");I((function(){try{var n=performance.getEntriesByType("navigation")[0]||T();e.value=e.delta=n.domContentLoadedEventEnd,e.entries=[n],t(e)}catch(t){}}))},A=function(t,e){var n,r=C(),i=p("FP"),o=h("paint",(function(t){"first-paint"===t.name&&(o&&o.disconnect(),t.startTime<r.timeStamp&&(i.value=t.startTime,d()(i).push(t),b.add(i),n()))}));return o&&(n=y(t,i,e),g((function(r){i=p("FP"),n=y(t,i,e),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,b.add(i),n()}))}))}))),o},L=function(t){var e=p("L");I((function(){try{var n=performance.getEntriesByType("navigation")[0]||T();e.value=e.delta=n.loadEventEnd,e.entries=[n],t(e)}catch(t){}}))}},50630:function(t,e,n){"use strict";n.d(e,{o:function(){return C}});var r=n(59340),i=n.n(r),o=n(3649),a=n.n(o),s=n(92762),c=n.n(s),u=n(86902),l=n.n(u),f=n(51942),d=n.n(f),p="Neptune>_<";var h=function(){function t(){}return t.encodeEvent=function(t,e,n){return void 0===n&&(n=p),r=i()({n:t,d:e,c:n}),btoa(encodeURIComponent(r));var r},t.decodeEvent=function(t){var e=JSON.parse(decodeURIComponent(atob(t)));return{eventName:e.n,eventDetail:e.d,channelId:e.c}},t}(),v={child:["internal:bindParent","internal:confirmChannelId"],parent:["internal:notifyChild"]},m={child:["internal:notifyChild"],parent:["internal:bindParent"]};function g(t){return"http"!==a()(t).call(t,0,4)&&"//"!==a()(t).call(t,0,2)||![/\.bilibili.com/].some((function(e){return e.test(t)}))}var b=function(){function t(t){var e=t.target,n=t.iframeRef;this._emitEventCache=[],this._isReady=!1,this._emitBlackList=[],this._listenBlackList=[],this._eventMap={},this._emitBlackList=m[e]||[],this._listenBlackList=v[e]||[],this._createCurrentWindowMessageHandler(),"child"===e?this._initChildEvent(n):this._initParentEvent()}return t.createChildEventPort=function(e){return new t({target:"child",iframeRef:e})},t.createParentEventPort=function(){return new t({target:"parent"})},Object.defineProperty(t.prototype,"_oppositeWindow",{get:function(){return this._frame?this._frame.contentWindow:window!==window.parent?window.parent:null},enumerable:!0,configurable:!0}),t.prototype._initChildEvent=function(t){var e=this;this._frame=t,this._channelId=Math.floor(1e5*Math.random()*Date.now()).toString(16);var n=function(){e._oppositeWindow.postMessage(h.encodeEvent("internal:notifyChild",e._channelId),"*")};this._addEventHandlerToMap("internal:bindParent",n),this._addEventHandlerToMap("internal:confirmChannelId",(function t(r){r===e._channelId&&(e.off("internal:bindParent",n),e.off("internal:confirmChannelId",t),e._isReady=!0,e._emitEventCache.forEach((function(t){return e.emit(t.eventName,t.eventDetail)})),e._emitEventCache=[])}))},t.prototype._initParentEvent=function(){var t=this;if(this._oppositeWindow&&!this._channelId){this._addEventHandlerToMap("internal:notifyChild",(function e(n){return"string"==typeof n&&(t._channelId=n,t._isReady=!0,t._oppositeWindow.postMessage(h.encodeEvent("internal:confirmChannelId",t._channelId,t._channelId),"*"),t._emitEventCache.forEach((function(e){return t.emit(e.eventName,e.eventDetail)})),t._emitEventCache=[]),t.off("internal:notifyChild",e)})),this._oppositeWindow.postMessage(h.encodeEvent("internal:bindParent"),"*")}},t.prototype._createCurrentWindowMessageHandler=function(){var t=this;this._currentWindowMessageHandler||(this._currentWindowMessageHandler=function(e){try{if("string"!=typeof e.data)return;var n=h.decodeEvent(e.data),r=n.channelId===p||t._channelId===n.channelId;if(!t._eventMap[n.eventName]||!r)return;if(g(e.origin)||n.eventDetail&&n.eventDetail.url&&g(n.eventDetail.url))return;t._eventMap[n.eventName].forEach((function(t){return t.call(null,n.eventDetail)}))}catch(t){console.warn("EmitFail",t)}},window.addEventListener("message",this._currentWindowMessageHandler))},t.prototype._addEventHandlerToMap=function(t,e){this._eventMap[t]||(this._eventMap[t]=[]),-1===this._eventMap[t].indexOf(e)&&this._eventMap[t].push(e)},t.prototype.dispose=function(){this._currentWindowMessageHandler&&(window.removeEventListener("message",this._currentWindowMessageHandler),this._currentWindowMessageHandler=null),this._isReady=!1,this._eventMap=null,this._frame=null},t.prototype.off=function(t,e){var n;if(this._eventMap&&this._eventMap[t]){var r=this._eventMap[t].indexOf(e);-1!==r&&(c()(n=this._eventMap[t]).call(n,r,1),0===this._eventMap[t].length&&delete this._eventMap[t])}},t.prototype.on=function(t,e){(this._oppositeWindow||this._frame)&&-1===this._listenBlackList.indexOf(t)&&this._addEventHandlerToMap(t,e)},t.prototype.emit=function(t,e){this._oppositeWindow&&-1===this._emitBlackList.indexOf(t)&&(this._isReady?this._oppositeWindow.postMessage(h.encodeEvent(t,e,this._channelId),"*"):(this._emitEventCache&&this._emitEventCache.length>100&&this._emitEventCache.shift(),this._emitEventCache.push({eventName:t,eventDetail:e})))},t}();var y=["style"],w=function(){function t(t,e){void 0===e&&(e=[]),this._frame=t,this._nativeEvents=e,this._nativeEvents.forEach((function(e){return t.addEventListener(e.type,e.handler)})),this.eventPort=b.createChildEventPort(t)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return!!this._frame},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawIFrame",{get:function(){return this._frame},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;this._frame&&(this.eventPort.dispose(),this.eventPort=null,this._nativeEvents.forEach((function(e){return t._frame.removeEventListener(e.type,e.handler)})),this._frame.parentElement&&this._frame.parentElement.removeChild(this._frame),this._frame=null)},t.prototype.setStyle=function(t){var e=this;this._frame&&l()(t).forEach((function(n){return e._frame.style[n]=t[n]}))},t.prototype.setAttr=function(t){var e=this;this._frame&&l()(t).forEach((function(n){-1===y.indexOf(n)&&(e._frame[n]=t[n])}))},t.prototype.attachTo=function(t){this._frame&&(this._frame.parentElement||t.appendChild(this._frame))},t}(),_=function(){function t(){}return t.createChildFrame=function(t,e,n,r){var i=new w(document.createElement("iframe"),r);return n&&l()(n).forEach((function(t){return i.eventPort.on(t,n[t])})),e&&i.setStyle(e),i.setAttr(t),i},t.parentEventPort=function(){return t._parentEventPort||(t._parentEventPort=b.createParentEventPort()),t._parentEventPort},t}(),x=function(){function t(){}return t.styles={fullscreen:{width:"100%",height:"100%",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",border:"none","z-index":"1000"},noBorder:{border:"none"},filledParent:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",border:"none"}},t.attrs={},t.parentElements={fullScreen:function(){return document.body}},t}(),C=function(){function t(){}return t.createChildFrame=function(t,e){void 0===e&&(e={});var n=d()({},e.attrs||{},{src:t});if(!e.parentElement)throw new Error("[FrameGear]: 未指定父元素");var r=_.createChildFrame(n,e.styles||{},e.initialEvents||{},e.nativeEventHandlers||[]);return e.parentElement&&r.attachTo(e.parentElement),r},t.createFullscreenChildFrame=function(e,n){void 0===n&&(n={});var r=d()({},x.styles.fullscreen,n.styles||{});return n.parentElement||(n.parentElement=x.parentElements.fullScreen()),t.createChildFrame(e,d()({},n,{styles:r}))},t.createNoBorderChildFrame=function(e,n){void 0===n&&(n={});var r=d()({},x.styles.noBorder,n.styles||{});return t.createChildFrame(e,d()({},n,{styles:r}))},t.createFilledParentChildFrame=function(e,n){void 0===n&&(n={});var r=d()({},x.styles.filledParent,n.styles||{});return t.createChildFrame(e,d()({},n,{styles:r}))},Object.defineProperty(t,"parentEventPort",{get:function(){return _.parentEventPort()},enumerable:!0,configurable:!0}),t}()},74636:function(t,e,n){"use strict";n.d(e,{p:function(){return N}});var r=n(93476),i=n.n(r),o=n(65420),a=n.n(o),s=n(98341),c=n.n(s),u=n(2991),l=n.n(u),f=n(86902),d=n.n(f),p=n(59340),h=n.n(p),v=n(51942),m=n.n(v);function g(t,e,n,r){return new(n||(n=i()))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function b(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof a()&&(o[c()]=function(){return this}),o;function u(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var y=n(29531).default.create(),w={getRoomInfo:function(t){return g(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return"https://api.live.bilibili.com/room/v1/Room/get_info",[4,y.get("https://api.live.bilibili.com/room/v1/Room/get_info",{params:{room_id:t,from:"room"}})];case 1:return[2,e.sent().data]}}))}))},reportEnterRoom:function(t){return g(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return"https://live-trace.bilibili.com/xlive/data-interface/v1/x25Kn/E",[4,y.post("https://live-trace.bilibili.com/xlive/data-interface/v1/x25Kn/E",t)];case 1:return[2,e.sent().data]}}))}))},reportHeartBeat:function(t){return g(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return"https://live-trace.bilibili.com/xlive/data-interface/v1/x25Kn/X",[4,y.post("https://live-trace.bilibili.com/xlive/data-interface/v1/x25Kn/X",t)];case 1:return[2,e.sent().data]}}))}))}};function _(){return window.location.pathname.match(/^\/(blanc\/)?(\d+).*$/i)[2]||""}var x={getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,i,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(t,e,n){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}};var C="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),S=new(function(){function t(){this.seq=0}return t.prototype.add=function(){return this.seq++,this.seq},t.prototype.get=function(){return this.seq},t}()),k="liveWatchTracker";function E(){var t={},e=localStorage.getItem(k);try{e&&(t=JSON.parse(e))}finally{}return t}var I=new(function(){function t(){}return t.prototype.get=function(){try{var t,e=JSON.parse(localStorage.getItem(k));return l()(t=d()(e)).call(t,(function(t){return e[t]}))||[]}catch(t){return[]}},t.prototype.set=function(t,e){var n=E();n[t]=e,localStorage.setItem(k,h()(n))},t.prototype.clear=function(t){if(t){var e=E();delete e[t],localStorage.setItem(k,h()(e))}else localStorage.removeItem(k)},t}()),T=function(){function t(){var t=this;this.heartBeatInfo={},this.callbacks={sign:function(e){return g(t,void 0,void 0,(function(){return b(this,(function(t){return[2,e]}))}))}}}return Object.defineProperty(t.prototype,"reportData",{get:function(){return{id:h()([this.heartBeatInfo.parent_id,this.heartBeatInfo.area_id,S.get(),this.heartBeatInfo.room_id]),device:h()([this.heartBeatInfo.buvid+"",C+""]),ets:this.heartBeatInfo.ets,benchmark:this.heartBeatInfo.benchmark,time:this.heartBeatInfo.time,ts:(new Date).getTime(),ua:window&&window.navigator?window.navigator.userAgent:""}},enumerable:!1,configurable:!0}),t.prototype.init=function(t){m()(this.heartBeatInfo,{buvid:x.getItem("LIVE_BUVID"),room_id:t.room_id,parent_id:t.parent_area_id,area_id:t.area_id})},t.prototype.setBodyParams=function(t){void 0===t&&(t={}),m()(this.heartBeatInfo,t)},t.prototype.getSign=function(t){return g(this,void 0,void 0,(function(){return b(this,(function(e){return[2,this.callbacks.sign(t)]}))}))},t.prototype.report=function(){return g(this,void 0,void 0,(function(){var t,e;return b(this,(function(n){switch(n.label){case 0:return t=this.reportData,[4,this.getSign(t)];case 1:return e=n.sent(),[2,w.reportHeartBeat(m()({s:e},t))]}}))}))},t.prototype.save=function(){return g(this,void 0,void 0,(function(){var t,e;return b(this,(function(n){switch(n.label){case 0:return t=this.reportData,[4,this.getSign(t)];case 1:return e=n.sent(),I.set(this.heartBeatInfo.room_id,m()({s:e},t)),[2]}}))}))},t.prototype.clearLocal=function(){return g(this,void 0,void 0,(function(){return b(this,(function(t){return I.clear(this.heartBeatInfo.room_id),[2]}))}))},t.prototype.injectCallbacks=function(t){this.callbacks=t},t}(),O=function(){function t(){this.enterRoomInfo={}}return Object.defineProperty(t.prototype,"reportData",{get:function(){var t={};return t.id=h()([this.enterRoomInfo.parent_id,this.enterRoomInfo.area_id,S.get(),this.enterRoomInfo.room_id]),t.device=h()([this.enterRoomInfo.buvid+"",C+""]),t.ts=(new Date).getTime(),t.is_patch=this.patchData&&this.patchData.length>0?1:0,t.heart_beat=h()(this.patchData),t.ua=window&&window.navigator?window.navigator.userAgent:"",t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"patchData",{get:function(){return I.get()},enumerable:!1,configurable:!0}),t.prototype.init=function(t){m()(this.enterRoomInfo,{buvid:x.getItem("LIVE_BUVID"),room_id:t.room_id,parent_id:t.parent_area_id,area_id:t.area_id})},t.prototype.setBodyParams=function(t){void 0===t&&(t={}),m()(this.enterRoomInfo,t)},t.prototype.report=function(){return g(this,void 0,void 0,(function(){return b(this,(function(t){return[2,w.reportEnterRoom(this.reportData)]}))}))},t}(),A="liveWatchHbCounter";function L(){var t=localStorage.getItem(A);return isNaN(t)?0:Number(t)}var j=new(function(){function t(){}return t.prototype.add=function(){var t=L()+1;return localStorage.setItem(A,t+""),t},t.prototype.get=function(){return L()},t.prototype.clear=function(){localStorage.setItem(A,"0")},t}());function R(t,e){"undefined"!=typeof window&&window.__statisObserver&&window.__statisObserver.sendClickEvent?(window.__statisObserver.sendClickEvent({sendStatus:"double",spm_id:"444.8.selfDef."+t,msg:e},{}),D.forEach((function(t){"undefined"!=typeof window&&window.__statisObserver&&window.__statisObserver.sendClickEvent&&window.__statisObserver.sendClickEvent({sendStatus:"double",spm_id:"444.8.selfDef."+t.eventName,msg:t.msg},{})}))):function(t,e){D.push({eventName:t,msg:e})}(t,e)}var D=[];function P(t){"undefined"!=typeof window&&window&&(window.__LIVE_WATCH_LOG__&&window.__LIVE_WATCH_LOG__.length||(window.__LIVE_WATCH_LOG__=[]),window.__LIVE_WATCH_LOG__.push("组件内日志："+t))}var N=new(function(){function t(){this.heartbeatCheckTimer=null,this.heartbeatCheckInterval=60,this.patchTimer=null,this.patchCheckInterval=15,this.roomInfo=null,this.timestamp=0,this.heartBeatInterval=0,this.secretKey="",this.secretRule=[],this.lastHeartbeatTimestamp=(new Date).getTime(),this.heartBeatEnabled=!1,this.heartBeatFailed=!1,this.debounceTimer=null,this.callbacks=null,this.serverTimestampLost=!1,this.heartBeatTracker=null,this.enterRoomTracker=null,this.enterRoomTracker=new O,this.heartBeatTracker=new T}return Object.defineProperty(t.prototype,"roomInfoIsValid",{get:function(){return this.roomInfo&&this.roomInfo.room_id&&this.roomInfo.parent_area_id&&this.roomInfo.area_id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"watchTimeFromLastReport",{get:function(){var t=Math.ceil(((new Date).getTime()-this.lastHeartbeatTimestamp)/1e3);return t<0?0:t>this.heartBeatInterval?this.heartBeatInterval:t},enumerable:!1,configurable:!0}),t.prototype.reportEvent=function(t,e){R(t,e)},t.prototype.init=function(){return g(this,void 0,void 0,(function(){var t,e,n,r;return b(this,(function(i){switch(i.label){case 0:return this.roomInfoIsValid?[3,2]:(t=_(),[4,w.getRoomInfo(t)]);case 1:if(e=i.sent(),n=e.code,r=e.data,0!==n)throw new Error;return this.roomInfo={room_id:r.room_id,area_id:r.area_id,parent_area_id:r.parent_area_id},[3,3];case 2:P("已获得过房间信息，不需要重复获取"),i.label=3;case 3:return this.enterRoomTracker.init(this.roomInfo),this.heartBeatTracker.init(this.roomInfo),[2]}}))}))},t.prototype.checkAndFixRoomInfo=function(){return g(this,void 0,void 0,(function(){var t,e,n,r;return b(this,(function(i){switch(i.label){case 0:return this.roomInfoIsValid?[3,2]:(t=_(),[4,w.getRoomInfo(t)]);case 1:if(e=i.sent(),n=e.code,r=e.data,0!==n)throw new Error("房间信息请求失败");this.roomInfo={room_id:r.room_id,area_id:r.area_id,parent_area_id:r.parent_area_id},i.label=2;case 2:return[2,!0]}}))}))},t.prototype.setSecretKey=function(t){this.secretKey=t,this.secretKey&&this.heartBeatTracker.setBodyParams({benchmark:this.secretKey})},t.prototype.setSignRules=function(t){this.secretRule=t},t.prototype.setTimestamp=function(t){this.lastHeartbeatTimestamp=(new Date).getTime(),this.timestamp=t,this.serverTimestampLost=!1,this.timestamp&&this.heartBeatTracker.setBodyParams({ets:this.timestamp})},t.prototype.reportEnter=function(t){return void 0===t&&(t=!1),g(this,void 0,void 0,(function(){var e,n,r,i,o=this;return b(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,this.init()];case 1:return a.sent(),this.reportEvent("live_w_web",{e:0,i:this.roomInfo,is_retry:t,ht:j.get()}),[4,this.checkAndFixRoomInfo()];case 2:if(a.sent(),!this.roomInfoIsValid)throw new Error("进入上报的房间信息不合法，"+h()(this.roomInfo));return[4,this.enterRoomTracker.report()];case 3:var s;if(e=a.sent(),n=e.code,(r=e.data)&&r.reason&&l()(r.reason))l()(s=r.reason).call(s,(function(t,e){var n=o.enterRoomTracker.patchData[e],r=JSON.parse(n.id),i={parent_area_id:r.parent_id,area_id:r.area_id,room_id:r.room_id};o.reportEvent("live_patch_web",{result:"success"===t?1:0,i:i,time:n.time})}));return 0===n&&(this.heartBeatInterval=r.heartbeat_interval,this.setSignRules(r.secret_rule),this.setSecretKey(r.secret_key),this.setTimestamp(r.timestamp),this.startTimer()),I.clear(),this.reportEvent("live_w_result_web",{e:0,result:0===n,i:this.roomInfo,is_retry:t,response_code:n,time:0}),[2,!0];case 4:return P("进入上报失败："+(i=a.sent()).message),this.reportEvent("live_w_result_web",{e:0,result:0,i:this.roomInfo,is_retry:t,response_code:500,error_msg:i.message||"",time:0}),[2,!1];case 5:return[2]}}))}))},t.prototype.setCallbacks=function(t){var e=this;this.callbacks=t,this.heartBeatTracker.injectCallbacks({sign:function(n){return g(e,void 0,void 0,(function(){return b(this,(function(e){return t.sign?[2,t.sign(n,this.secretRule)]:[2,n]}))}))}})},t.prototype.stopTimer=function(){this.clearHeartbeatCheckTimer(),this.clearPatchTimer()},t.prototype.clearHeartbeatCheckTimer=function(){this.heartbeatCheckTimer&&(clearInterval(this.heartbeatCheckTimer),this.heartbeatCheckTimer=null)},t.prototype.clearPatchTimer=function(){this.patchTimer&&(clearInterval(this.patchTimer),this.patchTimer=null)},t.prototype.startTimer=function(){this.lastHeartbeatTimestamp=(new Date).getTime(),this.startHeartbeatCheckTimer(),this.startPatchTimer()},t.prototype.startHeartbeatCheckTimer=function(){var t=this;this.clearHeartbeatCheckTimer(),this.heartbeatCheckTimer=setInterval((function(){return t.checkHeartbeat()}),1e3*this.heartbeatCheckInterval)},t.prototype.startPatchTimer=function(){var t=this;this.clearPatchTimer(),this.patchTimer=setInterval((function(){return t.savePatchData()}),1e3*this.patchCheckInterval)},t.prototype.checkHeartbeat=function(){return g(this,void 0,void 0,(function(){var t;return b(this,(function(e){switch(e.label){case 0:return 5,this.watchTimeFromLastReport+5>=this.heartBeatInterval?(this.heartBeatFailed&&this.reportEvent("live_w_d_web",{e:1,t:this.timestamp,time:this.heartBeatInterval}),this.serverTimestampLost&&this.setTimestamp(this.timestamp+this.heartBeatInterval),[4,this.reportHeartBeat()]):[3,2];case 1:return t=e.sent(),this.heartBeatFailed=!t,t&&this.heartBeatTracker.clearLocal(),this.startTimer(),[3,4];case 2:return this.heartBeatFailed?[4,this.reportHeartBeat(this.heartBeatInterval,!0)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},t.prototype.savePatchData=function(){this.heartBeatTracker.setBodyParams({time:this.watchTimeFromLastReport>this.heartBeatInterval?this.heartBeatInterval:this.watchTimeFromLastReport}),this.heartBeatTracker.save()},t.prototype.reportHeartBeat=function(t,e,n){return void 0===t&&(t=this.heartBeatInterval),void 0===e&&(e=!1),void 0===n&&(n=!1),g(this,void 0,void 0,(function(){var r,i,o,a;return b(this,(function(s){switch(s.label){case 0:if(!t||!this.heartBeatEnabled)return[2,!1];this.heartBeatTracker.setBodyParams({time:t}),this.heartBeatFailed=!1,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,this.checkAndFixRoomInfo()];case 2:if(s.sent(),!this.roomInfoIsValid)throw new Error("心跳上报的房间信息不合法，"+h()(this.roomInfo));return this.reportEvent("live_w_web",{e:n?2:1,i:this.roomInfo,is_retry:e,time:t}),[4,this.heartBeatTracker.report()];case 3:if(r=s.sent(),i=r.code,(o=r.data)&&o.heartbeat_interval&&(this.heartBeatInterval=o.heartbeat_interval),o&&o.secret_key&&this.setSecretKey(o.secret_key),o&&o.secret_rule&&this.setSignRules(o.secret_rule),o&&o.timestamp?this.setTimestamp(o.timestamp):this.serverTimestampLost=!0,this.reportEvent("live_w_result_web",{e:n?2:1,result:0===i?1:0,i:this.roomInfo,is_retry:e,response_code:i,time:t}),0===i?(this.callbacks.onSuccess(o),j.add()):this.reportEvent("live_w_d_web",{t:this.timestamp,i:this.roomInfo,e:1,time:this.heartBeatInterval}),0!==i&&1012001!==i&&1012002!==i&&1012003!==i)throw new Error("心跳错误，错误代码 "+i);return 0!==i?(this.callbacks.onFail(11),[2,!1]):(S.add(),[2,!0]);case 4:return a=s.sent(),this.callbacks.onFail(11),this.reportEvent("live_w_result_web",{e:0,result:0,i:this.roomInfo,is_retry:e,response_code:500,error_msg:a.message||"",time:t}),this.heartBeatFailed=!0,[2,!1];case 5:return[2]}}))}))},t.prototype.start=function(t){return g(this,void 0,void 0,(function(){var e,n,r,i;return b(this,(function(o){switch(o.label){case 0:return P("开始观看"),this.secretKey&&this.debounceTimer?(P("触发防抖策略"),clearTimeout(this.debounceTimer),this.debounceTimer=null,[2]):[4,this.init()];case 1:o.sent(),this.setCallbacks(t),n=e=3,o.label=2;case 2:return(r=n>0)?[4,this.reportEnter(n<e)]:[3,4];case 3:r=!o.sent(),o.label=4;case 4:return r?(n--,[3,2]):[3,5];case 5:return S.add(),j.clear(),(i=n>0)?this.heartBeatEnabled=!0:(this.heartBeatEnabled=!1,t.onFail(10)),[2,i]}}))}))},t.prototype.stop=function(){return g(this,void 0,void 0,(function(){var t,e=this;return b(this,(function(n){return this.debounceTimer||(t=1e3*(Math.ceil(50*Math.random())+10),this.debounceTimer=setTimeout((function(){return g(e,void 0,void 0,(function(){return b(this,(function(t){switch(t.label){case 0:return this.debounceTimer=null,this.stopTimer(),[4,this.reportHeartBeat(this.watchTimeFromLastReport,!1,!0)];case 1:return t.sent(),I.clear(this.roomInfo.room_id),[2]}}))}))}),t)),[2]}))}))},t.prototype.update=function(t){t.room_id&&t.parent_area_id&&t.area_id&&(this.roomInfo=t,this.enterRoomTracker.setBodyParams(t),this.heartBeatTracker.setBodyParams(t))},t}())},6619:function(t,e,n){"use strict";n.d(e,{F:function(){return o}});var r=n(86902),i=n.n(r),o=(n(66337),function(){function t(t,e){void 0===e&&(e=500),this.io=null,this.timer=null,this.domList={},this.delay=500,this.entryList={},null===this.io&&(this.writeToServer=t,this.delay=e,this.init())}return t.prototype.init=function(){var t=this;this.io=new IntersectionObserver((function(e){clearTimeout(t.timer),e.forEach((function(e){var n=e.target.getAttribute("data-index"),r=e.target.getAttribute("data-type"),i=t._getEntryName(r,n);e.isIntersecting&&e.intersectionRatio>=.5&&"1"!==e.target.getAttribute("isReported")&&(t.entryList[i]=e),e.isIntersecting||"true"===e.target.getAttribute("data-norepeat")||(delete t.entryList[i],e.target.removeAttribute("isReported"))})),t.timer=setTimeout((function(){i()(t.entryList).forEach((function(e){var n=t.entryList[e].target.getAttribute("data-event-name"),r=JSON.parse(t.entryList[e].target.getAttribute("data-report")),i=t.writeToServer({event:n,params:r}),o=function(){t.domList[e]&&(t.domList[e].setAttribute("isReported","1"),delete t.entryList[e])};i&&"function"==typeof i.then?i.then((function(){o()})):o()}))}),t.delay)}),{threshold:.5})},t.prototype.add=function(t){if(t&&t.el){this.io.observe(t.el);var e=this._getEntryName(t.el.getAttribute("data-type"),t.el.getAttribute("data-index"));this.domList[e]=t.el}},t.prototype._getEntryName=function(t,e){return t+"-"+e},t.prototype.reset=function(){console.warn("refresh"),this.io.disconnect()},t}())},131:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(17388),i=document.createElement("div");function o(){}var a={props:{button:{default:function(){return{confirm:"确定",cancel:"取消"}}},width:{type:Number,default:500},classNames:{type:Array,default:function(){return[]}},title:{type:String,default:""},titleCenter:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},show:{type:Boolean,default:!1},onConfirm:{type:Function,default:o},onCancel:{type:Function,default:o}},components:{LinkBtn:r.default},computed:{buttons:function(){return{confirmBtn:this.$refs.confirmBtn?this.$refs.confirmBtn.$el:i,cancelBtn:this.$refs.cancelBtn?this.$refs.cancelBtn.$el:i,closeBtn:this.$refs.closeBtn}}},methods:{onConfirmFunc:function(t){this.onConfirm(t,this.buttons)},onCancelBtnClickFunc:function(t){this.onCancel(t,this.buttons,"cancel")},onCloseBtnClickFunc:function(t){this.onCancel(t,this.buttons,"close")}}},s=(0,n(51900).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"scale-out","leave-active-class":"a-scale-out"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"link-popup-panel p-relative m-auto a-move-in-top a-forwards",class:t.classNames,style:{width:t.width+"px"||0}},[n("div",{staticClass:"title-ctnr p-relative",class:{"t-center":t.titleCenter}},[n("h2",{staticClass:"popup-title",domProps:{textContent:t._s(t.title)}})]),n("div",{staticClass:"popup-content-ctnr"},[t._t("default"),!1!==t.button?n("div",{staticClass:"popup-btn-ctnr t-center"},[!1!==t.button.confirm?n("link-btn",{ref:"confirmBtn",staticClass:"panel-btn",attrs:{disabled:t.disabled},domProps:{textContent:t._s(t.button.confirm||"确定")},nativeOn:{click:function(e){return t.onConfirmFunc.apply(null,arguments)}}}):t._e(),!1!==t.button.cancel?n("link-btn",{ref:"cancelBtn",staticClass:"panel-btn",attrs:{type:"ghost",disabled:t.disabled},domProps:{textContent:t._s(t.button.cancel||"取消")},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"natvie",void 0,e.key,void 0)?null:t.onCancelBtnClickFunc.apply(null,arguments)}}}):t._e()],1):t._e()],2),n("div",{ref:"closeBtn",staticClass:"close-btn p-absolute bg-center bg-no-repeat pointer t-center",class:{disabled:t.disabled},attrs:{role:"button",title:"关闭面板"},on:{click:t.onCloseBtnClickFunc}},[n("i",{staticClass:"icon-font icon-close"})])])])}),[],!1,null,"7beda87a",null).exports}}]);