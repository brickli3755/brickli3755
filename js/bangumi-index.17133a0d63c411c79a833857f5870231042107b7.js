"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}if(!(window.ActiveXObject||"ActiveXObject"in window)){var __getClientLogo=function(){var t,e=JSON.parse(decodeURI(atob("JTVCJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLy8lMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMC8vJTIyLCUyMiUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlNUMlNUMlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlMjAvLyUyMiwlMjIlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyNEREREREREREREREREREREREREREREIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwREREREREREREREREREREREREREQlMjAjIyUyMiwlMjIlMjAlMjAlMjBfX19fX19fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fX19fX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwX19fJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCU3QyU1QyU1QyUyMCUyMCUyMF9fJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyMlMjBoaCUyMCUyMCUyMCUyMC8vJTIwJTIwJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAvXyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU3QyU1QyU1QyUyMC9fJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAvLyUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlMjBfXyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUNfX19fJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDX19fXyUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwd3d3dyUyMCUyMCUyMCUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyME1NTU1NTU1NTU1NTU1NTU1NTU1NJTIwIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMFJlbGVhc2UlMjAxLjAuMC4lMjBQb3dlcmVkJTIwYnklMjBqaW5rZWxhLWNvcmUlMjAyLjQuOC4lMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDLyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1Qy8lMjIsJTIyJTIyJTVEJTVE"))),i=["%c"],n=[];e.forEach(function(t){var e=t[0],n=t[1];i.push(e+n)}),n=n.concat(["color:#00a1d6"]),n=[i.join("\n")].concat(n),(t=console).log.apply(t,_toConsumableArray(n))};__getClientLogo()}!function(t){function e(e){for(var n,o,l=e[0],s=e[1],c=e[2],y=0,h=[];y<l.length;y++)o=l[y],r[o]&&h.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(u&&u(e);h.length;)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,l=1;l<i.length;l++){var s=i[l];0!==r[s]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},r={0:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="//s1.hdslb.com/bfs/static/bangumi-index/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=s;a.push([29,1]),i()}([,,,,,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},,,,,,,,,,,,function(t,e,i){t.exports=i(58)},,,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(8);i.n(n).a},function(t,e,i){var n=i(9);i.n(n).a},function(t,e,i){var n=i(10);i.n(n).a},function(t,e,i){var n=i(11);i.n(n).a},function(t,e,i){var n=i(12);i.n(n).a},function(t,e,i){var n=i(13);i.n(n).a},function(t,e,i){var n=i(14);i.n(n).a},function(t,e,i){var n=i(15);i.n(n).a},function(t,e,i){var n=i(16);i.n(n).a},function(t,e,i){var n=i(17);i.n(n).a},function(t,e,i){i.r(e);var n=i(5),r=i(19),a=i(2),o=i(6),l=i.n(o),s=i(3),c=i.n(s),u=i(1),y=i.n(u),h=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}();function f(t){return t?t.replace(/^http(s)?:/,""):""}function d(t,e){if(t){var i=t.getBoundingClientRect(),n=e||0;return i.x+i.y+i.width+i.height!==0&&(i.top<window.innerHeight+n&&i.bottom>=0)}}function w(t,e,i){var n=null,r=0;return function(){var a=this,o=arguments,l=+new Date;clearTimeout(n),r||(r=l),l-r>=i?(t.apply(a,o),r=l):n=setTimeout(function(){t.apply(a,o)},e)}}function p(t){if(t&&"object"===l()(t)){var e=[];for(var i in t)if(t.hasOwnProperty(i)&&void 0!==t[i]){var n="object"===l()(t[i])?JSON.stringify(t[i]):t[i];e.push("".concat(i,"=").concat(encodeURIComponent(n)))}return e.join("&")}return""}var m,M,T=function(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=document.cookie.match(e);return i?unescape(i[2]):null},U=(m={},y()(m,"SET_LOGIN_INFO",function(t,e){t.loginInfo={isLogin:e.isLogin||!1,face:f(e.face||""),uname:e.uname||"",mid:e.mid||T("DedeUserID"),isVip:(1===e.vipType||2===e.vipType)&&1===e.vipStatus,levelInfo:e.level_info||{},vipType:e.vipType,vipStatus:e.vipStatus,mobileVerified:e.mobile_verified},window&&window.Sentry&&window.Sentry.configureScope(function(e){e.setUser({mid:t.loginInfo.mid||"",uname:t.loginInfo.uname||""})}),t.isLogin=e.isLogin||!1}),y()(m,"SET_COUPON_SELECTED",function(t,e){t.couponSelected=Object.assign({},t.couponSelected,e)}),y()(m,"SET_PAY_GLOBAL",function(t,e){t.payGlobal=Object.assign({},t.payGlobal,e)}),m),v=i(18),g=i.n(v),b=function(t){var e,i,n,r={url:(e=t.url,i="undefined"==typeof window,n=i?"http:":window.location.protocol||"https:",e.indexOf(".bilibili.co")>-1?(e.indexOf("-mng.bilibili.co")>-1||e.indexOf("manager.bilibili.co"),/^http(s)?:/.test(e)?e:0===e.indexOf("//")?"".concat(n).concat(e):"".concat(n,"//").concat(e)):"".concat(n,"//api.bilibili.com/").concat(e)),timeout:t.timeout||1e4},a=r.url.indexOf("-mng.bilibili.co")>-1||r.url.indexOf("manager.bilibili.co")>-1;return void 0===t.method&&(t.method="GET"),t.method&&"GET"===t.method.toUpperCase()&&!1!==t.include?r.withCredentials=!0:!0===t.include&&(r.withCredentials=!0),t.params&&(r.params=t.params),t.headers&&t.headers["x1-bilispy-color"]&&(r.headers=Object.assign(r.headers||{},{"x1-bilispy-color":t.headers["x1-bilispy-color"]})),t.headers&&t.headers["x-backend-bili-real-ip"]&&(r.headers=Object.assign({},r.headers||{},{"X-BACKEND-BILI-REAL-IP":t.headers["x-backend-bili-real-ip"]})),t.headers&&t.headers["x-real-ip"]&&(r.headers=Object.assign({},r.headers||{},{"x-real-ip":t.headers["x-real-ip"]})),t.cookies&&(r.withCredentials=!0,r.headers=Object.assign(r.headers||{},{cookie:t.cookies})),t.method&&"GET"===t.method.toUpperCase()?g.a.get(r.url,r).then(function(t){return t}).catch(function(t){return a&&"undefined"!=typeof window&&"Network Error"===t.message&&!window.errorRedirect&&(window.location.href="//".concat("","bangumi-mng.bilibili.co/html/403.html")),{status:404,msg:t.stack}}):(t.method&&(r.method=t.method),r.method&&r.method.toUpperCase().indexOf("POST")>-1&&(r.headers||(r.headers={}),"MNG-POST"===r.method.toUpperCase()?(r.headers["content-type"]="application/json;charset=UTF-8",r.method="POST",r.data=r.params):(r.headers["content-type"]="application/x-www-form-urlencoded",r.data=r.params instanceof window.FormData?r.params:p(r.params||{})),delete r.params),g()(r).then(function(t){return t}).catch(function(t){return a&&"undefined"!=typeof window&&"Network Error"===t.message&&!window.errorRedirect&&(window.location.href="//".concat("","bangumi-mng.bilibili.co/html/403.html")),{status:404,msg:t.stack}}))};M={},y()(M,"FETCH_LOGIN",function(t,e){var i=t.commit,n=e.reload,r=void 0!==n&&n;return window.__BILI_USER_INFO__&&!r?i(U.SET_LOGIN_INFO,window.__BILI_USER_INFO__):b({method:"GET",url:"x/web-interface/nav",params:{ts:(new Date).getTime()},include:!0}).then(function(t){var e={};200===t.status&&t.data&&(e=t.data.data||{},window.__BILI_USER_INFO__||(window.__BILI_USER_INFO__=e)),i("SET_LOGIN_INFO",e)})}),y()(M,"CHANGE_COUPON_SELECTED",function(t,e){(0,t.commit)("SET_COUPON_SELECTED",e.couponSelected)}),y()(M,"CHANGE_PAY_GLOBAL",function(t,e){(0,t.commit)("SET_PAY_GLOBAL",e.pay)});n.a.use(a.a);var _;function I(t){var e={};if("object"!==l()(t)||t instanceof Array)return{};var i=function(i){if(t.hasOwnProperty(i)){var n=i.replace(/([A-Z])/g,"_$1").toUpperCase();e[n]=function(t){return t[i]}}};for(var n in t)i(n);return e}var J,C=(_={},y()(_,"SET_FILTERS",function(t,e){var i=e.filter||[],n=[];i.map(function(e){var i={title:e.name,key:e.field,list:e.values.map(function(t){return{value:isNaN(Number(t.keyword))?t.keyword:Number(t.keyword),name:t.name}})};"style_id"===i.key&&(i.line=10,1!==t.ssType&&4!==t.ssType&&(i.free=!0)),"pub_date"!==i.key&&"season_status"!==i.key&&"producer_id"!==i.key&&"year"!==i.key||(i.free=!0),"area"===i.key&&1!==t.ssType&&4!==t.ssType&&(i.free=!0),"is_finish"===i.key&&1!==t.ssType&&4!==t.ssType&&(i.free=!0),n.push(i)}),t.filters=n;var r=e.order||[];t.orders=r.map(function(t){return{title:t.name,key:t.field,sort:t.sort||"0"}})}),y()(_,"SET_PAGE_DATA",function(t,e){var i=e.count,n=e.list,r=e.pages;t.total=i?Number(i):0,t.pageData=n||[],t.pages=r?Number(r):0}),_),j=(J={},y()(J,"FETCH_FILTERS",function(t,e){var i=t.commit;return b({url:"pgc/season/index/condition",params:{season_type:e.ssType,type:1},headers:e.headers}).then(function(t){var e=200===t.status&&t.data&&0===t.data.code&&t.data.data?t.data.data:{};i("SET_FILTERS",e)})}),y()(J,"FETCH_LIST_DATA",function(t,e){var i=t.commit,n=e.hash;n.type=1;var r=[];for(var a in n)n.hasOwnProperty(a)&&r.push("".concat(a,"=").concat(encodeURIComponent(n[a])));return b({url:"pgc/season/index/result?".concat(r.join("&")),include:!0}).then(function(t){var e=200===t.status&&t.data&&t.data.data?t.data.data:{},r=e.total||0,a={list:e.list||[],count:r,pages:Math.ceil(r/n.pagesize)};i("SET_PAGE_DATA",a)})}),J),A={indexType:"anime",ssType:1,tid:13,filters:[],orders:[],total:0,pageData:[],pages:0},N={state:A,getters:I(A),actions:j,mutations:C},E=new n.a,x={props:{state:{default:"loading"},data:{}},computed:{source:function(){var t,e=Object.prototype.toString;return"[object Array]"===e.call(this.data)?0!==this.data.length:"[object Object]"===e.call(this.data)?(t=this.data,!("{}"===JSON.stringify(t))):void 0}},methods:{reloads:function(){this.$emit("reload")}}},P=(i(48),i(0)),D=Object(P.a)(x,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.source?t._e():i("div",{staticClass:"load-state"},["loading"===t.state?i("span",{staticClass:"loading"},[t._v("正在加载...")]):t._e(),t._v(" "),"error"===t.state?i("span",{staticClass:"error"},[t._v("加载失败，\n        "),i("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.reloads()}}},[t._v("点击重试")])]):t._e(),t._v(" "),"loaded"===t.state?i("span",{staticClass:"empty"},[t._v("没有数据(-_-#)")]):t._e()])},[],!1,null,null,null).exports;function O(t,e,i){if(window.reportObserver){e=e||{};var n=window.reportConfig&&window.reportConfig.msgObjects?window.reportConfig.msgObjects:"";if(window[n])for(var r in t=t||{})if(t.hasOwnProperty(r)){window[n][r+"_"+t[r]]=e;try{window.reportObserver.forceCommit()}catch(t){}}}else setTimeout(function(){O(t,e)},1e3)}function S(t){if(t)return 0===t.indexOf("//")?window.location.protocol+t:0===t.indexOf("/")?location.origin+t:0===t.indexOf("http")?t:location.href+t}var V={computed:c()({},Object(a.b)(["SS_TYPE"])),methods:{biliReport:function(t,e){O({click:"subarea"},{title:e,url:S(t)})}}},Q=(i(49),Object(P.a)(V,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-index-crumb"},[1===t.SS_TYPE?i("ul",{staticClass:"clearfix"},[i("li",[i("a",{attrs:{href:"//www.bilibili.com/anime/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/anime/","全部")}}},[t._v("全部")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/anime/serial/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/anime/serial/","连载动画")}}},[t._v("连载动画")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/anime/finish/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/anime/finish/","完结动画")}}},[t._v("完结动画")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/anime/information/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/anime/information/","资讯")}}},[t._v("资讯")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/anime/offical/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/anime/offical/","官方延伸")}}},[t._v("官方延伸")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/anime/timeline/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/anime/timeline/","新番时间表")}}},[t._v("新番时间表")])]),t._v(" "),t._m(0)]):t._e(),t._v(" "),2===t.SS_TYPE?i("ul",{staticClass:"clearfix"},[i("li",[i("a",{attrs:{href:"//www.bilibili.com/movie/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/movie/","全部")}}},[t._v("全部")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/movie/chinese/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/movie/chinese/","华语电影")}}},[t._v("华语电影")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/movie/west/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/movie/west/","欧美电影")}}},[t._v("欧美电影")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/movie/japan/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/movie/japan/","日本电影")}}},[t._v("日本电影")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/movie/movie/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/movie/movie/","其他国家")}}},[t._v("其他国家")])]),t._v(" "),t._m(1)]):t._e(),t._v(" "),3===t.SS_TYPE?i("ul",{staticClass:"clearfix"},[i("li",[i("a",{attrs:{href:"//www.bilibili.com/documentary/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/documentary/","全部")}}},[t._v("全部")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/documentary/history/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/documentary/history/","人文·历史")}}},[t._v("人文·历史")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/documentary/science/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/documentary/science/","科学·探索·自然")}}},[t._v("科学·探索·自然")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/documentary/military/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/documentary/military/","军事")}}},[t._v("军事")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/documentary/travel/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/documentary/travel/","社会·美食·旅行")}}},[t._v("社会·美食·旅行")])]),t._v(" "),t._m(2)]):t._e(),t._v(" "),4===t.SS_TYPE?i("ul",{staticClass:"clearfix"},[i("li",[i("a",{attrs:{href:"//www.bilibili.com/guochuang/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/guochuang/","全部")}}},[t._v("全部")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/guochuang/chinese/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/guochuang/chinese/","国产动画")}}},[t._v("国产动画")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/guochuang/original/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/guochuang/original/","国产原创相关")}}},[t._v("国产原创相关")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/guochuang/puppetry/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/guochuang/puppetry/","布袋戏")}}},[t._v("布袋戏")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/guochuang/motioncomic/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/guochuang/motioncomic/","动态漫·广播剧")}}},[t._v("动态漫·广播剧")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/guochuang/information/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/guochuang/information/","资讯")}}},[t._v("资讯")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/guochuang/timeline/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/guochuang/timeline/","新番时间表")}}},[t._v("新番时间表")])]),t._v(" "),t._m(3)]):t._e(),t._v(" "),5===t.SS_TYPE?i("ul",{staticClass:"clearfix"},[i("li",[i("a",{attrs:{href:"//www.bilibili.com/tv/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/tv/","全部")}}},[t._v("全部")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/tv/mainland/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/tv/mainland/","国产剧")}}},[t._v("国产剧")])]),t._v(" "),i("li",[i("a",{attrs:{href:"//www.bilibili.com/v/tv/overseas/"},on:{click:function(e){return t.biliReport("//www.bilibili.com/v/tv/overseas/","海外剧")}}},[t._v("海外剧")])]),t._v(" "),t._m(4)]):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"on"},[e("a",{attrs:{href:"javascript:;"}},[this._v("番剧索引")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"on"},[e("a",{attrs:{href:"javascript:;"}},[this._v("电影索引")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"on"},[e("a",{attrs:{href:"javascript:;"}},[this._v("纪录片索引")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"on"},[e("a",{attrs:{href:"javascript:;"}},[this._v("国产动画索引")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"on"},[e("a",{attrs:{href:"javascript:;"}},[this._v("电视剧索引")])])}],!1,null,null,null).exports),R={props:{item:{type:Object,required:!0},sort:{type:Number,required:!0},current:{type:String,required:!0}},methods:{clickHandler:function(){this.item.key===this.current?"0,1"===this.item.sort&&E.$emit("FILTER_CHANGE",{sort:1===this.sort?0:1,page:1}):E.$emit("FILTER_CHANGE",{order:this.item.key,sort:0,page:1})}}},k=(i(50),Object(P.a)(R,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:["sort-item",{on:t.current===t.item.key,"lock-desc":"0"===t.item.sort,"lock-asc":"1"===t.item.sort}],on:{click:t.clickHandler}},[i("i",{class:["up",{active:1===t.sort}]}),i("span",{domProps:{textContent:t._s(t.item.title)}}),i("i",{class:["down",{active:0===t.sort}]})])},[],!1,null,null,null).exports),L={data:function(){return{current:""}},props:{hash:{type:Object,required:!0}},computed:c()({},Object(a.b)(["ORDERS"])),watch:{hash:{handler:function(t,e){this.current=t.order},deep:!0}},mounted:function(){var t=this;void 0!==this.hash.order&&(this.current=this.hash.order),E.$on("FILTER_RESET",function(){t.current=t.hash.order})},components:{SortItem:k}},X=(i(51),Object(P.a)(L,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"sort-banner clearfix"},t._l(t.ORDERS,function(e,n){return i("sort-item",{key:n,attrs:{current:t.current.toString(),item:e,sort:t.hash.sort||0}})}),1)},[],!1,null,null,null).exports),F={props:{src:{},width:{},height:{},alt:{},webp:{default:!0},hd:{default:!0},cut:{default:!1,type:Boolean}},computed:{ratio:function(){return this.hd?function(){var t=1;return"undefined"==typeof window?t:(void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?t=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),1===t?2:t)}():2},source:function(){return this.webp?function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return t;var r=t.match(/(.*\.(jpg|jpeg|gif|png))(\?.*)?/),a=-1!==t.indexOf("/bfs/");if(!r||"gif"===r[2]||!a)return f(t);e=Math.ceil(e),i=Math.ceil(i);var o=e&&i?"@"+e+"w_"+i+"h":"@";n&&(o+="_1c");var l=r[3]?r[3]:"";return f(h?r[1]+o+".webp"+l:r[1]+o+"."+r[2]+l)}(this.src,Math.ceil(this.width*this.ratio),Math.ceil(this.height*this.ratio),this.cut):f(this.src)}}},$=(i(52),Object(P.a)(F,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common-lazy-img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:this.source,expression:"source"}],attrs:{alt:this.alt||"",src:""}})])},[],!1,null,null,null).exports),G={props:{item:{type:Object,required:!0},sortType:{type:String,required:!0},ssType:{type:Number,required:!0}},computed:{playUrl:function(){return"//www.bilibili.com/bangumi/play/ss".concat(this.item.season_id||this.item.movie_id,"/")},pubInfo:function(){return this.item.index_show||""},badge:function(){return(this.item.badge_info||{}).text||this.item.badge},badgeColor:function(){return(this.item.badge_info||{}).bg_color||""},cornerTagCls:function(){return this.item.badge?"badge_".concat(void 0===this.item.badge_type?"":this.item.badge_type):""},shadowTxt:function(){return"5"===this.sortType&&/^(今天|昨天)/.test(this.item.order)?"".concat(this.item.order.substr(0,2),"开播"):this.item.order}},components:{BiliImg:$}},B=(i(53),Object(P.a)(G,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"bangumi-item"},[i("a",{staticClass:"cover-wrapper",attrs:{href:t.playUrl,target:"_blank"}},[i("bili-img",{attrs:{src:t.item.cover,alt:"",width:160,height:214}}),t._v(" "),t.shadowTxt?i("div",{class:["shadow",{"shadow-score":"score"===t.sortType}],domProps:{textContent:t._s(t.shadowTxt)}}):t._e(),t._v(" "),t.badge?i("span",{class:["corner-tag",t.cornerTagCls],style:{backgroundColor:t.badgeColor},domProps:{textContent:t._s(t.badge)}}):t._e()],1),t._v(" "),i("a",{staticClass:"bangumi-title",attrs:{href:t.playUrl,target:"_blank"},domProps:{textContent:t._s(t.item.title)}}),t._v(" "),2!==t.ssType?i("p",{staticClass:"pub-info",domProps:{textContent:t._s(t.pubInfo)}}):t._e()])},[],!1,null,null,null).exports),H={props:{count:{type:Number,default:0},unit:{type:String,default:"个"},currPage:{type:Number,default:1},totalPages:{type:Number,default:1},maxShow:{type:Number,default:5},isJump:{type:Boolean,default:!0}},data:function(){return{pageText:"",cachePages:[]}},beforeMount:function(){this.resetPageCache()},watch:{currPage:function(){this.resetPageCache()},totalPages:function(){this.resetPageCache()}},computed:{active:function(){var t=Math.ceil(this.maxShow/2),e=this.totalPages-t+1;return this.totalPages<=this.maxShow?this.currPage:this.currPage>=t&&this.currPage<=e?this.currPage<t?this.currPage:t:this.currPage<t?this.currPage:this.currPage>e?this.maxShow-(this.totalPages-this.currPage):this.currPage<t?this.currPage:t},maxDisplayPages:function(){return this.totalPages>this.maxShow?this.maxShow:this.totalPages},hasIndexPage:function(){return 1!==this.cachePages[1]},hasEndPage:function(){return this.totalPages!==this.cachePages[this.maxDisplayPages]},hasIndexOmit:function(){return this.cachePages[1]>2},hasEndOmit:function(){return this.totalPages-this.cachePages[this.maxDisplayPages]>1},hasPrevPage:function(){return this.currPage>1},hasNextPage:function(){return this.currPage<this.totalPages}},methods:{resetPageCache:function(){"number"!=typeof this.currPage&&(this.currPage=parseInt(this.currPage),isNaN(this.currPage)&&(this.currPage=1)),"number"!=typeof this.totalPages&&(this.totalPages=parseInt(this.totalPages),isNaN(this.totalPages)&&(this.totalPages=1));var t=Math.ceil(this.maxShow/2),e=this.totalPages-t+1,i=this.maxDisplayPages;this.cachePages=[0];for(var n=1;n<=i;n++)this.totalPages<=this.maxShow?this.cachePages[n]=n:this.currPage>=t&&this.currPage<=e?this.cachePages[n]=n+this.currPage-t:this.currPage<t?this.cachePages[n]=n:this.currPage>e&&(this.cachePages[n]=this.totalPages-this.maxShow+n)},jump:function(t){this.pageText="",t>0&&t<=this.totalPages&&this.$emit("change",t)},skip:function(){var t=this.pageText,e=["first","<<<"];e.indexOf(t)>=0?this.jump(1):(e=["last",">>>"]).indexOf(t)>=0?this.jump(this.totalPages):(e=["prev","<","<<"]).indexOf(t)>=0?this.jump(this.currPage-1):(e=["next",">",">>"]).indexOf(t)>=0?this.jump(this.currPage+1):this.jump(parseInt(t))}}},Y=(i(54),Object(P.a)(H,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.totalPages>1?i("div",{staticClass:"pagelistbox clearfix"},[t.hasPrevPage?i("a",{staticClass:"p prev-page",attrs:{href:"javascript:;"},on:{click:function(e){return t.jump(t.currPage-1)}}},[t._v("上一页")]):t._e(),t._v(" "),t.hasIndexPage?i("a",{staticClass:"p index-page",attrs:{href:"javascript:;"},on:{click:function(e){return t.jump(1)}}},[t._v("1")]):t._e(),t._v(" "),t.hasIndexOmit?i("strong",[t._v("...")]):t._e(),t._v(" "),t._l(t.maxDisplayPages,function(e,n){return i("a",{key:n,class:["p",{active:e===t.active}],attrs:{href:"javascript:;"},domProps:{textContent:t._s(t.cachePages[e])},on:{click:function(i){return t.jump(t.cachePages[e])}}})}),t._v(" "),t.hasEndOmit?i("strong",[t._v("...")]):t._e(),t._v(" "),t.hasEndPage?i("a",{staticClass:"p end-page",attrs:{href:"javascript:;"},domProps:{textContent:t._s(t.totalPages)},on:{click:function(e){return t.jump(t.totalPages)}}}):t._e(),t._v(" "),t.hasNextPage?i("a",{staticClass:"p next-page",attrs:{href:"javascript:;"},on:{click:function(e){return t.jump(t.currPage+1)}}},[t._v("下一页")]):t._e(),t._v(" "),t.isJump?i("div",{staticClass:"custom-right"},[t.count>0?i("span",{staticClass:"result custom-right-inner"},[t._v("共 "+t._s(t.totalPages)+" 页/"+t._s(t.count)+" "+t._s(t.unit)+"，跳至")]):t._e(),t._v(" "),0===t.count?i("span",{staticClass:"result custom-right-inner"},[t._v("共 "+t._s(t.totalPages)+" 页， 跳至")]):t._e(),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.pageText,expression:"pageText"}],staticClass:"custompage custom-right-inner",attrs:{type:"text",maxlength:"4"},domProps:{value:t.pageText},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.skip(e):null},input:function(e){e.target.composing||(t.pageText=e.target.value)}}}),t._v(" "),i("span",{staticClass:"custom-right-inner"},[t._v("页")])]):t._e()],2):t._e()},[],!1,null,null,null).exports),q={data:function(){return{expand:!1,cursor:-1}},props:{filterName:{type:String,required:!0},minLine:{type:Number,default:0},list:{type:Array,required:!0},filterKey:{type:String,required:!0},free:{type:Boolean,default:!1}},mounted:function(){var t=this;E.$on("FILTER_RESET",function(){t.cursor=t.list[0]?t.list[0].value:-1}),E.$on("FILTER_INIT",function(e){t.cursor=e[t.filterKey]})},computed:{maxLine:function(){return Math.ceil(this.list.length/4)},style:function(){return this.minLine>0&&this.maxLine>this.minLine&&!this.free?{height:this.expand?"".concat(30*(this.maxLine+1),"px"):"".concat(30*this.minLine,"px")}:{}},expandShow:function(){return this.minLine>0&&this.maxLine>this.minLine&&!this.free},expandName:function(){return this.expand?"收起":"展开"}},methods:{cursorItem:function(t){this.cursor=t;var e={page:1};e[this.filterKey]=t,E.$emit("FILTER_CHANGE",e)},expandHandler:function(){this.expand=!this.expand}}},z=(i(55),Object(P.a)(q,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length>0?i("div",{staticClass:"filter-block"},[i("div",{staticClass:"filter-name",domProps:{textContent:t._s(t.filterName)}}),t._v(" "),i("ul",{class:["filter-item-wrapper",{free:t.free}],style:t.style},[t._l(t.list,function(e){return i("li",{key:e.key,class:["filter-item",{on:e.value===t.cursor}],attrs:{title:e.name},domProps:{textContent:t._s(e.name)},on:{click:function(i){return t.cursorItem(e.value)}}})}),t._v(" "),t.expandShow?i("li",{staticClass:"btn-expand",domProps:{textContent:t._s(t.expandName)},on:{click:t.expandHandler}}):t._e()],2)]):t._e()},[],!1,null,null,null).exports),W={computed:c()({},Object(a.b)(["FILTERS"])),components:{FilterBlock:z}},K=(i(56),Object(P.a)(W,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"filter-wrapper"},[e("div",{staticClass:"filter-title"},[this._v("筛选")]),this._v(" "),e("div",{staticClass:"filter-list"},this._l(this.FILTERS,function(t){return e("filter-block",{key:t.key,attrs:{"filter-key":t.key,"min-line":t.line||0,free:t.free||!1,"filter-name":t.title,list:t.list||[]}})}),1)])},[],!1,null,null,null).exports),Z={name:"bangumi-index",asyncData:function(t){var e=t.store,i=(t.route,t.context);return e.dispatch({type:"FETCH_FILTERS",cookies:i.cookie,ssType:e.state.ssType,headers:i.headers})},data:function(){return{hash:{},state:"loading"}},computed:c()({},Object(a.b)(["TID","SS_TYPE","INDEX_TYPE","FILTERS","ORDERS","PAGE_DATA","TOTAL","PAGES"]),{loadingData:function(){return"loading"===this.state?[]:this.PAGE_DATA},emptyText:function(){return"没有这样的".concat({anime:"番剧",movie:"电影",documentary:"纪录片",guochuang:"国产动画",tv:"电视剧"}[this.INDEX_TYPE],"哦～")}}),watch:{hash:{handler:function(){this.setHash(),this.getListData()},deep:!0}},created:function(){var t=this;E.$on("FILTER_CHANGE",function(e,i){if("object"===l()(e)){var n=t.hash;for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);t.hash=n}else void 0!==e&&void 0!==i&&t.$set(t.hash,e,i)})},mounted:function(){this.parseHash()},methods:{resetHash:function(){var t={};this.FILTERS.forEach(function(e){var i=e.list[0]&&e.list[0].value?e.list[0].value:-1;i=isNaN(Number(i))?i:Number(i),t[e.key]=i}),t.order=this.ORDERS[0]?this.ORDERS[0].key:0,t.st=this.SS_TYPE,t.sort=0,t.page=1,this.hash=t,E.$emit("FILTER_RESET")},setHash:function(){var t=p(this.hash);window.location.href="#".concat(t)},parseHash:function(){var t,e,i=window.location.hash.substr(1),n=(e={},(t=i)&&"string"==typeof t&&t.split("&").forEach(function(t){if(t){var i=t.split("="),n=decodeURIComponent(i[1]);n.indexOf("{")>-1&&(n=JSON.parse(n)),e[i[0]]=n}}),e);if("{}"!==JSON.stringify(n)&&this.SS_TYPE===Number(n.st)){for(var r in n)n.hasOwnProperty(r)&&(n[r]=isNaN(Number(n[r]))?n[r]:Number(n[r]));this.FILTERS.forEach(function(t){if(void 0===n[t.key]){var e=t.list[0]&&t.list[0].value?t.list[0].value:-1;e=isNaN(Number(e))?e:Number(e),n[t.key]=e}}),void 0===n.order&&(n.order=this.ORDERS[0]?this.ORDERS[0].key:0),void 0===n.sort&&(n.sort=0),void 0===n.page&&(n.page=1),this.hash=n,E.$emit("FILTER_INIT",this.hash)}else this.resetHash()},getListData:function(){var t=this;this.state="loading";var e=Object.assign({},this.hash);e.season_type=this.SS_TYPE,e.pagesize=20,this.$store.dispatch({type:"FETCH_LIST_DATA",hash:e}).then(function(){t.state="loaded",t.$nextTick(function(){E.$emit("updateFloor")})},function(){t.state="error"})},pageChange:function(t){this.hash.page!==t&&(this.$set(this.hash,"page",t),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0!==document.documentElement.scrollTop?document.documentElement.scrollTop=t:document.body.scrollTop=t}(280))}},components:{BreadCrumb:Q,SortBanner:X,BangumiItem:B,Pagination:Y,FilterWrapper:K,Loading:D}},tt=(i(57),Object(P.a)(Z,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-index-wrapper",attrs:{id:"app"}},[i("bread-crumb"),t._v(" "),i("div",{staticClass:"bangumi-index-body clearfix"},[i("div",{staticClass:"filter-body"},[i("sort-banner",{attrs:{hash:t.hash}}),t._v(" "),i("ul",{class:["bangumi-list","clearfix",{"no-data":"loaded"===t.state&&0===t.PAGE_DATA.length}]},[t._l(t.PAGE_DATA,function(e){return i("bangumi-item",{directives:[{name:"show",rawName:"v-show",value:"loaded"===t.state,expression:"state === 'loaded'"}],key:e.season_id,attrs:{"sort-type":(t.hash.order||0).toString(),"ss-type":t.SS_TYPE,item:e}})}),t._v(" "),i("loading",{attrs:{state:t.state,data:t.loadingData}}),t._v(" "),"loaded"===t.state&&0===t.PAGE_DATA.length?i("li",{staticClass:"no-data-wrapper"},[i("span",{domProps:{textContent:t._s(t.emptyText)}}),i("div",{staticClass:"reset-btn",on:{click:t.resetHash}},[t._v("重置筛选")])]):t._e()],2),t._v(" "),i("pagination",{attrs:{count:t.TOTAL,"curr-page":t.hash.page,"total-pages":t.PAGES,"is-jump":!0},on:{change:t.pageChange}})],1),t._v(" "),i("filter-wrapper")],1)],1)},[],!1,null,null,null).exports),et=["scroll","resize","load"];function it(t,e){var i,n;for(i=0,n=t.length;i<n;++i)if(t[i].el===e)return i;return-1}var nt,rt,at,ot,lt={install:function(t,e){var i=[],n=[],r=e||{preload:0};function a(t){t.loading||t.loaded||!d(t.el,r.preload)||function(t){if(t.loading||t.loaded)return;t.loading=!0;var e=new Image;e.onload=function(){t.el.src=t.src,t.loading=!1,t.loaded=!0,t.el.setAttribute("lazy","loaded")},e.onerror=function(){t.loading=!1,t.loaded=!0,t.el.src=t.defaultImg},e.src=t.src}(t)}function o(t){!t.loaded&&d(t.el,r.preload)&&(t.handler.call(),t.loaded=!0)}function s(e,r){var s=l()(e);"string"===s?function(e,n){var r=it(i,n),o=n.getAttribute("src"),l={el:n,src:e,loading:!1,loaded:!1,defaultImg:o};-1!==r?i[r]=l:i.push(l),t.nextTick(function(){a(l)})}(e,r):"object"===s&&function(e,i){var r=it(n,i),a={el:i,id:e.id,loaded:!1,handler:e.handler||function(){}};-1!==r?n[r].id!==e.id&&(n[r]=a,t.nextTick(function(){o(a)})):(n.push(a),t.nextTick(function(){o(a)}))}(e,r)}t.directive("lazy",{bind:function(t,e){s(e.value,t)},update:function(t,e){s(e.value,t)},componentUpdated:function(t,e){},unbind:function(t,e){var i=e.value;if("object"===l()(i)){var r=it(n,t);-1!==r&&n.splice(r,1)}}});var c=w(function(){!function(){var t,e;for(t=0,e=i.length;t<e;++t)a(i[t])}(),function(){var t,e;for(t=0,e=n.length;t<e;++t)o(n[t])}()},200,100);if("undefined"!=typeof window)if(r.selector)!function t(e){var i=window.document.querySelector(e);if(i)for(var n=0;n<et.length;++n)i.addEventListener(et[n],c);else window.setTimeout(function(){t(e)},500)}(r.selector);else for(var u=0;u<et.length;++u)window.addEventListener(et[u],c);E.$on("updateFloor",function(){c()}),E.$on("appMounted",function(){c()}),"undefined"!=typeof window&&(window.triggerLazyProcess=c)}};n.a.use(lt,{preload:100}),Object.assign||Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},writable:!0,configurable:!0}),Object.keys||(Object.keys=(nt=Object.prototype.hasOwnProperty,rt=!{toString:null}.propertyIsEnumerable("toString"),ot=(at=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==l()(t)&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on non-object");var e=[];for(var i in t)nt.call(t,i)&&e.push(i);if(rt)for(var n=0;n<ot;n++)nt.call(t,at[n])&&e.push(at[n]);return e})),Array.includes||Object.defineProperty(Array,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var r,a,o=0|e,l=Math.max(o>=0?o:n-Math.abs(o),0);l<n;){if((r=i[l])===(a=t)||"number"==typeof r&&"number"==typeof a&&isNaN(r)&&isNaN(a))return!0;l++}return!1}}),Array.prototype.filter||(Array.prototype.filter=function(t,e){if("Function"!=typeof t&&"function"!=typeof t||!this)throw new TypeError;var i=this.length>>>0,n=new Array(i),r=this,a=0,o=-1;if(void 0===e)for(;++o!==i;)o in this&&t(r[o],o,r)&&(n[a++]=r[o]);else for(;++o!==i;)o in this&&t.call(e,r[o],o,r)&&(n[a++]=r[o]);return n.length=a,n}),Array.prototype.some||(Array.prototype.some=function(t){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,n=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)if(r in e&&t.call(n,e[r],r,e))return!0;return!1}),n.a.use(r.a),n.a.use(a.a);var st=function(){return new a.a.Store(N)},ct=function(){return new r.a({mode:"history",routes:[{name:"jp-index",path:"/anime/index",component:tt},{name:"chn-index",path:"/guochuang/index",component:tt},{name:"doc-index",path:"/documentary/index",component:tt},{name:"movie-index",path:"/movie/index",component:tt},{name:"tv-index",path:"/tv/index",component:tt}]})};window.iris&&window.iris({app_key:"web_ogv",group:"bangumi",autoPref:!0,exclude:[],sample:{net:.1,custom:1},rateLimit:500,env:"production"});var ut=window.Sentry;ut&&ut.init({dsn:"http://373cb7c94ed7411cbbc344ae210786aa@api.bilibili.com/x/traceback/93",debug:!1,release:"17133a0d63c411c79a833857f5870231042107b7",environment:"pre"===Object({NODE_ENV:"production",COMMIT_ID:"17133a0d63c411c79a833857f5870231042107b7",VUE_ENV:"client"}).PUSH_ENV?"pre":"production",sampleRate:.2,integrations:[new ut.Integrations.InboundFilters({ignoreErrors:[/Network Error/,/(SECURITY_ERR|SecurityError|Illegal invocation|The operation is)/,/\$ is not a function/,/Invalid or unexpected/,/UnhandledRejection/,/QuotaExceededError/,/WebViewJavascriptBridge/,/__tv_keydown/,/jinkela\/header\/header.js/,/jinkela\/header-v2\/header.js/,/.js.map/,/\/bfs\/static\/player\/main/,/\/bfs\/static\/pcdnjs/,/dash-player\/release\/dash-player/,/moz-extension/,/chrome-extension/,/comment.min.js/,/(WindVaneAvailableInteractedTime|moz-extension|chrome-extension)/,/Loading chunk \d+ failed/,/share_ipad/]}),new ut.Integrations.Vue({Vue:n.a,attachProps:!0})]}),n.a.mixin({beforeRouteUpdate:function(t,e,i){var n=this.$options.asyncData;n?n({store:this.$store,route:t}).then(i).catch(i):i()}});var yt,ht,ft,dt=(ht=st(),ft=ct(),{app:new n.a({store:ht,router:ft,ssrContext:yt,render:function(t){return t(tt)}}),router:ft,store:ht}),wt=dt.app,pt=dt.router,mt=dt.store;if(window.__INITIAL_STATE__)mt.replaceState(window.__INITIAL_STATE__);else{var Mt=pt.getMatchedComponents();Promise.all(Mt.map(function(t){return t.asyncData&&t.asyncData({store:mt,route:pt.currentRoute,context:{ua:window?window.navigator.userAgent:""}})})).then(function(){wt.$mount("#client-app")}).catch()}pt.onReady(function(){pt.beforeResolve(function(t,e,i){var n=pt.getMatchedComponents(t),r=pt.getMatchedComponents(e),a=!1,o=n.filter(function(t,e){return a||(a=r[e]!==t)});o.length?Promise.all(o.map(function(e){if(e.asyncData)return e.asyncData({store:mt,route:t,context:{ua:window?window.navigator.userAgent:""}})})).then(function(){i()}).catch(i):i()}),window&&window.document.getElementById("app")&&wt.$mount("#app")})}]);
//# sourceMappingURL=bangumi-index.17133a0d63c411c79a833857f5870231042107b7.js.map